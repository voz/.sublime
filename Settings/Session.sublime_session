{
	"folder_history":
	[
		"/Users/boos/code/graasp",
		"/Users/boos/code/seance",
		"/Users/boos/data/electua_2012",
		"/Users/boos/code/votesrv",
		"/Users/boos/code/graasp_test",
		"/Users/boos/code/top-github-users",
		"/Users/boos/code/gitstats",
		"/Users/boos/code/gadget_react",
		"/Users/boos/Documents/epfl/candidacy2012/writeup",
		"/Users/boos/code/synothumbs",
		"/Users/boos/code/keyremap",
		"/Users/boos/.rvm/gems/ruby-1.8.7-p371/gems/sunspot_rails-1.3.3/lib",
		"/Users/boos/.rvm/gems/ruby-1.8.7-p371/gems/sunspot_rails-1.3.3/lib/sunspot",
		"/Users/boos/code/calibre/calibre",
		"/Users/boos/Station",
		"/Users/boos/code/graasp/readme/installation"
	],
	"last_window_id": 192,
	"settings":
	{
		"new_window_height": 852.0,
		"new_window_settings":
		{
			"auto_complete":
			{
				"selected_items":
				[
					[
						"getmessag",
						"getmessagesCallback"
					],
					[
						"rnd",
						"randstring"
					],
					[
						"log",
						"logact"
					],
					[
						"disk",
						"dislikes"
					],
					[
						"me",
						"message"
					],
					[
						"peers",
						"peersWithinRange"
					],
					[
						"broad",
						"broadcast_room"
					],
					[
						"room_",
						"room_cons"
					],
					[
						"mes",
						"messages"
					],
					[
						"upsert",
						"upsertPeer"
					],
					[
						"la",
						"last_seen"
					],
					[
						"upser",
						"upsertPeer"
					],
					[
						"sequenc",
						"sequences_json"
					],
					[
						"orderd",
						"ordered_entries"
					],
					[
						"init",
						"initiator_user_id"
					],
					[
						"current",
						"current_user"
					],
					[
						"oau",
						"oauth"
					],
					[
						"oauth",
						"oauth-plugin"
					],
					[
						"i4a",
						"i4a_type"
					],
					[
						"get",
						"get_item_url"
					],
					[
						"item4",
						"item4a_alias"
					],
					[
						"len",
						"length"
					],
					[
						"item",
						"item_with_perms"
					],
					[
						"item_",
						"item_with_perms"
					],
					[
						"exi",
						"exists"
					],
					[
						"cur",
						"current_user"
					],
					[
						"curr",
						"current_user_id"
					],
					[
						"fix",
						"fix_links_query"
					],
					[
						"pare",
						"parent_type"
					],
					[
						"dele",
						"delete_item"
					],
					[
						"des",
						"description"
					],
					[
						"space",
						"spacetype"
					],
					[
						"parent",
						"parent_id"
					],
					[
						"created",
						"created_at"
					],
					[
						"inclu",
						"include_files"
					],
					[
						"xpath",
						"xpath_query"
					],
					[
						"xp",
						"xpath_query"
					],
					[
						"wh",
						"what2scrap"
					],
					[
						"porta",
						"portalCheckbox"
					],
					[
						"che",
						"checked"
					]
				]
			},
			"build_system": "Packages/JSLint/JSLint.sublime-build",
			"command_palette":
			{
				"height": 137.0,
				"selected_items":
				[
					[
						"javas",
						"Set Syntax: JavaScript"
					],
					[
						"install ",
						"Package Control: Install Package"
					],
					[
						"insta",
						"Package Control: Install Package"
					],
					[
						"install",
						"Package Control: Install Package"
					],
					[
						"pakc",
						"Package Control: Install Package"
					],
					[
						"pack",
						"Package Control: Install Package"
					],
					[
						"pakcage",
						"Package Control: Install Package"
					],
					[
						"package",
						"Package Control: Remove Package"
					],
					[
						"sql",
						"Set Syntax: SQL"
					],
					[
						"syn ru",
						"Set Syntax: Ruby on Rails"
					],
					[
						"inst",
						"Package Control: Install Package"
					],
					[
						"packa ins",
						"Package Control: Install Package"
					],
					[
						"syn mar",
						"Set Syntax: Markdown"
					],
					[
						"syn ma",
						"Set Syntax: Markdown"
					],
					[
						"syn cof",
						"Set Syntax: CoffeeScript"
					],
					[
						"synta cof",
						"Set Syntax: CoffeeScript"
					],
					[
						"perl",
						"Set Syntax: Perl"
					],
					[
						"java",
						"Set Syntax: JavaScript"
					],
					[
						"synta java",
						"Set Syntax: JavaScript"
					],
					[
						"syn java",
						"Set Syntax: JavaScript"
					],
					[
						"synt ja",
						"Set Syntax: JavaScript"
					],
					[
						"sy rub",
						"Set Syntax: Ruby"
					],
					[
						"package ins",
						"Package Control: Install Package"
					],
					[
						"packa",
						"Preferences: Browse Packages"
					],
					[
						"fo",
						"Code Folding: Unfold All"
					],
					[
						"wrap",
						"Word Wrap: Toggle"
					],
					[
						"j",
						"Set Syntax: JavaScript"
					],
					[
						"default",
						"Preferences: Key Bindings - Default"
					],
					[
						"zen",
						"Set Syntax: ZenCoding"
					]
				],
				"width": 554.0
			},
			"console":
			{
				"height": 139.0
			},
			"distraction_free":
			{
				"menu_visible": true,
				"show_minimap": false,
				"show_open_files": false,
				"show_tabs": false,
				"side_bar_visible": false,
				"status_bar_visible": false
			},
			"file_history":
			[
				"/Users/boos/Dropbox/Shared/Share_REACT/graspio/graspio_development_2013-07-31.sql",
				"/Users/boos/code/graasp/app/controllers/spaces_controller.rb",
				"/Users/boos/code/graasp/crypted_pass.txt",
				"/Users/boos/code/seance/seancesrv.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/my_module.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/github.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/datasift/datasift.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/sample.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/server_with_watch.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/write.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/write_sync.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/configuration.js",
				"/Users/boos/Documents/archive/landmark/aquasoft_route.bat",
				"/Users/boos/code/graasp/app/controllers/assets_controller.rb",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/public/world.html",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/index.html",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/index.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/README.md",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/CNAME",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/underscore-min.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/watch.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/sample.txt",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/read.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/read_sync.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/1-files/sample.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/1-files/sample.php",
				"/Users/boos/MindMaps/FamilyTree.mm",
				"/Users/boos/Documents/archive/SERVER_BACKUP_BEFORE_LEAVE/redmine.sql",
				"/Users/boos/Documents/archive/SERVER_BACKUP_BEFORE_LEAVE/aadb.sql",
				"/Users/boos/code/GitHub_tail/homebrew/hombrew_lines.csv",
				"/Users/boos/code/GitHub_tail/homebrew/homebrew_commits.csv",
				"/Users/boos/code/seance/README.md",
				"/Users/boos/code/GitHub_tail/scrapegithub.sh",
				"/Users/boos/code/graasp/script/ten_most_active.sql",
				"/Users/boos/code/seance/rooms_new.json",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Preferences.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Package Control.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Package Control.last-run",
				"/Users/boos/code/votesrv/vote-client.js",
				"/Users/boos/code/votesrv/README.md",
				"/Users/boos/code/votesrv/votesrv.js",
				"/Users/boos/code/votesrv/vote-srv.js",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/JSLint/JSLint.sublime-settings",
				"/Users/boos/code/votesrv/.gitignore",
				"/Users/boos/code/votesrv/frontend.html",
				"/Users/boos/code/votesrv/chat-server.js",
				"/Users/boos/code/votesrv/chat-frontend.js",
				"/Users/boos/code/votesrv/index.html",
				"/Users/boos/code/votesrv/votesrv_complete.js",
				"/Users/boos/code/votesrv/vote_frontend.js",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/2013.04.13_paper.tex",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/biblio.bib",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/LaTeX/biblio.bib",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/LaTeX/main.tex",
				"/Users/boos/code/graasp/script/assign_members_randomly.rb",
				"/Users/boos/code/graasp/script/generate_sequence",
				"/Users/boos/code/graasp/script/find_corrupted_sequences.sql",
				"/Users/boos/code/graasp/script/social_media_queries.sql",
				"/Users/boos/code/graasp/public/javascripts/assets/formats/default/center.js",
				"/Users/boos/code/graasp/public/javascripts/blocks/center.js",
				"/Users/boos/code/graasp/lib/semantic/vector_space/model.rb",
				"/Users/boos/code/graasp/lib/semantic.rb",
				"/Users/boos/code/graasp/app/controllers/search_controller.rb",
				"/Users/boos/code/graasp/lib/semantic/vector_space/builder.rb",
				"/Users/boos/code/graasp/config/deploy.rb",
				"/Users/boos/code/graasp/app/models/asset.rb",
				"/Users/boos/code/graasp/config/routes.rb",
				"/Users/boos/code/graasp/app/controllers/item3a_controller.rb",
				"/Users/boos/code/graasp/app/controllers/ratings_controller.rb",
				"/Users/boos/code/graasp/app/models/item3a_extension.rb",
				"/Users/boos/code/graasp/public/javascripts/popups/settings_popup.js",
				"/Users/boos/code/graasp/app/controllers/application_controller.rb",
				"/Users/boos/code/graasp/README.md",
				"/Users/boos/code/graasp/Gemfile",
				"/Users/boos/code/graasp/config/deploy/reacttest.rb",
				"/Users/boos/code/graasp/next_deploy.md",
				"/Users/boos/code/graasp/config/environments/reacttest.rb",
				"/Users/boos/code/graasp/app/controllers/sequences_controller.rb",
				"/Users/boos/code/graasp/app/models/rs_local.rb",
				"/Users/boos/code/graasp/app/controllers/widgets/google_gadget_controller.rb",
				"/Users/boos/code/graasp/app/controllers/assets/rss_feeds_controller.rb",
				"/Users/boos/code/graasp/app/controllers/translation_controller.rb",
				"/Users/boos/code/graasp/app/controllers/proxy_controller.rb",
				"/Users/boos/code/graasp/documentation/Graaasp_intro/document.tex",
				"/Users/boos/code/graasp/app/models/space.rb",
				"/Users/boos/code/graasp/script/social_media.sql",
				"/Users/boos/code/graasp/app/models/widget.rb",
				"/Users/boos/code/graasp/config/environments/development.rb",
				"/Users/boos/code/graasp/app/models/permission.rb",
				"/Users/boos/code/graasp/script/db_commands",
				"/Users/boos/code/graasp/script/install_gems",
				"/Users/boos/code/graasp/readme/install_linalg",
				"/Users/boos/code/graasp/app/models/attachment.rb",
				"/Users/boos/code/graasp/readme/Installation_Guide",
				"/Users/boos/code/graasp/vendor/plugins/attachment_fu/README",
				"/Users/boos/code/graasp/app/views/item3a/_header.haml",
				"/Users/boos/assign_randomly.rb",
				"/Users/boos/code/graasp/deleted_gems.md",
				"/Users/boos/code/graasp/deleted_gems.rb",
				"/Users/boos/code/graasp/app/controllers/attachments_controller.rb",
				"/Users/boos/code/graasp/help.rb",
				"/Users/boos/code/graasp/app/models/client_application.rb",
				"/Users/boos/code/graasp/app/views/shared/_chat_javascript.haml",
				"/Users/boos/code/graasp/config/initializers/core_extensions.rb",
				"/Users/boos/code/graasp/config/initializers/json_session.rb",
				"/Users/boos/code/graasp/db/migrate/20110124110200_get_thumbnails_to_widgets.rb",
				"/Users/boos/code/graasp/lib/authenticated_system.rb",
				"/Users/boos/code/graasp/spec/controllers/assets_controller_spec.rb",
				"/Users/boos/code/graasp/vendor/plugins/trunk/lib/file_column.rb",
				"/Users/boos/code/graasp/config/environment.rb",
				"/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/TobagoDeepTreePageType_master.css",
				"/Users/boos/code/graasp/script/install_programs",
				"/Users/boos/code/graasp/readme/Deploy_Guide",
				"/Users/boos/code/graasp/config/database.yml",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/Default/Preferences.sublime-settings",
				"/Users/boos/code/graasp/public/javascripts/graaasp.js",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Base File.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/Alignment/Base File.sublime-settings",
				"/Users/boos/code/graasp/public/javascripts/item3a.js",
				"/Users/boos/code/graasp/config/locales/templates/lang_server.yml",
				"/Users/boos/code/graasp/Makefile",
				"/Users/boos/code/graasp/public/javascripts/init.js"
			],
			"find":
			{
				"height": 35.0
			},
			"find_in_files":
			{
				"height": 0.0,
				"where_history":
				[
					"/Users/boos/code/graasp",
					"/Users/boos/code/graasp/",
					"",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/public/javascripts/",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/public/javascripts/",
					"/Users/boos/code/graasp/public/javascript/",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/app",
					"/Users/boos/code/graasp/app/views",
					"",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/calibre/calibre",
					"/Users/boos/code/graasp",
					""
				]
			},
			"find_state":
			{
				"case_sensitive": false,
				"find_history":
				[
					".class",
					".type",
					"get_class.to_s",
					"Widget.create",
					"type",
					"getroom",
					"hash",
					"text",
					"getroom",
					"rescue Exception => err",
					"creator_id",
					"TODO",
					"getrooms",
					"logact",
					"new Room",
					"new Message",
					"rclient.get",
					"rclient.",
					"rclient.get",
					"findOne(",
					"findOne",
					"'_id",
					"curr",
					"findOneAnd",
					"findOne",
					", ",
					"$inc",
					"message",
					"deleted: true",
					"findBy",
					"redis.print",
					"rclient.",
					"msg_id",
					"new Messag",
					"last_seen",
					"broadcast_nearby",
					"range",
					"socket",
					"Broadcasted",
					"._id",
					"peer._id",
					"json.data",
					"json",
					"Mixed",
					"db",
					"room_",
					"rooms_con",
					"rooms_cons",
					"peer_rooms[",
					"findONeAnd",
					"$set",
					"broadcast",
					"peer_con",
					"index",
					"push",
					"connection",
					"connect",
					".update",
					"Room.find",
					"deleted:",
					"room.messages.",
					"room.mee",
					"messag",
					"_id",
					"text",
					"active",
					"Room.find",
					"htmlEntities",
					"close",
					"Double",
					"long",
					"Json",
					"peers",
					"qvotes",
					"myColor",
					"history",
					"3571",
					"3532",
					"3532\n3643\n3600\n3644\n3617\n3594",
					"3532",
					"sequences_json",
					"Rails.cache",
					"linalg",
					"is_anonimized_for_sm_course",
					"anonym",
					"soc_media",
					"social_media",
					"open_rating_info_button",
					"rating_statistic",
					"Gem::SourceIndex",
					"SourceIndex.from_gems_in",
					"Gem::SourceIndex.from_gems_in",
					"item3a.is_anonimized_for_sm_course",
					"!item3a.is_anonimized_for_sm_course?",
					".is_anonimized_for_sm_course",
					"is_anonimized_for_sm_course",
					"anonymize",
					"members",
					"# debugger",
					"linalg",
					"Assets.tra",
					"etiquette",
					"parent",
					"item3a_for_center",
					"json_for_c",
					"center_creator_id",
					"creator_id",
					"creator_name",
					"creator_id",
					":creator_id",
					"processed",
					"permis",
					"Permissions.",
					":condition",
					"find",
					"linalg",
					".transaction",
					"Assets.tr",
					"Assets",
					"# debugger",
					"debugger",
					"picture",
					"/item3a/upload",
					"picture_file",
					"Attachment",
					"/upload",
					"/item3a/upload",
					"upload_file"
				],
				"highlight": true,
				"in_selection": false,
				"preserve_case": false,
				"regex": false,
				"replace_history":
				[
					"\\t",
					"",
					"\"",
					"Object.const_get",
					"DESC",
					"alt+",
					"",
					"<td>XXX</td>\\n<td align=\"center\" class=\"td3\"><b>",
					"'",
					"",
					" ",
					"\\n\\n",
					"\\t",
					"\\n",
					"\\t",
					" ",
					"  ",
					"$$$",
					"",
					" ",
					"",
					" ",
					"",
					" "
				],
				"reverse": false,
				"show_context": true,
				"use_buffer2": true,
				"whole_word": false,
				"wrap": true
			},
			"incremental_find":
			{
				"height": 34.0
			},
			"input":
			{
				"height": 34.0
			},
			"layout":
			{
				"cells":
				[
					[
						0,
						0,
						1,
						1
					]
				],
				"cols":
				[
					0.0,
					1.0
				],
				"rows":
				[
					0.0,
					1.0
				]
			},
			"menu_visible": true,
			"output.exec":
			{
				"height": 33.0
			},
			"replace":
			{
				"height": 64.0
			},
			"save_all_on_build": true,
			"select_file":
			{
				"height": 0.0,
				"selected_items":
				[
					[
						"widget",
						"app/models/widget.rb"
					],
					[
						"space",
						"app/models/space.rb"
					],
					[
						"rout",
						"config/routes.rb"
					],
					[
						"spac",
						"app/controllers/spaces_controller.rb"
					],
					[
						"se",
						"seancesrv.js"
					],
					[
						"rea",
						"README.md"
					],
					[
						"sean",
						"seancesrv.js"
					],
					[
						"script/ten",
						"script/ten_most_active.sql"
					],
					[
						"sequence",
						"script/generate_sequence"
					],
					[
						"scrip/corru",
						"script/find_corrupted_sequences.sql"
					],
					[
						"room",
						"rooms_new.json"
					],
					[
						"roo",
						"rooms.json"
					],
					[
						"sea",
						"seancesrv.js"
					],
					[
						"votesr",
						"votesrv.js"
					],
					[
						"vote",
						"vote-client.js"
					],
					[
						".git",
						".gitignore"
					],
					[
						"vote-sr",
						"vote-srv.js"
					],
					[
						"che",
						"chat-server.js"
					],
					[
						"fron",
						"frontend.html"
					],
					[
						"front",
						"frontend.html"
					],
					[
						"fro",
						"frontend.html"
					],
					[
						"",
						"chat-frontend.js"
					],
					[
						"conce",
						"Graasp_concept.md"
					],
					[
						"find",
						"script/find_corrupted_sequences.sql"
					],
					[
						"assi",
						"script/assign_members_randomly.rb"
					],
					[
						"ass",
						"script/assign_members_randomly.rb"
					],
					[
						"sequ",
						"app/models/sequence.rb"
					],
					[
						"center.js",
						"public/javascripts/assets/formats/default/center.js"
					],
					[
						"center",
						"public/javascripts/blocks/center.js"
					],
					[
						"user",
						"app/models/user.rb"
					],
					[
						"search",
						"lib/workers/search_worker.rb"
					],
					[
						"item3a",
						"app/models/item3a_extension.rb"
					],
					[
						"ratings",
						"app/controllers/ratings_controller.rb"
					],
					[
						"item3",
						"app/controllers/item3a_controller.rb"
					],
					[
						"rating",
						"app/controllers/ratings_controller.rb"
					],
					[
						"deplo",
						"config/deploy.rb"
					],
					[
						"nex",
						"next_deploy.md"
					],
					[
						"react",
						"config/deploy/reacttest.rb"
					],
					[
						"depl",
						"config/deploy.rb"
					],
					[
						"gemfi",
						"Gemfile"
					],
					[
						"appli",
						"app/controllers/application_controller.rb"
					],
					[
						"route",
						"config/routes.rb"
					],
					[
						"ite3",
						"app/models/item3a_extension.rb"
					],
					[
						"seq",
						"app/controllers/sequences_controller.rb"
					],
					[
						"asse",
						"app/models/asset.rb"
					],
					[
						"asset",
						"app/models/asset.rb"
					],
					[
						"devel",
						"config/environments/development.rb"
					],
					[
						"scial",
						"script/social_media.sql"
					],
					[
						"dele",
						"deleted_gems.rb"
					],
					[
						"del",
						"deleted_gems.md"
					],
					[
						"assign",
						"script/assign_members_randomly.rb"
					],
					[
						"ite",
						"app/controllers/item3a_controller.rb"
					],
					[
						"permi",
						"app/models/permission.rb"
					],
					[
						"script/",
						"script/generate_sequence"
					],
					[
						"install",
						"script/install_gems"
					],
					[
						"gemf",
						"Gemfile"
					],
					[
						"delete",
						"deleted_gems.md"
					],
					[
						"atta",
						"app/models/attachment.rb"
					],
					[
						"gem",
						"Gemfile"
					],
					[
						"gra",
						"public/javascripts/graaasp.js"
					],
					[
						"next",
						"next_deploy.md"
					],
					[
						"gr",
						"public/javascripts/graaasp.js"
					],
					[
						"data",
						"config/database.yml"
					],
					[
						"insta",
						"script/install_gems"
					],
					[
						"gemfil",
						"Gemfile"
					],
					[
						"cap",
						"app/models/client_application.rb"
					],
					[
						"dep",
						"config/deploy.rb"
					],
					[
						"center.",
						"public/javascripts/blocks/center.js"
					],
					[
						"graa",
						"public/javascripts/graaasp.js"
					],
					[
						"produc",
						"config/deploy/production.rb"
					],
					[
						"init",
						"public/javascripts/init.js"
					],
					[
						"make",
						"Makefile"
					],
					[
						"lang_serv",
						"config/locales/templates/lang_server.yml"
					],
					[
						"item3a_",
						"app/controllers/item3a_controller.rb"
					],
					[
						"itm3a",
						"public/javascripts/item3a.js"
					],
					[
						"search.js",
						"public/javascripts/blocks/search.js"
					],
					[
						"all",
						"all_static.min.js"
					],
					[
						"pro",
						"config/deploy/production.rb"
					],
					[
						"all_stat",
						"public/javascripts/cache/all_static.js"
					],
					[
						"deve",
						"config/environments/development.rb"
					],
					[
						"confiend",
						"config/environments/production.rb"
					],
					[
						"appliham",
						"app/views/layouts/application.haml"
					],
					[
						"prototy",
						"public/javascripts/libs/prototypextensions.js"
					],
					[
						"reactt",
						"config/deploy/reacttest.rb"
					],
					[
						"graaspresi",
						"public/javascripts/graaasp_resize.js"
					],
					[
						"item3aext",
						"app/models/item3a_extension.rb"
					],
					[
						"graaspblo",
						"public/javascripts/graaasp_block.js"
					],
					[
						"graasprsiz",
						"public/javascripts/graaasp_resize.js"
					],
					[
						"item",
						"app/models/item3a_extension.rb"
					],
					[
						"extension",
						"public/javascripts/libs/prototypextensions.js"
					],
					[
						"raw",
						"raw_1000/github-users-stats.json"
					],
					[
						"get",
						"get-users.coffee"
					],
					[
						"util",
						"utils.js"
					],
					[
						"format-user",
						"format-users.coffee"
					],
					[
						"github-usr",
						"raw/github-users-stats.json"
					],
					[
						"github",
						"raw/github-languages-stats.json"
					],
					[
						"active",
						"formatted/active.md"
					],
					[
						"fin",
						"script/find_corrupted_sequences.sql"
					],
					[
						"graasp.js",
						"public/javascripts/graaasp.js"
					],
					[
						"application",
						"public/javascripts/application.js"
					],
					[
						"elog",
						"public/javascripts/application_elogbook.js"
					],
					[
						"reco",
						"public/javascripts/blocks/recommended.js"
					],
					[
						"memb",
						"public/javascripts/blocks/members.js"
					],
					[
						"recomm",
						"public/javascripts/blocks/recommended.js"
					],
					[
						"environment.js",
						"public/javascripts/environment.js"
					],
					[
						"envir",
						"config/environment.rb"
					],
					[
						"applic",
						"public/javascripts/application.js"
					],
					[
						"block",
						"public/javascripts/graaasp_block.js"
					],
					[
						"ten",
						"script/ten_most_active.sql"
					],
					[
						"rou",
						"config/routes.rb"
					],
					[
						"member",
						"public/javascripts/blocks/members.js"
					],
					[
						"graaasp",
						"public/javascripts/graaasp.js"
					],
					[
						"log",
						"app/models/log.rb"
					],
					[
						"test/",
						"test/bdrb_test_helper.rb"
					],
					[
						"rail",
						"diagrams/railroad"
					],
					[
						"sche",
						"db/schema.rb"
					],
					[
						"ite3ex",
						"app/models/item3a_extension.rb"
					],
					[
						"schem",
						"db/schema.rb"
					],
					[
						"meta",
						"app/controllers/metawidget_controller.rb"
					],
					[
						"helpcon",
						"app/controllers/help_controller.rb"
					],
					[
						"session",
						"app/controllers/sessions_controller.rb"
					],
					[
						"userno",
						"app/models/user_notifier.rb"
					],
					[
						"content_recommendat",
						"app/models/content_recommendation.rb"
					],
					[
						"content",
						"app/models/content_recommendation.rb"
					],
					[
						"sess",
						"app/controllers/sessions_controller.rb"
					],
					[
						"transla",
						"app/controllers/translation_controller.rb"
					],
					[
						"favor",
						"app/controllers/favorites_controller.rb"
					],
					[
						"fi",
						"script/fix_links"
					]
				],
				"width": 0.0
			},
			"select_project":
			{
				"height": 0.0,
				"selected_items":
				[
				],
				"width": 0.0
			},
			"show_minimap": false,
			"show_open_files": false,
			"show_tabs": true,
			"side_bar_visible": false,
			"side_bar_width": 285.0,
			"status_bar_visible": true
		},
		"new_window_width": 1440.0
	},
	"windows":
	[
		{
			"auto_complete":
			{
				"selected_items":
				[
					[
						"getmessag",
						"getmessagesCallback"
					],
					[
						"rnd",
						"randstring"
					],
					[
						"log",
						"logact"
					],
					[
						"disk",
						"dislikes"
					],
					[
						"me",
						"message"
					],
					[
						"peers",
						"peersWithinRange"
					],
					[
						"broad",
						"broadcast_room"
					],
					[
						"room_",
						"room_cons"
					],
					[
						"mes",
						"messages"
					],
					[
						"upsert",
						"upsertPeer"
					],
					[
						"la",
						"last_seen"
					],
					[
						"upser",
						"upsertPeer"
					],
					[
						"sequenc",
						"sequences_json"
					],
					[
						"orderd",
						"ordered_entries"
					],
					[
						"init",
						"initiator_user_id"
					],
					[
						"current",
						"current_user"
					],
					[
						"oau",
						"oauth"
					],
					[
						"oauth",
						"oauth-plugin"
					],
					[
						"i4a",
						"i4a_type"
					],
					[
						"get",
						"get_item_url"
					],
					[
						"item4",
						"item4a_alias"
					],
					[
						"len",
						"length"
					],
					[
						"item",
						"item_with_perms"
					],
					[
						"item_",
						"item_with_perms"
					],
					[
						"exi",
						"exists"
					],
					[
						"cur",
						"current_user"
					],
					[
						"curr",
						"current_user_id"
					],
					[
						"fix",
						"fix_links_query"
					],
					[
						"pare",
						"parent_type"
					],
					[
						"dele",
						"delete_item"
					],
					[
						"des",
						"description"
					],
					[
						"space",
						"spacetype"
					],
					[
						"parent",
						"parent_id"
					],
					[
						"created",
						"created_at"
					],
					[
						"inclu",
						"include_files"
					],
					[
						"xpath",
						"xpath_query"
					],
					[
						"xp",
						"xpath_query"
					],
					[
						"wh",
						"what2scrap"
					],
					[
						"porta",
						"portalCheckbox"
					],
					[
						"che",
						"checked"
					]
				]
			},
			"buffers":
			[
			],
			"build_system": "Packages/JSLint/JSLint.sublime-build",
			"command_palette":
			{
				"height": 137.0,
				"selected_items":
				[
					[
						"javas",
						"Set Syntax: JavaScript"
					],
					[
						"install ",
						"Package Control: Install Package"
					],
					[
						"insta",
						"Package Control: Install Package"
					],
					[
						"install",
						"Package Control: Install Package"
					],
					[
						"pakc",
						"Package Control: Install Package"
					],
					[
						"pack",
						"Package Control: Install Package"
					],
					[
						"pakcage",
						"Package Control: Install Package"
					],
					[
						"package",
						"Package Control: Remove Package"
					],
					[
						"sql",
						"Set Syntax: SQL"
					],
					[
						"syn ru",
						"Set Syntax: Ruby on Rails"
					],
					[
						"inst",
						"Package Control: Install Package"
					],
					[
						"packa ins",
						"Package Control: Install Package"
					],
					[
						"syn mar",
						"Set Syntax: Markdown"
					],
					[
						"syn ma",
						"Set Syntax: Markdown"
					],
					[
						"syn cof",
						"Set Syntax: CoffeeScript"
					],
					[
						"synta cof",
						"Set Syntax: CoffeeScript"
					],
					[
						"perl",
						"Set Syntax: Perl"
					],
					[
						"java",
						"Set Syntax: JavaScript"
					],
					[
						"synta java",
						"Set Syntax: JavaScript"
					],
					[
						"syn java",
						"Set Syntax: JavaScript"
					],
					[
						"synt ja",
						"Set Syntax: JavaScript"
					],
					[
						"sy rub",
						"Set Syntax: Ruby"
					],
					[
						"package ins",
						"Package Control: Install Package"
					],
					[
						"packa",
						"Preferences: Browse Packages"
					],
					[
						"fo",
						"Code Folding: Unfold All"
					],
					[
						"wrap",
						"Word Wrap: Toggle"
					],
					[
						"j",
						"Set Syntax: JavaScript"
					],
					[
						"default",
						"Preferences: Key Bindings - Default"
					],
					[
						"zen",
						"Set Syntax: ZenCoding"
					]
				],
				"width": 554.0
			},
			"console":
			{
				"height": 139.0
			},
			"distraction_free":
			{
				"menu_visible": true,
				"show_minimap": false,
				"show_open_files": false,
				"show_tabs": false,
				"side_bar_visible": false,
				"status_bar_visible": false
			},
			"file_history":
			[
				"/Users/boos/code/graasp/crypted_pass.txt",
				"/Users/boos/code/seance/seancesrv.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/my_module.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/github.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/datasift/datasift.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/sample.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/server_with_watch.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/write.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/write_sync.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/configuration.js",
				"/Users/boos/Documents/archive/landmark/aquasoft_route.bat",
				"/Users/boos/code/graasp/app/controllers/assets_controller.rb",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/public/world.html",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/index.html",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/index.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/README.md",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/CNAME",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/underscore-min.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/watch.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/sample.txt",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/read.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/read_sync.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/1-files/sample.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/1-files/sample.php",
				"/Users/boos/MindMaps/FamilyTree.mm",
				"/Users/boos/Documents/archive/SERVER_BACKUP_BEFORE_LEAVE/redmine.sql",
				"/Users/boos/Documents/archive/SERVER_BACKUP_BEFORE_LEAVE/aadb.sql",
				"/Users/boos/code/GitHub_tail/homebrew/hombrew_lines.csv",
				"/Users/boos/code/GitHub_tail/homebrew/homebrew_commits.csv",
				"/Users/boos/code/seance/README.md",
				"/Users/boos/code/GitHub_tail/scrapegithub.sh",
				"/Users/boos/code/graasp/script/ten_most_active.sql",
				"/Users/boos/code/seance/rooms_new.json",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Preferences.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Package Control.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Package Control.last-run",
				"/Users/boos/code/votesrv/vote-client.js",
				"/Users/boos/code/votesrv/README.md",
				"/Users/boos/code/votesrv/votesrv.js",
				"/Users/boos/code/votesrv/vote-srv.js",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/JSLint/JSLint.sublime-settings",
				"/Users/boos/code/votesrv/.gitignore",
				"/Users/boos/code/votesrv/frontend.html",
				"/Users/boos/code/votesrv/chat-server.js",
				"/Users/boos/code/votesrv/chat-frontend.js",
				"/Users/boos/code/votesrv/index.html",
				"/Users/boos/code/votesrv/votesrv_complete.js",
				"/Users/boos/code/votesrv/vote_frontend.js",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/2013.04.13_paper.tex",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/biblio.bib",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/LaTeX/biblio.bib",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/LaTeX/main.tex",
				"/Users/boos/code/graasp/script/assign_members_randomly.rb",
				"/Users/boos/code/graasp/script/generate_sequence",
				"/Users/boos/code/graasp/script/find_corrupted_sequences.sql",
				"/Users/boos/code/graasp/script/social_media_queries.sql",
				"/Users/boos/code/graasp/public/javascripts/assets/formats/default/center.js",
				"/Users/boos/code/graasp/public/javascripts/blocks/center.js",
				"/Users/boos/code/graasp/lib/semantic/vector_space/model.rb",
				"/Users/boos/code/graasp/lib/semantic.rb",
				"/Users/boos/code/graasp/app/controllers/search_controller.rb",
				"/Users/boos/code/graasp/lib/semantic/vector_space/builder.rb",
				"/Users/boos/code/graasp/config/deploy.rb",
				"/Users/boos/code/graasp/app/models/asset.rb",
				"/Users/boos/code/graasp/config/routes.rb",
				"/Users/boos/code/graasp/app/controllers/item3a_controller.rb",
				"/Users/boos/code/graasp/app/controllers/ratings_controller.rb",
				"/Users/boos/code/graasp/app/models/item3a_extension.rb",
				"/Users/boos/code/graasp/public/javascripts/popups/settings_popup.js",
				"/Users/boos/code/graasp/app/controllers/application_controller.rb",
				"/Users/boos/code/graasp/README.md",
				"/Users/boos/code/graasp/Gemfile",
				"/Users/boos/code/graasp/config/deploy/reacttest.rb",
				"/Users/boos/code/graasp/next_deploy.md",
				"/Users/boos/code/graasp/config/environments/reacttest.rb",
				"/Users/boos/code/graasp/app/controllers/sequences_controller.rb",
				"/Users/boos/code/graasp/app/models/rs_local.rb",
				"/Users/boos/code/graasp/app/controllers/widgets/google_gadget_controller.rb",
				"/Users/boos/code/graasp/app/controllers/assets/rss_feeds_controller.rb",
				"/Users/boos/code/graasp/app/controllers/translation_controller.rb",
				"/Users/boos/code/graasp/app/controllers/proxy_controller.rb",
				"/Users/boos/code/graasp/documentation/Graaasp_intro/document.tex",
				"/Users/boos/code/graasp/app/models/space.rb",
				"/Users/boos/code/graasp/script/social_media.sql",
				"/Users/boos/code/graasp/app/models/widget.rb",
				"/Users/boos/code/graasp/config/environments/development.rb",
				"/Users/boos/code/graasp/app/models/permission.rb",
				"/Users/boos/code/graasp/script/db_commands",
				"/Users/boos/code/graasp/script/install_gems",
				"/Users/boos/code/graasp/readme/install_linalg",
				"/Users/boos/code/graasp/app/models/attachment.rb",
				"/Users/boos/code/graasp/readme/Installation_Guide",
				"/Users/boos/code/graasp/vendor/plugins/attachment_fu/README",
				"/Users/boos/code/graasp/app/views/item3a/_header.haml",
				"/Users/boos/assign_randomly.rb",
				"/Users/boos/code/graasp/deleted_gems.md",
				"/Users/boos/code/graasp/deleted_gems.rb",
				"/Users/boos/code/graasp/app/controllers/attachments_controller.rb",
				"/Users/boos/code/graasp/help.rb",
				"/Users/boos/code/graasp/app/models/client_application.rb",
				"/Users/boos/code/graasp/app/views/shared/_chat_javascript.haml",
				"/Users/boos/code/graasp/config/initializers/core_extensions.rb",
				"/Users/boos/code/graasp/config/initializers/json_session.rb",
				"/Users/boos/code/graasp/db/migrate/20110124110200_get_thumbnails_to_widgets.rb",
				"/Users/boos/code/graasp/lib/authenticated_system.rb",
				"/Users/boos/code/graasp/spec/controllers/assets_controller_spec.rb",
				"/Users/boos/code/graasp/vendor/plugins/trunk/lib/file_column.rb",
				"/Users/boos/code/graasp/config/environment.rb",
				"/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/TobagoDeepTreePageType_master.css",
				"/Users/boos/code/graasp/script/install_programs",
				"/Users/boos/code/graasp/readme/Deploy_Guide",
				"/Users/boos/code/graasp/config/database.yml",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/Default/Preferences.sublime-settings",
				"/Users/boos/code/graasp/public/javascripts/graaasp.js",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Base File.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/Alignment/Base File.sublime-settings",
				"/Users/boos/code/graasp/public/javascripts/item3a.js",
				"/Users/boos/code/graasp/config/locales/templates/lang_server.yml",
				"/Users/boos/code/graasp/Makefile",
				"/Users/boos/code/graasp/public/javascripts/init.js",
				"/Users/boos/code/graasp/Graasp_concept.md",
				"/Users/boos/code/graasp/config/deploy/production.rb"
			],
			"find":
			{
				"height": 35.0
			},
			"find_in_files":
			{
				"height": 0.0,
				"where_history":
				[
					"/Users/boos/code/graasp",
					"/Users/boos/code/graasp/",
					"",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/public/javascripts/",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/public/javascripts/",
					"/Users/boos/code/graasp/public/javascript/",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/app",
					"/Users/boos/code/graasp/app/views",
					"",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/calibre/calibre",
					"/Users/boos/code/graasp",
					""
				]
			},
			"find_state":
			{
				"case_sensitive": false,
				"find_history":
				[
					"getroom",
					"hash",
					"text",
					"getroom",
					"rescue Exception => err",
					"creator_id",
					"TODO",
					"getrooms",
					"logact",
					"new Room",
					"new Message",
					"rclient.get",
					"rclient.",
					"rclient.get",
					"findOne(",
					"findOne",
					"'_id",
					"curr",
					"findOneAnd",
					"findOne",
					", ",
					"$inc",
					"message",
					"deleted: true",
					"findBy",
					"redis.print",
					"rclient.",
					"msg_id",
					"new Messag",
					"last_seen",
					"broadcast_nearby",
					"range",
					"socket",
					"Broadcasted",
					"._id",
					"peer._id",
					"json.data",
					"json",
					"Mixed",
					"db",
					"room_",
					"rooms_con",
					"rooms_cons",
					"peer_rooms[",
					"findONeAnd",
					"$set",
					"broadcast",
					"peer_con",
					"index",
					"push",
					"connection",
					"connect",
					".update",
					"Room.find",
					"deleted:",
					"room.messages.",
					"room.mee",
					"messag",
					"_id",
					"text",
					"active",
					"Room.find",
					"htmlEntities",
					"close",
					"Double",
					"long",
					"Json",
					"peers",
					"qvotes",
					"myColor",
					"history",
					"3571",
					"3532",
					"3532\n3643\n3600\n3644\n3617\n3594",
					"3532",
					"sequences_json",
					"Rails.cache",
					"linalg",
					"is_anonimized_for_sm_course",
					"anonym",
					"soc_media",
					"social_media",
					"open_rating_info_button",
					"rating_statistic",
					"Gem::SourceIndex",
					"SourceIndex.from_gems_in",
					"Gem::SourceIndex.from_gems_in",
					"item3a.is_anonimized_for_sm_course",
					"!item3a.is_anonimized_for_sm_course?",
					".is_anonimized_for_sm_course",
					"is_anonimized_for_sm_course",
					"anonymize",
					"members",
					"# debugger",
					"linalg",
					"Assets.tra",
					"etiquette",
					"parent",
					"item3a_for_center",
					"json_for_c",
					"center_creator_id",
					"creator_id",
					"creator_name",
					"creator_id",
					":creator_id",
					"processed",
					"permis",
					"Permissions.",
					":condition",
					"find",
					"linalg",
					".transaction",
					"Assets.tr",
					"Assets",
					"# debugger",
					"debugger",
					"picture",
					"/item3a/upload",
					"picture_file",
					"Attachment",
					"/upload",
					"/item3a/upload",
					"upload_file",
					"build_temporal_file",
					"tempo",
					"upload",
					"has_attachment",
					".megabyte"
				],
				"highlight": true,
				"in_selection": false,
				"preserve_case": false,
				"regex": false,
				"replace_history":
				[
					"\\t",
					"",
					"\"",
					"Object.const_get",
					"DESC",
					"alt+",
					"",
					"<td>XXX</td>\\n<td align=\"center\" class=\"td3\"><b>",
					"'",
					"",
					" ",
					"\\n\\n",
					"\\t",
					"\\n",
					"\\t",
					" ",
					"  ",
					"$$$",
					"",
					" ",
					"",
					" ",
					"",
					" "
				],
				"reverse": false,
				"show_context": true,
				"use_buffer2": true,
				"whole_word": false,
				"wrap": true
			},
			"folders":
			[
				{
					"path": "/Users/boos/code/seance"
				}
			],
			"groups":
			[
				{
					"sheets":
					[
					]
				}
			],
			"incremental_find":
			{
				"height": 34.0
			},
			"input":
			{
				"height": 34.0
			},
			"layout":
			{
				"cells":
				[
					[
						0,
						0,
						1,
						1
					]
				],
				"cols":
				[
					0.0,
					1.0
				],
				"rows":
				[
					0.0,
					1.0
				]
			},
			"menu_visible": true,
			"output.exec":
			{
				"height": 33.0
			},
			"position": "0 4 1440 874 0 0 1440 878 ",
			"replace":
			{
				"height": 64.0
			},
			"save_all_on_build": true,
			"select_file":
			{
				"height": 0.0,
				"selected_items":
				[
					[
						"se",
						"seancesrv.js"
					],
					[
						"rea",
						"README.md"
					],
					[
						"sean",
						"seancesrv.js"
					],
					[
						"script/ten",
						"script/ten_most_active.sql"
					],
					[
						"sequence",
						"script/generate_sequence"
					],
					[
						"scrip/corru",
						"script/find_corrupted_sequences.sql"
					],
					[
						"room",
						"rooms_new.json"
					],
					[
						"roo",
						"rooms.json"
					],
					[
						"sea",
						"seancesrv.js"
					],
					[
						"votesr",
						"votesrv.js"
					],
					[
						"vote",
						"vote-client.js"
					],
					[
						".git",
						".gitignore"
					],
					[
						"vote-sr",
						"vote-srv.js"
					],
					[
						"che",
						"chat-server.js"
					],
					[
						"fron",
						"frontend.html"
					],
					[
						"front",
						"frontend.html"
					],
					[
						"fro",
						"frontend.html"
					],
					[
						"",
						"chat-frontend.js"
					],
					[
						"conce",
						"Graasp_concept.md"
					],
					[
						"find",
						"script/find_corrupted_sequences.sql"
					],
					[
						"assi",
						"script/assign_members_randomly.rb"
					],
					[
						"ass",
						"script/assign_members_randomly.rb"
					],
					[
						"sequ",
						"app/models/sequence.rb"
					],
					[
						"center.js",
						"public/javascripts/assets/formats/default/center.js"
					],
					[
						"center",
						"public/javascripts/blocks/center.js"
					],
					[
						"user",
						"app/models/user.rb"
					],
					[
						"search",
						"lib/workers/search_worker.rb"
					],
					[
						"item3a",
						"app/models/item3a_extension.rb"
					],
					[
						"ratings",
						"app/controllers/ratings_controller.rb"
					],
					[
						"item3",
						"app/controllers/item3a_controller.rb"
					],
					[
						"rating",
						"app/controllers/ratings_controller.rb"
					],
					[
						"rout",
						"config/routes.rb"
					],
					[
						"deplo",
						"config/deploy.rb"
					],
					[
						"nex",
						"next_deploy.md"
					],
					[
						"react",
						"config/deploy/reacttest.rb"
					],
					[
						"depl",
						"config/deploy.rb"
					],
					[
						"gemfi",
						"Gemfile"
					],
					[
						"appli",
						"app/controllers/application_controller.rb"
					],
					[
						"route",
						"config/routes.rb"
					],
					[
						"ite3",
						"app/models/item3a_extension.rb"
					],
					[
						"seq",
						"app/controllers/sequences_controller.rb"
					],
					[
						"asse",
						"app/models/asset.rb"
					],
					[
						"asset",
						"app/models/asset.rb"
					],
					[
						"space",
						"app/models/space.rb"
					],
					[
						"devel",
						"config/environments/development.rb"
					],
					[
						"scial",
						"script/social_media.sql"
					],
					[
						"dele",
						"deleted_gems.rb"
					],
					[
						"del",
						"deleted_gems.md"
					],
					[
						"assign",
						"script/assign_members_randomly.rb"
					],
					[
						"ite",
						"app/controllers/item3a_controller.rb"
					],
					[
						"spac",
						"app/models/space.rb"
					],
					[
						"permi",
						"app/models/permission.rb"
					],
					[
						"script/",
						"script/generate_sequence"
					],
					[
						"install",
						"script/install_gems"
					],
					[
						"gemf",
						"Gemfile"
					],
					[
						"delete",
						"deleted_gems.md"
					],
					[
						"atta",
						"app/models/attachment.rb"
					],
					[
						"gem",
						"Gemfile"
					],
					[
						"gra",
						"public/javascripts/graaasp.js"
					],
					[
						"next",
						"next_deploy.md"
					],
					[
						"gr",
						"public/javascripts/graaasp.js"
					],
					[
						"data",
						"config/database.yml"
					],
					[
						"insta",
						"script/install_gems"
					],
					[
						"gemfil",
						"Gemfile"
					],
					[
						"cap",
						"app/models/client_application.rb"
					],
					[
						"dep",
						"config/deploy.rb"
					],
					[
						"center.",
						"public/javascripts/blocks/center.js"
					],
					[
						"graa",
						"public/javascripts/graaasp.js"
					],
					[
						"produc",
						"config/deploy/production.rb"
					],
					[
						"init",
						"public/javascripts/init.js"
					],
					[
						"make",
						"Makefile"
					],
					[
						"lang_serv",
						"config/locales/templates/lang_server.yml"
					],
					[
						"item3a_",
						"app/controllers/item3a_controller.rb"
					],
					[
						"itm3a",
						"public/javascripts/item3a.js"
					],
					[
						"search.js",
						"public/javascripts/blocks/search.js"
					],
					[
						"all",
						"all_static.min.js"
					],
					[
						"pro",
						"config/deploy/production.rb"
					],
					[
						"all_stat",
						"public/javascripts/cache/all_static.js"
					],
					[
						"deve",
						"config/environments/development.rb"
					],
					[
						"confiend",
						"config/environments/production.rb"
					],
					[
						"appliham",
						"app/views/layouts/application.haml"
					],
					[
						"prototy",
						"public/javascripts/libs/prototypextensions.js"
					],
					[
						"reactt",
						"config/deploy/reacttest.rb"
					],
					[
						"graaspresi",
						"public/javascripts/graaasp_resize.js"
					],
					[
						"item3aext",
						"app/models/item3a_extension.rb"
					],
					[
						"graaspblo",
						"public/javascripts/graaasp_block.js"
					],
					[
						"graasprsiz",
						"public/javascripts/graaasp_resize.js"
					],
					[
						"item",
						"app/models/item3a_extension.rb"
					],
					[
						"extension",
						"public/javascripts/libs/prototypextensions.js"
					],
					[
						"raw",
						"raw_1000/github-users-stats.json"
					],
					[
						"get",
						"get-users.coffee"
					],
					[
						"util",
						"utils.js"
					],
					[
						"format-user",
						"format-users.coffee"
					],
					[
						"github-usr",
						"raw/github-users-stats.json"
					],
					[
						"github",
						"raw/github-languages-stats.json"
					],
					[
						"active",
						"formatted/active.md"
					],
					[
						"fin",
						"script/find_corrupted_sequences.sql"
					],
					[
						"graasp.js",
						"public/javascripts/graaasp.js"
					],
					[
						"application",
						"public/javascripts/application.js"
					],
					[
						"elog",
						"public/javascripts/application_elogbook.js"
					],
					[
						"reco",
						"public/javascripts/blocks/recommended.js"
					],
					[
						"memb",
						"public/javascripts/blocks/members.js"
					],
					[
						"recomm",
						"public/javascripts/blocks/recommended.js"
					],
					[
						"environment.js",
						"public/javascripts/environment.js"
					],
					[
						"envir",
						"config/environment.rb"
					],
					[
						"applic",
						"public/javascripts/application.js"
					],
					[
						"block",
						"public/javascripts/graaasp_block.js"
					],
					[
						"ten",
						"script/ten_most_active.sql"
					],
					[
						"rou",
						"config/routes.rb"
					],
					[
						"member",
						"public/javascripts/blocks/members.js"
					],
					[
						"graaasp",
						"public/javascripts/graaasp.js"
					],
					[
						"log",
						"app/models/log.rb"
					],
					[
						"test/",
						"test/bdrb_test_helper.rb"
					],
					[
						"rail",
						"diagrams/railroad"
					],
					[
						"sche",
						"db/schema.rb"
					],
					[
						"ite3ex",
						"app/models/item3a_extension.rb"
					],
					[
						"schem",
						"db/schema.rb"
					],
					[
						"meta",
						"app/controllers/metawidget_controller.rb"
					],
					[
						"helpcon",
						"app/controllers/help_controller.rb"
					],
					[
						"session",
						"app/controllers/sessions_controller.rb"
					],
					[
						"userno",
						"app/models/user_notifier.rb"
					],
					[
						"content_recommendat",
						"app/models/content_recommendation.rb"
					],
					[
						"content",
						"app/models/content_recommendation.rb"
					],
					[
						"sess",
						"app/controllers/sessions_controller.rb"
					],
					[
						"transla",
						"app/controllers/translation_controller.rb"
					],
					[
						"favor",
						"app/controllers/favorites_controller.rb"
					],
					[
						"fi",
						"script/fix_links"
					],
					[
						"attahc",
						"app/controllers/attachments_controller.rb"
					]
				],
				"width": 0.0
			},
			"select_project":
			{
				"height": 0.0,
				"selected_items":
				[
				],
				"width": 0.0
			},
			"show_minimap": false,
			"show_open_files": false,
			"show_tabs": true,
			"side_bar_visible": false,
			"side_bar_width": 285.0,
			"status_bar_visible": true,
			"window_id": 189,
			"workspace_name": ""
		},
		{
			"auto_complete":
			{
				"selected_items":
				[
					[
						"getmessag",
						"getmessagesCallback"
					],
					[
						"rnd",
						"randstring"
					],
					[
						"log",
						"logact"
					],
					[
						"disk",
						"dislikes"
					],
					[
						"me",
						"message"
					],
					[
						"peers",
						"peersWithinRange"
					],
					[
						"broad",
						"broadcast_room"
					],
					[
						"room_",
						"room_cons"
					],
					[
						"mes",
						"messages"
					],
					[
						"upsert",
						"upsertPeer"
					],
					[
						"la",
						"last_seen"
					],
					[
						"upser",
						"upsertPeer"
					],
					[
						"sequenc",
						"sequences_json"
					],
					[
						"orderd",
						"ordered_entries"
					],
					[
						"init",
						"initiator_user_id"
					],
					[
						"current",
						"current_user"
					],
					[
						"oau",
						"oauth"
					],
					[
						"oauth",
						"oauth-plugin"
					],
					[
						"i4a",
						"i4a_type"
					],
					[
						"get",
						"get_item_url"
					],
					[
						"item4",
						"item4a_alias"
					],
					[
						"len",
						"length"
					],
					[
						"item",
						"item_with_perms"
					],
					[
						"item_",
						"item_with_perms"
					],
					[
						"exi",
						"exists"
					],
					[
						"cur",
						"current_user"
					],
					[
						"curr",
						"current_user_id"
					],
					[
						"fix",
						"fix_links_query"
					],
					[
						"pare",
						"parent_type"
					],
					[
						"dele",
						"delete_item"
					],
					[
						"des",
						"description"
					],
					[
						"space",
						"spacetype"
					],
					[
						"parent",
						"parent_id"
					],
					[
						"created",
						"created_at"
					],
					[
						"inclu",
						"include_files"
					],
					[
						"xpath",
						"xpath_query"
					],
					[
						"xp",
						"xpath_query"
					],
					[
						"wh",
						"what2scrap"
					],
					[
						"porta",
						"portalCheckbox"
					],
					[
						"che",
						"checked"
					]
				]
			},
			"buffers":
			[
				{
					"file": "/Users/boos/code/graasp/app/controllers/spaces_controller.rb",
					"settings":
					{
						"buffer_size": 8580,
						"line_ending": "Unix"
					}
				},
				{
					"file": "/Users/boos/code/graasp/config/routes.rb",
					"settings":
					{
						"buffer_size": 38938,
						"line_ending": "Unix"
					}
				},
				{
					"file": "/Users/boos/code/graasp/app/models/space.rb",
					"settings":
					{
						"buffer_size": 18360,
						"line_ending": "Unix"
					}
				},
				{
					"file": "/Users/boos/code/graasp/app/controllers/widgets_controller.rb",
					"settings":
					{
						"buffer_size": 1529,
						"line_ending": "Unix"
					}
				},
				{
					"file": "/Users/boos/code/graasp/app/models/widget.rb",
					"settings":
					{
						"buffer_size": 2551,
						"line_ending": "Unix"
					}
				},
				{
					"contents": "Searching 3052 files for \".class\"\n\n/Users/boos/code/graasp/.idea/compiler.xml:\n    7        <entry name=\"!?*.java\" />\n    8        <entry name=\"!?*.form\" />\n    9:       <entry name=\"!?*.class\" />\n   10        <entry name=\"!?*.groovy\" />\n   11        <entry name=\"!?*.scala\" />\n\n/Users/boos/code/graasp/.idea/workspace.xml:\n  330      <property name=\"options.searchVisible\" value=\"true\" />\n  331      <property name=\"options.splitter.details.proportions\" value=\"0.2\" />\n  332:     <property name=\"dynamic.classpath\" value=\"false\" />\n  333    </component>\n  334    <component name=\"RunManager\" selected=\"Rails.Development: graasp\">\n\n/Users/boos/code/graasp/app/controllers/application_controller.rb:\n   36    # check whether this user has relationship with the item\n   37    def check_user_relation(item3a, current_user)\n   38:     item_type = item3a.class.to_s\n   39      related_user = false\n   40  \n   ..\n  369      respond_to do |format|\n  370        format.json do\n  371:         output = {:exception => {:name => error.class.to_s, :message => error.message.to_s}}\n  372          render(:layout => false, :json => output.to_json)\n  373        end\n  ...\n  381        item.errors.add_to_base(t(\"error.no_item_selected\"))\n  382      else\n  383:       tagging = Tagging.create(:item_id => item.id, :tag_id => tag.id, :category => 'type', :item_type => item.class.to_s, :initiator_user_id => current_user.id)\n  384        item.errors.add_to_base(t(\"error.type_not_allowed_for\") + item.name) if tagging.nil?\n  385      end\n  ...\n  398    def get_values_set_for_linkages(item)\n  399      if item.nil?\n  400:       item.errors.add_to_base('No ' + item.class.to_s.downcase + ' to link to')\n  401      elsif (params[:linkage])\n  402:       @item_from = item.class.find(:first, :conditions => ['id= ?', params[:linkage][:from]]) if (params[:linkage][:from] and (params[:linkage][:from] != '0'))\n  403:       @item_to = item.class.find(:first, :conditions => ['id= ?', params[:linkage][:to]]) if (params[:linkage][:to] and (params[:linkage][:to] != '0'))\n  404        @item_from_id = @item_from.id unless @item_from.nil? #, used to reload in view what user has specified, in the case of an error, we want to keep those two nil, in the case of the newly created asset, so that if there is an error, the text appears \"the newly created asset\", for e.g., because in that case, there will be no asset saved\n  405        @item_to_id = @item_to.id unless @item_to.nil?\n  ...\n  418      # keep first two conditions just in case item itself is nil\n  419      if (!@item_from.nil? and !@item_to.nil? and (@item_from.id != @item_to.id)) # to be added in the corresponding ajax method -- first condition doesn't allow an item to be linked to itself ( check if we really need it)\n  420:       item_type = item.class.to_s\n  421        # can link item?\n  422        # if the link is not private then it can't be done unless he/she has the right to do it\n  ...\n  433            if @link_type_used.name == 'subspace' or @link_type_used.name =='succeeds'\n  434              # check if link in reverse direction already exists in the case on unidirectional links\n  435:             # item.errors.add_to_base(\"This directed relation already exists between the two elements, in the reverse way.\" ) if (!@link_type_used.bidirectional and (Linkage.inverse_link_already_exists?(item.class.to_s, @item_to.id, @item_from.id, @link_type_used.id)))\n  436              # check for cyles in the case on unidirectional links\n  437:             item.errors.add_to_base(\"Check the already created links. There might exist an inverse link or cycle between the entities you are trying to link.\") if  (!@link_type_used.bidirectional and (Linkage.there_is_a_cycle?(@item_from.id, @item_to.id, item.class.to_s, @link_type_used.id)))\n  438            end\n  439            # check if link already exists\n  440:           item.errors.add_to_base(\"This relation has already been defined.\") if (Linkage.already_exists?(item.class.to_s, @item_from.id, @item_to.id, @link_type_used.id))\n  441            semantic_link = SemanticLink.new(:link_type_id => @link_type_used.id, :initiator_user_id => current_user.id, :private_link => @private_link)\n  442            if (item.errors.empty? and (semantic_link.save))\n  ...\n  474    def can_link_items?\n  475      can=true\n  476:     classtype = @item.class.to_s\n  477      if classtype =='Space'\n  478        can=current_user.can_link_space?(@item.id) and current_user.can_link_space?(@next_item.id)\n  ...\n  480        can=current_user.has_joined_space?(@item.space_id) and current_user.has_joined_space?(@next_item.space_id)\n  481      elsif classtype=='User'\n  482:       can = (current_user.can_see_user?(@item.id) or (current_user.id == @item.id and @item.class == 'User'))and ((current_user.id == @item.id and @item.class == 'User') or current_user.can_see_user?(@next_item.id))\n  483      elsif classtype=='Asset'\n  484        can=current_user.reader_or_editor_or_owner_of_asset?(@item.id) and current_user.reader_or_editor_or_owner_of_asset?(@next_item.id)\n  ...\n  573  \n  574      # add \"parent\" field to user, space, asset and widget, the parent of an user is the user itself\n  575:     if ((@item4a.class.to_s != \"User\")&&(@item4a.parent_id != nil))\n  576        parent = find_item4a_by(@item4a.parent_type, @item4a.parent_id)\n  577        p_parent = find_parent(@item4a.parent_type.downcase, @item4a.parent_id)\n  578:       p_parent_js = {:id => p_parent.id, :type => p_parent.class.to_s.downcase, :name => p_parent.name}\n  579        item3a_new[:parent] = {:id => parent.id, :type => @item4a.parent_type.downcase, :name => parent.name, :parent => p_parent_js}\n  580:     elsif (@item4a.class.to_s == \"User\")\n  581        item3a_new[:parent] = {:id => item3a.id, :type => \"user\", :name => item3a.name, :parent => {:id => item3a.id, :type => \"user\", :name => item3a.name}}\n  582      end\n  ...\n  585      data = format_controller_class(item3a).for_center(item3a, current_user)\n  586      data[:code] = \"\"\n  587:     file_path = \"public/javascripts/\"+item3a.class.to_s.downcase+\"s/formats/\"+item3a.format_name+\"/center.js\"\n  588      File.open((Rails.root+file_path).to_s, 'r') do |io|\n  589        data[:code] = io.read()\n  ...\n  592  \n  593      # specific to Assets fields\n  594:     if (item3a.class.to_s == \"Asset\")\n  595        item3a_new[:attachments] = item3a.get_attachments_data_for_json\n  596      end\n  597  \n  598      # specific to Assets fields\n  599:     if (item3a.class.to_s == \"Space\")\n  600        item3a_new[:skins] = item3a.functional_skins\n  601        # appid is zero (doesnt exist for func skins)\n  ...\n  619      item3a_new[:taggings] = taggings_list\n  620  \n  621:     if (item3a.class.to_s != \"User\")\n  622        if !item3a.is_anonimized_for_sm_course?(current_user) # Social Media 2013 - this condition should be removed after the course\n  623          item3a_new[:creator_id] = item3a.initiator_user_id\n  ...\n  754  \n  755      # Items can't be related to an asset or a widget\n  756:     raise t(\"error.cant_add_items_to_nonspace\") if (context.class.to_s=='Asset' or context.class.to_s=='Widget')\n  757  \n  758      # only spaces can be dropped into a profile pad\n  759:     raise t(\"error.items_can_be_added_only_to_spaces\") if (context.class.to_s=='User' and item_class.downcase!='space')\n  760  \n  761      # current user should contributor at destination\n  ...\n  764  \n  765    def check_if_space_is_group_space(item)\n  766:     raise t(\"error.permissions_handled_at_parent_level\") if (item and item.class.to_s=='Space' and item.spacetype=='folder')\n  767    end\n  768  \n  ...\n  783      controller_class = item3a.format_name.camelize+\"Controller\"\n  784      # initialize the class instance\n  785:     Object.const_get(item3a.class.to_s+\"s\").const_get(controller_class).send(\"new\")\n  786    end\n  787  \n  ...\n  915  \n  916      # for users don't compare content ( because for now we only check in names)'\n  917:     return pr_recommendations.collect { |r| r.item.basic_json_representation(current_user) } if (context.class.to_s=='User')\n  918  \n  919      # else filter based on content of context\n\n/Users/boos/code/graasp/app/controllers/assets/rss_feeds_controller.rb:\n  156      parent = item3a.parent\n  157      owner_id = parent.id.to_s\n  158:     if(parent.class.to_s == \"User\")\n  159        prefix = \"\" # no prefix for user anymore\n  160      else\n\n/Users/boos/code/graasp/app/controllers/attachments_controller.rb:\n  206        find_context\n  207        can_add_and_relate?(@context, params[:i3a_type])\n  208:       context_class=@context.class.to_s\n  209  \n  210        i3a_format_id = Item3aFormat.find(:first, :conditions => \"name = 'default' and item = 'Asset'\").id\n  ...\n  251          # save new description into wiki_history\n  252          if(params[:desc])\n  253:           WikiHistory.create!(:author_id => current_user.id, :item_id => @item4a.id, :item_type => @item4a.class.to_s, :content => params[:desc])\n  254          end\n  255  \n  256:         Activity.log(@item4a.initiator_user_id, \"add\", @item4a.class.to_s, @item4a.id, @item4a.parent_type, @item4a.parent_id)\n  257  \n  258          output = item3a_for_center_json(@item4a, @item4a.id,\"children\", nil)\n\n/Users/boos/code/graasp/app/controllers/comments_controller.rb:\n   14  \n   15      if params[:parent_comment_id] == \"null\"\n   16:       @comment = Comment.new(:content => content, :item_id => @item4a.id, :item_type => @item4a.class.to_s,\n   17                             :initiator_user_id => current_user.id)\n   18      else\n   19:       @comment = Comment.new(:content => content, :item_id => @item4a.id, :item_type => @item4a.class.to_s,\n   20                             :parent_comment_id => params[:parent_comment_id], :initiator_user_id => current_user.id)\n   21      end\n   ..\n   30        end\n   31  \n   32:       Activity.log(current_user.id, \"add\", \"Comment\", @comment.id, @item4a.class.to_s, @item4a.id)\n   33      end\n   34  \n\n/Users/boos/code/graasp/app/controllers/favorites_controller.rb:\n   78  \n   79      # save the activity of removing item from its parent\n   80:     Activity.log(current_user.id, \"remove\", @item4a.class.to_s, @item4a.id, @source.class.to_s, @source.id)\n   81  \n   82      # save the activity of adding item to Clipboard\n   83:     Activity.log(current_user.id, \"add\", @item4a.class.to_s, @item4a.id, \"Favorite\", @clipboard.id)\n   84  \n   85      respond_to do |format|\n   ..\n  145    def process_move_link\n  146      # if this link does not exist in the dest list, create a new link\n  147:     if !@clipboard_hash[@item4a.id.to_s+\"_\"+@item4a.class.to_s.downcase]\n  148        add_link_to_clipboard(params)\n  149  \n  ...\n  159     ##\n  160    def process_move_item\n  161:     existing_item = @clipboard_hash[@item4a.id.to_s+\"_\"+@item4a.class.to_s.downcase]\n  162      if (existing_item and existing_item[:type] == \"link\")\n  163        # if item already exists in the list and it is a link,\n  ...\n  179        # add link in clipboard to the item above\n  180        @clipboard = Favorite.new(:user_id => current_user.id, :item3a_id => @item4a.id.to_s,\n  181:           :item3a_type => @item4a.class.to_s.capitalize, :category => \"clipboard\")\n  182        @clipboard.save!\n  183  \n  184        # remove item from the source sequence\n  185:       Sequence.delete_item(@item4a.id, @item4a.class.to_s, @source.id, @source.class.to_s, \"children\")\n  186      end\n  187  \n  ...\n  194    def add_link_to_clipboard(params)\n  195      @favorite = Favorite.new(:user_id => current_user.id, :item3a_id => @item4a.id.to_s,\n  196:         :item3a_type => @item4a.class.to_s.capitalize, :category => \"clipboard\")\n  197      @favorite.save!\n  198    end\n  ...\n  206      @clipboard_list.each do |elem|\n  207        i4a = elem[:item]\n  208:       output[i4a.id.to_s+\"_\"+i4a.class.to_s.downcase] = elem\n  209      end\n  210  \n\n/Users/boos/code/graasp/app/controllers/formats_controller.rb:\n    5        @i3a_format=find_format\n    6  \n    7:       # item = {:id => @item4a.id, :name => @item4a.name, :type => @item4a.class.to_s.downcase}\n    8        # = javascript_tag(render(:file => \"item3a/init.js.erb\"))\n    9        output = \"\"\n\n/Users/boos/code/graasp/app/controllers/graaaspit_controller.rb:\n   82      end\n   83  \n   84:     url = $server_website_url+\"/#item=\"+@item4a.class.to_s.downcase+\"_\"+@item4a.id.to_s\n   85      name = params[:name]\n   86      output[:url] = url\n   ..\n   88      # notice message for graaaspit\n   89      output[:notice] = I18n.t(\"notice.item_name_was_added_to_your_graaasp_clipboard\",\n   90:         :item => decode_i4a_type(@item4a.class.to_s),\n   91          :name => \"<a target='_blank' href='\"+url+\"'>\"+name+\"</a>\")\n   92  \n   93      # Add item to clipboard\n   94:     Favorite.create!(:user_id => current_user.id, :item3a_id => @item4a.id, :item3a_type => @item4a.class.to_s, :category => \"clipboard\")\n   95  \n   96        response.headers[\"Access-Control-Allow-Origin\"] = '*'\n\n/Users/boos/code/graasp/app/controllers/item3a_controller.rb:\n   10      find_context\n   11      can_add_and_relate?(@context, params[:i3a_type])\n   12:     context_class=@context.class.to_s\n   13  \n   14      i3a_format_id = get_format_id\n   ..\n   19        :parent_id => @context.id, :parent_type =>  context_class,\n   20        :external_thumbnail => params[:external_thumbnail])\n   21:     Sequence.add_item(@item4a.id, @item4a.class.to_s, @context.id, context_class, \"children\")\n   22  \n   23      # pass current_user object to children classes\n   24      params[:current_user] = current_user\n   25:     send_asset_email(@item4a, current_user) if (@item4a.class.to_s=='Asset' and @item4a.parent.class.to_s=='Space')\n   26  \n   27      # create item3a specific\n   ..\n   30      # save new description into wiki_history\n   31      if(params[:desc])\n   32:       WikiHistory.create!(:author_id => current_user.id, :item_id => @item4a.id, :item_type => @item4a.class.to_s, :content => params[:desc])\n   33      end\n   34  \n   35      # save creation activity\n   36:     Activity.log(@item4a.initiator_user_id, \"add\", @item4a.class.to_s, @item4a.id, @item4a.parent_type, @item4a.parent_id)\n   37  \n   38      output = item3a_for_center_json(@item4a, @item4a.id,\"children\", nil)\n   ..\n   62  \n   63      # Add item to clipboard\n   64:     clip = Favorite.create!(:user_id => current_user.id, :item3a_id => @item4a.id, :item3a_type => @item4a.class.to_s, :category => \"clipboard\")\n   65  \n   66      output = item3a_for_clipboard_json(@item4a, \"item\", clip.id)\n   ..\n   99      @item4a.save!\n  100  \n  101:     item = {:id => @item4a.id, :name => @item4a.name, :type => @item4a.class.to_s.downcase}\n  102      respond_to do |format|\n  103        format.json { render(:layout => false , :json => item.to_json )}\n  ...\n  162  \n  163      # second condition below,is temporary to allow Lina and Evgeny to edit guest fields\n  164:     raise t(\"error.cant_edit_field\") unless @item4a.editable_by?(current_user) or ([28,3,8].include?(current_user.id) and @item4a.class.to_s=='User' and @item4a.is_guest_user?)\n  165      @item4a.description = params[:desc]\n  166      @item4a.save\n  ...\n  168      # save new description into wiki_history\n  169      if(params[:desc])\n  170:       WikiHistory.create!(:author_id => current_user.id, :item_id => @item4a.id, :item_type => @item4a.class.to_s, :content => params[:desc])\n  171      end\n  172  \n  173      # save update activity\n  174:     Activity.log(current_user.id, \"update\", @item4a.class.to_s, @item4a.id)\n  175  \n  176      respond_to do |format|\n  ...\n  184      find_item4a\n  185      not_guest_user?\n  186:     raise t(\"error.cant_edit_field\") unless @item4a.editable_by?(current_user) or ([28,3,8].include?(current_user.id) and @item4a.class.to_s=='User' and @item4a.is_guest_user?)\n  187      welcome_desc = params[:desc]\n  188      welcome_lang = params[:lang]\n  ...\n  276        picture_file = build_temp_file(params)\n  277        @item4a.picture = picture_file\n  278:       if(@item4a.class.to_s.downcase == \"asset\" or @item4a.class.to_s.downcase == \"widget\")\n  279          @item4a.external_thumbnail = nil\n  280        end\n  ...\n  324  \n  325      # increment the access_count without changing the update_at attribute\n  326:     @item4a.class.record_timestamps = false\n  327      @item4a.access_count += 1\n  328      @item4a.update_attributes({:access_count => @item4a.access_count})\n  329:     @item4a.class.record_timestamps = true\n  330  \n  331      # only log access by not guest users at the moment\n  332      if !current_user.is_guest_user?\n  333:       Activity.log(current_user.id, \"access\", @item4a.class.to_s, @item4a.id)\n  334      end\n  335  \n  ...\n  338      # get rating for the item\n  339      rating = Rating.find(:first, :conditions => [\"initiator_user_id = ? and item_id = ? and item_type = ?\",\n  340:       current_user.id, @item4a.id, @item4a.class.to_s])\n  341  \n  342      if rating\n  ...\n  361      output[:tree] = arr\n  362  \n  363:     session[:return_to] = \"/#item=\"+@item4a.class.to_s.downcase+\"_\"+@item4a.id.to_s\n  364  \n  365      respond_to do |format|\n  ...\n  400  \n  401        # we have \"Space\" and \"User\" containers\n  402:       if (@item4a.class.to_s == 'Space')\n  403  \n  404          # we have \"folder\", \"group\", \"portal\" and \"ils\" (inquiry learning) spaces\n  ...\n  424          end\n  425  \n  426:       elsif (@item4a.class.to_s == 'User')\n  427          # There are no members for a User item\n  428        end\n  ...\n  522      item4a_new = {}\n  523      item4a_new[:item4a_id] = item4a.id\n  524:     item4a_new[:item4a_type] = item4a.class.to_s.downcase\n  525      item4a_new[:item4a_name] = item4a.name\n  526      item4a_new[:item4a_initiator] = find_item4a_by(\"User\",item4a.initiator_user_id).name\n  ...\n  534      output = {}\n  535      find_item4a\n  536:     i3a_parent = find_parent(@item4a.class.to_s,@item4a.id)\n  537      output[:id] = i3a_parent.id\n  538:     output[:type] = i3a_parent.class.to_s.downcase\n  539      output[:name] = i3a_parent.name\n  540      respond_to do |format|\n  ...\n  555      # current_user has to be at least a contributor at destination to be able to move item there\n  556      # method also check for whether the item4a type being moved into destination is allowed\n  557:     can_add_and_relate?(@dest, @item4a.class.to_s)\n  558  \n  559      # only source space owner or item creator can move item from a space\n  ...\n  566  \n  567      #item being moved is a child\n  568:     existing_item = dest_hash[@item4a.id.to_s+\"_\"+@item4a.class.to_s.downcase]\n  569      if(existing_item and existing_item[:type] == \"link\")\n  570        # if item already exists in the list and it is a link, remove this link and move item afterwards\n  ...\n  579        # change the parent of an item from source to destination\n  580        @item4a.parent_id = @dest.id\n  581:       @item4a.parent_type = @dest.class.to_s\n  582        @item4a.save!\n  583  \n  584        # remove item from the source sequence\n  585:       Sequence.delete_item(@item4a.id, @item4a.class.to_s, @source.id, @source.class.to_s, \"children\")\n  586  \n  587        # add item to the destination sequence\n  588:       Sequence.add_item(@item4a.id, @item4a.class.to_s, @dest.id, @dest.class.to_s, \"children\")\n  589      end\n  590  \n  591:     send_asset_email(@item4a, current_user) if (@item4a.class.to_s=='Asset' and @item4a.parent.class.to_s=='Space')\n  592  \n  593      # save the activity of removing item from its parent\n  594:     Activity.log(current_user.id, \"remove\", @item4a.class.to_s, @item4a.id, @source.class.to_s, @source.id)\n  595      # save the activity of adding item to destination\n  596:     Activity.log(current_user.id, \"add\", @item4a.class.to_s, @item4a.id, @dest.class.to_s, @dest.id)\n  597  \n  598      respond_to do |format|\n  ...\n  615      # current_user has to be at least a contributor at destination to be able to move item there\n  616      # destination should be a space\n  617:     can_add_and_relate?(@dest, @item4a.class.to_s)\n  618  \n  619      # to delete a link, the current user has to be owner of source space or link creator\n  ...\n  626  \n  627      # if this link does not exist in the dest list, create a new link\n  628:     if !dest_hash[@item4a.id.to_s+\"_\"+@item4a.class.to_s.downcase]\n  629        # create new link\n  630:       link = Link.create(:link_type_id => LinkType.default_link_id, :initiator_user_id => current_user.id , :private_link => false, :source_id =>  @item4a.id, :destination_id => @dest.id, :source_type => @item4a.class.to_s, :destination_type => @dest.class.to_s)\n  631  \n  632        # add new link to the sequence\n  633:       Sequence.add_item(@item4a.id, @item4a.class.to_s, @dest.id, @dest.class.to_s, \"link\")\n  634  \n  635        # remove link itself\n  ...\n  637  \n  638        # save the activity of removing link from its parent\n  639:       Activity.log(current_user.id, \"delete\", \"Link\", @link.id, @source.class.to_s, @source.id)\n  640        # save the activity of adding link to destination\n  641:       Activity.log(current_user.id, \"add\", \"Link\", @link.id, @dest.class.to_s, @dest.id)\n  642      end\n  643  \n  ...\n  660      # current_user has to be at least a contributor at destination to be able to move item there\n  661      # method also check for whether the item4a type being moved into destination is allowed\n  662:     can_add_and_relate?(@dest, @item4a.class.to_s)\n  663  \n  664      # find list of all items for the clipboard\n  ...\n  673      Activity.log(current_user.id, \"remove\", \"Link\", @link.id, \"Favorite\", @clipboard.id)\n  674      # save the activity of adding link to destination\n  675:     Activity.log(current_user.id, \"add\", \"Link\", @link.id, @dest.class.to_s, @dest.id)\n  676  \n  677      respond_to do |format|\n  ...\n  696      # current_user has to be at least a contributor at destination to be able to move item there\n  697      # method also check for whether the item4a type being moved into destination is allowed\n  698:     can_add_and_relate?(@dest, @item4a.class.to_s)\n  699  \n  700      # current_user has to be an owner of the clipboard and of the item put in clipboard\n  ...\n  709      item_json = item3a_for_center_json(@item4a, nil, 'children', nil)\n  710  \n  711:     send_asset_email(@item4a, current_user) if (@item4a.class.to_s=='Asset' and @item4a.parent.class.to_s=='Space')\n  712  \n  713      # save the activity of removing item from Clipboard\n  714:     Activity.log(current_user.id, \"remove\", @item4a.class.to_s, @item4a.id, \"Favorite\", @clipboard.id)\n  715      # save the activity of adding item to destination\n  716:     Activity.log(current_user.id, \"add\", @item4a.class.to_s, @item4a.id, @dest.class.to_s, @dest.id)\n  717  \n  718      respond_to do |format|\n  ...\n  731      @center = find_item4a_by(params[:center_type], params[:center_id])\n  732  \n  733:     can_add_and_relate?(@center, @item4a.class.to_s)\n  734:     raise message_for_space_or_profile(@center.class.to_s,\" \"+t(\"words.contributors\")) if @center.editable_by?(current_user)==false\n  735:     # raise message_for_space_or_profile(@center.class.to_s,\" editors\") if (@center.class.to_s=='User' && @center.editable_by?(current_user)==false)\n  736:     # raise message_for_space_or_profile(@center.class.to_s,\" viewers\") if (@center.class.to_s=='Space' && @center.has_viewer?(current_user)==false)\n  737      # find list of all items for the dest\n  738      dest_hash = find_pad_hash(@center)\n  ...\n  741  \n  742      # if this item does not exist in the dest list, create a link\n  743:     if !dest_hash[@item4a.id.to_s+\"_\"+@item4a.class.to_s.downcase]\n  744:       link = Link.create(:link_type_id => LinkType.default_link_id, :initiator_user_id => current_user.id , :private_link => false, :source_id => @item4a.id, :destination_id => @center.id, :source_type => @item4a.class.to_s, :destination_type => @center.class.to_s)\n  745  \n  746        # save creation activity\n  747:       Activity.log(current_user.id, \"add\", \"Link\", link.id, @center.class.to_s, @center.id)\n  748  \n  749        item3a = item3a_for_center_json(@item4a,link.id,\"link\", link.initiator_user_id)\n  750:       Sequence.add_item(@item4a.id, @item4a.class.to_s, @center.id, @center.class.to_s, \"link\")\n  751      end\n  752  \n  ...\n  763    def unrelate\n  764      link = Link.find(params[:link_id])\n  765:     raise message_for_space_or_profile(link.destination.class.to_s,\" \"+t(\"words.owners\"))  if !link.deletable_by_user?(current_user)\n  766  \n  767      link.destroy\n  ...\n  818      not_guest_user?\n  819  \n  820:     raise message_for_space_or_profile(@item4a.class.to_s, \" \"+t(\"words.owners\")) if !@item4a.has_owner?(current_user)\n  821  \n  822      Link.transaction do\n  823        # destroy all links to this item\n  824:       links_as_source = Link.find(:all, :conditions => \"source_id = #{@item4a.id} and source_type = '#{@item4a.class.to_s}'\")\n  825        if !links_as_source.empty?\n  826          links_as_source.each do |item|\n  ...\n  830  \n  831        # destroy all links into this item (in the space)\n  832:       links_as_dest = Link.find(:all,  :conditions => \"destination_id = #{@item4a.id} and destination_type = '#{@item4a.class.to_s}'\")\n  833        if !links_as_dest.empty?\n  834          links_as_dest.each do |item|\n  ...\n  838  \n  839        # delete it from favorites, and clipboard\n  840:       favs = Favorite.find(:all, :conditions => \"item3a_id = #{@item4a.id} and item3a_type = '#{@item4a.class.to_s}'\" )\n  841        if !favs.empty?\n  842          favs.each do |item|\n  ...\n  845        end\n  846  \n  847:       output = {:id => @item4a.id,:type => @item4a.class.to_s.downcase,:name => @item4a.name}\n  848  \n  849        # delete item from the parent's sequence\n  850:       Sequence.delete_item(@item4a.id, @item4a.class.to_s, @item4a.parent_id, @item4a.parent_type, \"children\")\n  851:       Activity.log(current_user.id, \"delete\", @item4a.class.to_s, @item4a.id, @item4a.parent_type, @item4a.parent_id)\n  852  \n  853        # destroy item\n  ...\n  892    def process_move_link\n  893      # if this link does not exist in the dest list, create a new link\n  894:     if !@pad_hash[@item4a.id.to_s+\"_\"+@item4a.class.to_s.downcase]\n  895        # create new link\n  896:       @link = Link.create(:link_type_id => LinkType.default_link_id, :initiator_user_id => current_user.id , :private_link => false, :source_id =>  @item4a.id, :destination_id => @dest.id, :source_type => @item4a.class.to_s, :destination_type => @dest.class.to_s)\n  897  \n  898        # current_user has to be an owner of the clipboard item\n  ...\n  900  \n  901        # add new link to the sequence\n  902:       Sequence.add_item(@item4a.id, @item4a.class.to_s, @dest.id, @dest.class.to_s, \"link\")\n  903  \n  904        # remove link from clipboard\n  ...\n  912    ##\n  913    def process_move_item\n  914:     existing_item = @pad_hash[@item4a.id.to_s+\"_\"+@item4a.class.to_s.downcase]\n  915      if (existing_item and existing_item[:type] == \"link\")\n  916        # if item already exists in the list and it is a link,\n  ...\n  926        # change the parent of an item from source to destination\n  927        @item4a.parent_id = @dest.id\n  928:       @item4a.parent_type = @dest.class.to_s\n  929        @item4a.in_clipboard = false\n  930        @item4a.save!\n  ...\n  934  \n  935        # add item to the destination sequence\n  936:       Sequence.add_item(@item4a.id, @item4a.class.to_s, @dest.id, @dest.class.to_s, \"children\")\n  937      end\n  938    end\n  ...\n  963      controller_class = item3a.format_name.camelize+\"Controller\"\n  964      # initialize the class instance\n  965:     Object.const_get(item3a.class.to_s+\"s\").const_get(controller_class).send(\"new\")\n  966    end\n  967  \n  968    def item_in_list?(list,item)\n  969      list.each do |list_item|\n  970:       if(list_item.class.to_s == item.class.to_s and list_item.id == item.id)\n  971          return true\n  972        end\n  ...\n  989        listchildren = center_item.related(item_type)\n  990        # if you have complete view right over a space you can see all what's inside it', on an user's profile you don't see private spaces\n  991:       listchildren[:children] = listchildren[:children].select{|item| item.preview_available_for?(current_user)} if (listchildren[:children] and center_item.class.to_s=='User')\n  992  \n  993        if(listchildren[:children])\n  ...\n  999        # get list for users\n 1000        # for now there are no links for users, only permissions\n 1001:       if (item_type=='user' and (center_item.class.to_s=='User' or center_item.spacetype=='group'\\\n 1002          or center_item.spacetype == 'portal'))\n 1003          permissions= center_item.permissions_list_for(current_user)\n\n/Users/boos/code/graasp/app/controllers/linkages_controller.rb:\n   27      end\n   28      @item_from_id = @item_from.id unless @item_from.nil?\n   29:     suggest_link_types (@item_from.class.to_s) unless @item_from.nil?\n   30      render :update do |page|\n   31        page.call \"ToggleById\", 'linkitemscentralview'\n\n/Users/boos/code/graasp/app/controllers/notifications_controller.rb:\n   64     find_item4a\n   65     not_guest_user?\n   66:    raise message_for_space_or_profile(@item4a.class.to_s,\" editors\") if @item4a.editable_by?(current_user)==false\n   67  \n   68     # send emails to members\n   ..\n   82     find_item4a\n   83     not_guest_user?\n   84:    raise message_for_space_or_profile(@item4a.class.to_s,\" editors\") if @item4a.editable_by?(current_user)==false\n   85     email_addresses = @item4a.mailing_list\n   86     # email_addresses = @item4a.mailing_list_except(current_user)\n\n/Users/boos/code/graasp/app/controllers/permissions_controller.rb:\n    6      check_if_space_is_group_space(@item4a)\n    7      output=[]\n    8:     raise t(\"error.sorry_public_profiles_cant_be_changed_back_to_hidden\") if (@item4a.visibility_level==1 and @item4a.class==User)\n    9:     raise t(\"error.privacy_inherited_from_parent_space\") if (@item4a.class!=Space and @item4a.class!=User)\n   10      raise t(\"error.only_usertype_can_change_privacy\",:usertype => message) if (@item4a.has_owner?(current_user)==false)\n   11      @item4a.visibility_level=params[:visibility_level]\n   ..\n   22      output=[]\n   23      before_anything\n   24:     raise t(\"error.can_invite_only_to_your_spaces\") if (@item4a.class.to_s!='Space') # prevents adding people to profile pages\n   25  \n   26      check_if_space_is_group_space(@item4a)\n   ..\n   31        raise t(\"error.only_usertype_can_grant_right\",:usertype => \"space owners\") if (@item4a.has_owner?(current_user)==false)\n   32  \n   33:       @permission= Permission.new(:user_id => @user.id, :status => 'pending', :item_id => @item4a.id, :item_type => @item4a.class.to_s, :right_type => params[:right_type], :initiator_user_id => current_user.id)\n   34        @permission.status='joined'  if (current_user.id==@user.id && @item4a.has_owner?(current_user))\n   35  \n   ..\n   40        UserNotifier.deliver_send_email_notification_on_shared_items(current_user, @user, @item4a, nil)\n   41  \n   42:       Activity.log(current_user.id, \"invite\", \"User\", @permission.user.id, @permission.item.class.to_s, @permission.item.id)\n   43     end\n   44  \n   ..\n   61  \n   62         # send notification emails to space owners\n   63:        if @item4a.class.to_s == 'Space'\n   64           send_joining_email(@permission.user,@item4a)\n   65         end\n   ..\n   69         message_subject=(@permission.user_id==current_user.id) ? t(\"words.you\")+\" \" : @permission.user.name+\" \"\n   70  \n   71:        if @item4a.class.to_s=='Space'\n   72           message_append= (@permission.user_id==current_user.id) ? t(\"notice.are_member_of_space\")+' ' + @item4a.name : t(\"notice.is_member_of_space\")+' ' + @item4a.name\n   73         else\n   ..\n   79  \n   80         # save join activity\n   81:        Activity.log(@permission.user.id, \"join\", @item4a.class.to_s, @item4a.id)\n   82       end\n   83  \n   ..\n  127  \n  128      # save the activity of removing a user from a space\n  129:     Activity.log(current_user.id, \"delete\", \"User\", @permission.user.id, @permission.item.class.to_s, @permission.item.id)\n  130  \n  131      respond_to do |format|\n  ...\n  142      @permission.destroy\n  143      # # save leave activity\n  144:     #     Activity.log(current_user.id, \"leave\", item.class.to_s, item.id)\n  145  \n  146      output={:i4a => item.basic_json_representation(current_user), :message => t(\"invitation.goodbye\")}\n  ...\n  154    def get_access_list\n  155      find_item4a\n  156:     raise t(\"error.can_get_access_list_to_spaces_where_you_have_access\") if (@item4a.class.to_s!='Space' and @item4a.class.to_s!='User')\n  157      raise t(\"error.only_usertype_can_see_access_list\",:usertype => message) if (@item4a.has_viewer?(current_user)==false)\n  158  \n  ...\n  168    def request_or_confirm_permission\n  169      before_anything\n  170:     raise t(\"error.choose_space_to_join\") if (@item4a.class.to_s!='Space') # prevents adding people to profile pages\n  171  \n  172      check_if_space_is_group_space(@item4a)\n  173      control_previewer_right?(@item4a)\n  174  \n  175:     message_end= @item4a.class.to_s=='Space' ? t(\"words.space_owners\") : t(\"words.profile_owner\")\n  176:     positive_message = @item4a.class.to_s =='Space' ? t(\"notice.you_joined_space_name\",:name => @item4a.name) : t(\"notice.you_were_added_to_pad_name\",:name => @item4a.name)\n  177  \n  178:     permission=Permission.find(:first, :conditions => ['item_id =? and item_type = ? and user_id =?', @item4a.id,@item4a.class.to_s, current_user.id])\n  179  \n  180      if (!permission.nil? and permission.initiator!=current_user)  # invitation was sent by an owner previously and now user is confirmation\n  ...\n  182  \n  183        # send notification emails to space owners\n  184:       if @item4a.class.to_s == 'Space'\n  185          send_joining_email(current_user, @item4a)\n  186        end\n  187  \n  188        # save join activity\n  189:       Activity.log(current_user.id, \"join\", @item4a.class.to_s, @item4a.id)\n  190  \n  191        output={:message => positive_message, :i4a => permission.item.basic_json_representation(current_user)} if permission.save\n  ...\n  196        message=t(\"notice.request_sent_to_name\",:name => message_end)\n  197        UserNotifier.deliver_send_email_for_join_request(current_user, @item4a)\n  198:       Activity.log(current_user.id, \"request-join\", @item4a.class.to_s, @item4a.id)\n  199  \n  200:       permission= Permission.new(:user_id => current_user.id, :status => status, :item_id => @item4a.id, :item_type => @item4a.class.to_s, :right_type => 1, :initiator_user_id => current_user.id)\n  201        output={:message => message, :i4a => permission.item.basic_json_representation(current_user)} if permission.save\n  202  \n  ...\n  223  \n  224      # save invite-remind activity\n  225:     Activity.log(@permission.initiator.id, \"invite-remind\", \"User\", @permission.user.id, @permission.item.class.to_s, @permission.item.id)\n  226  \n  227      output = {}\n  ...\n  263      clip = Favorite.find(:first, :conditions => \"user_id = #{current_user.id} and\n  264          item3a_id = #{@item4a.id} and\n  265:         item3a_type = '#{@item4a.class.to_s}' and\n  266          category='clipboard'\")\n  267      if !clip\n  268:       clip = Favorite.create!(:user_id => current_user.id, :item3a_id => @item4a.id, :item3a_type => @item4a.class.to_s, :category => \"clipboard\")\n  269        # add clipboard specific fields to item4a\n  270        output[:i4a][:fav_id] = clip.id\n  ...\n  276  \n  277    def message\n  278:     (@item4a.class == User) ? t(\"words.profile_owner\") : t(\"words.space_members\")\n  279    end\n  280  \n\n/Users/boos/code/graasp/app/controllers/proxy_controller.rb:\n   27        raise t(\"error.item_url_doesnt_exist\")\n   28        else\n   29:         redirect_to $server_website_url + \"/#item=\" + s.class.to_s.downcase + \"_\" + s.id.to_s\n   30        end\n   31      end\n\n/Users/boos/code/graasp/app/controllers/ratings_controller.rb:\n    8      control_salt_right?\n    9  \n   10:     rating = Rating.find(:first,:conditions => [\"initiator_user_id = ? and item_id = ? and item_type = ?\", current_user.id, @item4a.id, @item4a.class.to_s.capitalize])\n   11  \n   12      if rating.nil?\n   13        new_rating = Rating.create!(:initiator_user_id => current_user.id,:item_id => @item4a.id,\n   14:         :item_type => @item4a.class.to_s.capitalize, :rate => params[:rated], :private => params[:private],\n   15          :anonymous => params[:anonymous])\n   16        Activity.log(current_user.id, \"add\", \"Rating\", new_rating.id, new_rating.item_type, new_rating.item_id)\n   ..\n   33      before_anything # very descriptive name of the method\n   34  \n   35:     rating =  Rating.find(:first,:conditions => [\"initiator_user_id = ? and item_id = ? and item_type = ?\", current_user.id, @item4a.id, @item4a.class.to_s])\n   36  \n   37      if rating.editable_by_user?(current_user)\n   ..\n   53      control_viewer_right?\n   54  \n   55:     output = {\"value\" => Rating.average_rating(@item4a.id, @item4a.class.to_s), \"quantity\" => Rating.count_rating(@item4a.id, @item4a.class.to_s), \"rated\" =>false, \"rating\" => 0}\n   56:     rating = Rating.find(:first,:conditions => [\"initiator_user_id = ? and item_id = ? and item_type = ?\",current_user.id,@item4a.id, @item4a.class.to_s])\n   57      if rating\n   58        output[\"rated\"] =  true\n   ..\n   68        # add rating added by the current user\n   69        rating = Rating.find(:first, :conditions => [\"initiator_user_id = ? and item_id = ? and item_type = ?\",\n   70:                                                    current_user.id, @item4a.id, @item4a.class.to_s])\n   71        if rating\n   72          output = {\"value\" => rating.rate, \"quantity\" => 1, \"rated\" => true, \"rating\" => rating.rate}\n   ..\n   88      d = Array.new(5){ Hash.new }\n   89      d.each_index do |x|\n   90:       d[x][\"quantity\"] = Rating.count_rating_by_rate(@item4a.id,@item4a.class.to_s, x+1)\n   91        d[x][\"stars\"] = (x+1).to_s+\"stars\"\n   92      end\n   ..\n  106        # add rating added by the current user\n  107        rating = Rating.find(:first, :conditions => [\"initiator_user_id = ? and item_id = ? and item_type = ?\",\n  108:         current_user.id, @item4a.id, @item4a.class.to_s])\n  109  \n  110        if rating\n  ...\n  130      d = Array.new(5){ Hash.new }\n  131      d.each_index do |x|\n  132:       d[x][\"quantity\"] = Rating.count_anonymous_rating_by_rate(@item4a.id,@item4a.class.to_s, x+1)\n  133        d[x][\"stars\"] = (x+1).to_s+\"stars\"\n  134      end\n  ...\n  148        # add rating added by the current user\n  149        rating = Rating.find(:first, :conditions => [\"initiator_user_id = ? and item_id = ? and item_type = ?\",\n  150:                                                    current_user.id, @item4a.id, @item4a.class.to_s])\n  151  \n  152        if rating\n  ...\n  156      end\n  157  \n  158:     rating = Rating.find(:all, :conditions => [\"item_id = ? and item_type = ? and anonymous = '0' and private = '0'\",@item4a.id, @item4a.class.to_s],\n  159                :select => \"initiator_user_id, rate\")\n  160      list = []\n  ...\n  173        # add rating added by the current user\n  174        rating = Rating.find(:first, :conditions => [\"initiator_user_id = ? and item_id = ? and item_type = ?\",\n  175:                                                    current_user.id, @item4a.id, @item4a.class.to_s])\n  176        if rating\n  177          list.push({\"user name\" => current_user.name, \"rate\" => rating.rate})\n\n/Users/boos/code/graasp/app/controllers/recommendations_controller.rb:\n    8      s=Space.find(:first, :conditions => ['name= ?', \"Welcome Space\"])\n    9      # hack to have a special list for guest\n   10:     if((item4a.id == User.guest_id or (!s.nil? and s.initiator_user == item4a)) and item4a.class.to_s == \"User\") or (!s.nil? and s.id == item4a.id and item4a.class.to_s == \"Space\")\n   11        recommendations = get_default_list\n   12      else\n   ..\n  137    #     # center item should be added to the list too\n  138    #     # since we don't want recommendations to include it\n  139:   #     if(center_item.class.to_s.downcase == type)\n  140    #       list[center_item.id.to_s] = center_item.id\n  141    #     end\n\n/Users/boos/code/graasp/app/controllers/search_controller.rb:\n  208  \n  209  \n  210:     if (newresults.nil? or newresults.empty? or newresults.class==String) # worker didn't find the @builder object and couldn't retrieve similar items\n  211         # or newresults.empty?: nothing similar is found\n  212         if list.find_index(\"asset\")\n  ...\n  229         #         if(item)\n  230         #           i = item.basic_json_representation(current_user)\n  231:        #           results[item.class.to_s.downcase] << i unless results[item.class.to_s.downcase].include?(i)\n  232         #         end\n  233         #       end\n\n/Users/boos/code/graasp/app/controllers/sessions_controller.rb:\n   83      session[:email]= params[:email]\n   84      item_string =  @temp_session_return_to.split(\"/#item=\")[1] unless @temp_session_return_to.nil?\n   85:     welcome_space = $welcome_space.class.to_s.downcase.concat(\"_\") + $welcome_space.id.to_s unless $welcome_space.nil?\n   86      session[:return_to] =  @temp_session_return_to unless (item_string.nil? == true or item_string == welcome_space)# copy session to return to to user unless last visited page is welcome space\n   87  \n\n/Users/boos/code/graasp/app/controllers/spaces_controller.rb:\n  175      not_guest_user?\n  176      @center = find_item4a_by(\"Space\", params[:space_id])\n  177:     raise message_for_space_or_profile(@center.class.to_s,\" \"+t(\"words.contributors\")) if @center.editable_by?(current_user)==false\n  178  \n  179      # update default skin for a space\n  ...\n  194      not_guest_user?\n  195      @center = find_item4a_by(\"Space\", params[:space_id])\n  196:     raise message_for_space_or_profile(@center.class.to_s,\" \"+t(\"words.contributors\")) if @center.editable_by?(current_user)==false\n  197  \n  198      # validate that params[:func_skin_url] is a url\n  ...\n  225      not_guest_user?\n  226      @center = find_item4a_by(\"Space\", params[:space_id])\n  227:     raise message_for_space_or_profile(@center.class.to_s,\" \"+t(\"words.contributors\")) if @center.editable_by?(current_user)==false\n  228      func_skin = FunctionalSkin.find(params[:func_skin_id])\n  229      func_skin.destroy\n\n/Users/boos/code/graasp/app/controllers/taggings_controller.rb:\n   17         @tag = Tag.create(:private_tag => false, :initiator_user_id => current_user.id, :name => tagname) if @tag.nil?\n   18          if !@tag.id.nil?\n   19:             @tagging = Tagging.create(:item_id =>  @item4a.id, :item_type => @item4a.class.to_s, :tag_id => @tag.id, :initiator_user_id => current_user.id, :private_tagging => false)\n   20              if @tagging.id.nil?\n   21                raise t(\"error.item_already_exist\",:item => t(\"words.tag\"))\n\n/Users/boos/code/graasp/app/controllers/users_controller.rb:\n  131    #\n  132    #   # save invitation activity\n  133:   #   # Activity.log(current_user.id, \"invite\", \"User\", @user.id, @context.class.to_s, @context.id)\n  134    #\n  135    #   respond_to do |format|\n  136    #      if (!@user.nil?)\n  137:   #        p=Permission.new(:item_id => @context.id , :item_type => @context.class.to_s, :user_id => @user.id, :initiator_user_id => current_user.id, :right_type => 1, :status =>'pending')\n  138    #        raise t(\"error.item_already_exist\",:item => t(\"words.person\")) if !p.save\n  139    #        message=t(\"notice.invitation_sent\")+\"<br>\"+t(\"email.spam_notice\")\n  ...\n  148    #        output[:message]=message\n  149    #\n  150:   #       link = Link.create(:link_type_id => LinkType.default_link.id, :initiator_user_id => current_user.id , :private_link => false, :source_id =>  @user.id, :destination_id => @context.id, :source_type => 'User', :destination_type => @context.class.to_s)\n  151    #      end\n  152    #\n  ...\n  189  \n  190        # save invitation activity\n  191:       Activity.log(current_user.id, \"invite\", \"User\", @user.id, @context.class.to_s, @context.id)\n  192  \n  193        if (!@user.nil?)\n  194:         p=Permission.new(:item_id => @context.id , :item_type => @context.class.to_s, :user_id => @user.id, :initiator_user_id => current_user.id, :right_type => 1, :status =>'pending')\n  195          raise t(\"error.item_already_exist\",:item => t(\"words.person\")) if !p.save\n  196          if(message == \"\")\n  ...\n  394      result = {}\n  395      result[:item4a_id] = item.id\n  396:     result[:item4a_type] = item.class.to_s.downcase\n  397      result[:item4a_name] = item.name\n  398      result[:item4a_initiator] = find_item4a_by('User', item.initiator_user_id).name\n  ...\n  454      items = news @item4a\n  455      @pad_list = format_item4a_for_rss(items)\n  456:     @page_title =  @item4a.class.to_s + \" \" + @item4a.name\n  457  \n  458      render(:layout => 'widget', :template => 'item3a/item4a_html.erb', :content_type => Mime::HTML)\n  ...\n  471      end\n  472  \n  473:     @page_title =  @item4a.class.to_s + \" \" + @item4a.name\n  474  \n  475      render(:layout => false, :template => 'item3a/item4a.os.rxml', :content_type => Mime::XML)\n\n/Users/boos/code/graasp/app/controllers/widgets/google_gadget_controller.rb:\n  118  \n  119          pref.item_id = parent.id\n  120:         pref.item_type = parent.class.to_s\n  121          pref.name = p_name\n  122          pref.value = p_value\n  ...\n  144      parent = gadget.widget.parent\n  145      owner_id = parent.id.to_s\n  146:     if(parent.class.to_s == \"User\")\n  147        prefix = \"\" # no prefix for user anymore\n  148      else\n\n/Users/boos/code/graasp/app/models/act.rb:\n   13  \n   14    def users_to_notify # related to resource and notification preferences for this resource exists\n   15:     if(resource.class == User)\n   16        users = resource.related_users_more_than_sharing_public_items\n   17:     elsif(resource.class == Asset)\n   18        users = resource.users\n   19:     elsif((resource.class == Deliverable or resource.class == Role) and !resource.space.nil?)\n   20        users = resource.space.members_except_guest\n   21:     elsif (resource.class == Space) or ( resource.class == Role and resource.is_everyone_role?)\n   22        users = resource.members_except_guest\n   23      end\n   ..\n   50      pronoun = (self.resource == self.initiator and !self.resource.is_guest_user?) ? \" \" + self.initiator.pronoun_object :  \" \"\n   51      initiator_name = (initiator.is_guest_user?) ? \" A guest visitor\" : initiator.name\n   52:     if (self.resource.class == User)\n   53        object_name_and_presentation = (resource.is_guest_user?) ? \"the Graaasp guest page\" : \"profile page\"\n   54        resource_link = resource\n   55:     elsif (resource.class== Space)\n   56:       label = (resource.type_name.nil?) ? resource.class.to_s : \" the space of the \" + resource.type_name  # don't use resource.label in this case' cos we want to add \"the space of the\"\n   57        object_name_and_presentation =  \"the \" + label + \" '\" + resource.name + \"'\"\n   58        resource_link = resource\n   59:     elsif (resource.class == Asset)\n   60        object_name_and_presentation = \"the \" + resource.label  + \" '\" + resource.name + \"'\"\n   61        resource_link = resource\n   62:     elsif ((resource.class == Deliverable or resource.class == Role) and (!resource.space.nil?))\n   63        space = resource.space\n   64:       resource_link = (resource.class == Role) ? space : resource # for deliverable they can be put in the center\n   65:       object_name_and_presentation = \"the \" + resource.class.to_s + \" '\" + resource.name + \"' of the \" +   space.label  + \" '\" + space.name + \"'\"\n   66      end\n   67      message =  initiator_name + \" has \" + action + pronoun + object_name_and_presentation + \", \" +   time.strftime(\"on %m/%d/%Y\") + time.strftime(\" at %I:%M%p.\") if object_name_and_presentation\n   68:     message += \"\\r\\r\" + $server_website_url+ \"context/\" + resource_link.class.to_s.downcase + \"/\" + resource_link.id.to_s\n   69    end\n   70  \n\n/Users/boos/code/graasp/app/models/act_observer.rb:\n    2  \n    3    def after_create(act)\n    4:     return if (act.message.nil? or act.act_type == 1 or (act.resource.class == User and act.resource.is_agent == true)) # for reading we don't send for now, up until we discuss exactly what to send on that, clicking is not enough..'\n    5:     EventsNotification.prepare_notifications(act.users_to_notify,\"News on the \" + act.resource.class.to_s + \" \" + act.resource.name, act.message, act.resource, act.act_type)\n    6    end\n    7  \n\n/Users/boos/code/graasp/app/models/activity.rb:\n   31      between = []\n   32      items << initiator.name\n   33:     item_urls << initiator.class.to_s.downcase + \"_\" + initiator.id.to_s\n   34      return if object.nil? or initiator.nil?\n   35  \n   ..\n   37        when 1 # add\n   38          if !destination.nil?\n   39:           if(destination.class.to_s != \"Favorite\")\n   40              users_to_notify = destination.members\n   41              users_to_notify.delete(initiator)\n   ..\n   44          return if destination.nil?\n   45          # TO DO :Add notification preferences conditions\n   46:         if(container.include?(destination.class.to_s) and (saw.include?(object.class.to_s) or object.class.to_s=='Link')) # Add space/asset/widget to Pad or Link to Pad- to all members except the initiator\n   47            between << \" \" + I18n.t('words.added').downcase + \" \"\n   48:           # \" the \" + \" \" + I18n.t('words.' + object.class.to_s)\n   49:           if(object.class.to_s == 'Link')\n   50              # message += 'a link to'  to put or not?\n   51              object = object.source # get the actual item being linked\n   52            end\n   53            items << object.name.to_s # the posted item\n   54:           item_urls <<  object.class.to_s.downcase  + \"_\" + object.id.to_s\n   55            between << \" \" + I18n.t('words.to').downcase  + \" \"\n   56            items << destination.name.to_s # the item\n   57:           item_urls <<  destination.class.to_s.downcase + \"_\" + destination.id.to_s\n   58:         elsif (object.class.to_s == 'Comment')\n   59            item = object.item\n   60            between << \" \" + I18n.t('words.commented_on') + \" \"\n   61            items << item.name.to_s # the tagged item\n   62:           item_urls <<  item.class.to_s.downcase + \"_\" + item.id.to_s\n   63:         elsif (object.class.to_s == 'Tagging')# tagging # all members except initiator\n   64            item = object.item\n   65            between << \" \" + I18n.t('words.described') + \" \"\n   66            items << item.name.to_s # the tagged item\n   67:           item_urls <<  item.class.to_s.downcase + \"_\" + item.id.to_s\n   68            between << \" \" + I18n.t('words.with')  + \" \" + object.name.to_s  # the tag\n   69  \n   70:         elsif (object.class.to_s == 'Rating' and object.private ==false) # tagging  # all members except initiator\n   71            if object.anonymous==true  # checking rating type\n   72              items[0] = I18n.t('words.someone')\n   ..\n   76            between << \" \" + I18n.t('words.rated') + \" \"\n   77            items << item.name.to_s\n   78:           item_urls <<  item.class.to_s.downcase + \"_\" + item.id.to_s\n   79            between << \" \" + I18n.t('words.with') + \" \"+ object.rate.to_s + \"/5\"\n   80          else\n   ..\n   86          between << \" \" + I18n.t('words.invited_you_to_join') + \" \"\n   87          items << destination.name.to_s # the  space\n   88:         item_urls <<  destination.class.to_s.downcase + \"_\" + destination.id.to_s\n   89  \n   90        when 5 # request-join  Request to join a space - to the owner\n   ..\n   94          between << \" \" + I18n.t('words.requested_to_join') + \" \"\n   95          items << object.name.to_s # the  requested space\n   96:         item_urls <<  object.class.to_s.downcase + \"_\" + object.id.to_s\n   97  \n   98        when 6 # join Join a space - to all members\n   ..\n  102          between << \" \" + I18n.t('words.joined') + \" \"\n  103          items << object.name.to_s # the joined space\n  104:         item_urls <<  object.class.to_s.downcase + \"_\" + object.id.to_s\n  105  \n  106        when 3 # TODO: invite-remind   Send an invitation reminder - to the person invited\n  ...\n  108          between << \" \" + I18n.t('email.remind_invitation') + \" \"\n  109          items << destination.name.to_s # the joined space\n  110:         item_urls <<  destination.class.to_s.downcase + \"_\" + destination.id.to_s\n  111  \n  112        when 2 # # TODO: update   #   Update 4A description, Update rating - to the owner\n  113:         if (object.class.to_s == 'Rating')\n  114            if (object.private ==false) # tagging  # all members except initiator\n  115              item = object.item # get the rated item\n  ...\n  117              between << \" \" + I18n.t('words.changed_the_rating_for') + \" \"\n  118              items << item.name.to_s\n  119:             item_urls <<  item.class.to_s.downcase + \"_\" + item.id.to_s\n  120              # commented because sometimes it is the rate type that is changed and not the value itself\n  121              # between << \" \" + I18n.t('words.to').downcase + \" \"+ object.rate.to_s + \"/5\"\n  ...\n  127             users_to_notify = object.members\n  128             items << object.name.to_s # the joined space\n  129:            item_urls <<  object.class.to_s.downcase + \"_\" + object.id.to_s\n  130          end\n  131          users_to_notify.delete(initiator)\n\n/Users/boos/code/graasp/app/models/asset.rb:\n  184  \n  185    def label # for messages or display take the type and if not existant it puts \"Asset\"\n  186:     (type_name.nil?) ? self.class.to_s : self.type_name\n  187    end\n  188  \n\n/Users/boos/code/graasp/app/models/events_notification.rb:\n   10  \n   11    def self.prepare_notifications(users, subject, message, resource, event_type)\n   12:     e = EventsNotification.create(:resource_id => resource.id, :resource_type => resource.class.to_s, :message_body => \"- \" + message + \"\\r\\r\") unless users.empty?\n   13      for user in users\n   14        PerUserNotification.create(:user => user, :events_notification_id => e.id)\n   15:       EventsNotificationNotifier.deliver_notification_email(user, subject, message) if (user.preference_on_resource_type_and_event?(resource.class.to_s,event_type))\n   16      end\n   17    end\n\n/Users/boos/code/graasp/app/models/item3a_extension.rb:\n  106        #url_alias can be nil or blank\n  107        return if(self.url_alias.nil? or self.url_alias.blank?)\n  108:       item = self.class.find_item_by_alias(self.url_alias)\n  109        # raise error if item with same url_alias already exists and is not equal to self\n  110        raise(\"Item alias is already taken\") if (!item.nil? and item!=self)\n  ...\n  118          item_for_permission.viewerships.collect{|p| p.user}\n  119        else\n  120:         (item_for_permission.class=='Space' and item_for_permission.visibility_level!=1) ? item_for_permission.confirmed_viewers : item_for_permission.viewers\n  121        end\n  122      end\n  ...\n  126          item_for_permission.editorships.collect{|p| p.user}\n  127        else\n  128:         (item_for_permission.class=='Space' and item_for_permission.visibility_level!=1) ? item_for_permission.confirmed_editors : item_for_permission.editors\n  129        end\n  130      end\n  ...\n  134          item_for_permission.ownerships.collect{|p| p.user}\n  135        else\n  136:         (item_for_permission.class=='Space' and item_for_permission.visibility_level!=1) ? item_for_permission.confirmed_owners : item_for_permission.owners\n  137        end\n  138      end\n  ...\n  152      def has_access?(user)\n  153  \n  154:       user_has_access = Permission.exists?(:item_type => self.class.to_s, :item_id => self.id, :user_id => user.id)\n  155  \n  156        return user_has_access\n  ...\n  164      def related_temp(items3a_classname)\n  165        # return array of hashes (:link, :item3a)\n  166:       (self.incoming_links.select{|link| link.source.class.to_s==items3a_classname}.collect{|link| {:i3a => link.source, :link_id => link.id, :initiator_user_id => link.initiator_user_id}})\n  167:       # self.outgoing_links.select{|link| link.destination.class.to_s==items3a_name}.collect{|link| link.destination} | (self.incoming_links.select{|link| link.source.class.to_s==items3a_name}.collect{|link| link.source})\n  168      end\n  169  \n  170      def related_temp_for(items3a_classname, current_user)\n  171:       (self.incoming_links.select{|link| (link.source.class.to_s==items3a_classname and link.source.item_for_permission.preview_available_for?(current_user)==true)}.collect{|link| {:i3a => link.source, :link_id => link.id, :initiator_user_id => link.initiator_user_id}})\n  172      end\n  173  \n  ...\n  189      def link_to(center, current_user_id)\n  190        raise \"No center element specified\" if center.nil?\n  191:       Link.create(:source_id => self.id, :source_type =>  self.class.to_s, :destination_type =>center.class.to_s, :destination_id => center.id, :initiator_user_id => current_user_id )\n  192      end\n  193  \n  ...\n  195      def is_linked_to?(center)\n  196        raise \"No center element specified\" if center.nil?\n  197:       item = Link.find(:first, :conditions => [\"source_type ='#{self.class.to_s}' and source_id =#{self.id}  and destination_id=? and destination_type =?\", center.id,center.class.to_s])\n  198        return (item.nil? ? false : true)\n  199      end\n  ...\n  201      def is_inside_pad?(center)\n  202        raise \"No center element specified\" if center.nil?\n  203:       item = Sequence.find(:first, :conditions => [\"item_type ='#{self.class.to_s}' and item_id =#{self.id}  and parent_id=? and parent_type =?\", center.id,center.class.to_s])\n  204        return (item.nil? ? false : true)\n  205      end\n  ...\n  217      def build_tree(tree, current_user)\n  218  \n  219:       tree << {:id => self.id, :type => self.class.to_s.downcase, :name => self.name, :alias => self.url_alias}\n  220  \n  221:       if (self.class.to_s == \"User\" or self.parent.preview_available_for?(current_user) == false\\\n  222:         or (self.class.to_s == \"Space\" and self.is_portal?()))\n  223          return\n  224        else\n  ...\n  232    # it can be the item itself or one of its parrent items\n  233    def item_for_permission\n  234:     if (self.class.to_s == 'User')\n  235        perm_item = self\n  236  \n  237:     elsif (self.class.to_s == 'Space')\n  238        # children spaces of type \"folder\", inherit permissions from their parent\n  239        # children spaces of type \"group\", have their own permission policy\n  240        perm_item = (!self.parent.nil? and self.spacetype=='folder') ? self.parent.item_for_permission : self\n  241  \n  242:     elsif (self.class.to_s == 'Asset' or self.class.to_s == 'Widget')\n  243        perm_item = self.parent.nil? ? self : self.parent.item_for_permission\n  244  \n  ...\n  274      check_on_item = self.item_for_permission\n  275  \n  276:     if (check_on_item.class.to_s == 'User' and check_on_item.id == user.id)\n  277        item_is_saltable = true\n  278      else\n  ...\n  308  \n  309    def requires_invitee_confirmation_for?(user)\n  310:     permission = Permission.find(:first, :conditions => [\"status='pending' and user_id=? and item_id=? and item_type=?\", user.id, self.item_for_permission.id, self.item_for_permission.class.to_s])\n  311      return true if (!permission.nil? and permission.status=='pending' and permission.initiator!=user) # user didn't ask, now he should confirm\n  312      return false\n  ...\n  314  \n  315    def requires_owner_confirmation_for?(user)\n  316:     permission = Permission.find(:first, :conditions => [\"status='pending' and user_id=? and item_id=? and item_type=?\", user.id, self.item_for_permission.id, self.item_for_permission.class.to_s])\n  317      return true if (!permission.nil? and permission.status=='pending' and permission.initiator==user) # request doesn't come from any current owner but from user, then they should confirm\n  318      return false\n  ...\n  356  \n  357    def permission_id_for(user_id)\n  358:     a=Permission.find(:first, :conditions => ['user_id = ? and item_type = ? and item_id= ? ', user_id, self.class.to_s, self.id])\n  359      return (a.nil? ? nil : a.id)\n  360    end\n  ...\n  373    def initiator_user\n  374      # for users and items whose initiators left graaasp, we display the first owner\n  375:     person = (self.class.to_s!='User' and self.initiator) ? self.initiator : self.owners.first\n  376    end\n  377  \n  378    def name_editable_by?(user)\n  379:     if (self.class.to_s=='space')\n  380        return has_owner?(user)\n  381      else\n  ...\n  391      # for space, asset and widgets living in clipboard and user is not the clipboard owner\n  392      # careful: items living in clipboard have as parent the clipboard owner ( as done by Evgeny)\n  393:     return (self.class.to_s != 'User' and self.in_clipboard == true and current_user != self.parent)\n  394    end\n  395  \n  ...\n  400      item3a_new = {}\n  401  \n  402:     item3a_new[:type] = self.class.to_s.downcase # call to spaces table\n  403      item3a_new[:id] = id\n  404      item3a_new[:alias] = url_alias\n  ...\n  452  \n  453      # add \"parent\" field to user, space, asset and widget, the parent of an user is the user itself\n  454:     if(self.class.to_s.downcase == \"user\")\n  455        item3a_new[:parent] = {:id => id, :type =>\"user\", :name => name}\n  456      else\n  457:       i3a_parent = find_parent(self.class.to_s.downcase,id)\n  458:       item3a_new[:parent] = {:id => i3a_parent.id, :type => i3a_parent.class.to_s.downcase, :name => i3a_parent.name}\n  459      end\n  460  \n  ...\n  463  \n  464    def picture_url(size)\n  465:     i4a_type = self.class.to_s.downcase\n  466      nsize= size.nil? ? \"medium\" : size\n  467      url=\"/images/pics/\"+i4a_type+\"_\"+nsize+\".png\"\n  ...\n  496        # we do not need full path normally\n  497        # image_path = $server_website_url+url_for_file_column(item3a, \"picture\",size)\n  498:       if size==\"full\" and self.class.to_s=='Asset'\n  499          image_path=self.picture_full\n  500        else\n  ...\n  528      hide_rank = false\n  529  \n  530:     if !user.is_guest_user? and self.class.to_s != 'User'\n  531  \n  532        user_is_initiator = (self.initiator_user_id == user.id)\n\n/Users/boos/code/graasp/app/models/mailman.rb:\n   99      default_format = Item3aFormat.find(:first, :conditions => \"name = 'default' and item = 'Asset'\").id\n  100      asset = Asset.new(:name => asset_name, :description => mail_body, :initiator_user_id => sender.id,\n  101:             :picture =>'', :parent_type => item.class.to_s, :parent_id => item.id, :item3a_format_id => default_format)\n  102  \n  103      if  asset.save\n  104:       Sequence.add_item(asset.id, \"Asset\", item.id, item.class.to_s, \"children\")\n  105      else\n  106        return false # not saved successfully, return\n  ...\n  121          # New the attachment as an asset and bind the attachment into database\n  122          atta_asset = Asset.new(:name => atta_asset_name, :description => atta_asset_desc, :initiator_user_id => sender.id,\n  123:                 :picture =>'', :parent_type => item.class.to_s, :parent_id => item.id, :item3a_format_id => default_format)\n  124  \n  125          if  atta_asset.save\n  126:           Sequence.add_item(atta_asset.id, \"Asset\", item.id, item.class.to_s, \"children\")\n  127            attachment = Attachment.create(:uploaded_data => atta, :asset_id => atta_asset.id)\n  128          end\n\n/Users/boos/code/graasp/app/models/relation_recommender.rb:\n   60  \n   61  #     # for u in users\n   62: #     #   # raise \"Please choose a target user\" if(target.nil? or target.class.to_s!='User')\n   63  #     #    RelationRecommender.compute_rankings(g,u,nil) unless u.is_guest_user?\n   64  #     # end\n   ..\n   71  \n   72  #   def RelationRecommender.compute_rankings(g,target, context)\n   73: #     target_node = target.class.to_s + target.id.to_s unless target.nil?\n   74: #     context_node = context.class.to_s + context.id.to_s unless context.nil?\n   75  \n   76  #     bias = target_node.nil? ? context_node : target_node\n   ..\n  118  #           the_id = v.delete(type)\n  119  #           item = Object.const_get(type).find(:first, :conditions => ['id=?', the_id])\n  120: #           Rank.create(:item_id => item.id, :item_type => item.class.to_s , :rank => element.last, :context_type => context.class.to_s, :context_id => context.id) unless item.nil?\n  121  #         end\n  122  #       end\n  ...\n  148  #       favorites = user.favorites\n  149  #       for favorite in favorites\n  150: #         g.update_graph_then_update_weight_vector(0, user.class.to_s + user.id.to_s, favorite.item3a.class.to_s + favorite.item3a.id.to_s, 1)\n  151  #         connected_users << user\n  152: #         connected_users << favorite.item3a if favorite.item3a.class.to_s =='User'\n  153  #       end\n  154  #       # for users\n  ...\n  162  \n  163  #       for comment in user.comments\n  164: #         if (comment.item.class.to_s!='User' or comment.initiator!=comment.item)\n  165: #           g.update_graph_then_update_weight_vector(7, comment.initiator.class.to_s + comment.initiator_user_id.to_s, comment.item_type + comment.item_id.to_s, 1)\n  166  #           connected_users << comment.initiator\n  167  #           connected_users << comment.item if comment.item_type =='User'\n  ...\n  179  \n  180  #      for co in confirmed_ownerships\n  181: #        g.update_graph_then_update_weight_vector(1, space.class.to_s + space.id.to_s, \"User\"+ co.user.id.to_s, 1)\n  182: #        g.update_graph_then_update_weight_vector(1, \"User\"+ co.user.id.to_s, space.class.to_s + space.id.to_s, 1)\n  183  #        connected_users << co.user\n  184  #      end\n  185  #      for ce in confirmed_editorships\n  186: #        g.update_graph_then_update_weight_vector(2, space.class.to_s + space.id.to_s, \"User\"+ ce.user.id.to_s, 1)\n  187: #        g.update_graph_then_update_weight_vector(2, \"User\"+ ce.user.id.to_s,space.class.to_s + space.id.to_s, 1)\n  188  #        connected_users << ce.user\n  189  #      end\n  190  #      for cv in confirmed_viewerships\n  191: #         g.update_graph_then_update_weight_vector(3, space.class.to_s + space.id.to_s, \"User\"+ cv.user.id.to_s, 1)\n  192: #         g.update_graph_then_update_weight_vector(3, \"User\"+ cv.user.id.to_s, space.class.to_s + space.id.to_s, 1)\n  193  #        connected_users << cv.user\n  194  #      end\n  195  #      for pi in pending_invitations\n  196: #        g.update_graph_then_update_weight_vector(4, space.class.to_s + space.id.to_s, \"User\"+ pi.user.id.to_s, 1)\n  197  #        connected_users << pi.user\n  198  #      end\n  ...\n  208  #      for item in items\n  209  #        # item to space\n  210: #        g.update_graph_then_update_weight_vector(5, space.class.to_s + space.id.to_s, item.class.to_s+ item.id.to_s, 1)\n  211: #        g.update_graph_then_update_weight_vector(5, item.class.to_s+ item.id.to_s, space.class.to_s + space.id.to_s, 1)\n  212  \n  213  #        # item to creator if not coauthored\n  214: #        if ((item.initiator == true) and (item.class.to_s=='Widget' or item.coauthored == false))\n  215: #          g.update_graph_then_update_weight_vector(6, item.initiator.class.to_s + item.initiator.id.to_s, item.class.to_s+ item.id.to_s, 1)\n  216: #          g.update_graph_then_update_weight_vector(6, item.class.to_s+ item.id.to_s, item.initiator.class.to_s + item.initiator.id.to_s, 1)\n  217  #          connected_users << item.initiator\n  218  #        end\n\n/Users/boos/code/graasp/app/models/remember_me_token.rb:\n   80      # # Encrypts the password with the user salt\n   81      # def encrypt(password)\n   82:     #   self.class.encrypt(password, salt)\n   83      # end\n   84      #\n\n/Users/boos/code/graasp/app/models/rs_local.rb:\n   35  \n   36  #     for item in all\n   37: #       RsLocal.compute_rankings(item, 3) unless (item.class.to_s =='Actor' and item.is_guest_user?)\n   38  #     end\n   39  #     puts Time.now\n   ..\n   51  #     connected_spaces = []\n   52  #     for space in user.spaces\n   53: #       g.update_graph_then_update_weight_vector(0, space.class.to_s + space.id.to_s, user.class.to_s+ user.id.to_s, 1)\n   54: #       g.update_graph_then_update_weight_vector(0, user.class.to_s+ user.id.to_s, space.class.to_s + space.id.to_s, 1)\n   55  #       connected_spaces << space\n   56  #     end\n   ..\n   61  \n   62  #      for item in similar_items\n   63: #        g.update_graph_then_update_weight_vector(6, user.class.to_s + user.id.to_s, item.class.to_s+ item.id.to_s, 1)\n   64: #        g.update_graph_then_update_weight_vector(6, item.class.to_s+ item.id.to_s, user.class.to_s + user.id.to_s, 1)\n   65  #      end\n   66  \n   ..\n   73  #     # item to creator if not coauthored\n   74  #     # wissam: not sure abt the condition\n   75: #     if ((item.initiator == true) and (item.class.to_s=='Widget' or item.coauthored == false))\n   76: #       g.update_graph_then_update_weight_vector(1, item.initiator.class.to_s + item.initiator.id.to_s, item.class.to_s+ item.id.to_s, 1)\n   77: #       g.update_graph_then_update_weight_vector(1, item.class.to_s+ item.id.to_s, item.initiator.class.to_s + item.initiator.id.to_s, 1)\n   78  #       connected_users << item.initiator\n   79  #     end\n   ..\n   82  \n   83  #       for similar_item in similar_items\n   84: #         g.update_graph_then_update_weight_vector(6, similar_item.class.to_s + similar_item.id.to_s, item.class.to_s+ item.id.to_s, 1)\n   85: #         g.update_graph_then_update_weight_vector(6, item.class.to_s+ item.id.to_s, similar_item.class.to_s + similar_item.id.to_s, 1)\n   86  #       end\n   87  \n   ..\n  101  \n  102  #         for co in confirmed_ownerships\n  103: #           g.update_graph_then_update_weight_vector(1, space.class.to_s + space.id.to_s, \"User\"+ co.user.id.to_s, 1)\n  104: #           g.update_graph_then_update_weight_vector(1, \"User\"+ co.user.id.to_s, space.class.to_s + space.id.to_s, 1)\n  105  #           connected_users << co.user\n  106  #         end\n  107  #         for ce in confirmed_editorships\n  108: #           g.update_graph_then_update_weight_vector(2, space.class.to_s + space.id.to_s, \"User\"+ ce.user.id.to_s, 1)\n  109: #           g.update_graph_then_update_weight_vector(2, \"User\"+ ce.user.id.to_s,space.class.to_s + space.id.to_s, 1)\n  110  #           connected_users << ce.user\n  111  #         end\n  112  #         for cv in confirmed_viewerships\n  113: #            g.update_graph_then_update_weight_vector(3, space.class.to_s + space.id.to_s, \"User\"+ cv.user.id.to_s, 1)\n  114: #            g.update_graph_then_update_weight_vector(3, \"User\"+ cv.user.id.to_s, space.class.to_s + space.id.to_s, 1)\n  115  #            connected_users << cv.user\n  116  #         end\n  117  #         for pi in pending_invitations\n  118: #           g.update_graph_then_update_weight_vector(4, space.class.to_s + space.id.to_s, \"User\"+ pi.user.id.to_s, 1)\n  119  #           connected_users << pi.user\n  120  #         end\n  ...\n  124  #         #inner spaces\n  125  #         for space_1 in space.spaces\n  126: #            g.update_graph_then_update_weight_vector(5, space.class.to_s + space.id.to_s, space_1.class.to_s + space_1.id.to_s, 1)\n  127: #            g.update_graph_then_update_weight_vector(5, space_1.class.to_s + space_1.id.to_s, space.class.to_s + space.id.to_s, 1)\n  128  #            connected_spaces << space_1\n  129  #         end\n  ...\n  135  \n  136  #         for item in similar_items\n  137: #           g.update_graph_then_update_weight_vector(6, space.class.to_s + space.id.to_s, item.class.to_s+ item.id.to_s, 1)\n  138: #           g.update_graph_then_update_weight_vector(6, item.class.to_s+ item.id.to_s, space.class.to_s + space.id.to_s, 1)\n  139  #         end\n  140  \n  ...\n  145  #         for item in items\n  146  #           # item to space\n  147: #           g.update_graph_then_update_weight_vector(7, space.class.to_s + space.id.to_s, item.class.to_s+ item.id.to_s, 1)\n  148: #           g.update_graph_then_update_weight_vector(7, item.class.to_s+ item.id.to_s, space.class.to_s + space.id.to_s, 1)\n  149  #           # for assets and widgets\n  150  #           # for comment in item.comments\n  ...\n  160  \n  161  #   def RsLocal.get_children(g, item)\n  162: #     if (item.class.to_s == 'Space')\n  163  #      return RsLocal.get_space_children(g, item)\n  164: #     elsif (item.class.to_s == 'Widget' or item.class.to_s == 'Asset')\n  165  #      return RsLocal.get_item_children(g, item)\n  166: #     elsif (item.class.to_s == 'User') # needs implementation\n  167  #       return RsLocal.get_user_children(g, item)\n  168  #     else\n  ...\n  191  \n  192  #         for item in items_to_traverse[iteration]\n  193: #           # puts item.class.to_s + item.id.to_s if iteration > 1\n  194  #           if (all_visited_items.include?(item) == false)\n  195  #             # puts g\n  ...\n  209  #     end\n  210  \n  211: #       context_node= context.class.to_s + context.id.to_s\n  212  #       # count dangling nodes per action, once all graph is constructed\n  213  #       g.set_dangling_nodes_per_action\n  ...\n  250  #             the_id = v.delete(type)\n  251  #             item = Object.const_get(type).find(:first, :conditions => ['id=?', the_id])\n  252: #             Rank.create(:item_id => item.id, :item_type => item.class.to_s , :rank => element.last, :context_type => context.class.to_s, :context_id => context.id) unless item.nil?\n  253  #           end\n  254  #         end\n\n/Users/boos/code/graasp/app/models/semantic_link.rb:\n   59    def visible_to_user(user)\n   60      for item in self.items\n   61:       if item.class==Space and !item.viewable_for_user?(user.id)\n   62          return false\n   63        end\n   64:       if item.class==Asset and user.all_assets.select{|asset| asset.id == item.id}.empty?\n   65          return false\n   66        end\n\n/Users/boos/code/graasp/app/models/sequence.rb:\n   27    def Sequence.get_sequence_for_item4a(item4a, current_user)\n   28  \n   29:     item4a_type = item4a.class.to_s\n   30      item4a_id = item4a.id\n   31      item4a_version = item4a.version\n\n/Users/boos/code/graasp/app/models/space.rb:\n   82  \n   83      item_with_perms = self.item_for_permission\n   84:     user_is_member = Permission.exists?(:item_type => item_with_perms.class.to_s, :item_id => item_with_perms.id, :user_id => user.id,\n   85                                          :status => \"joined\")\n   86      return user_is_member\n   ..\n   97  \n   98      item_with_perms = self.item_for_permission\n   99:     user_is_owner = Permission.exists?(:item_type => item_with_perms.class.to_s, :item_id => item_with_perms.id, :user_id => user.id,\n  100                                         :right_type => 3, :status => \"joined\")\n  101      return user_is_owner\n  ...\n  124  \n  125      item_with_perms = self.item_for_permission\n  126:     user_is_contributor = Permission.exists?(:item_type => item_with_perms.class.to_s, :item_id => item_with_perms.id,\n  127                                               :user_id => user.id, :right_type => 2, :status => \"joined\")\n  128      return user_is_contributor\n  ...\n  143       # assets and apps always belong to a space or a person so need to add a row for them\n  144       # for users,we don't have to as there is always only one owner who is the initiator user_id\n  145:      Permission.create(:item_id => self.id , :item_type => self.class.to_s, :user_id => self.initiator_user_id, :initiator_user_id => self.initiator_user_id, :right_type => 3, :status =>'joined') if (self.spacetype=='group')\n  146     end\n  147  \n  ...\n  192        c.update_gadget_metadata(item4a)\n  193        # add widget to the space sequence\n  194:       Sequence.add_item(item4a.id, item4a.class.to_s, space.id, \"Space\", \"children\")\n  195      end\n  196    end\n  ...\n  465  \n  466     def label # for messages or display take the type and if not existant it puts \"Space\"\n  467:      (type_name.nil?) ? self.class.to_s : self.type_name\n  468     end\n  469  \n  ...\n  531  \n  532    def copy_members_from_parent\n  533:     raise \"Sorry, parent item must be a space\" if (parent.class.to_s!='Space')\n  534      parent_memberships = parent.memberships\n  535      # + parent.pending_invitations\n\n/Users/boos/code/graasp/app/models/user.rb:\n  360        i4a = c_item.item3a\n  361        if i4a != nil\n  362:         if i4a.class.to_s != \"User\" and i4a.in_clipboard\n  363            # item belongs to clipboard\n  364            output << { :item => i4a, :type => \"item\", :clip_id => c_item.id }\n  ...\n  402     \n  403    def has_checked_resource?(resource)\n  404:     return Act.find(:first,:conditions => ['initiator_user_id = ? and resource_type = ? and resource_id = ?', self.id, resource.class.to_s, resource.id]).nil? ? false : true\n  405    end\n  406  \n  ...\n  414  \n  415    def update_acts_by_resource_visible_for_user(user)\n  416:     acts = update_acts.select{|act| (user.can_access_resource?(act.resource) and (act.resource.class != User or act.resource != user) and act.resource.class!= Role)}\n  417      return acts.group_by{|act| (act.resource)}\n  418    end\n  419  \n  420    def access_acts_by_resource_visible_for_user(user)\n  421:     acts = access_acts.select{|act| (user.can_access_resource?(act.resource) and (act.resource.class != User or act.resource != user) and act.resource.class!= Role)}\n  422      return acts.group_by{|act| (act.resource)}\n  423    end\n  424  \n  425    def can_access_resource?(resource)\n  426:     if resource.class==User\n  427        return self.can_see_user?(resource.id)\n  428:     elsif resource.class==Deliverable or resource.class == Role\n  429        return self.can_access_space?(resource.space.id) unless resource.space.nil?\n  430:     elsif resource.class==Space\n  431        return self.can_access_space?(resource.id)\n  432:     elsif resource.class==Asset\n  433       return self.reader_or_editor_or_owner_of_asset?(resource.id)\n  434      end\n  ...\n  620  \n  621    def label # for messages or display take the type and if not existant it puts \"Asset\"\n  622:     (type_name.nil?) ? self.class.to_s : self.type_name\n  623    end\n  624  \n  ...\n  834    # Encrypts the password with the user salt\n  835    def encrypt(password)\n  836:     self.class.encrypt(password, salt)\n  837    end\n  838  \n\n/Users/boos/code/graasp/app/models/user_notifier.rb:\n   95      @cc= inviting_user.email\n   96      raise \"shared element not specified\" if item.nil?\n   97:     type= item.class.to_s.downcase\n   98      name = \" '\"+item.name.to_s+\"'\"\n   99      case type\n\n/Users/boos/code/graasp/app/models/widget_gadget.rb:\n   21      output = []\n   22      self.settings.each do |setting|\n   23:       if(setting.item_id == i3a.id and setting.item_type = i3a.class.to_s)\n   24          output << setting\n   25        end\n\n/Users/boos/code/graasp/app/views/item3a/item4a_rss.rxml:\n    2  xml.rss('version' => '2.0', 'xmlns:dc' => \"http://purl.org/dc/elements/1.1/\") do\n    3    xml.channel do\n    4:     xml.title  \"News Feeds for \" + @item4a.class.to_s + \" \" + @item4a.name\n    5:     xml.description  \"Recent updates in \" + @item4a.class.to_s + \" \" + @item4a.name\n    6      xml.language \"en-us\"\n    7  \n\n/Users/boos/code/graasp/app/views/item3a/popup.js.erb:\n    4    },\n    5    close: function(){\n    6:     $('view_blocker').className = \"hidden\";\n    7:     $('person_popup').className = \"hidden\";\n    8    },\n    9    // opens the action event popup\n   ..\n   15  \n   16  \n   17:     $('view_blocker').className = \"shown\";\n   18:     $('person_popup').className = \"shown\";\n   19    }\n   20  }\n\n/Users/boos/code/graasp/app/views/shared/_center_inner.haml:\n    4  #center_body\n    5    -# TODO: remove this for deliverables it for deliverables\n    6:   - if item.class == Deliverable\n    7      - partial = \"deliverables/default/center\"\n    8    - else\n    9      -# line should be similar to \"assets/rss_feeds/center\"\n   10:     - partial = item.class.to_s.downcase + \"s/\"+item.format_name+\"/center\"\n   11    = render(:partial => partial, :locals => {:item => item})\n   12  \n   ..\n   21      - if  current_user.can_post_comment?(item)\n   22        #add_comment{:style => \"display:none\"}\n   23:         - form_remote_for(:comment, @comment, :url => add_comment_path(:item_id => item.id, :item_type => item.class.to_s)) do |f|\n   24            = f.text_area :content, :size => \"70x7\"\n   25            %br\n\n/Users/boos/code/graasp/app/views/shared/_centre_link_action.haml:\n    1: -type = @centre.class.to_s.downcase\n    2: -label = (@centre.class == Deliverable )  ? type : @centre.label\n    3  %li.link\n    4    = link_to_remote(\"Relate\",:url =>new_link_path(:viewtype =>  'context', :itemid => @centre.id, :item_type => type ), :method => :get, :html  =>{:class => \"linktolarge\", :title => \"Relate this \" + label.downcase + \" to other \" + type + \"s.\"})\n\n/Users/boos/code/graasp/app/views/shared/_centre_linkage_boxes.haml:\n    2  #linktypeboxlinkview{:style => \"display:none\"}\n    3    /,:class => params[:item_type]\n    4:   = render(:partial => \"shared/add_link\",  :locals => {:item_type  => @centre.class.to_s, :itemid  => @centre.id,:element_id  => 'linktypeboxlinkview'})\n    5  \n\n/Users/boos/code/graasp/app/views/shared/_filter.haml:\n    1  .userFilter\n    2:   - if item.class == Space and is_admin\n    3      %ul.head\n    4        %li\n    .\n   10  \n   11  .deliverableFilter\n   12:   - if item.class == Space and is_admin\n   13      %ul.head\n   14        %li\n\n/Users/boos/code/graasp/app/views/shared/_logo.haml:\n    1  / used for animation of users,assets,spaces loading\n    2: - if !@keyword and @centre.class.to_s == \"User\" and !current_user.is_guest_user? and @palette_user == false\n    3    - style_users = \"\"\n    4    - style_assets = \"\"\n    .\n    7    - style_assets =\"display:none\"\n    8  \n    9: - if !@keyword and @centre.class.to_s == \"User\" and !current_user.is_guest_user? and current_user == @centre and @palette_user == false\n   10    - style_spaces = \"\"\n   11  - else\n\n/Users/boos/code/graasp/app/views/shared/_menu.haml:\n   95            .menuBoxForm\n   96              =submit_tag(\"Notification Preferences\",  {:onclick => \"ToggleById('notification_preferences')\", :title => \"Configure your notification preferences\"})\n   97:             - if @centre.class== User and @search_keyword.nil? and !@centre.is_guest_user? and !current_user.is_guest_user?\n   98                %br\n   99                %br\n  ...\n  106                    = submit_tag(\"Hide public items \", :title => \"Hide public spaces, assets, and unrelated public users\")\n  107                  -if @centre\n  108:                   = hidden_field_tag(:context_type, @centre.class.to_s)\n  109                    = hidden_field_tag(:id, @centre.id)\n  110  \n  ...\n  140                  = javascript_tag(\"initSearch();\")\n  141                  -if @centre\n  142:                   = hidden_field_tag(:context_type, @centre.class.to_s)\n  143                    = hidden_field_tag(:id, @centre.id)\n  144                - if @centre and @centre!=current_user and @search_keyword.nil?\n\n/Users/boos/code/graasp/app/views/shared/_ratings.haml:\n    1: - average = Rating.average_rating(item.id, item.class)\n    2: - accum = Rating.count_rating(item.id, item.class)\n    3: - rating  = Rating.rating_by_user(current_user.id, item.id, item.class)\n    4: -#= render(:partial => \"shared/rating\", :locals => { :name => item.name, :itemid => item.id, :item_type => item.class, :edit => !current_user.is_guest_user?, :rating => ur, :average => ar})\n    5  \n    6  - unitwidth    = 18\n    .\n    9  - ratingwidth  = unitwidth * rating\n   10  - fullwidth    = unitwidth * units\n   11: - rid          = \"unit_long\" + item.id.to_s + item.class.to_s\n   12  \n   13  .personalratingblock{:id => rid}\n   ..\n   22            - else\n   23              - text = \"You have previously rated this item at \" + rating.to_s + \". Rate at \" + x.to_s\n   24:           = link_to_remote(\"\", {:url => ratings_ajax_set_path(:value => x, :item_type => item.class, :item_id => item.id, :rid => rid)}, {:class => \"r\"+x.to_s+\"unit rater\", :rel =>\"nofollow\", :title => text, :onmouseover => \"setText('\"+text+\"')\", :onmouseout => \"setText('')\", :style => \"z-Index:1\"+(6-x).to_s+\"000;\"})\n   25    - else\n   26      &nbsp;\n\n/Users/boos/code/graasp/app/views/shared/_show_peripheral_names.haml:\n    1: - type_name = resource.type_name unless resource.class==Deliverable\n    2  \n    3  - if current_user.has_checked_resource?(resource)\n\n/Users/boos/code/graasp/app/views/shared/_sort_options.haml:\n    1: /- common_route = \"/ajax/\" + @viewtype + \"/\" + @centre.class.to_s.downcase + \"/\" + @centre.id.to_s\n    2  /- route_users = common_route + \"/users\"\n    3  /- route_spaces = common_route + \"/spaces\"\n\n/Users/boos/code/graasp/app/views/shared/center/_edit_desc.haml:\n    3  / todo in a general way using pattern: State\n    4  \n    5: - case item.class.to_s\n    6  - when \"User\"\n    7    #edit.user\n\n/Users/boos/code/graasp/app/views/shared/center/update_desc.rjs:\n    5  page << \"resizeCenterArea();\"\n    6  \n    7: if @item.class == \"User\"\n    8    if @allowed #user can change his own profile\n    9      page.alert('Could not update ' + @item.name)if(!@ok)\n\n/Users/boos/code/graasp/app/views/taggings/destroy.rjs:\n    1: page['tags'].replace_html(render(:partial => \"shared/tags\", :locals => {:item_id => @item.id, :item_type => @item.class.to_s}))\n    2  \n    3  \n\n/Users/boos/code/graasp/app/views/tags/_tag_list_info.haml:\n    4  - #  first_element = true\n    5  - for item in hash\n    6:   - if  (item.class == Tagging)\n    7      -tag =  item.tag\n    8      - deletable_tagging = item\n\n/Users/boos/code/graasp/app/views/tags/ajax_new.rjs:\n    6      target = \"public_tagslist\"\n    7    end\n    8:   page.insert_html(:top, target, :partial => \"tags/tag_list_info\", :locals => {:hash  => @newtaglist, :item_id  => @tagged_item.id, :item_type  => @tagged_item.class.to_s})\n    9    page.call 'resizeTags', target\n   10    page.visual_effect(:highlight, target, :duration => 3)\n\n/Users/boos/code/graasp/app/views/user_notifier/_common_send_invitation_graaasp.haml:\n    1: - sender_url = $server_website_url+\"#item=\"+@inviting.class.to_s.downcase+\"_\"+@inviting.id.to_s\n    2  - activate_url = $server_website_url + \"/activate/\"+ @activation_code\n    3  \n    .\n   30    %br\n   31  - if !@item.nil? # if item element is specified,a link to the element being shared is sent to\n   32:   - type = @item.class.to_s.downcase\n   33    - if(type!='user')\n   34      = I18n.t(\"email.item_access_after_account_activation\",:item => type, :person =>@inviting.name, :locale => @locale)\n\n/Users/boos/code/graasp/app/views/user_notifier/asset_notification.haml:\n    1: - item_url = $server_website_url+\"#item=\"+@item.class.to_s.downcase+\"_\"+@item.id.to_s\n    2: - parent_url = $server_website_url+\"#item=\"+@parent.class.to_s.downcase+\"_\"+@parent.id.to_s\n    3: - user_url = $server_website_url+\"#item=\"+@user.class.to_s.downcase+\"_\"+@user.id.to_s\n    4  \n    5  %a{:href => user_url}\n\n/Users/boos/code/graasp/app/views/user_notifier/comment_notification.haml:\n    1: - item_url = $server_website_url+\"#item=\"+@item.class.to_s.downcase+\"_\"+@item.id.to_s\n    2: - user_url = $server_website_url+\"#item=\"+@user.class.to_s.downcase+\"_\"+@user.id.to_s\n    3  \n    4  %a{:href => user_url}\n\n/Users/boos/code/graasp/app/views/user_notifier/invitation_reminder.haml:\n    1: - item_url = $server_website_url+\"#item=\"+@item.class.to_s.downcase+\"_\"+@item.id.to_s\n    2: - user_url = $server_website_url+\"#item=\"+@initiator.class.to_s.downcase+\"_\"+@initiator.id.to_s\n    3  \n    4  = I18n.t(\"email.hello\", :locale => @locale) + \" \" + @user.name + \",\"\n\n/Users/boos/code/graasp/app/views/user_notifier/item_update.haml:\n    1: -item_url = $server_website_url+\"#item=\"+@item.class.to_s.downcase+\"_\"+@item.id.to_s\n    2: -user_url = $server_website_url+\"#item=\"+@user.class.to_s.downcase+\"_\"+@user.id.to_s\n    3  \n    4  %a{:href => user_url}\n\n/Users/boos/code/graasp/app/views/user_notifier/joining_notification.haml:\n    1: -item_url = $server_website_url+\"#item=\"+@item.class.to_s.downcase+\"_\"+@item.id.to_s\n    2: -user_url = $server_website_url+\"#item=\"+@user.class.to_s.downcase+\"_\"+@user.id.to_s\n    3  \n    4  %a{:href => user_url}\n\n/Users/boos/code/graasp/app/views/user_notifier/send_email_for_join_request.haml:\n    1: - item_url = $server_website_url+\"#item=\"+@item.class.to_s.downcase+\"_\"+@item.id.to_s\n    2: - if (@item.class.to_s=='Space')\n    3    %a{:href => item_url}\n    4      = @requesting_name\n\n/Users/boos/code/graasp/app/views/user_notifier/send_email_notification_on_shared_items.haml:\n   11    %br\n   12  \n   13: - type = @item.class.to_s.downcase\n   14  - item_url = $server_website_url + \"/#item=\" + type + \"_\" + @item.id.to_s\n   15  = I18n.t(\"email.follow_link_below\", :locale => @locale)\n\n/Users/boos/code/graasp/config/boot.rb:\n   51    class GemBoot < Boot\n   52      def load_initializer\n   53:       self.class.load_rubygems\n   54        load_rails_gem\n   55        require 'initializer'\n   ..\n   57  \n   58      def load_rails_gem\n   59:       if version = self.class.gem_version\n   60          gem 'rails', version\n   61        else\n\n/Users/boos/code/graasp/config/initializers/json_session.rb:\n  101        #     return false if !loaded?\n  102        #     data = self.data\n  103:       #     write_attribute(@@data_column_name, self.class.marshal(data))\n  104        #     # json_data = ActiveSupport::Base64.encode64(ActiveSupport::JSON.encode(data))\n  105        #     # write_attribute('data_json', json_data)\n\n/Users/boos/code/graasp/config/initializers/mongrel_solution.rb:\n    1: if ['2.3.8', '2.3.9', '2.3.10', '2.3.11'].include?(Rails.version) && Gem.available?('mongrel', '~>1.1.5') && self.class.const_defined?(:Mongrel)\n    2    \n    3    # Pulled right from latest rack. Old looked like this in 1.1.0 version.\n    .\n   22    class Mongrel::CGIWrapper\n   23      def header_with_rails_fix(options = 'text/html')\n   24:       @head['cookie'] = options.delete('cookie').flatten.map { |v| v.sub(/^\\n/,'') } if options.class != String and options['cookie']\n   25        header_without_rails_fix(options)\n   26      end\n\n/Users/boos/code/graasp/db/migrate/20101123133818_modify_visibility_and_permissions.rb:\n    5        p.update_attribute :visibility_level, 1\n    6        p.spaces.each do |c|\n    7:         Permission.create(:item_id => c.id , :item_type => c.class.to_s, :user_id => c.initiator_user_id, :initiator_user_id => c.initiator_user_id, :right_type => 3, :status =>'joined')\n    8        end\n    9      end\n\n/Users/boos/code/graasp/db/migrate/20110523111423_move_profile_items_to_home_space.rb:\n   11  \n   12          s=Space.create(:name => name + \"'s Home Space\", :initiator_user_id => user.id, :visibility_level => user.visibility_level, :item3a_format_id => space_format.id, :parent_id => user.id, :parent_type => 'User') \n   13:         Sequence.add_item(user.id,'User', s.id, s.class.to_s, \"children\")\n   14          user.default_home_space_id=s.id\n   15          user.save\n\n/Users/boos/code/graasp/db/migrate/20110527111432_prepare_welcome_space.rb:\n   10      raise \"No guest user\" if user.nil?\n   11          s=Space.create(:name => \"Welcome Space\", :initiator_user_id => a.id, :visibility_level => 1, :item3a_format_id => space_format.id, :parent_id => a.id, :parent_type => 'User') \n   12:         # Sequence.add_item(user.id,'User', s.id, s.class.to_s, \"children\")\n   13           user.default_home_space_id=s.id\n   14           user.save\n\n/Users/boos/code/graasp/db/migrate/20111011204952_post_activate_for_users.rb:\n    6    for a in as\n    7      s=Space.create(:name => I18n.t(\"words.person_home_space\",:person => a.email.gsub(/@.*/,\"\")), :initiator_user_id => a.id, :visibility_level => a.visibility_level, :item3a_format_id => space_format.id, :parent_id => a.id, :parent_type => 'User')\n    8:     Sequence.add_item(a.id,'User', s.id, s.class.to_s, \"children\") unless s.nil?\n    9      a.default_home_space_id = s.id unless s.nil?\n   10      a.item3a_format_id = default_format\n\n/Users/boos/code/graasp/generate/config/boot.rb:\n   51    class GemBoot < Boot\n   52      def load_initializer\n   53:       self.class.load_rubygems\n   54        load_rails_gem\n   55        require 'initializer'\n   ..\n   57  \n   58      def load_rails_gem\n   59:       if version = self.class.gem_version\n   60          gem 'rails', version\n   61        else\n\n/Users/boos/code/graasp/generate/public/index.html:\n  186            new Ajax.Updater('about-content', 'rails/info/properties', {\n  187              method:     'get',\n  188:             onFailure:  function() {Element.classNames('about-content').add('failure')},\n  189              onComplete: function() {new Effect.BlindDown('about-content', {duration: 0.25})}\n  190            });\n\n/Users/boos/code/graasp/generate/public/javascripts/controls.js:\n  517        btn.type = 'submit';\n  518        btn.value = text;\n  519:       btn.className = 'editor_' + mode + '_button';\n  520        if ('cancel' == mode)\n  521          btn.onclick = this._boundCancelHandler;\n  ...\n  527        link.appendChild(document.createTextNode(text));\n  528        link.onclick = 'cancel' == mode ? this._boundCancelHandler : this._boundSubmitHandler;\n  529:       link.className = 'editor_' + mode + '_link';\n  530        if (extraClasses)\n  531:         link.className += ' ' + extraClasses;\n  532        this._form.appendChild(link);\n  533        this._controls[mode] = link;\n  ...\n  549      fld.name = this.options.paramName;\n  550      fld.value = text; // No HTML breaks conversion anymore\n  551:     fld.className = 'editor_field';\n  552      if (this.options.submitOnBlur)\n  553        fld.onblur = this._boundSubmitHandler;\n\n/Users/boos/code/graasp/generate/public/javascripts/dragdrop.js:\n   68          this.isContained(element, drop)) &&\n   69        ((!drop.accept) ||\n   70:         (Element.classNames(element).detect(\n   71            function(v) { return drop.accept.include(v) } ) )) &&\n   72        Position.within(drop.element, point[0], point[1]) );\n   ..\n  958    $A(element.childNodes).each( function(e) {\n  959      if(e.tagName && e.tagName.toUpperCase()==tagName &&\n  960:       (!only || (Element.classNames(e).detect(function(v) { return only.include(v) }))))\n  961          elements.push(e);\n  962      if(recursive) {\n\n/Users/boos/code/graasp/generate/public/javascripts/prototype.js:\n 1829  \n 1830    classNames: function(element) {\n 1831:     return new Element.ClassNames(element);\n 1832    },\n 1833  \n 1834    hasClassName: function(element, className) {\n 1835      if (!(element = $(element))) return;\n 1836:     var elementClassName = element.className;\n 1837      return (elementClassName.length > 0 && (elementClassName == className ||\n 1838        new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(elementClassName)));\n ....\n 1842      if (!(element = $(element))) return;\n 1843      if (!element.hasClassName(className))\n 1844:       element.className += (element.className ? ' ' : '') + className;\n 1845      return element;\n 1846    },\n ....\n 1848    removeClassName: function(element, className) {\n 1849      if (!(element = $(element))) return;\n 1850:     element.className = element.className.replace(\n 1851        new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), ' ').strip();\n 1852      return element;\n ....\n 3005    criteria: {\n 3006      tagName:      'n = h.tagName(n, r, \"#{1}\", c);      c = false;',\n 3007:     className:    'n = h.className(n, r, \"#{1}\", c);    c = false;',\n 3008      id:           'n = h.id(n, r, \"#{1}\", c);           c = false;',\n 3009      attrPresence: 'n = h.attrPresence(n, r, \"#{1}\", c); c = false;',\n ....\n 3213        var needle = ' ' + className + ' ';\n 3214        for (var i = 0, results = [], node, nodeClassName; node = nodes[i]; i++) {\n 3215:         nodeClassName = node.className;\n 3216          if (nodeClassName.length == 0) continue;\n 3217          if (nodeClassName == className || (' ' + nodeClassName + ' ').include(needle))\n ....\n 4267  \n 4268      for (var i = 0, child, cn; child = nodes[i]; i++) {\n 4269:       if (child.className && (cn = ' ' + child.className + ' ') && (cn.include(className) ||\n 4270            (classNames && classNames.all(function(name) {\n 4271              return !name.toString().blank() && cn.include(' ' + name + ' ');\n ....\n 4283  /*--------------------------------------------------------------------------*/\n 4284  \n 4285: Element.ClassNames = Class.create();\n 4286: Element.ClassNames.prototype = {\n 4287    initialize: function(element) {\n 4288      this.element = $(element);\n ....\n 4290  \n 4291    _each: function(iterator) {\n 4292:     this.element.className.split(/\\s+/).select(function(name) {\n 4293        return name.length > 0;\n 4294      })._each(iterator);\n ....\n 4296  \n 4297    set: function(className) {\n 4298:     this.element.className = className;\n 4299    },\n 4300  \n ....\n 4314  };\n 4315  \n 4316: Object.extend(Element.ClassNames.prototype, Enumerable);\n 4317  \n 4318  /*--------------------------------------------------------------------------*/\n\n/Users/boos/code/graasp/lib/authenticated_test_helper.rb:\n   60      instance_vars.collect! { |v| \"@#{v}\".to_sym }\n   61      instance_vars.each do |var|\n   62:       instance_variable_set(var, instance_variable_get(var).class.new)\n   63      end\n   64    end\n\n/Users/boos/code/graasp/lib/workers/embed_worker.rb:\n   31  \n   32       # puts \"before checking if it is asset\"\n   33:      # puts i4a.class.to_s\n   34:      if(i4a.class.to_s == \"Asset\")  \n   35           # get data from embed.ly and update asset\n   36           # puts \"before outside code\"\n\n/Users/boos/code/graasp/lib/workers/search_worker.rb:\n  225       # TODO: This could be optimized by sending an multiple row insert request to sql\n  226       filtered_results.each do |item|\n  227:        ContentRecommendation.create(:item_id => item[:i3a_id].to_i, :item_type => item[:i3a_type].capitalize, :context_id => context.id, :context_type => context.class.to_s, :similarity => item[:similarity])\n  228       end\n  229     end\n\n/Users/boos/code/graasp/public/csshover.htc:\n   72  	if(node.hovers[className]) return;\n   73  	node.hovers[className] = true;\n   74: 	hookHoverEvent(node, events.on, function() { node.className += ' ' + className; });\n   75: 	hookHoverEvent(node, events.off, function() { node.className = node.className.replace(new RegExp('\\\\s+'+className, 'g'),''); });\n   76  }\n   77  	function hookHoverEvent(node, type, handler) {\n   ..\n  111  			for(var j=0; j<result.length; j++) {\n  112  				node = result[j];\n  113: 				if(classReg && !classReg.test(node.className)) continue;\n  114  				nodes[nodes.length] = node;\n  115  			}\n\n/Users/boos/code/graasp/public/iepngfix.htc:\n   46   var isBg = /background/.test(evt.propertyName);\n   47   var isClass = !init &&\n   48:   ((this.className != this._png_class) && (this.className || this._png_class));\n   49   if (!(isSrc || isBg || isClass)) return;\n   50:  this._png_class = this.className;\n   51   var blank = blankImg.match(/([^\\/]+)$/)[1];\n   52  \n\n/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/InlineHtmlEditor.js:\n    1  Type.createNamespace('Microsoft.Mtps.Rendering.Behaviors.Ajax');Microsoft.Mtps.Rendering.Behaviors.Ajax.ButtonStates=Type.createEnum(false,'Microsoft.Mtps.Rendering.Behaviors.Ajax.ButtonStates',{Up:0,Highlighted:1,Down:2,Disabled:3});Microsoft.Mtps.Rendering.Behaviors.Ajax.InlineEditor=function(elem){Microsoft.Mtps.Rendering.Behaviors.Ajax.InlineEditor.constructBase(this,[elem]);}\n    2: Microsoft.Mtps.Rendering.Behaviors.Ajax.InlineEditor.prototype={_editElement:null,_onBlur:null,_onDoubleClick:null,_onDrop:null,_onFocus:null,_onPaste:null,_onResize:null,_onRefresh:null,_preventKeyPress:null,_selection:null,_toolbar:null,_selectionType:null,_originalContent:null,_toolbarImageUrl:null,_toolbarSettings:null,_doubleClickEventHandler:null,_deviceType:null,_editSourceHeight:0,_focusOnStart:false,_isEditing:false,_isPasting:false,_hasFocus:false,get_content:function(){return this.$2_2();},set_content:function(value){this.$2_E(value);return value;},get_deviceType:function(){return this._deviceType;},set_deviceType:function(value){this._deviceType=value;return value;},get_doubleClick:function(){return this._doubleClickEventHandler;},set_doubleClick:function(value){this._doubleClickEventHandler=value;return value;},get_focusOnStart:function(){return this._focusOnStart;},set_focusOnStart:function(value){this._focusOnStart=value;return value;},get_hasFocus:function(){return this._hasFocus;},get_isContentChanged:function(){return (String.compare(this._originalContent,this.$2_2()));},get_isEditing:function(){return this._isEditing;},get_originalContent:function(){return this._originalContent;},get_sourceElementID:function(){return this.get_element().id;},get_toolbarImageUrl:function(){return this._toolbarImageUrl;},set_toolbarImageUrl:function(value){this._toolbarImageUrl=value;return value;},get_toolbarSettings:function(){return this._toolbarSettings;},set_toolbarSettings:function(value){this._toolbarSettings=value;return value;},$2_0:function(){this._originalContent=this.get_element().innerHTML;var $0;if(isNullOrUndefined(document.all)){$0=document.createElement('iframe');$0.id=this.get_element().id+'$edit';$0.setAttribute('name',$0.id);$0.style.position='relative';$0.style.width='100%';this._editSourceHeight=this.get_element().clientHeight;if(this.get_element().clientHeight<120){$0.style.height='120px';}else{$0.style.height=this.get_element().clientHeight+'px';}$0.style.overflow='auto';$0.style.margin='0px';$0.style.padding='0px';$0.style.border='1px solid #87A9D1';$0.style.display='none';this.get_element().parentNode.insertBefore($0,this.get_element().nextSibling);this.get_element().parentNode.style.overflowX='hidden';var $1=($0).contentWindow.document;$1.open();$1.write('<HTML><HEAD></HEAD><BODY></BODY></HTML>');$1.close();var $2=this.get_element().innerHTML;if(String.isNullOrEmpty($2)){$2='<BR>';}$1.body.innerHTML=$2;$1.body.style.margin='0px';$1.body.style.padding='0px';}else{$0=this.get_element();}return $0;},$2_1:function(){if(!isNullOrUndefined(document.all)){this._selection=this.getDocument().selection.createRange();this._selectionType=this.getDocument().selection.type;}},dispose:function(){if(this._isEditing){this.getEditElement().detachEvent('onblur',this._onBlur);this.getEditElement().detachEvent('ondrop',this._onDrop);this.getEditElement().detachEvent('onfocus',this._onFocus);this.getEditElement().detachEvent('onmouseup',this._onRefresh);this.getEditElement().detachEvent('onkeyup',this._onRefresh);this.getEditElement().detachEvent('onpaste',this._onPaste);if(isNullOrUndefined(document.all)){window.detachEvent('onresize',this._onResize);}}else{this.get_element().detachEvent('ondblclick',this._onDoubleClick);}this.getEditElement().detachEvent('onkeypress',this._preventKeyPress);this._toolbar.dispose();Microsoft.Mtps.Rendering.Behaviors.Ajax.InlineEditor.callBase(this, 'dispose');},$2_2:function(){if(isNullOrUndefined(document.all)){return (this.getEditElement()).contentWindow.document.body.innerHTML;}else{return this.getEditElement().innerHTML;}},getDocument:function(){if(isNullOrUndefined(document.all)){return (this.getEditElement()).contentWindow.document;}else{return window.document;}},getEditElement:function(){return this._editElement;},getExecTarget:function(){if(isNullOrUndefined(document.all)){return null;}else{if(!isNull(this._selection)&&String.compare(this._selectionType,'none',true)||(!String.compare(this._selectionType,'text',true)&&!String.isNullOrEmpty(this._selection.text))){return this._selection;}else{return null;}}},$2_3:function(){this.$2_E(this._originalContent);if(isNullOrUndefined(document.all)){(this.getEditElement()).contentWindow.document.designMode='off';this.getEditElement().style.display='none';this.get_element().style.visibility='visible';this.get_element().style.height=this._editSourceHeight+'px';}else{this.getEditElement().setAttribute('contentEditable','false');}this.getEditElement().className='InlineEditor_Editor_Off';},$2_4:function(){this._toolbar.hide();},initialize:function(){Microsoft.Mtps.Rendering.Behaviors.Ajax.InlineEditor.callBase(this, 'initialize');this._isEditing=false;if(!this._editElement){this._editElement=this.$2_0();}this._onBlur=Delegate.create(this,this.$2_6);this._onDoubleClick=Delegate.create(this,this.$2_7);this._onDrop=Delegate.create(this,this.$2_8);this._onFocus=Delegate.create(this,this.$2_9);this._onPaste=Delegate.create(this,this.$2_A);this._onRefresh=Delegate.create(this,this.$2_B);this._onResize=Delegate.create(this,this.$2_C);this._preventKeyPress=Delegate.create(this,this.$2_D);this.get_element().attachEvent('ondblclick',this._onDoubleClick);this.getEditElement().attachEvent('onkeypress',this._preventKeyPress);this._toolbar=new Microsoft.Mtps.Rendering.Behaviors.Ajax.Toolbar(this.get_element(),this,this._toolbarImageUrl);this.$2_5();this.$2_3();},$2_5:function(){if(!String.isNullOrEmpty(this._toolbarSettings)){var $0=this._toolbarSettings.split(';');var $enum1=$0.getEnumerator();while($enum1.moveNext()){var $1=$enum1.get_current();if(!String.isNullOrEmpty($1)){var $2=$1.split(':');if(!String.isNullOrEmpty($2[0])){switch($2[0]){case 'b':if($2.length==9&&(Boolean.parse($2[7])||!isNullOrUndefined(document.all))&&(Boolean.parse($2[8])||String.compare(this._deviceType,'ide',true))){this._toolbar.$0($2[1],$2[2],$2[3],Number.parse($2[4]),Number.parse($2[5]),$2[6]);}break;case 's':if($2.length==5&&(Boolean.parse($2[3])||!isNullOrUndefined(document.all))&&(Boolean.parse($2[4])||String.compare(this._deviceType,'ide',true))){this._toolbar.$1(Number.parse($2[1]),Number.parse($2[2]));}break;}}}}}},$2_6:function(){this._hasFocus=false;if(!this._toolbar.get_isSelected()){this.$2_B();}},$2_7:function(){eval(this._doubleClickEventHandler+'(this)');},$2_8:function(){if(!this._isPasting){var $0=window.event.dataTransfer.getData('text');window.self.clipboardData.setData('text',$0);this._editElement.focus();this._isPasting=true;this.performCommand('paste',null);this._isPasting=false;window.event.returnValue=false;}},$2_9:function(){this._hasFocus=true;},$2_A:function(){if(!this._isPasting){var $0=window.self.clipboardData.getData('text');if(!String.isNullOrEmpty($0)){window.self.clipboardData.setData('text',$0);this._isPasting=true;this.performCommand('paste',null);this._isPasting=false;}window.event.returnValue=false;}},$2_B:function(){this.$2_1();window.setTimeout(Delegate.create(this,this.refresh),0);},$2_C:function(){if(isNullOrUndefined(document.all)){(this.getEditElement()).style.width=this.get_element().clientWidth+'px';}},performCommand:function(command,commandValue){if(String.isNullOrEmpty(command)){return;}this.$2_1();var $0=this.getExecTarget();this.setFocus();if(!isNull($0)){$0.select();if(!$0.execCommand(command,false,commandValue)){this.getDocument().execCommand(command,false,commandValue);}}else{this.getDocument().execCommand(command,false,commandValue);}},$2_D:function(){window.event.cancelBubble=true;},refresh:function(){this._toolbar.$5();if(isNullOrUndefined(document.all)){(this.getEditElement()).style.width=this.get_element().clientWidth+'px';}},$2_E:function($p0){if(isNullOrUndefined(document.all)){(this.getEditElement()).contentWindow.document.body.innerHTML=$p0;}else{this.getEditElement().innerHTML=$p0;}},setFocus:function(){if(!isNullOrUndefined(document.all)){$(this.getEditElement().id).focus();}else{eval('window.frames[\\''+this.getEditElement().id+'\\'].focus();');}this.$2_B();},$2_F:function(){if(isNullOrUndefined(document.all)){this.getEditElement().style.display='block';(this.getEditElement()).contentWindow.document.designMode='on';this.get_element().style.visibility='hidden';this.get_element().style.height='0px';}else{this.getEditElement().setAttribute('contentEditable','true');}this.getEditElement().className='InlineEditor_Editor_On';this.$2_E(this._originalContent);this.$2_C();},$2_10:function(){this._toolbar.$7();},$2_11:function(){this.get_element().detachEvent('ondblclick',this._onDoubleClick);this.getEditElement().attachEvent('onblur',this._onBlur);this.getEditElement().attachEvent('ondrop',this._onDrop);this.getEditElement().attachEvent('onfocus',this._onFocus);this.getEditElement().attachEvent('onkeyup',this._onRefresh);this.getEditElement().attachEvent('onmouseup',this._onRefresh);this.getEditElement().attachEvent('onpaste',this._onPaste);if(isNullOrUndefined(document.all)){window.attachEvent('onresize',this._onResize);}this.$2_F();this.$2_10();if(this._focusOnStart){this.setFocus();this._hasFocus=true;}this._isEditing=true;},$2_12:function(){this.get_element().attachEvent('ondblclick',this._onDoubleClick);this.getEditElement().detachEvent('onblur',this._onBlur);this.getEditElement().detachEvent('ondrop',this._onDrop);this.getEditElement().detachEvent('onfocus',this._onFocus);this.getEditElement().detachEvent('onkeyup',this._onRefresh);this.getEditElement().detachEvent('onmouseup',this._onRefresh);this.getEditElement().detachEvent('onpaste',this._onPaste);if(isNullOrUndefined(document.all)){window.detachEvent('onresize',this._onResize);}this.$2_3();this.$2_4();this._isEditing=false;},switchToEditMode:function(){this.$2_11();},switchToViewMode:function(){this.$2_12();}}\n    3  Microsoft.Mtps.Rendering.Behaviors.Ajax.Button=function(editor,command,commandValue,query,tooltip){this._state=0;this._editor=editor;this._command=command;if(!String.isNullOrEmpty(commandValue)){this._commandValue=commandValue;}else{this._commandValue=null;}this._query=query;this._tooltip=tooltip;this._doCommand=Delegate.create(this,this.$0);this._onMouseDown=Delegate.create(this,this.$1);this._onMouseUp=Delegate.create(this,this.$4);this._onMouseEnter=Delegate.create(this,this.$2);this._onMouseLeave=Delegate.create(this,this.$3);}\n    4  Microsoft.Mtps.Rendering.Behaviors.Ajax.Button.prototype={_editor:null,_doCommand:null,_onMouseDown:null,_onMouseUp:null,_onMouseEnter:null,_onMouseLeave:null,_command:null,_commandValue:null,_query:null,_tooltip:null,_button:null,$0:function(){if(this._state!=3){this._editor.performCommand(this._command,this._commandValue);}},$1:function(){if(this._state!=3){this.setState(2,true);}},$2:function(){if(this._state!=3&&this._state!=2){this.setState(1,false);}},$3:function(){window.setTimeout(Delegate.create(this,this.$5),0);},$4:function(){window.setTimeout(Delegate.create(this,this.$5),0);},$5:function(){if(!isNullOrUndefined(this._editor)&&!this._editor.get_hasFocus()){this.setState(3,true);return;}if(String.isNullOrEmpty(this._query)){this.setState(0,true);return;}var $0=false;var $1=false;var $2=this._editor.getExecTarget();if(!isNull($2)){$0=$2.queryCommandEnabled(this._query);if($0){$1=$2.queryCommandState(this._query);}}else{$0=this._editor.getDocument().queryCommandEnabled(this._query);if($0){if(!String.compare(this._query,'indent',true)||!String.compare(this._query,'outdent',true)){this.setState(0,true);return;}try{$1=this._editor.getDocument().queryCommandState(this._query);}catch($3){throw new Error('Exception performing QueryCommandState('+this._query+'): '+$3.message);}}}if($0){if($1){this.setState(2,true);}else{this.setState(0,true);}}else{this.setState(3,true);}},refresh:function(){window.setTimeout(Delegate.create(this,this.$5),0);},render:function(parent){this._button=parent;if(!String.isNullOrEmpty(this._tooltip)){this._button.title=this._tooltip;}if(!String.isNullOrEmpty(this._command)){this._button.attachEvent('onclick',this._doCommand);this._button.attachEvent('onmousedown',this._onMouseDown);this._button.attachEvent('onmouseup',this._onMouseUp);this._button.attachEvent('onmouseenter',this._onMouseEnter);this._button.attachEvent('onmouseleave',this._onMouseLeave);}return this._button;},setState:function(state,save){},dispose:function(){if(!isNull(this._button)){this._button.detachEvent('onclick',this._doCommand);this._button.detachEvent('onmousedown',this._onMouseDown);this._button.detachEvent('onmouseup',this._onMouseUp);this._button.detachEvent('onmouseenter',this._onMouseEnter);this._button.detachEvent('onmouseleave',this._onMouseLeave);}}}\n    5  Microsoft.Mtps.Rendering.Behaviors.Ajax.ImageButton=function(editor,command,commandValue,query,image,offset,width,tooltip){Microsoft.Mtps.Rendering.Behaviors.Ajax.ImageButton.constructBase(this,[editor,command,commandValue,query,tooltip]);this._toolbarImage=image;this._offset=offset;this._width=width;}\n    6: Microsoft.Mtps.Rendering.Behaviors.Ajax.ImageButton.prototype={_toolbarImage:null,_offset:0,_width:0,_image:null,render:function(parent){var $0=document.createElement('a');$0.tabIndex=-1;$0.className='InlineEditor_ImageButton';$0.setAttribute('href','#');$0.style.styleFloat='left';$0.style.display='inline-block';$0.style.position='relative';$0.style.zIndex=0;$0.style.width=this._width+'px';$0.style.height='24px';if(!isNullOrUndefined(document.all)){$0.style.overflow='hidden';}parent.appendChild($0);var $1=document.createElement('span');$1.style.overflow='hidden';$1.style.clip='rect(0px '+this._width.toString()+'px 24px 0px)';$1.style.position='absolute';$1.style.width=this._width+'px';$1.style.height='24px';$0.appendChild($1);this._image=document.createElement('img');this._image.setAttribute('border','0');this._image.style.position='relative';this._image.style.left=(-this._offset)+'px';this._image.setAttribute('src',this._toolbarImage.getAttribute('src'));$1.appendChild(this._image);return Microsoft.Mtps.Rendering.Behaviors.Ajax.ImageButton.callBase(this, 'render',[$0]);},setState:function(state,save){this._image.style.cursor='pointer';switch(state){case 0:this._image.style.pixelTop=0;break;case 1:this._image.style.pixelTop=-24;break;case 2:this._image.style.pixelTop=-48;break;case 3:this._image.style.pixelTop=-72;this._image.style.cursor='default';break;}if(save){this._state=state;}}}\n    7  Microsoft.Mtps.Rendering.Behaviors.Ajax.Separator=function(image,offset,width){Microsoft.Mtps.Rendering.Behaviors.Ajax.Separator.constructBase(this,[null,null,null,null,null]);this._toolbarImage=image;this._offset=offset;this._width=width;}\n    8: Microsoft.Mtps.Rendering.Behaviors.Ajax.Separator.prototype={_toolbarImage:null,_offset:0,_width:0,render:function(parent){var $0=document.createElement('a');$0.tabIndex=-1;$0.setAttribute('href','#');$0.className='InlineEditor_Separator';$0.style.styleFloat='left';$0.style.display='inline-block';$0.style.position='relative';$0.style.zIndex=0;$0.style.width=this._width+'px';$0.style.height='24px';if(!isNullOrUndefined(document.all)){$0.style.overflow='hidden';}parent.appendChild($0);var $1=document.createElement('span');$1.style.overflow='hidden';$1.style.clip='rect(0px '+this._width.toString()+'px 24px 0px)';$1.style.position='absolute';$0.appendChild($1);var $2=document.createElement('img');$2.setAttribute('border','0');$2.style.position='relative';$2.style.left=(-this._offset)+'px';$2.setAttribute('src',this._toolbarImage.getAttribute('src'));$1.appendChild($2);return Microsoft.Mtps.Rendering.Behaviors.Ajax.Separator.callBase(this, 'render',[$0]);},setState:function(state,save){}}\n    9  Microsoft.Mtps.Rendering.Behaviors.Ajax.TextButton=function(editor,command,commandValue,query,text,tooltip){Microsoft.Mtps.Rendering.Behaviors.Ajax.TextButton.constructBase(this,[editor,command,commandValue,query,text]);this._text=text;}\n   10  Microsoft.Mtps.Rendering.Behaviors.Ajax.TextButton.prototype={_text:null,render:function(parent){var $0=document.createElement('div');$0.tabIndex=-1;$0.style.display='inline-block';$0.style.styleFloat='left';$0.style.padding='2px';$0.style.pixelHeight=24;if(!isNullOrUndefined(document.all)){$0.style.overflow='hidden';}parent.appendChild($0);var $1=document.createElement('a');$1.innerText=this._text;$1.tabIndex=-1;$1.setAttribute('href','javascript:void()');$1.style.color='black';$1.style.font='10pt Arial';$1.style.verticalAlign='middle';$1.style.whiteSpace='nowrap';$0.appendChild($1);return Microsoft.Mtps.Rendering.Behaviors.Ajax.TextButton.callBase(this, 'render',[$0]);},setState:function(state,save){}}\n   11: Microsoft.Mtps.Rendering.Behaviors.Ajax.Toolbar=function(elem,parent,imageUrl){this._buttons=[];this._element=elem;this._editor=parent;this._cancelEvent=Delegate.create(this,this.$2);this._onMouseDown=Delegate.create(this,this.$3);this._onMouseUp=Delegate.create(this,this.$4);this._toolbarImage=document.createElement('img');this._toolbarImage.setAttribute('src',imageUrl);this._toolbar=document.createElement('div');this._toolbar.className='InlineEditor_Toolbar';this._toolbar.style.display='none';this._toolbar.style.width='100%';this._toolbar.style.height='24px';this._toolbar.style.whiteSpace='nowrap';if(!isNullOrUndefined(document.all)){this._toolbar.attachEvent('ondrag',this._cancelEvent);this._toolbar.setAttribute('unselectable','on');}else{this._toolbar.attachEvent('onmouseout',this._cancelEvent);}this._toolbar.attachEvent('onmousedown',this._onMouseDown);this._toolbar.attachEvent('onmouseup',this._onMouseUp);this._toolbar.attachEvent('onselectstart',this._cancelEvent);this._element.parentNode.insertBefore(this._toolbar,this._element);}\n   12  Microsoft.Mtps.Rendering.Behaviors.Ajax.Toolbar.prototype={_editor:null,_element:null,_toolbarImage:null,_toolbar:null,_cancelEvent:null,_onMouseDown:null,_onMouseUp:null,_isSelected:false,get_element:function(){return this._toolbar;},get_isSelected:function(){return this._isSelected;},$0:function($p0,$p1,$p2,$p3,$p4,$p5){if(!String.compare($p0,'FormatBlock',true)){$p1='<'+$p1+'>';}var $0=new Microsoft.Mtps.Rendering.Behaviors.Ajax.ImageButton(this._editor,$p0,$p1,$p2,this._toolbarImage,$p3,$p4,$p5);this._buttons[this._buttons.length]=$0;$0.render(this._toolbar);},$1:function($p0,$p1){var $0=new Microsoft.Mtps.Rendering.Behaviors.Ajax.Separator(this._toolbarImage,$p0,$p1);this._buttons[this._buttons.length]=$0;$0.render(this._toolbar);},$2:function(){window.event.returnValue=false;window.event.cancelBubble=true;},hide:function(){this._toolbar.style.display='none';},$3:function(){this._isSelected=true;},$4:function(){this._isSelected=false;},$5:function(){this._toolbar.style.width=this._element.offsetWidth+'px';var $enum1=this._buttons.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();$0.refresh();}},$6:function(){window.setTimeout(Delegate.create(this,this.$5),0);},$7:function(){this._toolbar.style.display='block';this.$5();},dispose:function(){if(!isNullOrUndefined(document.all)){this._toolbar.detachEvent('ondrag',this._cancelEvent);}else{this._toolbar.detachEvent('onmouseout',this._cancelEvent);}this._toolbar.detachEvent('onmousedown',this._onMouseDown);this._toolbar.detachEvent('onmouseup',this._onMouseUp);this._toolbar.detachEvent('onselectstart',this._cancelEvent);var $enum1=this._buttons.getEnumerator();while($enum1.moveNext()){var $0=$enum1.get_current();$0.dispose();}}}\n   13  Microsoft.Mtps.Rendering.Behaviors.Ajax.InlineEditor.createClass('Microsoft.Mtps.Rendering.Behaviors.Ajax.InlineEditor',Sys.UI.Behavior);Microsoft.Mtps.Rendering.Behaviors.Ajax.Button.createClass('Microsoft.Mtps.Rendering.Behaviors.Ajax.Button',null,Sys.IDisposable);Microsoft.Mtps.Rendering.Behaviors.Ajax.ImageButton.createClass('Microsoft.Mtps.Rendering.Behaviors.Ajax.ImageButton',Microsoft.Mtps.Rendering.Behaviors.Ajax.Button);Microsoft.Mtps.Rendering.Behaviors.Ajax.Separator.createClass('Microsoft.Mtps.Rendering.Behaviors.Ajax.Separator',Microsoft.Mtps.Rendering.Behaviors.Ajax.Button);Microsoft.Mtps.Rendering.Behaviors.Ajax.TextButton.createClass('Microsoft.Mtps.Rendering.Behaviors.Ajax.TextButton',Microsoft.Mtps.Rendering.Behaviors.Ajax.Button);Microsoft.Mtps.Rendering.Behaviors.Ajax.Toolbar.createClass('Microsoft.Mtps.Rendering.Behaviors.Ajax.Toolbar',null,Sys.IDisposable);\n\n/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/js_002.js:\n   77    TFly.IsHover=false;\n   78    \n   79:   TFly.className_ = TFly.className;\n   80:   TFly.DT.className_=TFly.DT.className\n   81    \n   82:   TFly.onmouseover = function(){TFly.IsHover=true; if(staticHover!=''){TFly.className=staticHover}; TFly_Popup(TFly,true);}\n   83:   TFly.onmouseout = function(){if(staticHover!=''){TFly.className=TFly.className_};TFly_Popup(TFly,false);TFly.DT.blur();TFly.IsHover=false;}\n   84  \n   85    if(document.all){\n   ..\n   92   \n   93   \n   94:   TFly.DT.onmouseover = function(){ TFly.IsHover=true; if(popupHover!=''){TFly.DT.className=popupHover;};TFly_Popup(TFly,true);}\n   95:   TFly.DT.onmouseout = function(){ if(popupHover!=''){TFly.DT.className=TFly.DT.className_};TFly_Popup(TFly,false);TFly.IsHover=false; }\n   96  \n   97    TFly_CallClientFunction(onInit, TFly)\n   ..\n  217      if (search_state == \"active\")\n  218      {\n  219:         theForm.elements[\"ctl00$NavigationTabStrip$SearchTextBox\"].className = \"TabStrip_SearchBoxActive\";\n  220      }\n  221  }\n  ...\n  228            theForm.elements[\"ctl00$NavigationTabStrip$HiddenText\"].value = search_state;\n  229            theForm.elements[\"ctl00$NavigationTabStrip$SearchTextBox\"].value = \"\";\n  230:           theForm.elements[\"ctl00$NavigationTabStrip$SearchTextBox\"].className = \"TabStrip_SearchBoxActive\";\n  231      }\n  232  }\n  ...\n  248        window.clearTimeout(label.timer)\n  249      }else{\n  250:       label.className_ = label.className;\n  251        label.innerHTML_ = label.innerHTML;\n  252:       label.className = 'WarningMessage';\n  253        label.innerHTML = text;\n  254      }\n  255  \n  256      label.timer = window.setTimeout(function(){\n  257:                             label.className = label.className_;\n  258                              label.innerHTML = label.innerHTML_;\n  259                              label.timer=null;\n  ...\n  383  function SelectSplitter()\n  384  {	// Required for Mozilla 1.0, Netscape 7.2\n  385: oContainerCell.className = \"OverlayShow\";\n  386  	if (browser == \"Netscape\")\n  387  	{	//	NS4: document.captureEvents(Event.MOUSEMOVE);\n  ...\n  448  function ReleaseSplitter()\n  449  {\n  450:     oContainerCell.className = \"OverlayHidden\";\n  451  \n  452      //  alert(\"sSplitterCookieX = \" + sSplitterCookieX);\n  ...\n  976  		{\n  977  			var thisCodeSnip = document.getElementById(langArray[i]);\n  978: 			if (thisCodeSnip.className == \"code\")\n  979  			{\n  980: 				thisCodeSnip.className = \"codeHide\";\n  981  			}\n  982  			else\n  983  			{\n  984: 				thisCodeSnip.className = \"code\";\n  985  			}\n  986  		}\n  ...\n 1546      var header =  $get(headerID);\n 1547      header.style.display = \"none\";\n 1548:     header.parentNode.className = \"wkViewerContainer_Edit\";\n 1549    }\n 1550    try\n ....\n 1560    var header =  $get(headerID);\n 1561    header.style.display = \"block\";\n 1562:   header.parentNode.className=\"wkViewerContainer\";\n 1563    var tagEditor = TagEditor_GetControl(blockID,'panel');\n 1564    if ( tagEditor )\n ....\n 1580    if(header.style.display == \"none\") val = false; // do not highlight in editMode\n 1581    if(val){\n 1582:     header.className+=\"Hover\";\n 1583:     text.className+=\"Hover\";\n 1584    }else{\n 1585:     header.className = header.className.replace(\"Hover\",\"\");\n 1586:     text.className = text.className.replace(\"Hover\",\"\");\n 1587    }\n 1588  }\n ....\n 1602    }\n 1603    $get(newItemPanelID).style.display = \"block\";\n 1604:   $get(buttonID).className=\"ccAddLinkDisabled\";\n 1605    $find(editorID).switchToEditMode();\n 1606    window.setTimeout(\"$get('\"+titleID+\"').focus()\",0);\n ....\n 1610  {\n 1611    $get(newItemPanelID).style.display = \"none\";\n 1612:   $get(buttonID).className=\"ccAddLink\";\n 1613    $get(labelID).innerText = \"\";\n 1614    $find(editorID).switchToViewMode();\n ....\n 1703          for (i = 0; i < currentObj.parentNode.childNodes.length; i++)\n 1704          {\n 1705:             currentObj.parentNode.childNodes[i].className = \"MultiViewPanelClosed\";\n 1706          }\n 1707:         currentObj.className = \"MultiViewPanelOpen\";\n 1708          currentDisplayPanel = strPanel;\n 1709      }\n\n/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/ms997577dtoc_data/WebResource.js:\n  390  }\n  391  function WebForm_AppendToClassName(element, className) {\n  392:     var current = element.className;\n  393      if (current) {\n  394          if (current.charAt(current.length - 1) != ' ') {\n  ...\n  400          current = className;\n  401      }\n  402:     element.className = current;\n  403  }\n  404  function WebForm_RemoveClassName(element, className) {\n  405:     var current = element.className;\n  406      if (current) {\n  407          if (current.substring(current.length - className.length - 1, current.length) == ' ' + className) {\n  408:             element.className = current.substring(0, current.length - className.length - 1);\n  409              return;\n  410          }\n  411          if (current == className) {\n  412:             element.className = \"\";\n  413              return;\n  414          }\n  415          var index = current.indexOf(' ' + className + ' ');\n  416          if (index != -1) {\n  417:             element.className = current.substring(0, index) + current.substring(index + className.length + 2, current.length);\n  418              return;\n  419          }\n  420          if (current.substring(0, className.length) == className + ' ') {\n  421:             element.className = current.substring(className.length + 1, current.length);\n  422          }\n  423      }\n\n/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/ScriptResource.js:\n    3  //----------------------------------------------------------\n    4  // MicrosoftAjax.js\n    5: Function.__typeName=\"Function\";Function.createCallback=function(b,a){return function(){var e=arguments.length;if(e>0){var d=[];for(var c=0;c<e;c++)d[c]=arguments[c];d[e]=a;return b.apply(this,d)}return b.call(this,a)}};Function.createDelegate=function(a,b){return function(){return b.apply(a,arguments)}};Function.emptyFunction=Function.emptyMethod=function(){};Error.__typeName=\"Error\";Error.create=function(d,b){var a=new Error(d);a.message=d;if(b)for(var c in b)a[c]=b[c];a.popStackFrame();return a};Error.argument=function(a,c){var b=\"Sys.ArgumentException: \"+(c?c:Sys.Res.argument);if(a)b+=\"\\n\"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:\"Sys.ArgumentException\",paramName:a});d.popStackFrame();return d};Error.argumentNull=function(a,c){var b=\"Sys.ArgumentNullException: \"+(c?c:Sys.Res.argumentNull);if(a)b+=\"\\n\"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:\"Sys.ArgumentNullException\",paramName:a});d.popStackFrame();return d};Error.argumentOutOfRange=function(c,a,d){var b=\"Sys.ArgumentOutOfRangeException: \"+(d?d:Sys.Res.argumentOutOfRange);if(c)b+=\"\\n\"+String.format(Sys.Res.paramName,c);if(typeof a!==\"undefined\"&&a!==null)b+=\"\\n\"+String.format(Sys.Res.actualValue,a);var e=Error.create(b,{name:\"Sys.ArgumentOutOfRangeException\",paramName:c,actualValue:a});e.popStackFrame();return e};Error.argumentType=function(d,c,b,e){var a=\"Sys.ArgumentTypeException: \";if(e)a+=e;else if(c&&b)a+=String.format(Sys.Res.argumentTypeWithTypes,c.getName(),b.getName());else a+=Sys.Res.argumentType;if(d)a+=\"\\n\"+String.format(Sys.Res.paramName,d);var f=Error.create(a,{name:\"Sys.ArgumentTypeException\",paramName:d,actualType:c,expectedType:b});f.popStackFrame();return f};Error.argumentUndefined=function(a,c){var b=\"Sys.ArgumentUndefinedException: \"+(c?c:Sys.Res.argumentUndefined);if(a)b+=\"\\n\"+String.format(Sys.Res.paramName,a);var d=Error.create(b,{name:\"Sys.ArgumentUndefinedException\",paramName:a});d.popStackFrame();return d};Error.format=function(a){var c=\"Sys.FormatException: \"+(a?a:Sys.Res.format),b=Error.create(c,{name:\"Sys.FormatException\"});b.popStackFrame();return b};Error.invalidOperation=function(a){var c=\"Sys.InvalidOperationException: \"+(a?a:Sys.Res.invalidOperation),b=Error.create(c,{name:\"Sys.InvalidOperationException\"});b.popStackFrame();return b};Error.notImplemented=function(a){var c=\"Sys.NotImplementedException: \"+(a?a:Sys.Res.notImplemented),b=Error.create(c,{name:\"Sys.NotImplementedException\"});b.popStackFrame();return b};Error.parameterCount=function(a){var c=\"Sys.ParameterCountException: \"+(a?a:Sys.Res.parameterCount),b=Error.create(c,{name:\"Sys.ParameterCountException\"});b.popStackFrame();return b};Error.prototype.popStackFrame=function(){if(typeof this.stack===\"undefined\"||this.stack===null||typeof this.fileName===\"undefined\"||this.fileName===null||typeof this.lineNumber===\"undefined\"||this.lineNumber===null)return;var a=this.stack.split(\"\\n\"),c=a[0],e=this.fileName+\":\"+this.lineNumber;while(typeof c!==\"undefined\"&&c!==null&&c.indexOf(e)===-1){a.shift();c=a[0]}var d=a[1];if(typeof d===\"undefined\"||d===null)return;var b=d.match(/@(.*):(\\d+)$/);if(typeof b===\"undefined\"||b===null)return;this.fileName=b[1];this.lineNumber=parseInt(b[2]);a.shift();this.stack=a.join(\"\\n\")};if(!window)this.window=this;window.Type=Function;window.__rootNamespaces=[];window.__registeredTypes={};Type.prototype.callBaseMethod=function(a,d,b){var c=this.getBaseMethod(a,d);if(!b)return c.apply(a);else return c.apply(a,b)};Type.prototype.getBaseMethod=function(d,c){var b=this.getBaseType();if(b){var a=b.prototype[c];return a instanceof Function?a:null}return null};Type.prototype.getBaseType=function(){return typeof this.__baseType===\"undefined\"?null:this.__baseType};Type.prototype.getInterfaces=function(){var a=[],b=this;while(b){var c=b.__interfaces;if(c)for(var d=0,f=c.length;d<f;d++){var e=c[d];if(!Array.contains(a,e))a[a.length]=e}b=b.__baseType}return a};Type.prototype.getName=function(){return typeof this.__typeName===\"undefined\"?\"\":this.__typeName};Type.prototype.implementsInterface=function(d){this.resolveInheritance();var c=d.getName(),a=this.__interfaceCache;if(a){var e=a[c];if(typeof e!==\"undefined\")return e}else a=this.__interfaceCache={};var b=this;while(b){var f=b.__interfaces;if(f)if(Array.indexOf(f,d)!==-1)return a[c]=true;b=b.__baseType}return a[c]=false};Type.prototype.inheritsFrom=function(b){this.resolveInheritance();var a=this.__baseType;while(a){if(a===b)return true;a=a.__baseType}return false};Type.prototype.initializeBase=function(a,b){this.resolveInheritance();if(this.__baseType)if(!b)this.__baseType.apply(a);else this.__baseType.apply(a,b);return a};Type.prototype.isImplementedBy=function(a){if(typeof a===\"undefined\"||a===null)return false;var b=Object.getType(a);return !!(b.implementsInterface&&b.implementsInterface(this))};Type.prototype.isInstanceOfType=function(b){if(typeof b===\"undefined\"||b===null)return false;if(b instanceof this)return true;var a=Object.getType(b);return !!(a===this)||a.inheritsFrom&&a.inheritsFrom(this)||a.implementsInterface&&a.implementsInterface(this)};Type.prototype.registerClass=function(c,b,d){this.prototype.constructor=this;this.__typeName=c;this.__class=true;if(b){this.__baseType=b;this.__basePrototypePending=true}if(!window.__classes)window.__classes={};window.__classes[c.toUpperCase()]=this;if(d){this.__interfaces=[];for(var a=2;a<arguments.length;a++){var e=arguments[a];this.__interfaces.push(e)}}return this};Type.prototype.registerInterface=function(a){this.prototype.constructor=this;this.__typeName=a;this.__interface=true;return this};Type.prototype.resolveInheritance=function(){if(this.__basePrototypePending){var b=this.__baseType;b.resolveInheritance();for(var a in b.prototype){var c=b.prototype[a];if(!this.prototype[a])this.prototype[a]=c}delete this.__basePrototypePending}};Type.getRootNamespaces=function(){return Array.clone(window.__rootNamespaces)};Type.isClass=function(a){if(typeof a===\"undefined\"||a===null)return false;return !!a.__class};Type.isInterface=function(a){if(typeof a===\"undefined\"||a===null)return false;return !!a.__interface};Type.isNamespace=function(a){if(typeof a===\"undefined\"||a===null)return false;return !!a.__namespace};Type.parse=function(typeName,ns){var fn;if(ns){if(!window.__classes)return null;fn=window.__classes[ns.getName().toUpperCase()+\".\"+typeName.toUpperCase()];return fn||null}if(!typeName)return null;if(!Type.__htClasses)Type.__htClasses={};fn=Type.__htClasses[typeName];if(!fn){fn=eval(typeName);Type.__htClasses[typeName]=fn}return fn};Type.registerNamespace=function(f){var d=window,c=f.split(\".\");for(var b=0;b<c.length;b++){var e=c[b],a=d[e];if(!a){a=d[e]={};if(b===0)window.__rootNamespaces[window.__rootNamespaces.length]=a;a.__namespace=true;a.__typeName=c.slice(0,b+1).join(\".\");a.getName=function(){return this.__typeName}}d=a}};Object.__typeName=\"Object\";Object.getType=function(b){var a=b.constructor;if(!a||typeof a!==\"function\"||!a.__typeName||a.__typeName===\"Object\")return Object;return a};Object.getTypeName=function(a){return Object.getType(a).getName()};Boolean.__typeName=\"Boolean\";Boolean.parse=function(b){var a=b.trim().toLowerCase();if(a===\"false\")return false;if(a===\"true\")return true};Date.__typeName=\"Date\";Date._jsParse=Date.parse;Date._appendPreOrPostMatch=function(e,b){var d=0,a=false;for(var c=0,g=e.length;c<g;c++){var f=e.charAt(c);switch(f){case \"'\":if(a)b.append(\"'\");else d++;a=false;break;case \"\\\\\":if(a)b.append(\"\\\\\");a=!a;break;default:b.append(f);a=false;break}}return d};Date._expandFormat=function(a,b){if(!b)b=\"F\";if(b.length===1)switch(b){case \"d\":return a.ShortDatePattern;case \"D\":return a.LongDatePattern;case \"t\":return a.ShortTimePattern;case \"T\":return a.LongTimePattern;case \"F\":return a.FullDateTimePattern;case \"M\":case \"m\":return a.MonthDayPattern;case \"s\":return a.SortableDateTimePattern;case \"Y\":case \"y\":return a.YearMonthPattern;default:throw Error.format(Sys.Res.formatInvalidString)}return b};Date._expandYear=function(c,a){if(a<100){var b=(new Date).getFullYear();a+=b-b%100;if(a>c.Calendar.TwoDigitYearMax)return a-100}return a};Date._getParseRegExp=function(b,e){if(!b._parseRegExp)b._parseRegExp={};else if(b._parseRegExp[e])return b._parseRegExp[e];var c=Date._expandFormat(b,e);c=c.replace(/([\\^\\$\\.\\*\\+\\?\\|\\[\\]\\(\\)\\{\\}])/g,\"\\\\\\\\$1\");var a=new Sys.StringBuilder(\"^\"),j=[],f=0,i=0,h=Date._getTokenRegExp(),d;while((d=h.exec(c))!==null){var l=c.slice(f,d.index);f=h.lastIndex;i+=Date._appendPreOrPostMatch(l,a);if(i%2===1){a.append(d[0]);continue}switch(d[0]){case \"dddd\":case \"ddd\":case \"MMMM\":case \"MMM\":a.append(\"(\\\\D+)\");break;case \"tt\":case \"t\":a.append(\"(\\\\D*)\");break;case \"yyyy\":a.append(\"(\\\\d{4})\");break;case \"fff\":a.append(\"(\\\\d{3})\");break;case \"ff\":a.append(\"(\\\\d{2})\");break;case \"f\":a.append(\"(\\\\d)\");break;case \"dd\":case \"d\":case \"MM\":case \"M\":case \"yy\":case \"y\":case \"HH\":case \"H\":case \"hh\":case \"h\":case \"mm\":case \"m\":case \"ss\":case \"s\":a.append(\"(\\\\d\\\\d?)\");break;case \"zzz\":a.append(\"([+-]?\\\\d\\\\d?:\\\\d{2})\");break;case \"zz\":case \"z\":a.append(\"([+-]?\\\\d\\\\d?)\");break}Array.add(j,d[0])}Date._appendPreOrPostMatch(c.slice(f),a);a.append(\"$\");var k=a.toString().replace(/\\s+/g,\"\\\\s+\"),g={\"regExp\":k,\"groups\":j};b._parseRegExp[e]=g;return g};Date._getTokenRegExp=function(){return /dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z/g};Date.localeParse=function(a){return Date._parse(a,Sys.CultureInfo.CurrentCulture,arguments)};Date.parse=function(a){return Date._parse(a,Sys.CultureInfo.InvariantCulture,arguments)};Date._parse=function(g,c,h){var e=false;for(var a=1,i=h.length;a<i;a++){var f=h[a];if(f){e=true;var b=Date._parseExact(g,f,c);if(b)return b}}if(!e){var d=c._getDateTimeFormats();for(var a=0,i=d.length;a<i;a++){var b=Date._parseExact(g,d[a],c);if(b)return b}}throw Error.format(Sys.Res.formatBadDate)};Date._parseExact=function(s,x,j){s=s.trim();var m=j.dateTimeFormat,u=Date._getParseRegExp(m,x),w=(new RegExp(u.regExp)).exec(s);if(w!==null){var v=u.groups,f=null,c=null,h=null,g=null,d=0,n=0,o=0,e=0,k=null,r=false;for(var p=0,y=v.length;p<y;p++){var a=w[p+1];if(a)switch(v[p]){case \"dd\":case \"d\":h=Date._parseInt(a);if(h<1||h>31)return null;break;case \"MMMM\":c=j._getMonthIndex(a);if(c<0||c>11)return null;break;case \"MMM\":c=j._getAbbrMonthIndex(a);if(c<0||c>11)return null;break;case \"M\":case \"MM\":var c=Date._parseInt(a)-1;if(c<0||c>11)return null;break;case \"y\":case \"yy\":f=Date._expandYear(m,Date._parseInt(a));if(f<0||f>9999)return null;break;case \"yyyy\":f=Date._parseInt(a);if(f<0||f>9999)return null;break;case \"h\":case \"hh\":d=Date._parseInt(a);if(d===12)d=0;if(d<0||d>11)return null;break;case \"H\":case \"HH\":d=Date._parseInt(a);if(d<0||d>23)return null;break;case \"m\":case \"mm\":n=Date._parseInt(a);if(n<0||n>59)return null;break;case \"s\":case \"ss\":o=Date._parseInt(a);if(o<0||o>59)return null;break;case \"tt\":case \"t\":var t=a.toUpperCase();r=t===m.PMDesignator.toUpperCase();if(!r&&t!==m.AMDesignator.toUpperCase())return null;break;case \"f\":e=Date._parseInt(a)*100;if(e<0||e>999)return null;break;case \"ff\":e=Date._parseInt(a)*10;if(e<0||e>999)return null;break;case \"fff\":e=Date._parseInt(a);if(e<0||e>999)return null;break;case \"dddd\":g=j._getDayIndex(a);if(g<0||g>6)return null;break;case \"ddd\":g=j._getAbbrDayIndex(a);if(g<0||g>6)return null;break;case \"zzz\":var q=a.split(/:/);if(q.length!==2)return null;var i=Date._parseInt(q[0]);if(i<-12||i>13)return null;var l=Date._parseInt(q[1]);if(l<0||l>59)return null;k=i*60+(a.startsWith(\"-\")?-l:l);break;case \"z\":case \"zz\":var i=Date._parseInt(a);if(i<-12||i>13)return null;k=i*60;break}}var b=new Date;if(f===null)f=b.getYear();if(c===null)c=b.getMonth();if(h===null)h=b.getDate();b.setFullYear(f,c,h);if(b.getDate()!==h)return null;if(g!==null&&b.getDay()!==g)return null;if(r&&d<12)d+=12;b.setHours(d,n,o,e);if(k!==null){k+=b.getTimezoneOffset();b.setMinutes(b.getMinutes()-k)}return b}};Date._parseInt=function(a){return parseInt(a.replace(/^[\\s0]+(\\d+)$/,\"$1\"))};Date.prototype.format=function(a){return this._toFormattedString(a,Sys.CultureInfo.InvariantCulture)};Date.prototype.localeFormat=function(a){return this._toFormattedString(a,Sys.CultureInfo.CurrentCulture)};Date.prototype._toFormattedString=function(e,h){if(!e||e.length===0||e===\"i\")if(h&&h.name.length>0)return this.toLocaleString();else return this.toString();var d=h.dateTimeFormat;e=Date._expandFormat(d,e);var a=new Sys.StringBuilder,b;function c(a){if(a<10)return \"0\"+a;return a.toString()}function g(a){if(a<10)return \"00\"+a;if(a<100)return \"0\"+a;return a.toString()}var j=0,i=Date._getTokenRegExp();for(;true;){var l=i.lastIndex,f=i.exec(e),k=e.slice(l,f?f.index:e.length);j+=Date._appendPreOrPostMatch(k,a);if(!f)break;if(j%2===1){a.append(f[0]);continue}switch(f[0]){case \"dddd\":a.append(d.DayNames[this.getDay()]);break;case \"ddd\":a.append(d.AbbreviatedDayNames[this.getDay()]);break;case \"dd\":a.append(c(this.getDate()));break;case \"d\":a.append(this.getDate());break;case \"MMMM\":a.append(d.MonthNames[this.getMonth()]);break;case \"MMM\":a.append(d.AbbreviatedMonthNames[this.getMonth()]);break;case \"MM\":a.append(c(this.getMonth()+1));break;case \"M\":a.append(this.getMonth()+1);break;case \"yyyy\":a.append(this.getFullYear());break;case \"yy\":a.append(c(this.getFullYear()%100));break;case \"y\":a.append(this.getFullYear()%100);break;case \"hh\":b=this.getHours()%12;if(b===0)b=12;a.append(c(b));break;case \"h\":b=this.getHours()%12;if(b===0)b=12;a.append(b);break;case \"HH\":a.append(c(this.getHours()));break;case \"H\":a.append(this.getHours());break;case \"mm\":a.append(c(this.getMinutes()));break;case \"m\":a.append(this.getMinutes());break;case \"ss\":a.append(c(this.getSeconds()));break;case \"s\":a.append(this.getSeconds());break;case \"tt\":a.append(this.getHours()<12?d.AMDesignator:d.PMDesignator);break;case \"t\":a.append((this.getHours()<12?d.AMDesignator:d.PMDesignator).charAt(0));break;case \"f\":a.append(g(this.getMilliseconds()).charAt(0));break;case \"ff\":a.append(g(this.getMilliseconds()).substr(0,2));break;case \"fff\":a.append(g(this.getMilliseconds()));break;case \"z\":b=this.getTimezoneOffset()/60;a.append((b>=0?\"+\":\"-\")+Math.floor(Math.abs(b)));break;case \"zz\":b=this.getTimezoneOffset()/60;a.append((b>=0?\"+\":\"-\")+c(Math.floor(Math.abs(b))));break;case \"zzz\":b=this.getTimezoneOffset()/60;a.append((b>=0?\"+\":\"-\")+c(Math.floor(Math.abs(b)))+d.TimeSeparator+c(Math.abs(this.getTimezoneOffset()%60)));break}}return a.toString()};Number.__typeName=\"Number\";Number.localeParse=function(a){return Number._parse(a,Sys.CultureInfo.CurrentCulture)};Number.parse=function(a){return Number._parse(a,Sys.CultureInfo.InvariantCulture)};Number._parse=function(l,k){var a=l.trim();if(a.match(/infinity/i)!==null)return parseFloat(a);if(a.match(/^0x[a-f0-9]+$/i)!==null)return parseInt(a);var g=k.numberFormat,c=g.NumberDecimalSeparator,f=g.NumberGroupSeparator,j=new RegExp(\"^[+-]?[\\\\d\\\\\"+f+\"]*\\\\\"+c+\"?\\\\d*([eE][+-]?\\\\d+)?$\");if(!a.match(j))throw Error.format(Sys.Res.formatInvalidString);var i=new RegExp(\"\\\\\"+c+\"|\\\\\"+f,\"g\"),b=new Sys.StringBuilder(\"\"),d=0,e=null;while((e=i.exec(a))!==null){b.append(a.slice(d,e.index));if(e[0]===c)b.append(\".\");d=i.lastIndex}b.append(a.slice(d));var h=parseFloat(b);if(isNaN(h))throw Error.format(Sys.Res.formatInvalidString);return h};Number.prototype.format=function(a){return this._toFormattedString(a,Sys.CultureInfo.InvariantCulture)};Number.prototype.localeFormat=function(a){return this._toFormattedString(a,Sys.CultureInfo.CurrentCulture)};Number.prototype._toFormattedString=function(d,j){if(!d||d.length===0||d===\"i\")if(j&&j.name.length>0)return this.toLocaleString();else return this.toString();var q=[\"n %\",\"n%\",\"%n\"],p=[\"-n %\",\"-n%\",\"-%n\"],r=[\"(n)\",\"-n\",\"- n\",\"n-\",\"n -\"],o=[\"$n\",\"n$\",\"$ n\",\"n $\"],n=[\"($n)\",\"-$n\",\"$-n\",\"$n-\",\"(n$)\",\"-n$\",\"n-$\",\"n$-\",\"-n $\",\"-$ n\",\"n $-\",\"$ n-\",\"$ -n\",\"n- $\",\"($ n)\",\"(n $)\"];function i(p,k,j,l,o){var e=j[0],g=1,c=p.toString(),a=\"\",m=\"\",i=c.split(\".\");if(i.length>1){c=i[0];a=i[1];var h=a.split(/e/i);if(h.length>1){a=h[0];m=\"e\"+h[1]}}if(k>0){var f=a.length-k;if(f>0)a=a.slice(0,k);else if(f<0)for(var n=0;n<Math.abs(f);n++)a+=\"0\";a=o+a}else a=\"\";a+=m;var b=c.length-1,d=\"\";while(b>=0){if(e===0||e>b)if(d.length>0)return c.slice(0,b+1)+l+d+a;else return c.slice(0,b+1)+a;if(d.length>0)d=c.slice(b-e+1,b+1)+l+d;else d=c.slice(b-e+1,b+1);b-=e;if(g<j.length){e=j[g];g++}}return c.slice(0,b+1)+l+d+a}var a=j.numberFormat,e=Math.abs(this);if(!d)d=\"D\";var b=-1;if(d.length>1)b=parseInt(d.slice(1));var c;switch(d.charAt(0)){case \"d\":case \"D\":c=\"n\";if(b!==-1){var g=\"\"+e,k=b-g.length;if(k>0)for(var m=0;m<k;m++)g=\"0\"+g;e=g}if(this<0)e=-e;break;case \"c\":case \"C\":if(this<0)c=n[a.CurrencyNegativePattern];else c=o[a.CurrencyPositivePattern];if(b===-1)b=a.CurrencyDecimalDigits;e=i(Math.abs(this),b,a.CurrencyGroupSizes,a.CurrencyGroupSeparator,a.CurrencyDecimalSeparator);break;case \"n\":case \"N\":if(this<0)c=r[a.NumberNegativePattern];else c=\"n\";if(b===-1)b=a.NumberDecimalDigits;e=i(Math.abs(this),b,a.NumberGroupSizes,a.NumberGroupSeparator,a.NumberDecimalSeparator);break;case \"p\":case \"P\":if(this<0)c=p[a.PercentNegativePattern];else c=q[a.PercentPositivePattern];if(b===-1)b=a.PercentDecimalDigits;e=i(Math.abs(this),b,a.PercentGroupSizes,a.PercentGroupSeparator,a.PercentDecimalSeparator);break;default:throw Error.format(Sys.Res.formatBadFormatSpecifier)}var l=/n|\\$|-|%/g,f=\"\";for(;true;){var s=l.lastIndex,h=l.exec(c);f+=c.slice(s,h?h.index:c.length);if(!h)break;switch(h[0]){case \"n\":f+=e;break;case \"$\":f+=a.CurrencySymbol;break;case \"-\":f+=a.NegativeSign;break;case \"%\":f+=a.PercentSymbol;break}}return f};RegExp.__typeName=\"RegExp\";Array.__typeName=\"Array\";Array.add=Array.enqueue=function(a,b){a[a.length]=b};Array.addRange=function(a,b){a.push.apply(a,b)};Array.clear=function(a){a.length=0};Array.clone=function(a){if(a.length===1)return [a[0]];else return Array.apply(null,a)};Array.contains=function(a,b){return Array.indexOf(a,b)>=0};Array.dequeue=function(a){return a.shift()};Array.forEach=function(b,e,d){for(var a=0,f=b.length;a<f;a++){var c=b[a];if(typeof c!==\"undefined\")e.call(d,c,a,b)}};Array.indexOf=function(d,e,a){if(typeof e===\"undefined\")return -1;var c=d.length;if(c!==0){a=a-0;if(isNaN(a))a=0;else{if(isFinite(a))a=a-a%1;if(a<0)a=Math.max(0,c+a)}for(var b=a;b<c;b++)if(typeof d[b]!==\"undefined\"&&d[b]===e)return b}return -1};Array.insert=function(a,b,c){a.splice(b,0,c)};Array.parse=function(value){if(!value)return [];return eval(value)};Array.remove=function(b,c){var a=Array.indexOf(b,c);if(a>=0)b.splice(a,1);return a>=0};Array.removeAt=function(a,b){a.splice(b,1)};String.__typeName=\"String\";String.prototype.endsWith=function(a){return this.substr(this.length-a.length)===a};String.prototype.startsWith=function(a){return this.substr(0,a.length)===a};String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,\"\")};String.prototype.trimEnd=function(){return this.replace(/\\s+$/,\"\")};String.prototype.trimStart=function(){return this.replace(/^\\s+/,\"\")};String.format=function(){return String._toFormattedString(false,arguments)};String.localeFormat=function(){return String._toFormattedString(true,arguments)};String._toFormattedString=function(l,j){var c=\"\",e=j[0];for(var a=0;true;){var f=e.indexOf(\"{\",a),d=e.indexOf(\"}\",a);if(f<0&&d<0){c+=e.slice(a);break}if(d>0&&(d<f||f<0)){c+=e.slice(a,d+1);a=d+2;continue}c+=e.slice(a,f);a=f+1;if(e.charAt(a)===\"{\"){c+=\"{\";a++;continue}if(d<0)break;var h=e.substring(a,d),g=h.indexOf(\":\"),k=parseInt(g<0?h:h.substring(0,g))+1,i=g<0?\"\":h.substring(g+1),b=j[k];if(typeof b===\"undefined\"||b===null)b=\"\";if(b.toFormattedString)c+=b.toFormattedString(i);else if(l&&b.localeFormat)c+=b.localeFormat(i);else if(b.format)c+=b.format(i);else c+=b.toString();a=d+1}return c};Type.registerNamespace(\"Sys\");Sys.IDisposable=function(){};Sys.IDisposable.prototype={};Sys.IDisposable.registerInterface(\"Sys.IDisposable\");Sys.StringBuilder=function(a){this._parts=typeof a!==\"undefined\"&&a!==null&&a!==\"\"?[a.toString()]:[];this._value={}};Sys.StringBuilder.prototype={append:function(a){if(typeof a!==\"undefined\"&&a!==null&&a!==\"\"){this._parts[this._parts.length]=a.toString();this._value={}}},appendLine:function(a){if(typeof a!==\"undefined\"&&a!==null&&a!==\"\")this._parts[this._parts.length]=a.toString();this._parts[this._parts.length]=\"\\r\\n\";this._value={}},clear:function(){this._parts=[];this._value={}},isEmpty:function(){return this._parts.length===0},toString:function(a){a=a||\"\";if(typeof this._value[a]===\"undefined\")this._value[a]=this._parts.join(a);return this._value[a]}};Sys.StringBuilder.registerClass(\"Sys.StringBuilder\");if(!window.XMLHttpRequest)window.XMLHttpRequest=function(){var b=[\"Msxml2.XMLHTTP\",\"Microsoft.XMLHTTP\"];for(var a=0;a<b.length;a++)try{var c=new ActiveXObject(b[a]);return c}catch(d){}return null};Sys.Browser={};Sys.Browser.InternetExplorer={};Sys.Browser.Firefox={};Sys.Browser.Safari={};Sys.Browser.Opera={};Sys.Browser.agent=null;Sys.Browser.hasDebuggerStatement=false;Sys.Browser.name=navigator.appName;Sys.Browser.version=parseFloat(navigator.appVersion);if(navigator.userAgent.indexOf(\" MSIE \")>-1){Sys.Browser.agent=Sys.Browser.InternetExplorer;Sys.Browser.version=parseFloat(navigator.userAgent.match(/MSIE (\\d+\\.\\d+)/)[1]);Sys.Browser.hasDebuggerStatement=true}else if(navigator.userAgent.indexOf(\" Firefox/\")>-1){Sys.Browser.agent=Sys.Browser.Firefox;Sys.Browser.version=parseFloat(navigator.userAgent.match(/Firefox\\/(\\d+\\.\\d+)/)[1]);Sys.Browser.name=\"Firefox\";Sys.Browser.hasDebuggerStatement=true}else if(navigator.userAgent.indexOf(\" Safari/\")>-1){Sys.Browser.agent=Sys.Browser.Safari;Sys.Browser.version=parseFloat(navigator.userAgent.match(/Safari\\/(\\d+\\.\\d+)/)[1]);Sys.Browser.name=\"Safari\"}else if(navigator.userAgent.indexOf(\"Opera/\")>-1)Sys.Browser.agent=Sys.Browser.Opera;Type.registerNamespace(\"Sys.UI\");Sys._Debug=function(){};Sys._Debug.prototype={_appendConsole:function(a){if(typeof Debug!==\"undefined\"&&Debug.writeln)Debug.writeln(a);if(window.console&&window.console.log)window.console.log(a);if(window.opera)window.opera.postError(a);if(window.debugService)window.debugService.trace(a)},_appendTrace:function(b){var a=document.getElementById(\"TraceConsole\");if(a&&a.tagName.toUpperCase()===\"TEXTAREA\")a.value+=b+\"\\n\"},assert:function(c,a,b){if(!c){a=b&&this.assert.caller?String.format(Sys.Res.assertFailedCaller,a,this.assert.caller):String.format(Sys.Res.assertFailed,a);if(confirm(String.format(Sys.Res.breakIntoDebugger,a)))this.fail(a)}},clearTrace:function(){var a=document.getElementById(\"TraceConsole\");if(a&&a.tagName.toUpperCase()===\"TEXTAREA\")a.value=\"\"},fail:function(message){this._appendConsole(message);if(Sys.Browser.hasDebuggerStatement)eval(\"debugger\")},trace:function(a){this._appendConsole(a);this._appendTrace(a)},traceDump:function(a,b){var c=this._traceDump(a,b,true)},_traceDump:function(a,c,f,b,d){c=c?c:\"traceDump\";b=b?b:\"\";if(a===null){this.trace(b+c+\": null\");return}switch(typeof a){case \"undefined\":this.trace(b+c+\": Undefined\");break;case \"number\":case \"string\":case \"boolean\":this.trace(b+c+\": \"+a);break;default:if(Date.isInstanceOfType(a)||RegExp.isInstanceOfType(a)){this.trace(b+c+\": \"+a.toString());break}if(!d)d=[];else if(Array.contains(d,a)){this.trace(b+c+\": ...\");return}Array.add(d,a);if(a==window||a===document||window.HTMLElement&&a instanceof HTMLElement||typeof a.nodeName===\"string\"){var k=a.tagName?a.tagName:\"DomElement\";if(a.id)k+=\" - \"+a.id;this.trace(b+c+\" {\"+k+\"}\")}else{var i=Object.getTypeName(a);this.trace(b+c+(typeof i===\"string\"?\" {\"+i+\"}\":\"\"));if(b===\"\"||f){b+=\"    \";var e,j,l,g,h;if(Array.isInstanceOfType(a)){j=a.length;for(e=0;e<j;e++)this._traceDump(a[e],\"[\"+e+\"]\",f,b,d)}else for(g in a){h=a[g];if(!Function.isInstanceOfType(h))this._traceDump(h,g,f,b,d)}}}Array.remove(d,a)}}};Sys._Debug.registerClass(\"Sys._Debug\");window.debug=new Sys._Debug;window.debug.isDebug=false;function Sys$Enum$parse(c,e){var a,b,i;if(e){a=this.__lowerCaseValues;if(!a){this.__lowerCaseValues=a={};var g=this.prototype;for(var f in g)a[f.toLowerCase()]=g[f]}}else a=this.prototype;if(!this.__flags){i=e?c.toLowerCase():c;b=a[i.trim()];if(typeof b!==\"number\")throw Error.argument(\"value\",String.format(Sys.Res.enumInvalidValue,c,this.__typeName));return b}else{var h=(e?c.toLowerCase():c).split(\",\"),j=0;for(var d=h.length-1;d>=0;d--){var k=h[d].trim();b=a[k];if(typeof b!==\"number\")throw Error.argument(\"value\",String.format(Sys.Res.enumInvalidValue,c.split(\",\")[d].trim(),this.__typeName));j|=b}return j}}function Sys$Enum$toString(c){if(typeof c===\"undefined\"||c===null)return this.__string;var d=this.prototype,a;if(!this.__flags||c===0){for(a in d)if(d[a]===c)return a}else{var b=this.__sortedValues;if(!b){b=[];for(a in d)b[b.length]={key:a,value:d[a]};b.sort(function(a,b){return a.value-b.value});this.__sortedValues=b}var e=[],g=c;for(a=b.length-1;a>=0;a--){var h=b[a],f=h.value;if(f===0)continue;if((f&c)===f){e[e.length]=h.key;g-=f;if(g===0)break}}if(e.length&&g===0)return e.reverse().join(\", \")}return \"\"}Type.prototype.registerEnum=function(c,b){for(var a in this.prototype)this[a]=this.prototype[a];this.__typeName=c;this.parse=Sys$Enum$parse;this.__string=this.toString();this.toString=Sys$Enum$toString;this.__flags=b;this.__enum=true};Type.isEnum=function(a){if(typeof a===\"undefined\"||a===null)return false;return !!a.__enum};Type.isFlags=function(a){if(typeof a===\"undefined\"||a===null)return false;return !!a.__flags};Sys.EventHandlerList=function(){this._list={}};Sys.EventHandlerList.prototype={addHandler:function(b,a){Array.add(this._getEvent(b,true),a)},removeHandler:function(c,b){var a=this._getEvent(c);if(!a)return;Array.remove(a,b)},getHandler:function(b){var a=this._getEvent(b);if(!a||a.length===0)return null;a=Array.clone(a);if(!a._handler)a._handler=function(c,d){for(var b=0,e=a.length;b<e;b++)a[b](c,d)};return a._handler},_getEvent:function(a,b){if(!this._list[a]){if(!b)return null;this._list[a]=[]}return this._list[a]}};Sys.EventHandlerList.registerClass(\"Sys.EventHandlerList\");Sys.EventArgs=function(){};Sys.EventArgs.registerClass(\"Sys.EventArgs\");Sys.EventArgs.Empty=new Sys.EventArgs;Sys.CancelEventArgs=function(){Sys.CancelEventArgs.initializeBase(this);this._cancel=false};Sys.CancelEventArgs.prototype={get_cancel:function(){return this._cancel},set_cancel:function(a){this._cancel=a}};Sys.CancelEventArgs.registerClass(\"Sys.CancelEventArgs\",Sys.EventArgs);Sys.INotifyPropertyChange=function(){};Sys.INotifyPropertyChange.prototype={};Sys.INotifyPropertyChange.registerInterface(\"Sys.INotifyPropertyChange\");Sys.PropertyChangedEventArgs=function(a){Sys.PropertyChangedEventArgs.initializeBase(this);this._propertyName=a};Sys.PropertyChangedEventArgs.prototype={get_propertyName:function(){return this._propertyName}};Sys.PropertyChangedEventArgs.registerClass(\"Sys.PropertyChangedEventArgs\",Sys.EventArgs);Sys.INotifyDisposing=function(){};Sys.INotifyDisposing.prototype={};Sys.INotifyDisposing.registerInterface(\"Sys.INotifyDisposing\");Sys.Component=function(){if(Sys.Application)Sys.Application.registerDisposableObject(this)};Sys.Component.prototype={_id:null,_initialized:false,_updating:false,get_events:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_id:function(){return this._id},set_id:function(a){this._id=a},get_isInitialized:function(){return this._initialized},get_isUpdating:function(){return this._updating},add_disposing:function(a){this.get_events().addHandler(\"disposing\",a)},remove_disposing:function(a){this.get_events().removeHandler(\"disposing\",a)},add_propertyChanged:function(a){this.get_events().addHandler(\"propertyChanged\",a)},remove_propertyChanged:function(a){this.get_events().removeHandler(\"propertyChanged\",a)},beginUpdate:function(){this._updating=true},dispose:function(){if(this._events){var a=this._events.getHandler(\"disposing\");if(a)a(this,Sys.EventArgs.Empty)}delete this._events;Sys.Application.unregisterDisposableObject(this);Sys.Application.removeComponent(this)},endUpdate:function(){this._updating=false;if(!this._initialized)this.initialize();this.updated()},initialize:function(){this._initialized=true},raisePropertyChanged:function(b){if(!this._events)return;var a=this._events.getHandler(\"propertyChanged\");if(a)a(this,new Sys.PropertyChangedEventArgs(b))},updated:function(){}};Sys.Component.registerClass(\"Sys.Component\",null,Sys.IDisposable,Sys.INotifyPropertyChange,Sys.INotifyDisposing);function Sys$Component$_setProperties(a,i){var d,j=Object.getType(a),e=j===Object||j===Sys.UI.DomElement,h=Sys.Component.isInstanceOfType(a)&&!a.get_isUpdating();if(h)a.beginUpdate();for(var c in i){var b=i[c],f=e?null:a[\"get_\"+c];if(e||typeof f!==\"function\"){var k=a[c];if(!b||typeof b!==\"object\"||e&&!k)a[c]=b;else Sys$Component$_setProperties(k,b)}else{var l=a[\"set_\"+c];if(typeof l===\"function\")l.apply(a,[b]);else if(b instanceof Array){d=f.apply(a);for(var g=0,m=d.length,n=b.length;g<n;g++,m++)d[m]=b[g]}else if(typeof b===\"object\"&&Object.getType(b)===Object){d=f.apply(a);Sys$Component$_setProperties(d,b)}}}if(h)a.endUpdate()}function Sys$Component$_setReferences(c,b){for(var a in b){var e=c[\"set_\"+a],d=$find(b[a]);e.apply(c,[d])}}var $create=Sys.Component.create=function(h,f,d,c,g){var a=g?new h(g):new h,b=Sys.Application,i=b.get_isCreatingComponents();a.beginUpdate();if(f)Sys$Component$_setProperties(a,f);if(d)for(var e in d)a[\"add_\"+e](d[e]);b._createdComponents[b._createdComponents.length]=a;if(a.get_id())b.addComponent(a);if(i)if(c)b._addComponentToSecondPass(a,c);else a.endUpdate();else{if(c)Sys$Component$_setReferences(a,c);a.endUpdate()}return a};Sys.UI.MouseButton=function(){throw Error.notImplemented()};Sys.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};Sys.UI.MouseButton.registerEnum(\"Sys.UI.MouseButton\");Sys.UI.Key=function(){throw Error.notImplemented()};Sys.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Sys.UI.Key.registerEnum(\"Sys.UI.Key\");Sys.UI.DomEvent=function(c){var a=c;this.rawEvent=a;this.altKey=a.altKey;if(typeof a.button!==\"undefined\")this.button=typeof a.which!==\"undefined\"?a.button:a.button===4?Sys.UI.MouseButton.middleButton:a.button===2?Sys.UI.MouseButton.rightButton:Sys.UI.MouseButton.leftButton;if(a.type===\"keypress\")this.charCode=a.charCode||a.keyCode;else if(a.keyCode&&a.keyCode===46)this.keyCode=127;else this.keyCode=a.keyCode;this.clientX=a.clientX;this.clientY=a.clientY;this.ctrlKey=a.ctrlKey;this.target=a.target?a.target:a.srcElement;if(this.target){var b=Sys.UI.DomElement.getLocation(this.target);this.offsetX=typeof a.offsetX!==\"undefined\"?a.offsetX:window.pageXOffset+(a.clientX||0)-b.x;this.offsetY=typeof a.offsetY!==\"undefined\"?a.offsetY:window.pageYOffset+(a.clientY||0)-b.y}this.screenX=a.screenX;this.screenY=a.screenY;this.shiftKey=a.shiftKey;this.type=a.type};Sys.UI.DomEvent.prototype={preventDefault:function(){if(this.rawEvent.preventDefault)this.rawEvent.preventDefault();else if(window.event)window.event.returnValue=false},stopPropagation:function(){if(this.rawEvent.stopPropagation)this.rawEvent.stopPropagation();else if(window.event)window.event.cancelBubble=true}};Sys.UI.DomEvent.registerClass(\"Sys.UI.DomEvent\");var $addHandler=Sys.UI.DomEvent.addHandler=function(a,d,e){if(!a._events)a._events={};var c=a._events[d];if(!c)a._events[d]=c=[];var b;if(a.addEventListener){b=function(b){return e.call(a,new Sys.UI.DomEvent(b))};a.addEventListener(d,b,false)}else if(a.attachEvent){b=function(){return e.call(a,new Sys.UI.DomEvent(window.event))};a.attachEvent(\"on\"+d,b)}c[c.length]={handler:e,browserHandler:b}},$addHandlers=Sys.UI.DomEvent.addHandlers=function(e,d,c){for(var b in d){var a=d[b];if(c)a=Function.createDelegate(c,a);$addHandler(e,b,a)}},$clearHandlers=Sys.UI.DomEvent.clearHandlers=function(a){if(a._events){var e=a._events;for(var b in e){var d=e[b];for(var c=d.length-1;c>=0;c--)$removeHandler(a,b,d[c].handler)}a._events=null}},$removeHandler=Sys.UI.DomEvent.removeHandler=function(a,e,f){var d=null,c=a._events[e],d=null;for(var b=0,g=c.length;b<g;b++)if(c[b].handler===f){d=c[b].browserHandler;break}if(a.removeEventListener)a.removeEventListener(e,d,false);else if(a.detachEvent)a.detachEvent(\"on\"+e,d);c.splice(b,1)};Sys.IContainer=function(){};Sys.IContainer.prototype={};Sys.IContainer.registerInterface(\"Sys.IContainer\");Sys.ScriptElementEventArgs=function(a){Sys.ScriptElementEventArgs.initializeBase(this);this._scriptElement=a};Sys.ScriptElementEventArgs.prototype={get_scriptElement:function(){return this._scriptElement}};Sys.ScriptElementEventArgs.registerClass(\"Sys.ScriptElementEventArgs\",Sys.CancelEventArgs);Sys._ScriptLoader=function(){this._scriptsToLoad=null;this._scriptLoadedDelegate=Function.createDelegate(this,this._scriptLoadedHandler)};Sys._ScriptLoader.prototype={dispose:function(){this._stopLoading();if(this._events)delete this._events;this._scriptLoadedDelegate=null},loadScripts:function(a,c,d,b){this._loading=true;this._allScriptsLoadedCallback=c;this._scriptLoadFailedCallback=d;this._scriptLoadTimeoutCallback=b;if(a>0)this._timeoutCookie=window.setTimeout(Function.createDelegate(this,this._scriptLoadTimeoutHandler),a*1000);this._loadScriptsInternal()},notifyScriptLoaded:function(){if(!this._loading)return;this._currentTask._notified++;if(Sys.Browser.agent===Sys.Browser.Safari)if(this._currentTask._notified===1)window.setTimeout(Function.createDelegate(this,function(){this._scriptLoadedHandler(this._currentTask.get_scriptElement(),true)}),0)},queueCustomScriptTag:function(a){if(!this._scriptsToLoad)this._scriptsToLoad=[];Array.add(this._scriptsToLoad,a)},queueScriptBlock:function(a){if(!this._scriptsToLoad)this._scriptsToLoad=[];Array.add(this._scriptsToLoad,{text:a})},queueScriptReference:function(a){if(!this._scriptsToLoad)this._scriptsToLoad=[];Array.add(this._scriptsToLoad,{src:a})},_createScriptElement:function(c){var a=document.createElement(\"SCRIPT\");a.type=\"text/javascript\";for(var b in c)a[b]=c[b];return a},_loadScriptsInternal:function(){if(this._scriptsToLoad&&this._scriptsToLoad.length>0){var b=Array.dequeue(this._scriptsToLoad),a=this._createScriptElement(b);if(a.text&&Sys.Browser.agent===Sys.Browser.Safari){a.innerHTML=a.text;delete a.text}if(typeof b.src===\"string\"){this._currentTask=new Sys._ScriptLoaderTask(a,this._scriptLoadedDelegate);this._currentTask.execute()}else{document.getElementsByTagName(\"HEAD\")[0].appendChild(a);Sys._ScriptLoader._clearScript(a);this._loadScriptsInternal()}}else{var c=this._allScriptsLoadedCallback;this._stopLoading();if(c)c(this)}},_raiseError:function(a){var c=this._scriptLoadFailedCallback,b=this._currentTask.get_scriptElement();this._stopLoading();if(c)c(this,b,a);else throw Sys._ScriptLoader._errorScriptLoadFailed(b.src,a)},_scriptLoadedHandler:function(a,b){if(b&&this._currentTask._notified)if(this._currentTask._notified>1)this._raiseError(true);else{Array.add(Sys._ScriptLoader._getLoadedScripts(),a.src);this._currentTask.dispose();this._currentTask=null;this._loadScriptsInternal()}else this._raiseError(false)},_scriptLoadTimeoutHandler:function(){var a=this._scriptLoadTimeoutCallback;this._stopLoading();if(a)a(this)},_stopLoading:function(){if(this._timeoutCookie){window.clearTimeout(this._timeoutCookie);this._timeoutCookie=null}if(this._currentTask){this._currentTask.dispose();this._currentTask=null}this._scriptsToLoad=null;this._loading=null;this._allScriptsLoadedCallback=null;this._scriptLoadFailedCallback=null;this._scriptLoadTimeoutCallback=null}};Sys._ScriptLoader.registerClass(\"Sys._ScriptLoader\",null,Sys.IDisposable);Sys._ScriptLoader.getInstance=function(){var a=Sys._ScriptLoader._activeInstance;if(!a)a=Sys._ScriptLoader._activeInstance=new Sys._ScriptLoader;return a};Sys._ScriptLoader.isScriptLoaded=function(b){var a=document.createElement(\"script\");a.src=b;return Array.contains(Sys._ScriptLoader._getLoadedScripts(),a.src)};Sys._ScriptLoader.readLoadedScripts=function(){if(!Sys._ScriptLoader._referencedScripts){var b=Sys._ScriptLoader._referencedScripts=[],c=document.getElementsByTagName(\"SCRIPT\");for(i=c.length-1;i>=0;i--){var d=c[i],a=d.src;if(a.length)if(!Array.contains(b,a))Array.add(b,a)}}};Sys._ScriptLoader._clearScript=function(a){if(!window.debug.isDebug)a.parentNode.removeChild(a)};Sys._ScriptLoader._errorScriptLoadFailed=function(b,d){var a;if(d)a=Sys.Res.scriptLoadMultipleCallbacks;else a=Sys.Res.scriptLoadFailed;var e=\"Sys.ScriptLoadFailedException: \"+String.format(a,b),c=Error.create(e,{name:\"Sys.ScriptLoadFailedException\",\"scriptUrl\":b});c.popStackFrame();return c};Sys._ScriptLoader._getLoadedScripts=function(){if(!Sys._ScriptLoader._referencedScripts){Sys._ScriptLoader._referencedScripts=[];Sys._ScriptLoader.readLoadedScripts()}return Sys._ScriptLoader._referencedScripts};Sys._ScriptLoaderTask=function(b,a){this._scriptElement=b;this._completedCallback=a;this._notified=0};Sys._ScriptLoaderTask.prototype={get_scriptElement:function(){return this._scriptElement},dispose:function(){if(this._disposed)return;this._disposed=true;this._removeScriptElementHandlers();Sys._ScriptLoader._clearScript(this._scriptElement);this._scriptElement=null},execute:function(){this._addScriptElementHandlers();document.getElementsByTagName(\"HEAD\")[0].appendChild(this._scriptElement)},_addScriptElementHandlers:function(){this._scriptLoadDelegate=Function.createDelegate(this,this._scriptLoadHandler);if(Sys.Browser.agent!==Sys.Browser.InternetExplorer){this._scriptElement.readyState=\"loaded\";$addHandler(this._scriptElement,\"load\",this._scriptLoadDelegate)}else $addHandler(this._scriptElement,\"readystatechange\",this._scriptLoadDelegate);this._scriptErrorDelegate=Function.createDelegate(this,this._scriptErrorHandler);$addHandler(this._scriptElement,\"error\",this._scriptErrorDelegate)},_removeScriptElementHandlers:function(){if(this._scriptLoadDelegate){var a=this.get_scriptElement();if(Sys.Browser.agent!==Sys.Browser.InternetExplorer)$removeHandler(a,\"load\",this._scriptLoadDelegate);else $removeHandler(a,\"readystatechange\",this._scriptLoadDelegate);$removeHandler(a,\"error\",this._scriptErrorDelegate);this._scriptErrorDelegate=null;this._scriptLoadDelegate=null}},_scriptErrorHandler:function(){if(this._disposed)return;this._completedCallback(this.get_scriptElement(),false)},_scriptLoadHandler:function(){if(this._disposed)return;var a=this.get_scriptElement();if(a.readyState!==\"loaded\"&&a.readyState!==\"complete\")return;var b=this;window.setTimeout(function(){b._completedCallback(a,true)},0)}};Sys._ScriptLoaderTask.registerClass(\"Sys._ScriptLoaderTask\",null,Sys.IDisposable);Sys.ApplicationLoadEventArgs=function(b,a){Sys.ApplicationLoadEventArgs.initializeBase(this);this._components=b;this._isPartialLoad=a};Sys.ApplicationLoadEventArgs.prototype={get_components:function(){return this._components},get_isPartialLoad:function(){return this._isPartialLoad}};Sys.ApplicationLoadEventArgs.registerClass(\"Sys.ApplicationLoadEventArgs\",Sys.EventArgs);Sys._Application=function(){Sys._Application.initializeBase(this);this._disposableObjects=[];this._components={};this._createdComponents=[];this._scriptLoadTimeoutSeconds=30;this._secondPassComponents=[];this._unloadHandlerDelegate=Function.createDelegate(this,this._unloadHandler);this._loadHandlerDelegate=Function.createDelegate(this,this._loadHandler);Sys.UI.DomEvent.addHandler(window,\"unload\",this._unloadHandlerDelegate);Sys.UI.DomEvent.addHandler(window,\"load\",this._loadHandlerDelegate)};Sys._Application.prototype={_creatingComponents:false,_disposing:false,get_isCreatingComponents:function(){return this._creatingComponents},get_scriptLoadTimeout:function(){return this._scriptLoadTimeoutSeconds},set_scriptLoadTimeout:function(a){this._scriptLoadTimeoutSeconds=a},add_load:function(a){this.get_events().addHandler(\"load\",a)},remove_load:function(a){this.get_events().removeHandler(\"load\",a)},add_loadTimedOut:function(a){this.get_events().addHandler(\"loadTimedOut\",a)},remove_loadTimedOut:function(a){this.get_events().removeHandler(\"loadTimedOut\",a)},add_scriptLoadFailed:function(a){this.get_events().addHandler(\"scriptLoadFailed\",a)},remove_scriptLoadFailed:function(a){this.get_events().removeHandler(\"scriptLoadFailed\",a)},add_init:function(a){if(this._initialized)a(this,Sys.EventArgs.Empty);else this.get_events().addHandler(\"init\",a)},remove_init:function(a){this.get_events().removeHandler(\"init\",a)},add_unload:function(a){this.get_events().addHandler(\"unload\",a)},remove_unload:function(a){this.get_events().removeHandler(\"unload\",a)},addComponent:function(a){this._components[a.get_id()]=a},beginCreateComponents:function(){this._creatingComponents=true},dispose:function(){if(!this._disposing){this._disposing=true;if(window.pageUnload)window.pageUnload(this,Sys.EventArgs.Empty);var c=this.get_events().getHandler(\"unload\");if(c)c(this,Sys.EventArgs.Empty);var b=Array.clone(this._disposableObjects);for(var a=0,e=b.length;a<e;a++)b[a].dispose();Array.clear(this._disposableObjects);Sys.UI.DomEvent.removeHandler(window,\"unload\",this._unloadHandlerDelegate);if(this._loadHandlerDelegate){Sys.UI.DomEvent.removeHandler(window,\"load\",this._loadHandlerDelegate);this._loadHandlerDelegate=null}var d=Sys._ScriptLoader.getInstance();if(d)d.dispose();Sys._Application.callBaseMethod(this,\"dispose\")}},endCreateComponents:function(){var b=this._secondPassComponents;for(var a=0,d=b.length;a<d;a++){var c=b[a].component;Sys$Component$_setReferences(c,b[a].references);c.endUpdate()}this._secondPassComponents=[];this._creatingComponents=false},findComponent:function(b,a){return a?Sys.IContainer.isInstanceOfType(a)?a.findComponent(b):a[b]||null:Sys.Application._components[b]||null},getComponents:function(){var a=[],b=this._components;for(var c in b)a[a.length]=b[c];return a},initialize:function(){if(!this._initialized&&!this._initializing){this._initializing=true;this._loadScripts()}},notifyScriptLoaded:function(){var a=Sys._ScriptLoader.getInstance();if(a)a.notifyScriptLoaded()},queueScriptReference:function(a){Sys._ScriptLoader.getInstance().queueScriptReference(a)},registerDisposableObject:function(a){if(!this._disposing)this._disposableObjects[this._disposableObjects.length]=a},raiseLoad:function(){var b=this.get_events().getHandler(\"load\"),a=new Sys.ApplicationLoadEventArgs(Array.clone(this._createdComponents),!this._initializing);if(b)b(this,a);if(window.pageLoad)window.pageLoad(this,a);this._createdComponents=[]},removeComponent:function(b){var a=b.get_id();if(a)delete this._components[a]},unregisterDisposableObject:function(a){if(!this._disposing)Array.remove(this._disposableObjects,a)},_addComponentToSecondPass:function(b,a){this._secondPassComponents[this._secondPassComponents.length]={component:b,references:a}},_allScriptsLoadedHandler:function(){window.setTimeout(Function.createDelegate(this,this._doInitialize),0)},_doInitialize:function(){if(this._disposing)return;Sys._Application.callBaseMethod(this,\"initialize\");var a=this.get_events().getHandler(\"init\");if(a){this.beginCreateComponents();a(this,Sys.EventArgs.Empty);this.endCreateComponents()}this.raiseLoad();this._initializing=false},_loadHandler:function(){if(this._loadHandlerDelegate){Sys.UI.DomEvent.removeHandler(window,\"load\",this._loadHandlerDelegate);this._loadHandlerDelegate=null}this.initialize()},_loadScripts:function(){Sys._ScriptLoader.getInstance().loadScripts(this.get_scriptLoadTimeout(),Function.createDelegate(this,this._allScriptsLoadedHandler),Function.createDelegate(this,this._scriptLoadFailedHandler),Function.createDelegate(this,this._scriptLoadTimeoutHandler))},_scriptLoadFailedHandler:function(f,a,e){if(this._disposing)return;var b=false,c=this.get_events().getHandler(\"scriptLoadFailed\");if(c){var d=new Sys.ScriptElementEventArgs(a);c(this,d);b=d.get_cancel()}if(!b)throw Sys._ScriptLoader._errorScriptLoadFailed(a.src,e)},_scriptLoadTimeoutHandler:function(){if(this._disposing)return;var a=false,b=this.get_events().getHandler(\"loadTimedOut\");if(b){var c=new Sys.CancelEventArgs;b(this,c);a=c.get_cancel()}if(!a)throw Sys._Application._errorApplicationLoadTimedOut()},_unloadHandler:function(){this.dispose()}};Sys._Application.registerClass(\"Sys._Application\",Sys.Component,Sys.IContainer);Sys._Application._errorApplicationLoadTimedOut=function(){var b=\"Sys.ApplicationLoadTimeoutException: \"+Sys.Res.appLoadTimedout,a=Error.create(b,{name:\"Sys.ApplicationLoadTimeoutException\"});a.popStackFrame();return a};Sys.Application=new Sys._Application;var $find=Sys.Application.findComponent;Type.registerNamespace(\"Sys.Net\");Sys.Net.WebRequestExecutor=function(){this._webRequest=null;this._resultObject=null};Sys.Net.WebRequestExecutor.prototype={get_webRequest:function(){return this._webRequest},_set_webRequest:function(a){this._webRequest=a},get_started:function(){throw Error.notImplemented()},get_responseAvailable:function(){throw Error.notImplemented()},get_timedOut:function(){throw Error.notImplemented()},get_aborted:function(){throw Error.notImplemented()},get_responseData:function(){throw Error.notImplemented()},get_statusCode:function(){throw Error.notImplemented()},get_statusText:function(){throw Error.notImplemented()},get_xml:function(){throw Error.notImplemented()},get_object:function(){if(!this._resultObject)this._resultObject=Sys.Serialization.JavaScriptSerializer.deserialize(this.get_responseData());return this._resultObject},executeRequest:function(){throw Error.notImplemented()},abort:function(){throw Error.notImplemented()},getResponseHeader:function(){throw Error.notImplemented()},getAllResponseHeaders:function(){throw Error.notImplemented()}};Sys.Net.WebRequestExecutor.registerClass(\"Sys.Net.WebRequestExecutor\");window.XMLDOM=function(d){if(!window.DOMParser){var c=[\"Msxml2.DOMDocument.3.0\",\"Msxml2.DOMDocument\"];for(var b=0;b<c.length;b++)try{var a=new ActiveXObject(c[b]);a.async=false;a.loadXML(d);a.setProperty(\"SelectionLanguage\",\"XPath\");return a}catch(f){}return null}else try{var e=new window.DOMParser;return e.parseFromString(d,\"text/xml\")}catch(f){return null}return null};Sys.Net.XMLHttpExecutor=function(){Sys.Net.XMLHttpExecutor.initializeBase(this);var a=this;this._xmlHttpRequest=null;this._webRequest=null;this._responseAvailable=false;this._timedOut=false;this._timer=null;this._aborted=false;this._started=false;this._onReadyStateChange=function(){if(a._xmlHttpRequest.readyState===4){a._clearTimer();a._responseAvailable=true;a._webRequest.completed(Sys.EventArgs.Empty);if(a._xmlHttpRequest!=null){a._xmlHttpRequest.onreadystatechange=Function.emptyMethod;a._xmlHttpRequest=null}}};this._clearTimer=function(){if(a._timer!=null){window.clearTimeout(a._timer);a._timer=null}};this._onTimeout=function(){if(!a._responseAvailable){a._clearTimer();a._timedOut=true;a._xmlHttpRequest.onreadystatechange=Function.emptyMethod;a._xmlHttpRequest.abort();a._webRequest.completed(Sys.EventArgs.Empty);a._xmlHttpRequest=null}}};Sys.Net.XMLHttpExecutor.prototype={get_timedOut:function(){return this._timedOut},get_started:function(){return this._started},get_responseAvailable:function(){return this._responseAvailable},get_aborted:function(){return this._aborted},executeRequest:function(){this._webRequest=this.get_webRequest();var c=this._webRequest.get_body(),a=this._webRequest.get_headers();this._xmlHttpRequest=new XMLHttpRequest;this._xmlHttpRequest.onreadystatechange=this._onReadyStateChange;var e=this._webRequest.get_httpVerb();this._xmlHttpRequest.open(e,this._webRequest.getResolvedUrl(),true);if(a)for(var b in a){var f=a[b];if(typeof f!==\"function\")this._xmlHttpRequest.setRequestHeader(b,f)}if(e.toLowerCase()===\"post\"){if(a===null||!a[\"Content-Type\"])this._xmlHttpRequest.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");if(!c)c=\"\"}var d=this._webRequest.get_timeout();if(d>0)this._timer=window.setTimeout(Function.createDelegate(this,this._onTimeout),d);this._xmlHttpRequest.send(c);this._started=true},getResponseHeader:function(b){var a;try{a=this._xmlHttpRequest.getResponseHeader(b)}catch(c){}if(!a)a=\"\";return a},getAllResponseHeaders:function(){return this._xmlHttpRequest.getAllResponseHeaders()},get_responseData:function(){return this._xmlHttpRequest.responseText},get_statusCode:function(){return this._xmlHttpRequest.status},get_statusText:function(){return this._xmlHttpRequest.statusText},get_xml:function(){var a=this._xmlHttpRequest.responseXML;if(!a||!a.documentElement){a=new XMLDOM(this._xmlHttpRequest.responseText);if(!a||!a.documentElement)return null}else if(navigator.userAgent.indexOf(\"MSIE\")!==-1)a.setProperty(\"SelectionLanguage\",\"XPath\");if(a.documentElement.namespaceURI===\"http://www.mozilla.org/newlayout/xml/parsererror.xml\"&&a.documentElement.tagName===\"parsererror\")return null;if(a.documentElement.firstChild&&a.documentElement.firstChild.tagName===\"parsererror\")return null;return a},abort:function(){if(this._aborted||this._responseAvailable||this._timedOut)return;this._aborted=true;this._clearTimer();if(this._xmlHttpRequest&&!this._responseAvailable){this._xmlHttpRequest.onreadystatechange=Function.emptyMethod;this._xmlHttpRequest.abort();this._xmlHttpRequest=null;var a=this._webRequest._get_eventHandlerList().getHandler(\"completed\");if(a)a(this,Sys.EventArgs.Empty)}}};Sys.Net.XMLHttpExecutor.registerClass(\"Sys.Net.XMLHttpExecutor\",Sys.Net.WebRequestExecutor);Sys.Net._WebRequestManager=function(){this._this=this;this._defaultTimeout=0;this._defaultExecutorType=\"Sys.Net.XMLHttpExecutor\"};Sys.Net._WebRequestManager.prototype={add_invokingRequest:function(a){this._get_eventHandlerList().addHandler(\"invokingRequest\",a)},remove_invokingRequest:function(a){this._get_eventHandlerList().removeHandler(\"invokingRequest\",a)},add_completedRequest:function(a){this._get_eventHandlerList().addHandler(\"completedRequest\",a)},remove_completedRequest:function(a){this._get_eventHandlerList().removeHandler(\"completedRequest\",a)},_get_eventHandlerList:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_defaultTimeout:function(){return this._defaultTimeout},set_defaultTimeout:function(a){this._defaultTimeout=a},get_defaultExecutorType:function(){return this._defaultExecutorType},set_defaultExecutorType:function(a){this._defaultExecutorType=a},executeRequest:function(webRequest){var executor=webRequest.get_executor();if(!executor){var failed=false;try{var executorType=eval(this._defaultExecutorType);executor=new executorType}catch(a){failed=true}webRequest.set_executor(executor)}if(executor.get_aborted())return;var evArgs=new Sys.Net.NetworkRequestEventArgs(webRequest),handler=this._get_eventHandlerList().getHandler(\"invokingRequest\");if(handler)handler(this,evArgs);if(!evArgs.get_cancel())executor.executeRequest()}};Sys.Net._WebRequestManager.registerClass(\"Sys.Net._WebRequestManager\");Sys.Net.WebRequestManager=new Sys.Net._WebRequestManager;Sys.Net.NetworkRequestEventArgs=function(a){Sys.Net.NetworkRequestEventArgs.initializeBase(this);this._webRequest=a};Sys.Net.NetworkRequestEventArgs.prototype={get_webRequest:function(){return this._webRequest}};Sys.Net.NetworkRequestEventArgs.registerClass(\"Sys.Net.NetworkRequestEventArgs\",Sys.CancelEventArgs);Sys.Net.WebRequest=function(){this._url=\"\";this._headers={};this._body=null;this._userContext=null;this._httpVerb=null;this._executor=null;this._invokeCalled=false;this._timeout=0};Sys.Net.WebRequest.prototype={add_completed:function(a){this._get_eventHandlerList().addHandler(\"completed\",a)},remove_completed:function(a){this._get_eventHandlerList().removeHandler(\"completed\",a)},completed:function(b){var a=Sys.Net.WebRequestManager._get_eventHandlerList().getHandler(\"completedRequest\");if(a)a(this._executor,b);a=this._get_eventHandlerList().getHandler(\"completed\");if(a)a(this._executor,b)},_get_eventHandlerList:function(){if(!this._events)this._events=new Sys.EventHandlerList;return this._events},get_url:function(){return this._url},set_url:function(a){this._url=a},get_headers:function(){return this._headers},get_httpVerb:function(){if(this._httpVerb===null){if(this._body===null)return \"GET\";return \"POST\"}return this._httpVerb},set_httpVerb:function(a){this._httpVerb=a},get_body:function(){return this._body},set_body:function(a){this._body=a},get_userContext:function(){return this._userContext},set_userContext:function(a){this._userContext=a},get_executor:function(){return this._executor},set_executor:function(a){this._executor=a;this._executor._set_webRequest(this)},get_timeout:function(){if(this._timeout===0)return Sys.Net.WebRequestManager.get_defaultTimeout();return this._timeout},set_timeout:function(a){this._timeout=a},getResolvedUrl:function(){return Sys.Net.WebRequest._resolveUrl(this._url)},invoke:function(){Sys.Net.WebRequestManager.executeRequest(this);this._invokeCalled=true}};Sys.Net.WebRequest._resolveUrl=function(b,a){if(b&&b.indexOf(\"://\")!==-1)return b;if(!a||a.length===0){var c=document.getElementsByTagName(\"base\")[0];if(c&&c.href&&c.href.length>0)a=c.href;else a=document.URL}var d=a.indexOf(\"?\");if(d!==-1)a=a.substr(0,d);a=a.substr(0,a.lastIndexOf(\"/\")+1);if(!b||b.length===0)return a;if(b.charAt(0)===\"/\"){var e=a.indexOf(\"://\"),g=a.indexOf(\"/\",e+3);return a.substr(0,g)+b}else{var f=a.lastIndexOf(\"/\");return a.substr(0,f+1)+b}};Sys.Net.WebRequest._createQueryString=function(d,b){if(!b)b=encodeURIComponent;var a=new Sys.StringBuilder,f=0;for(var c in d){var e=d[c];if(typeof e===\"function\")continue;var g=Sys.Serialization.JavaScriptSerializer.serialize(e);if(f!==0)a.append(\"&\");a.append(c);a.append(\"=\");a.append(b(g));f++}return a.toString()};Sys.Net.WebRequest._createUrl=function(a,b){if(!b)return a;var d=Sys.Net.WebRequest._createQueryString(b);if(d.length>0){var c=\"?\";if(a&&a.indexOf(\"?\")!==-1)c=\"&\";return a+c+d}else return a};Sys.Net.WebRequest.registerClass(\"Sys.Net.WebRequest\");Sys.Net.WebServiceProxy=function(){};Sys.Net.WebServiceProxy.prototype={set_timeout:function(a){this._timeout=a},get_timeout:function(){return this._timeout},set_defaultUserContext:function(a){this._userContext=a},get_defaultUserContext:function(){return this._userContext},set_defaultSucceededCallback:function(a){this._succeeded=a},get_defaultSucceededCallback:function(){return this._succeeded},set_defaultFailedCallback:function(a){this._failed=a},get_defaultFailedCallback:function(){return this._failed},set_path:function(a){this._path=a},get_path:function(){return this._path},_invoke:function(d,e,g,f,c,b,a){if(c===null||typeof c===\"undefined\")c=this.get_defaultSucceededCallback();if(b===null||typeof b===\"undefined\")b=this.get_defaultFailedCallback();if(a===null||typeof a===\"undefined\")a=this.get_defaultUserContext();return Sys.Net.WebServiceProxy.invoke(d,e,g,f,c,b,a,this.get_timeout())}};Sys.Net.WebServiceProxy.registerClass(\"Sys.Net.WebServiceProxy\");Sys.Net.WebServiceProxy.invoke=function(k,a,j,d,i,c,f,h){var b=new Sys.Net.WebRequest;b.get_headers()[\"Content-Type\"]=\"application/json; charset=utf-8\";if(!d)d={};var g=d;if(!j||!g)g={};b.set_url(Sys.Net.WebRequest._createUrl(k+\"/\"+a,g));var e=null;if(!j){e=Sys.Serialization.JavaScriptSerializer.serialize(d);if(e===\"{}\")e=\"\"}b.set_body(e);b.add_completed(l);if(h&&h>0)b.set_timeout(h);b.invoke();function l(d){if(d.get_responseAvailable()){var e=d.get_statusCode(),b=null;try{var j=d.getResponseHeader(\"Content-Type\");if(j.startsWith(\"application/json\"))b=d.get_object();else if(j.startsWith(\"text/xml\"))b=d.get_xml();else b=d.get_responseData()}catch(m){}var k=d.getResponseHeader(\"jsonerror\"),g=k===\"true\";if(g)b=new Sys.Net.WebServiceError(false,b.Message,b.StackTrace,b.ExceptionType);if(e<200||e>=300||g){if(c){if(!b||!g)b=new Sys.Net.WebServiceError(false,String.format(Sys.Res.webServiceFailedNoMsg,a),\"\",\"\");b._statusCode=e;c(b,f,a)}}else if(i)i(b,f,a)}else{var h;if(d.get_timedOut())h=String.format(Sys.Res.webServiceTimedOut,a);else h=String.format(Sys.Res.webServiceFailedNoMsg,a);if(c)c(new Sys.Net.WebServiceError(d.get_timedOut(),h,\"\",\"\"),f,a)}}return b};Sys.Net.WebServiceProxy._generateTypedConstructor=function(a){return function(b){if(b)for(var c in b)this[c]=b[c];this.__type=a}};Sys.Net.WebServiceError=function(c,d,b,a){this._timedOut=c;this._message=d;this._stackTrace=b;this._exceptionType=a;this._statusCode=-1};Sys.Net.WebServiceError.prototype={get_timedOut:function(){return this._timedOut},get_statusCode:function(){return this._statusCode},get_message:function(){return this._message},get_stackTrace:function(){return this._stackTrace},get_exceptionType:function(){return this._exceptionType}};Sys.Net.WebServiceError.registerClass(\"Sys.Net.WebServiceError\");Type.registerNamespace(\"Sys.Services\");Sys.Services._ProfileService=function(){Sys.Services._ProfileService.initializeBase(this);this.properties={}};Sys.Services._ProfileService.DefaultWebServicePath=\"\";Sys.Services._ProfileService.prototype={_defaultFailedCallback:null,_defaultLoadCompletedCallback:null,_defaultSaveCompletedCallback:null,_path:\"\",_timeout:0,get_defaultFailedCallback:function(){return this._defaultFailedCallback},set_defaultFailedCallback:function(a){this._defaultFailedCallback=a},get_defaultLoadCompletedCallback:function(){return this._defaultLoadCompletedCallback},set_defaultLoadCompletedCallback:function(a){this._defaultLoadCompletedCallback=a},get_defaultSaveCompletedCallback:function(){return this._defaultSaveCompletedCallback},set_defaultSaveCompletedCallback:function(a){this._defaultSaveCompletedCallback=a},get_path:function(){return this._path},set_path:function(a){if(!a||!a.length)a=\"\";this._path=a},get_timeout:function(){return this._timeout},set_timeout:function(a){this._timeout=a},load:function(b,d,e,f){var c={},a;if(!b)a=\"GetAllPropertiesForCurrentUser\";else{a=\"GetPropertiesForCurrentUser\";c={properties:this._clonePropertyNames(b)}}this._invoke(this._get_path(),a,false,c,Function.createDelegate(this,this._onLoadComplete),Function.createDelegate(this,this._onLoadFailed),[d,e,f])},save:function(d,a,c,e){var b=this._flattenProperties(d,this.properties);this._invoke(this._get_path(),\"SetPropertiesForCurrentUser\",false,{values:b},Function.createDelegate(this,this._onSaveComplete),Function.createDelegate(this,this._onSaveFailed),[a,c,e])},_clonePropertyNames:function(e){var c=[],d={};for(var b=0;b<e.length;b++){var a=e[b];if(!d[a]){Array.add(c,a);d[a]=true}}return c},_flattenProperties:function(a,h,i){var b={},e,d;if(a&&a.length===0)return b;for(var c in h){e=h[c];d=i?i+\".\"+c:c;if(Sys.Services.ProfileGroup.isInstanceOfType(e)){var g=this._flattenProperties(a,e,d);for(var f in g){var j=g[f];b[f]=j}}else if(!a||Array.indexOf(a,d)!==-1)b[d]=e}return b},_get_path:function(){var a=this.get_path();if(!a.length)a=Sys.Services._ProfileService.DefaultWebServicePath;if(!a||!a.length)throw Error.invalidOperation(Sys.Res.servicePathNotSet);return a},_onLoadComplete:function(a,f,g){if(typeof a!==\"object\")throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,g,\"Object\"));var d=this._unflattenProperties(a);for(var b in d)this.properties[b]=d[b];var c=f[0],e=c?c:this._defaultLoadCompletedCallback;if(e)e(a.length,f[2],\"Sys.Services.ProfileService.load\")},_onLoadFailed:function(d,c){var a=c[1],b=a?a:this._defaultFailedCallback;if(b)b(d,c[2],\"Sys.Services.ProfileService.load\")},_onSaveComplete:function(d,c,f){if(typeof d!==\"number\")throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,f,\"Number\"));var a=c[0],e=c[2],b=a?a:this._defaultSaveCompletedCallback;if(b)b(d,e,\"Sys.Services.ProfileService.save\")},_onSaveFailed:function(e,c){var a=c[1],d=c[2],b=a?a:this._defaultFailedCallback;if(b)b(e,d,\"Sys.Services.ProfileService.save\")},_unflattenProperties:function(e){var c={},d,f,h=0;for(var a in e){h++;f=e[a];d=a.indexOf(\".\");if(d!==-1){var g=a.substr(0,d);a=a.substr(d+1);var b=c[g];if(!b||!Sys.Services.ProfileGroup.isInstanceOfType(b)){b=new Sys.Services.ProfileGroup;c[g]=b}b[a]=f}else c[a]=f}e.length=h;return c}};Sys.Services._ProfileService.registerClass(\"Sys.Services._ProfileService\",Sys.Net.WebServiceProxy);Sys.Services.ProfileService=new Sys.Services._ProfileService;Sys.Services.ProfileGroup=function(a){if(a)for(var b in a)this[b]=a[b]};Sys.Services.ProfileGroup.registerClass(\"Sys.Services.ProfileGroup\");Sys.Services._AuthenticationService=function(){Sys.Services._AuthenticationService.initializeBase(this)};Sys.Services._AuthenticationService.DefaultWebServicePath=\"\";Sys.Services._AuthenticationService.prototype={_defaultFailedCallback:null,_defaultLoginCompletedCallback:null,_defaultLogoutCompletedCallback:null,_path:\"\",_timeout:0,_authenticated:false,get_defaultFailedCallback:function(){return this._defaultFailedCallback},set_defaultFailedCallback:function(a){this._defaultFailedCallback=a},get_defaultLoginCompletedCallback:function(){return this._defaultLoginCompletedCallback},set_defaultLoginCompletedCallback:function(a){this._defaultLoginCompletedCallback=a},get_defaultLogoutCompletedCallback:function(){return this._defaultLogoutCompletedCallback},set_defaultLogoutCompletedCallback:function(a){this._defaultLogoutCompletedCallback=a},get_isLoggedIn:function(){return this._authenticated},get_path:function(){return this._path},set_path:function(a){if(!a||!a.length)a=\"\";this._path=a},get_timeout:function(){return this._timeout},set_timeout:function(a){this._timeout=a},login:function(c,b,a,h,f,d,e,g){this._invoke(this._get_path(),\"Login\",false,{userName:c,password:b,createPersistentCookie:a},Function.createDelegate(this,this._onLoginComplete),Function.createDelegate(this,this._onLoginFailed),[c,b,a,f,d,e,g])},logout:function(c,a,b,d){this._invoke(this._get_path(),\"Logout\",false,{},Function.createDelegate(this,this._onLogoutComplete),Function.createDelegate(this,this._onLogoutFailed),[c,a,b,d])},_get_path:function(){var a=this.get_path();if(!a.length)a=Sys.Services._AuthenticationService.DefaultWebServicePath;if(!a||!a.length)throw Error.invalidOperation(Sys.Res.servicePathNotSet);return a},_onLoginComplete:function(f,c,g){if(typeof f!==\"boolean\")throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,g,\"Boolean\"));var b=c[3],d=c[4],e=c[6],a=d?d:this._defaultLoginCompletedCallback;if(f){this._authenticated=true;if(a)a(true,e,\"Sys.Services.AuthenticationService.login\");if(typeof b!==\"undefined\"&&b!==null)window.location.href=b}else if(a)a(false,e,\"Sys.Services.AuthenticationService.login\")},_onLoginFailed:function(d,c){var a=c[5],b=a?a:this._defaultFailedCallback;if(b)b(d,c[6],\"Sys.Services.AuthenticationService.login\")},_onLogoutComplete:function(g,a,f){if(g!==null)throw Error.invalidOperation(String.format(Sys.Res.webServiceInvalidReturnType,f,\"null\"));var c=a[0],b=a[1],e=a[3],d=b?b:this._defaultLogoutCompletedCallback;this._authenticated=false;if(d)d(null,e,\"Sys.Services.AuthenticationService.logout\");if(!c)window.location.reload();else window.location.href=c},_onLogoutFailed:function(d,c){var a=c[2],b=a?a:this._defaultFailedCallback;if(b)b(d,c[3],\"Sys.Services.AuthenticationService.logout\")},_setAuthenticated:function(a){this._authenticated=a}};Sys.Services._AuthenticationService.registerClass(\"Sys.Services._AuthenticationService\",Sys.Net.WebServiceProxy);Sys.Services.AuthenticationService=new Sys.Services._AuthenticationService;Type.registerNamespace(\"Sys.Serialization\");Sys.Serialization.JavaScriptSerializer=function(){};Sys.Serialization.JavaScriptSerializer.registerClass(\"Sys.Serialization.JavaScriptSerializer\");Sys.Serialization.JavaScriptSerializer._stringRegEx=new RegExp('[\"\\b\\f\\n\\r\\t\\\\\\\\\\x00-\\x1F]',\"i\");Sys.Serialization.JavaScriptSerializer._serializeWithBuilder=function(b,a,h){var c;switch(typeof b){case \"object\":if(b)if(Array.isInstanceOfType(b)){a.append(\"[\");for(c=0;c<b.length;++c){if(c>0)a.append(\",\");Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(b[c],a)}a.append(\"]\")}else{if(Date.isInstanceOfType(b)){a.append('\"@');a.append(b.getTime());a.append('@\"');break}var e=[],i=0;for(var g in b){if(g.startsWith(\"$\"))continue;e[i++]=g}if(h)e.sort();a.append(\"{\");var j=false;for(c=0;c<i;c++){var f=b[e[c]];if(typeof f!==\"undefined\"&&typeof f!==\"function\"){if(j)a.append(\",\");else j=true;Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(e[c],a,h);a.append(\":\");Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(f,a,h)}}a.append(\"}\")}else a.append(\"null\");break;case \"number\":if(isFinite(b))a.append(String(b));else throw Error.invalidOperation(Sys.Res.cannotSerializeNonFiniteNumbers);break;case \"string\":a.append('\"');if(Sys.Browser.agent===Sys.Browser.Safari||Sys.Serialization.JavaScriptSerializer._stringRegEx.test(b)){var k=b.length;for(c=0;c<k;++c){var d=b.charAt(c);if(d>=\" \"){if(d===\"\\\\\"||d==='\"')a.append(\"\\\\\");a.append(d)}else switch(d){case \"\\b\":a.append(\"\\\\b\");break;case \"\\f\":a.append(\"\\\\f\");break;case \"\\n\":a.append(\"\\\\n\");break;case \"\\r\":a.append(\"\\\\r\");break;case \"\\t\":a.append(\"\\\\t\");break;default:a.append(\"\\\\u00\");if(d.charCodeAt()<16)a.append(\"0\");a.append(d.charCodeAt().toString(16))}}}else a.append(b);a.append('\"');break;case \"boolean\":a.append(b.toString());break;default:a.append(\"null\");break}};Sys.Serialization.JavaScriptSerializer.serialize=function(b){var a=new Sys.StringBuilder;Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(b,a,false);return a.toString()};Sys.Serialization.JavaScriptSerializer.deserialize=function(data){if(data.length===0)throw Error.argument(\"data\",Sys.Res.cannotDeserializeEmptyString);var exp=data.replace(new RegExp('\\\\\"@(-?[0-9]+)@\\\\\"',\"g\"),\"new Date($1)\");return eval(\"(\"+exp+\")\")};Sys.CultureInfo=function(c,b,a){this.name=c;this.numberFormat=b;this.dateTimeFormat=a};Sys.CultureInfo.prototype={_getDateTimeFormats:function(){if(!this._dateTimeFormats){var a=this.dateTimeFormat;this._dateTimeFormats=[a.MonthDayPattern,a.YearMonthPattern,a.ShortDatePattern,a.ShortTimePattern,a.LongDatePattern,a.LongTimePattern,a.FullDateTimePattern,a.RFC1123Pattern,a.SortableDateTimePattern,a.UniversalSortableDateTimePattern]}return this._dateTimeFormats},_getMonthIndex:function(a){if(!this._upperMonths)this._upperMonths=this._toUpperArray(this.dateTimeFormat.MonthNames);return Array.indexOf(this._upperMonths,this._toUpper(a))},_getAbbrMonthIndex:function(a){if(!this._upperAbbrMonths)this._upperAbbrMonths=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthNames);return Array.indexOf(this._upperMonths,this._toUpper(a))},_getDayIndex:function(a){if(!this._upperDays)this._upperDays=this._toUpperArray(this.dateTimeFormat.DayNames);return Array.indexOf(this._upperDays,this._toUpper(a))},_getAbbrDayIndex:function(a){if(!this._upperAbbrDays)this._upperAbbrDays=this._toUpperArray(this.dateTimeFormat.AbbreviatedDayNames);return Array.indexOf(this._upperAbbrDays,this._toUpper(a))},_toUpperArray:function(c){var b=[];for(var a=0,d=c.length;a<d;a++)b[a]=this._toUpper(c[a]);return b},_toUpper:function(a){return a.replace(/\\u00A0/g,\" \").toUpperCase()}};Sys.CultureInfo._parse=function(b){var a=Sys.Serialization.JavaScriptSerializer.deserialize(b);return new Sys.CultureInfo(a.name,a.numberFormat,a.dateTimeFormat)};Sys.CultureInfo.registerClass(\"Sys.CultureInfo\");Sys.CultureInfo.InvariantCulture=Sys.CultureInfo._parse('{\"name\":\"\",\"numberFormat\":{\"CurrencyDecimalDigits\":2,\"CurrencyDecimalSeparator\":\".\",\"IsReadOnly\":true,\"CurrencyGroupSizes\":[3],\"NumberGroupSizes\":[3],\"PercentGroupSizes\":[3],\"CurrencyGroupSeparator\":\",\",\"CurrencySymbol\":\"\\u00A4\",\"NaNSymbol\":\"NaN\",\"CurrencyNegativePattern\":0,\"NumberNegativePattern\":1,\"PercentPositivePattern\":0,\"PercentNegativePattern\":0,\"NegativeInfinitySymbol\":\"-Infinity\",\"NegativeSign\":\"-\",\"NumberDecimalDigits\":2,\"NumberDecimalSeparator\":\".\",\"NumberGroupSeparator\":\",\",\"CurrencyPositivePattern\":0,\"PositiveInfinitySymbol\":\"Infinity\",\"PositiveSign\":\"+\",\"PercentDecimalDigits\":2,\"PercentDecimalSeparator\":\".\",\"PercentGroupSeparator\":\",\",\"PercentSymbol\":\"%\",\"PerMilleSymbol\":\"\\u2030\",\"NativeDigits\":[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"],\"DigitSubstitution\":1},\"dateTimeFormat\":{\"AMDesignator\":\"AM\",\"Calendar\":{\"MinSupportedDateTime\":\"@-62135568000000@\",\"MaxSupportedDateTime\":\"@253402300799999@\",\"AlgorithmType\":1,\"CalendarType\":1,\"Eras\":[1],\"TwoDigitYearMax\":2029,\"IsReadOnly\":true},\"DateSeparator\":\"/\",\"FirstDayOfWeek\":0,\"CalendarWeekRule\":0,\"FullDateTimePattern\":\"dddd, dd MMMM yyyy HH:mm:ss\",\"LongDatePattern\":\"dddd, dd MMMM yyyy\",\"LongTimePattern\":\"HH:mm:ss\",\"MonthDayPattern\":\"MMMM dd\",\"PMDesignator\":\"PM\",\"RFC1123Pattern\":\"ddd, dd MMM yyyy HH\\':\\'mm\\':\\'ss \\'GMT\\'\",\"ShortDatePattern\":\"MM/dd/yyyy\",\"ShortTimePattern\":\"HH:mm\",\"SortableDateTimePattern\":\"yyyy\\'-\\'MM\\'-\\'dd\\'T\\'HH\\':\\'mm\\':\\'ss\",\"TimeSeparator\":\":\",\"UniversalSortableDateTimePattern\":\"yyyy\\'-\\'MM\\'-\\'dd HH\\':\\'mm\\':\\'ss\\'Z\\'\",\"YearMonthPattern\":\"yyyy MMMM\",\"AbbreviatedDayNames\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"ShortestDayNames\":[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],\"DayNames\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],\"AbbreviatedMonthNames\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\",\"\"],\"MonthNames\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\",\"\"],\"IsReadOnly\":true,\"NativeCalendarName\":\"Gregorian Calendar\",\"AbbreviatedMonthGenitiveNames\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\",\"\"],\"MonthGenitiveNames\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\",\"\"]}}');if(typeof __cultureInfo===\"undefined\")var __cultureInfo='{\"name\":\"en-US\",\"numberFormat\":{\"CurrencyDecimalDigits\":2,\"CurrencyDecimalSeparator\":\".\",\"IsReadOnly\":false,\"CurrencyGroupSizes\":[3],\"NumberGroupSizes\":[3],\"PercentGroupSizes\":[3],\"CurrencyGroupSeparator\":\",\",\"CurrencySymbol\":\"$\",\"NaNSymbol\":\"NaN\",\"CurrencyNegativePattern\":0,\"NumberNegativePattern\":1,\"PercentPositivePattern\":0,\"PercentNegativePattern\":0,\"NegativeInfinitySymbol\":\"-Infinity\",\"NegativeSign\":\"-\",\"NumberDecimalDigits\":2,\"NumberDecimalSeparator\":\".\",\"NumberGroupSeparator\":\",\",\"CurrencyPositivePattern\":0,\"PositiveInfinitySymbol\":\"Infinity\",\"PositiveSign\":\"+\",\"PercentDecimalDigits\":2,\"PercentDecimalSeparator\":\".\",\"PercentGroupSeparator\":\",\",\"PercentSymbol\":\"%\",\"PerMilleSymbol\":\"\\u2030\",\"NativeDigits\":[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"],\"DigitSubstitution\":1},\"dateTimeFormat\":{\"AMDesignator\":\"AM\",\"Calendar\":{\"MinSupportedDateTime\":\"@-62135568000000@\",\"MaxSupportedDateTime\":\"@253402300799999@\",\"AlgorithmType\":1,\"CalendarType\":1,\"Eras\":[1],\"TwoDigitYearMax\":2029,\"IsReadOnly\":false},\"DateSeparator\":\"/\",\"FirstDayOfWeek\":0,\"CalendarWeekRule\":0,\"FullDateTimePattern\":\"dddd, MMMM dd, yyyy h:mm:ss tt\",\"LongDatePattern\":\"dddd, MMMM dd, yyyy\",\"LongTimePattern\":\"h:mm:ss tt\",\"MonthDayPattern\":\"MMMM dd\",\"PMDesignator\":\"PM\",\"RFC1123Pattern\":\"ddd, dd MMM yyyy HH\\':\\'mm\\':\\'ss \\'GMT\\'\",\"ShortDatePattern\":\"M/d/yyyy\",\"ShortTimePattern\":\"h:mm tt\",\"SortableDateTimePattern\":\"yyyy\\'-\\'MM\\'-\\'dd\\'T\\'HH\\':\\'mm\\':\\'ss\",\"TimeSeparator\":\":\",\"UniversalSortableDateTimePattern\":\"yyyy\\'-\\'MM\\'-\\'dd HH\\':\\'mm\\':\\'ss\\'Z\\'\",\"YearMonthPattern\":\"MMMM, yyyy\",\"AbbreviatedDayNames\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"ShortestDayNames\":[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],\"DayNames\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],\"AbbreviatedMonthNames\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\",\"\"],\"MonthNames\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\",\"\"],\"IsReadOnly\":false,\"NativeCalendarName\":\"Gregorian Calendar\",\"AbbreviatedMonthGenitiveNames\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\",\"\"],\"MonthGenitiveNames\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\",\"\"]}}';Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse(__cultureInfo);delete __cultureInfo;Sys.UI.Point=function(a,b){this.x=a;this.y=b};Sys.UI.Point.registerClass(\"Sys.UI.Point\");Sys.UI.Bounds=function(c,d,b,a){this.x=c;this.y=d;this.height=a;this.width=b};Sys.UI.Bounds.registerClass(\"Sys.UI.Bounds\");Sys.UI.DomElement=function(){};Sys.UI.DomElement.registerClass(\"Sys.UI.DomElement\");Sys.UI.DomElement.addCssClass=function(a,b){if(!Sys.UI.DomElement.containsCssClass(a,b))if(a.className===\"\")a.className=b;else a.className+=\" \"+b};Sys.UI.DomElement.containsCssClass=function(b,a){return Array.contains(b.className.split(\" \"),a)};Sys.UI.DomElement.getBounds=function(a){var b=Sys.UI.DomElement.getLocation(a);return new Sys.UI.Bounds(b.x,b.y,a.offsetWidth||0,a.offsetHeight||0)};var $get=Sys.UI.DomElement.getElementById=function(f,e){if(!e)return document.getElementById(f);if(e.getElementById)return e.getElementById(f);var c=[],d=e.childNodes;for(var b=0;b<d.length;b++){var a=d[b];if(a.nodeType==1)c[c.length]=a}while(c.length){a=c.shift();if(a.id==f)return a;d=a.childNodes;for(b=0;b<d.length;b++){a=d[b];if(a.nodeType==1)c[c.length]=a}}return null};Sys.UI.DomElement.getLocation=function(d){var b=0,c=0,a;for(a=d;a;a=a.offsetParent){if(a.offsetLeft)b+=a.offsetLeft;if(a.offsetTop)c+=a.offsetTop}return new Sys.UI.Point(b,c)};Sys.UI.DomElement.removeCssClass=function(d,c){var a=\" \"+d.className+\" \",b=a.indexOf(\" \"+c+\" \");if(b>=0)d.className=(a.substr(0,b)+\" \"+a.substring(b+c.length+1,a.length)).trim()};Sys.UI.DomElement.setAccessibilityAttribute=function(a,c,b){if(a.setAttributeNS)a.setAttributeNS(\"http://www.w3.org/2005/07/aaa\",c,b)};Sys.UI.DomElement.setLocation=function(b,c,d){var a=b.style;a.position=\"absolute\";a.left=c+\"px\";a.top=d+\"px\"};Sys.UI.DomElement.toggleCssClass=function(b,a){if(Sys.UI.DomElement.containsCssClass(b,a))Sys.UI.DomElement.removeCssClass(b,a);else Sys.UI.DomElement.addCssClass(b,a)};Sys.UI.Behavior=function(b){Sys.UI.Behavior.initializeBase(this);this._element=b;var a=b._behaviors;if(!a)b._behaviors=[this];else a[a.length]=this};Sys.UI.Behavior.prototype={_name:null,get_element:function(){return this._element},get_id:function(){var a=Sys.UI.Behavior.callBaseMethod(this,\"get_id\");if(a)return a;if(!this._element||!this._element.id)return \"\";return this._element.id+\"$\"+this.get_name()},get_name:function(){if(this._name)return this._name;var a=Object.getTypeName(this),b=a.lastIndexOf(\".\");if(b!=-1)a=a.substr(b+1);if(!this.get_isInitialized())this._name=a;return a},set_name:function(a){this._name=a},initialize:function(){Sys.UI.Behavior.callBaseMethod(this,\"initialize\");var a=this.get_name();if(a)this._element[a]=this},dispose:function(){Sys.UI.Behavior.callBaseMethod(this,\"dispose\");if(this._element){var a=this.get_name();if(a)this._element[a]=null;Array.remove(this._element._behaviors,this);delete this._element}}};Sys.UI.Behavior.registerClass(\"Sys.UI.Behavior\",Sys.Component);Sys.UI.Behavior.getBehaviorByName=function(b,c){var a=b[c];return a&&Sys.UI.Behavior.isInstanceOfType(a)?a:null};Sys.UI.Behavior.getBehaviors=function(a){if(!a._behaviors)return [];return Array.clone(a._behaviors)};Sys.UI.Behavior.getBehaviorsByType=function(d,e){var a=d._behaviors,c=[];if(a)for(var b=0,f=a.length;b<f;b++)if(e.isInstanceOfType(a[b]))c[c.length]=a[b];return c};Sys.UI.VisibilityMode=function(){throw Error.notImplemented()};Sys.UI.VisibilityMode.prototype={hide:0,collapse:1};Sys.UI.VisibilityMode.registerEnum(\"Sys.UI.VisibilityMode\");Sys.UI.Control=function(a){Sys.UI.Control.initializeBase(this);this._element=a;a.control=this;this._oldDisplayMode=this._element.style.display;if(!this._oldDisplayMode||this._oldDisplayMode==\"none\")this._oldDisplayMode=\"\"};Sys.UI.Control.prototype={_parent:null,_visibilityMode:Sys.UI.VisibilityMode.hide,get_element:function(){return this._element},get_id:function(){if(!this._element)return \"\";return this._element.id},set_id:function(){throw Error.invalidOperation(Sys.Res.cantSetId)},get_parent:function(){if(this._parent)return this._parent;else{var a=this._element.parentNode;while(a){if(a.control)return a.control;a=a.parentNode}return null}},set_parent:function(a){this._parent=a},get_role:function(){return \"\"},get_visibilityMode:function(){return this._visibilityMode},set_visibilityMode:function(a){if(this._visibilityMode!==a){this._visibilityMode=a;if(this.get_visible()===false)if(this._visibilityMode===Sys.UI.VisibilityMode.hide)this._element.style.display=this._oldDisplayMode;else this._element.style.display=\"none\"}this._visibilityMode=a},get_visible:function(){return this._element.style.visibility!=\"hidden\"},set_visible:function(a){if(a!=this.get_visible()){this._element.style.visibility=a?\"visible\":\"hidden\";if(a||this._visibilityMode===Sys.UI.VisibilityMode.hide)this._element.style.display=this._oldDisplayMode;else this._element.style.display=\"none\"}},addCssClass:function(a){Sys.UI.DomElement.addCssClass(this._element,a)},dispose:function(){Sys.UI.Control.callBaseMethod(this,\"dispose\");if(this._element){this._element.control=undefined;delete this._element}},initialize:function(){Sys.UI.Control.callBaseMethod(this,\"initialize\");var a=this._element;if(a.setAttributeNS)a.setAttributeNS(\"http://www.w3.org/TR/xhtml2\",\"role\",this.get_role())},onBubbleEvent:function(){return false},raiseBubbleEvent:function(b,c){var a=this.get_parent();while(a){if(a.onBubbleEvent(b,c))return;a=a.get_parent()}},removeCssClass:function(a){Sys.UI.DomElement.removeCssClass(this._element,a)},toggleCssClass:function(a){Sys.UI.DomElement.toggleCssClass(this._element,a)}};Sys.UI.Control.registerClass(\"Sys.UI.Control\",Sys.Component)\n    6  Type.registerNamespace('Sys');\n    7  Sys.Res={\n\n/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/WebResource.js:\n  390  }\n  391  function WebForm_AppendToClassName(element, className) {\n  392:     var current = element.className;\n  393      if (current) {\n  394          if (current.charAt(current.length - 1) != ' ') {\n  ...\n  400          current = className;\n  401      }\n  402:     element.className = current;\n  403  }\n  404  function WebForm_RemoveClassName(element, className) {\n  405:     var current = element.className;\n  406      if (current) {\n  407          if (current.substring(current.length - className.length - 1, current.length) == ' ' + className) {\n  408:             element.className = current.substring(0, current.length - className.length - 1);\n  409              return;\n  410          }\n  411          if (current == className) {\n  412:             element.className = \"\";\n  413              return;\n  414          }\n  415          var index = current.indexOf(' ' + className + ' ');\n  416          if (index != -1) {\n  417:             element.className = current.substring(0, index) + current.substring(index + className.length + 2, current.length);\n  418              return;\n  419          }\n  420          if (current.substring(0, className.length) == className + ' ') {\n  421:             element.className = current.substring(className.length + 1, current.length);\n  422          }\n  423      }\n\n/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/webtrends.js:\n  180  		}\n  181  		if(wtnode.parentNode.tagName==\"DIV\"){\n  182: 			if((wtnode.parentNode.getAttribute('id'))||(wtnode.parentNode.className)){\n  183: 				DCSext.wtNavigation = wtnode.parentNode.getAttribute(\"id\")||wtnode.parentNode.className;\n  184  				wtCount=1;\n  185  			}\n  ...\n  220  				}\n  221  				gUri=e.form.action||window.location.pathname;\n  222: 				gTitle=e.form.id||e.form.className||e.form.name||\"Unknown\";\n  223  				gMethod=e.form.method||\"Unknown\";\n  224  			}\n\n/Users/boos/code/graasp/public/javascripts/application.js:\n   37  function OnOff(element) {\n   38    if ($(element)===null) { return; }\n   39:   $(element).className = ($(element).className == \"hidden\") ? \"shown\" : \"hidden\";\n   40    if ($(element).id == \"boxdeliverables\") { doresize();}\n   41  }\n\n/Users/boos/code/graasp/public/javascripts/blocks/center.js:\n   85  \n   86    initialize: function(graaasp){\n   87:     this.class_name = \"center\";\n   88    },\n   89  \n   ..\n  105      center.id = item3a_id;\n  106  \n  107:     this.placeholder = $(this.class_name+'_area');\n  108      this.prebuild_block();\n  109    },\n  ...\n  224      }\n  225  \n  226:     $('context_block').className = \"background \"+item3a.type;\n  227      this.placeholder = $('center_area');\n  228  \n  ...\n  847          || i3a.spacetype=='portal') && (center.type==\"space\" || (center.type==\"user\" && item3a_visibility_level!=1)))\n  848        {\n  849:         var privacy_settings_button = new Element('div',{id:\"privacy_setting_button\", name: this.class_name+\"_privacy_settings\",'class':'setting_button sprite img_down_arrow',style:\"cursor:  pointer;\"});\n  850          privacy_settings.insert(privacy_settings_button);\n  851          privacy_settings.observe('click',privacy_popup.buildElement.bindAsEventListener(privacy_popup,\"privacy_setting_button\",center.id,center.type));\n\n/Users/boos/code/graasp/public/javascripts/blocks/clipboard.js:\n    7  \n    8    initialize: function(){\n    9:     this.class_name = \"clipboard\";\n   10      this.m = \"c\"; //short menu name\n   11      this.prefix = \"clip_\";\n\n/Users/boos/code/graasp/public/javascripts/blocks/dock.js:\n    3  \n    4    initialize: function(){\n    5:     this.class_name = \"dock\";\n    6    },\n    7    build_block: function(){\n\n/Users/boos/code/graasp/public/javascripts/blocks/favorites.js:\n    6  \n    7    initialize: function(){\n    8:     this.class_name = \"favorites\";\n    9      this.m = \"f\"; //short menu name\n   10      this.prefix = \"fav_\";\n   ..\n   34          //when an item comes from a block like Recommended or Clipboard\n   35          var url = \"/favorites/create/\" + item3a_array[1] + \"/\" + item3a_array[2]\n   36:           + \"/\" + _this.class_name;\n   37  \n   38          _this.ajax_drop(_this, url);\n\n/Users/boos/code/graasp/public/javascripts/blocks/navigation.js:\n    3  \n    4    initialize: function(){\n    5:     this.class_name = \"navigation\";\n    6      this.item4a = null;\n    7    },\n\n/Users/boos/code/graasp/public/javascripts/blocks/notification.js:\n    4  Object.extend(Notification.prototype, {\n    5    initialize: function(){\n    6:     this.class_name = \"notification\";\n    7      this.display_name = $t(\"words.notifications\");\n    8      this.m = \"n\"; //short menu name\n\n/Users/boos/code/graasp/public/javascripts/blocks/notifications.js:\n    3  \n    4    initialize: function(){\n    5:     this.class_name = \"notifications\";\n    6    },\n    7    center_dependent: function(){\n\n/Users/boos/code/graasp/public/javascripts/blocks/pad.js:\n    3  \n    4      initialize: function() {\n    5:       this.class_name = \"pad\";\n    6        this.i3a_type = \"pad\";\n    7        this.create_popup = create_user;\n    .\n   47      mode_select: function(ev) {\n   48          // The condition is remained from four columns interfaces when we still separate the 4As\n   49:         //      if($(this.class_name+'_list').style.display == \"none\"){\n   50          //     data_2 = g_search.data[this.i3a_type];\n   51:         //   this.process_select(ev,data_2,this,$(this.class_name+'_search_list'),this.i3a_type);\n   52          // }\n   53          // else{\n   54          var data = graaasp.items_list;\n   55          //data = g_pad.items_list;\n   56:         this.process_select(ev, data, this, $(this.class_name + '_list'), this.i3a_type);\n   57          // }\n   58      },\n\n/Users/boos/code/graasp/public/javascripts/blocks/recommended.js:\n    5  \n    6    initialize: function(){\n    7:     this.class_name = \"recommended\";\n    8      this.items_list = null;\n    9    },\n\n/Users/boos/code/graasp/public/javascripts/blocks/search.js:\n    4  Object.extend(Search.prototype, {\n    5    initialize: function(){\n    6:     this.class_name = \"search\";\n    7      this.display_name = $t(\"words.search\");\n    8      this.m = \"s\"; //short menu name\n    .\n   22      // Attention: These lines should be the same as prebuild_block in menu_extension.\n   23      //  ***** start *****\n   24:     this.placeholder = $(this.class_name+'_area');\n   25:     this.menu_area = $(this.class_name+'_area');\n   26      this.menu_area.removeClassName(\"top_menu\");\n   27      var menu_main = new Element('div',{'class': 'top_menu', id: this.m+'_main', style:\"overflow:hidden\"});\n   ..\n   94      //     form.insert(sel_i3a);\n   95  \n   96:     var s_field = new Element('div',{id: this.class_name+\"_field\", 'class': 'search_field'});\n   97  \n   98      s_field.insert(new Element('input',{id: 'txt_search', name:\"keyword\",type: \"text\", 'class': 'search_text'}));\n\n/Users/boos/code/graasp/public/javascripts/cache/all_dynamic.js:\n  153  function OnOff(element) {\n  154    if ($(element)===null) { return; }\n  155: 	$(element).className = ($(element).className == \"hidden\") ? \"shown\" : \"hidden\";\n  156  	if ($(element).id == \"boxdeliverables\") { doresize();}\n  157  }\n  ...\n  758    // this.i3a_type = \"user\";\n  759    // this.create_popup = create_user;\n  760:   // this.class_name = \"users\";\n  761    // this.display_name = \"People\";\n  762    \n  ...\n  968      //     show_people.insert(show_people_check_box);\n  969      //   }\n  970:     // title_body.insert(new Element('div',{\"class\":\"block_minify\", onclick: \"g_dock.minify_block('\"+this.class_name+\"')\", title: \"hide block\"}).update(\"&gt;&gt;\"));    \n  971      // Todo: fix minification, commented for now\n  972:     // title_body.insert(new Element('div',{\"class\":\"block_minify\", onclick: \"g_dock.minify_block('\"+this.class_name+\"')\", title: \"hide block\",\n  973:     //   onmouseover:\"$('\"+this.class_name+\"_block_minify').src ='images/gogo_black.ico'\",\n  974:     //   onmouseout:\"$('\"+this.class_name+\"_block_minify').src ='images/gogo.ico'\"\n  975:     //   }).insert(new Element('img',{id:this.class_name+\"_block_minify\",src:\"images/gogo.ico\"})));\n  976        \n  977      var cur_title = this.placeholder.select('div.pad_title');\n  ...\n 1076      var _this = object;\n 1077      i3a_list.innerHTML = \"\";\n 1078:     i3a_list.className = \"i3a_list_pad\";\n 1079      // i3a_list.style.fontWeight='normal';\n 1080      // i3a_list.style.fontSize='12px';\n ....\n 1129  \n 1130  \n 1131:       //i3a_list.className = \"i3a_list_notify\";\n 1132        \n 1133        var close_img = new Element('img',{src:\"images/lock_closed.png\", \"class\":'close_img'});\n ....\n 1161        \n 1162        i3a_list.insert(notify_msg);\n 1163:       i3a_list.className = \"i3a_list_notify\";\n 1164        // i3a_list.innerHTML = \"This pad belongs to a closed \"+ container;\n 1165        // i3a_list.appendChild(document.createElement(\"br\"));\n ....\n 1181      var _this = object;\n 1182      i3a_list.innerHTML = \"\";\n 1183:         i3a_list.className = \"i3a_list_pad\";    \n 1184      // decide if it is a search or normal\n 1185      graaasp.items_list.each(function(i3a){\n ....\n 1539    //         index++;  \n 1540    //       }\n 1541:   //       if(dragged.className.search(\"i3a_link\") != -1)\n 1542    //         is_original = false;  \n 1543    //       \n ....\n 1769      // hide search_list and search_info when reloading the page\n 1770    hide_search_list: function(){\n 1771:     var search_list = $(this.class_name+'_search_list');\n 1772:     var list = $(this.class_name+'_list');\n 1773:     var search_info = $(this.class_name+'_search_info');\n 1774      if(search_list.visible()){\n 1775        search_list.hide();\n ....\n 2368      // this.item3a_type = item3a_type;\n 2369      // this.item3a_it = item3a_id;\n 2370:     // this.class_name = \"users\";\n 2371      // m - means menu here\n 2372      center_dependent: function() {\n ....\n 2380          },\n 2381      remote_url: function() {\n 2382:         return (\"/favorites/list/\" + this.class_name + \".json\");\n 2383      },\n 2384      prebuild_block: function() {\n ....\n 2393      // called to build block for fav, clip and also notifications\n 2394      common_prebuild_block: function() {\n 2395: 		this.placeholder = $(this.class_name+'_area');\n 2396:     	this.menu_area = $(this.class_name + '_area');\n 2397         	var menu_main = new Element('div', {\n 2398  			id: this.m + '_main',\n ....\n 2431          // menu_main.down().insert({after: new Element('div',{class: \"drop_area\"}).update('drop here')});\n 2432          var drop_info = new Element('div', {\n 2433:             id: this.class_name + '_drop_info',\n 2434              \"class\": \"drop_info\",\n 2435              style: \"display:none;\"\n ....\n 2496        });\n 2497        // bClose.observe('click',function(event) {\n 2498:         // self.m_close(event,$(self.class_name+'_area'), self.m)\n 2499        // })\n 2500        m_slider.insert(bClose);\n ....\n 2576              index++;  \n 2577            }\n 2578:           if(element.className.search(\"i3a_link\") != -1)\n 2579              is_original = false;\n 2580            \n ....\n 2843  	    if (currentUser.id != graaasp.guest_id) {\n 2844  			if (i3a.relation_type == \"link\") {\n 2845: 	            popup_para.el.set($t(\"words.remove_link\").toLowerCase(), items_settings_popup.top_delete_click.bindAsEventListener(items_settings_popup, display_id, m_item_id, this.menu_area, this.m_out, this.class_name));\n 2846  	        } else { // this is an item and not link\n 2847  	          popup_para.el.set($t(\"words.remove\").toLowerCase(), this.b_delete_click.bindAsEventListener(this, i3a_id, i3a_type));          \n ....\n 3907  	// executed only once\n 3908  	pre_build: function(){\n 3909: 		this.placeholder = $(this.class_name+'_area');\n 3910: 		//this.placeholder = $(this.class_name+'_data');\n 3911  		// this.placeholder.innerHTML = \"\";\n 3912  		\n ....\n 3920  	// callback when data is received from the server\n 3921  	build: function(data){\n 3922: 		this.placeholder = $(this.class_name+'_area');\n 3923: 		//this.placeholder = $(this.class_name+'_data');\n 3924  		this.build_block(data);\n 3925  	},\n ....\n 3928  	},\n 3929  	settings_button: function(){\n 3930: 		var class_name = this.class_name;\n 3931  		// settings button\n 3932  		var settings = new Element('div', {id: class_name+\"_settings\", \"class\": \"settings\",style:\"cursor: pointer\"});\n ....\n 3998  	show: function(){\n 3999  		// displays the block\n 4000: 		$(this.class_name+'_spinner').hide();\n 4001  	},\n 4002  	hide: function(){\n 4003  		// hides the block\n 4004: 		$(this.class_name+'_spinner').show();\n 4005  	},\n 4006  	has_spinner: function(){\n ....\n 4024  	\n 4025  	initialize: function(){\n 4026: 		this.class_name = \"recommended\";\n 4027  		this.items_list = null;\n 4028  	},\n ....\n 4209  \n 4210    initialize: function(){\n 4211:     this.class_name = \"navigation\";\n 4212      this.item4a = null;\n 4213    },\n ....\n 4516  	initialize: function(graaasp){\n 4517  		// this.graaasp = graaasp;\n 4518: 		this.class_name = \"center\";\n 4519  	},\n 4520  	center_dependent: function(){\n ....\n 4533  		center.id = item3a_id;\n 4534  		\n 4535: 		this.placeholder = $(this.class_name+'_area');\n 4536: 		//this.placeholder = $(this.class_name+'_data');\n 4537  		// this.placeholder.innerHTML = \"\";\n 4538  		\n ....\n 4542  	},\n 4543  	prebuild_block: function(){		\n 4544: 		// var class_name = this.class_name;\n 4545  		// settings button\n 4546  		// var settings = new Element('div', {id: class_name+\"_settings\", \"class\": \"settings center\",style:\"display: none\"});\n ....\n 4695  		}\n 4696  		\n 4697: 		$('context_block').className = \"background \"+item3a.type;\n 4698  		this.placeholder = $('center_area');\n 4699  		// this.placeholder.innerHTML = \"\";\n ....\n 4751  		// var basic_info_area = $('basic_info_area');\n 4752  		// basic_info_area.innerHTML = \"\";\n 4753: 		// basic_info_area.className = \"basic_info_area_hide\";\n 4754  		\n 4755  		\n ....\n 4798  \n 4799  		// //build basic information area\n 4800: 		// basic_info_area.className = \"basic_info_area\";\n 4801  		// var basic_info_intro = new Element('div',{id:\"basic_info_intro\"}).update(\"<b>Basic Information </b>\");\n 4802  		// basic_info_area.insert(basic_info_intro);\n ....\n 5459    		\n 5460  			var privacy_settings = new Element('div',{id:\"privacy_settings\", \"class\":\"title_right_area title_menu\"});\n 5461: 			//privacy_settings.insert(new Element('img',{src: \"/images/down_arrow.png\", name: this.class_name+\"_privacy_settings\",'class':'privacy_setting_button'}));\n 5462  		\n 5463  			//bind the click event to trigger privacy setting popup\n ....\n 5466          || i3a.spacetype=='portal') && (center.type==\"space\" || (center.type==\"user\" && item3a_visibility_level!=1)))\n 5467  			{\n 5468: 				var privacy_settings_button = new Element('div',{id:\"privacy_setting_button\", name: this.class_name+\"_privacy_settings\",'class':'setting_button sprite img_down_arrow',style:\"cursor:  pointer;\"});\n 5469  				privacy_settings.insert(privacy_settings_button);\n 5470  				// privacy_settings_button.observe('click',privacy_popup.buildElement.bindAsEventListener(privacy_popup,\"privacy_setting_button\",center.id,center.type));\n ....\n 5485  			// 							permissions_title=new Element('div',{id: 'permissions_title'}).update('Sharing');\n 5486  			// 							permissions.insert(permissions_title);\n 5487: 			// 							var permissions_button = new Element('img',{id:\"permissions_button\",src: \"/images/down_arrow.png\", name: this.class_name+\"_permissions_button\",style:\"cursor:  pointer;\"});\n 5488  			// 							permissions.insert(permissions_button);\n 5489  			// 						    var drop_info = new Element('div',{id:'permissions_list_drop_info', \"class\": \"drop_info\", style: \"display:none;\"}).update(\"Drop here to add more people to the sharing list\");\n ....\n 6762  	\n 6763  	initialize: function(){\n 6764: 		this.class_name = \"favorites\";\n 6765  		this.m = \"f\"; //short menu name\n 6766  		this.prefix = \"fav_\";\n ....\n 6789          //when an item comes from a block like Recommended or Clipboard\n 6790          var url = \"/favorites/create/\" + item3a_array[1] + \"/\" + item3a_array[2] \n 6791:           + \"/\" + _this.class_name;\n 6792  \n 6793          _this.ajax_drop(_this, url);\n ....\n 6805  	\n 6806  	initialize: function(){\n 6807: 		this.class_name = \"clipboard\";\n 6808  		this.m = \"c\"; //short menu name\n 6809  		this.prefix = \"clip_\";\n ....\n 7049  Object.extend(Search.prototype, {    \n 7050    initialize: function(){\n 7051:     this.class_name = \"search\";\n 7052      this.display_name = $t(\"words.search\");\n 7053      this.m = \"s\"; //short menu name\n ....\n 7067      // Attention: These lines should be the same as prebuild_block in menu_extension.\n 7068      //  ***** start *****\n 7069:     this.placeholder = $(this.class_name+'_area');\n 7070:     this.menu_area = $(this.class_name+'_area');\n 7071      this.menu_area.removeClassName(\"top_menu\");\n 7072      var menu_main = new Element('div',{'class': 'top_menu', id: this.m+'_main', style:\"overflow:hidden\"});\n ....\n 7139      //     form.insert(sel_i3a);\n 7140  \n 7141:     var s_field = new Element('div',{id: this.class_name+\"_field\", 'class': 'search_field'});\n 7142      \n 7143      s_field.insert(new Element('input',{id: 'txt_search', name:\"keyword\",type: \"text\", 'class': 'search_text'}));\n ....\n 7484  Object.extend(Notification.prototype, {    \n 7485    initialize: function(){\n 7486:     this.class_name = \"notification\";\n 7487      this.display_name = $t(\"words.notifications\");\n 7488      this.m = \"n\"; //short menu name\n ....\n 8026      // this.item3a_it = item3a_id;\n 8027      initialize: function() {\n 8028:       this.class_name = \"pad\";\n 8029        this.i3a_type = \"pad\";\n 8030        this.create_popup = create_user;\n ....\n 8070      mode_select: function(ev) {\n 8071          // The condition is remained from four columns interfaces when we still separate the 4As\n 8072:         //      if($(this.class_name+'_list').style.display == \"none\"){\n 8073          //     data_2 = g_search.data[this.i3a_type];\n 8074:         //   this.process_select(ev,data_2,this,$(this.class_name+'_search_list'),this.i3a_type);\n 8075          // }\n 8076          // else{\n 8077          var data = graaasp.items_list;\n 8078          //data = g_pad.items_list;\n 8079:         this.process_select(ev, data, this, $(this.class_name + '_list'), this.i3a_type);\n 8080          // }    \n 8081      },\n ....\n 15235  \n 15236      if(!confirm(message)){\n 15237:       if (_this.class_name!='undefined' && _this.class_name!='center' && $('item_settings_popup').getStyle('display') != 'none')\n 15238          items_settings_popup.close();\n 15239        return;\n .....\n 15260          }\n 15261        );\n 15262:       if (_this.class_name!='undefined' && _this.class_name!='center'&& $('item_settings_popup').getStyle('display') != 'none')\n 15263          items_settings_popup.close();\n 15264      \n\n/Users/boos/code/graasp/public/javascripts/cache/all_static.js:\n 2296  \n 2297    classNames: function(element) {\n 2298:     return new Element.ClassNames(element);\n 2299    },\n 2300  \n 2301    hasClassName: function(element, className) {\n 2302      if (!(element = $(element))) return;\n 2303:     var elementClassName = element.className;\n 2304      return (elementClassName.length > 0 && (elementClassName == className ||\n 2305        new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(elementClassName)));\n ....\n 2309      if (!(element = $(element))) return;\n 2310      if (!Element.hasClassName(element, className))\n 2311:       element.className += (element.className ? ' ' : '') + className;\n 2312      return element;\n 2313    },\n ....\n 2315    removeClassName: function(element, className) {\n 2316      if (!(element = $(element))) return;\n 2317:     element.className = element.className.replace(\n 2318        new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), ' ').strip();\n 2319      return element;\n ....\n 2586      el.setAttribute(classProp, 'x');\n 2587  \n 2588:     if (el.className !== 'x') {\n 2589        el.setAttribute('class', 'x');\n 2590:       if (el.className === 'x') {\n 2591          classProp = 'class';\n 2592        }\n ....\n 4357  			for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {\n 4358  				if ( elem ) {\n 4359: 					if ( not ^ (elem.className && (\" \" + elem.className + \" \").indexOf(match) >= 0) ) {\n 4360  						if ( !inplace )\n 4361  							result.push( elem );\n ....\n 4577  		},\n 4578  		CLASS: function(elem, match){\n 4579: 			return (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\n 4580  				.indexOf( match ) > -1;\n 4581  		},\n ....\n 4814  		return;\n 4815  \n 4816: 	div.lastChild.className = \"e\";\n 4817  \n 4818  	if ( div.getElementsByClassName(\"e\").length === 1 )\n ....\n 4820  \n 4821  	Expr.order.splice(1, 0, \"CLASS\");\n 4822: 	Expr.find.CLASS = function(match, context, isXML) {\n 4823  		if ( typeof context.getElementsByClassName !== \"undefined\" && !isXML ) {\n 4824  			return context.getElementsByClassName(match[1]);\n ....\n 5976  \n 5977      for (var i = 0, child, cn; child = nodes[i]; i++) {\n 5978:       if (child.className && (cn = ' ' + child.className + ' ') && (cn.include(className) ||\n 5979            (classNames && classNames.all(function(name) {\n 5980              return !name.toString().blank() && cn.include(' ' + name + ' ');\n ....\n 5992  /*--------------------------------------------------------------------------*/\n 5993  \n 5994: Element.ClassNames = Class.create();\n 5995: Element.ClassNames.prototype = {\n 5996    initialize: function(element) {\n 5997      this.element = $(element);\n ....\n 5999  \n 6000    _each: function(iterator) {\n 6001:     this.element.className.split(/\\s+/).select(function(name) {\n 6002        return name.length > 0;\n 6003      })._each(iterator);\n ....\n 6005  \n 6006    set: function(className) {\n 6007:     this.element.className = className;\n 6008    },\n 6009  \n ....\n 6023  };\n 6024  \n 6025: Object.extend(Element.ClassNames.prototype, Enumerable);\n 6026  \n 6027  /*--------------------------------------------------------------------------*/\n ....\n 7346          this.isContained(element, drop)) &&\n 7347        ((!drop.accept) ||\n 7348:         (Element.classNames(element).detect(\n 7349            function(v) { return drop.accept.include(v) } ) )) &&\n 7350        Position.within(drop.element, point[0], point[1]) );\n ....\n 8236    $A(element.childNodes).each( function(e) {\n 8237      if(e.tagName && e.tagName.toUpperCase()==tagName &&\n 8238:       (!only || (Element.classNames(e).detect(function(v) { return only.include(v) }))))\n 8239          elements.push(e);\n 8240      if(recursive) {\n ....\n 8771        btn.type = 'submit';\n 8772        btn.value = text;\n 8773:       btn.className = 'editor_' + mode + '_button';\n 8774        if ('cancel' == mode)\n 8775          btn.onclick = this._boundCancelHandler;\n ....\n 8781        link.appendChild(document.createTextNode(text));\n 8782        link.onclick = 'cancel' == mode ? this._boundCancelHandler : this._boundSubmitHandler;\n 8783:       link.className = 'editor_' + mode + '_link';\n 8784        if (extraClasses)\n 8785:         link.className += ' ' + extraClasses;\n 8786        this._form.appendChild(link);\n 8787        this._controls[mode] = link;\n ....\n 8803      fld.name = this.options.paramName;\n 8804      fld.value = text; // No HTML breaks conversion anymore\n 8805:     fld.className = 'editor_field';\n 8806      if (this.options.submitOnBlur)\n 8807        fld.onblur = this._boundSubmitHandler;\n ....\n 9868          this.isContained(element, drop)) &&\n 9869        ((!drop.accept) ||\n 9870:         (Element.classNames(element).detect( \n 9871            function(v) { return drop.accept.include(v) } ) )) && positioned_within );\n 9872  \n ....\n 9997  if(throwHandler)throw(error);else return false;}});var TabsItem=Class.create(Class.accessors,{initialize:function(tabs,options){this.options={tabs:null,item:null,panel:null,display:true,request:null,loaded:false,titleElement:null,selected:false,iframe:null};this.setOptions(this.options,options,true);this.setTabs(tabs);this.__getTitleElement();this.__setEvents();this.__voidAhref();this.events=new EventManager(this);},__setEvents:function(){var inst=this;var selectEvent=this.getTabs().getSelectEvent();$(this.getItem()).observe(selectEvent,this.select.bindAsEventListener(this));},__getTitleElement:function(){this.setTitleElement(this.getItem().firstDescendant());},__voidAhref:function(){var a=this.getItem().firstDescendant();if(a.hasAttribute('href')){a.href='javascript:void(0)';}},observe:function(eventName,callback){this.events.observe(eventName,callback);return this;},getTitle:function(){return this.getTitleElement().innerHTML;},setTitle:function(title){this.getTitleElement().update(title);},select:function(){if(this.getTabs().getHistory()){History.set(this.getTabs().getTabsId(),this.getPanel().id);History.setTitle(History.getTitle()+' ('+this.getPanel().id.ucfirst()+')');}\n 9998  this.__select();},__select:function(){if(this.getTabs().getHistory()){History.setTitle(History.getTitle()+' ('+this.getPanel().id.ucfirst()+')');}\n 9999: this.getTabs().unSelectAll(this);this.getItem().className='tab-show';this.getPanel().className='panel-show';this.getPanel().show();this.load();this.events.notify('select',this);this.setSelected(true);},unSelect:function(){this.getItem().className='tab-hide';this.getPanel().className='panel-hide';if(this.getSelected()){this.events.notify('unselect',this);}\n 10000  this.setSelected(false);},show:function(select){if(this.getDisplay())return;this.events.notify('show',this);this.getItem().show();this.getPanel().show();this.setDisplay(true);if(select===true)this.select();},hide:function(){if(!this.getDisplay())return;this.events.notify('hide',this);this.getItem().hide();this.getPanel().hide();this.setDisplay(false);this.getTabs().selectFirst();},toggle:function(select){if(!this.getDisplay()){return this.show(select);}\n 10001  this.hide();},load:function(options){var inst=this;var options=Object.extend(options||{},this.getRequest().options||{});if(this.getRequest().url!=null&&!this.getLoaded()){var loadType=this.getRequest().type;if(loadType=='ajax'){options=Object.clone(Object.extend({onLoading:function(response,json,tabs){tabs.setTitle('Loading...');}},options));var onCreate=options.onCreate;options.onCreate=(function(response){if(Object.isFunction(onCreate))onCreate(response,inst);}).bind(this);var onSuccess=options.onSuccess;options.onSuccess=(function(response,json){inst.setLoaded(true);if(Object.isFunction(onSuccess))onSuccess(response,json,inst);}).bind(this);var onFailure=options.onFailure;options.onFailure=(function(response,json){if(Object.isFunction(onFailure))onFailure(response,json,inst);}).bind(this);var onComplete=options.onComplete;options.onComplete=(function(response,json){inst.setTitle(inst.options.tmpTitle);if(Object.isFunction(onComplete))onComplete(response,json,inst);}).bind(this);var onLoading=options.onLoading;options.onLoading=(function(response,json){inst.options.tmpTitle=inst.getTitle();if(Object.isFunction(onLoading))onLoading(response,json,inst);}).bind(this);var onLoaded=options.onLoaded;options.onLoaded=(function(response,json){if(Object.isFunction(onLoaded))onLoaded(response,json,inst);}).bind(this);var onException=options.onException;options.onException=(function(request,exception){if(Object.isFunction(onException))onException(request,exception,inst);}).bind(this);new Ajax.Updater(this.getPanel(),this.getRequest().url,Object.extend({onLoading:function(tabs){tabs.setTitle('Loading...');}},options||{}));}\n .....\n 10355              }.bindAsEventListener(this));\n 10356          }\n 10357:         link.addClassName(this.options.classNames.off);\n 10358          return link;\n 10359      },\n .....\n 10401          (this.options.reverse ? this.links.reverse() : this.links).each(function(link,i){\n 10402              if(link.value <= Math.ceil(rating)){\n 10403:                 link.className = this.options.classNames[link.value <= rating ? 'on' : 'half'];\n 10404                  if(this.options.rated || force_selected) {\n 10405:                     // link.addClassName(this.options.classNames.selected); \n 10406:                     link.className = this.options.classNames.selected;\n 10407                  }\n 10408              } else {\n 10409:                 link.className = this.options.classNames.off; }\n 10410          }.bind(this));\n 10411      },\n .....\n 10533      \n 10534      // easier access\n 10535:     this._classes = this._options.classes;\n 10536      \n 10537      this._handler = this._createUploadHandler();    \n .....\n 10562      },  \n 10563      /**\n 10564:      * Gets one of the elements listed in this._options.classes\n 10565       * \n 10566       * First optional element is root for search,\n .....\n 10578          }\n 10579          \n 10580:         var element = qq.getByClass(parent, this._options.classes[type])[0];\n 10581          \n 10582          if (!element){\n .....\n 11352  qq.hasClass = function(element, name){\n 11353      var re = new RegExp('(^| )' + name + '( |$)');\n 11354:     return re.test(element.className);\n 11355  };\n 11356  qq.addClass = function(element, name){\n 11357      if (!qq.hasClass(element, name)){\n 11358:         element.className += ' ' + name;\n 11359      }\n 11360  };\n 11361  qq.removeClass = function(element, name){\n 11362      var re = new RegExp('(^| )' + name + '( |$)');\n 11363:     element.className = element.className.replace(re, ' ').replace(/^\\s+|\\s+$/g, \"\");\n 11364  };\n 11365  qq.setText = function(element, text){\n\n/Users/boos/code/graasp/public/javascripts/calendariffic/calendar.js:\n   10  while(related){if(related==el){return true;}\n   11  related=related.parentNode;}\n   12: return false;};Calendar.removeClass=function(el,className){if(!(el&&el.className)){return;}\n   13: var cls=el.className.split(\" \");var ar=new Array();for(var i=cls.length;i>0;){if(cls[--i]!=className){ar[ar.length]=cls[i];}}\n   14: el.className=ar.join(\" \");};Calendar.addClass=function(el,className){Calendar.removeClass(el,className);el.className+=\" \"+className;};Calendar.getElement=function(ev){var f=Calendar.is_ie?window.event.srcElement:ev.currentTarget;while(f.nodeType!=1||/^div$/i.test(f.tagName))\n   15  f=f.parentNode;return f;};Calendar.getTargetElement=function(ev){var f=Calendar.is_ie?window.event.srcElement:ev.target;while(f.nodeType!=1)\n   16  f=f.parentNode;return f;};Calendar.stopEvent=function(ev){ev||(ev=window.event);if(Calendar.is_ie){ev.cancelBubble=true;ev.returnValue=false;}else{ev.preventDefault();ev.stopPropagation();}\n   ..\n   89  if(newdate){ev&&cal.callHandler();}\n   90  if(closing){Calendar.removeClass(el,\"hilite\");ev&&cal.callCloseHandler();}};Calendar.prototype.create=function(_par){var parent=null;if(!_par){parent=document.getElementsByTagName(\"body\")[0];this.isPopup=true;}else{parent=_par;this.isPopup=false;}\n   91: this.date=this.dateStr?new Date(this.dateStr):new Date();var table=Calendar.createElement(\"table\");this.table=table;table.cellSpacing=0;table.cellPadding=0;table.calendar=this;Calendar.addEvent(table,\"mousedown\",Calendar.tableMouseDown);var div=Calendar.createElement(\"div\");this.element=div;div.className=\"calendar\";if(this.isPopup){div.style.position=\"absolute\";div.style.display=\"none\";}\n   92: div.appendChild(table);var thead=Calendar.createElement(\"thead\",table);var cell=null;var row=null;var cal=this;var hh=function(text,cs,navtype){cell=Calendar.createElement(\"td\",row);cell.colSpan=cs;cell.className=\"button\";if(navtype!=0&&Math.abs(navtype)<=2)\n   93: cell.className+=\" nav\";Calendar._add_evs(cell);cell.calendar=cal;cell.navtype=navtype;cell.innerHTML=\"<div unselectable='on'>\"+text+\"</div>\";return cell;};row=Calendar.createElement(\"tr\",thead);var title_length=6;(this.isPopup)&&--title_length;(this.weekNumbers)&&++title_length;hh(\"?\",1,400).ttip=Calendar._TT[\"INFO\"];this.title=hh(\"\",title_length,300);this.title.className=\"title\";if(this.isPopup){this.title.ttip=Calendar._TT[\"DRAG_TO_MOVE\"];this.title.style.cursor=\"move\";hh(\"&#x00d7;\",1,200).ttip=Calendar._TT[\"CLOSE\"];}\n   94: row=Calendar.createElement(\"tr\",thead);row.className=\"headrow\";this._nav_py=hh(\"&#x00ab;\",1,-2);this._nav_py.ttip=Calendar._TT[\"PREV_YEAR\"];this._nav_pm=hh(\"&#x2039;\",1,-1);this._nav_pm.ttip=Calendar._TT[\"PREV_MONTH\"];this._nav_now=hh(Calendar._TT[\"TODAY\"],this.weekNumbers?4:3,0);this._nav_now.ttip=Calendar._TT[\"GO_TODAY\"];this._nav_nm=hh(\"&#x203a;\",1,1);this._nav_nm.ttip=Calendar._TT[\"NEXT_MONTH\"];this._nav_ny=hh(\"&#x00bb;\",1,2);this._nav_ny.ttip=Calendar._TT[\"NEXT_YEAR\"];row=Calendar.createElement(\"tr\",thead);row.className=\"daynames\";if(this.weekNumbers){cell=Calendar.createElement(\"td\",row);cell.className=\"name wn\";cell.innerHTML=Calendar._TT[\"WK\"];}\n   95  for(var i=7;i>0;--i){cell=Calendar.createElement(\"td\",row);if(!i){cell.navtype=100;cell.calendar=this;Calendar._add_evs(cell);}}\n   96  this.firstdayname=(this.weekNumbers)?row.firstChild.nextSibling:row.firstChild;this._displayWeekdays();var tbody=Calendar.createElement(\"tbody\",table);this.tbody=tbody;for(i=6;i>0;--i){row=Calendar.createElement(\"tr\",tbody);if(this.weekNumbers){cell=Calendar.createElement(\"td\",row);}\n   97  for(var j=7;j>0;--j){cell=Calendar.createElement(\"td\",row);cell.calendar=this;Calendar._add_evs(cell);}}\n   98: if(this.showsTime){row=Calendar.createElement(\"tr\",tbody);row.className=\"time\";cell=Calendar.createElement(\"td\",row);cell.className=\"time\";cell.colSpan=2;cell.innerHTML=Calendar._TT[\"TIME\"]||\"&nbsp;\";cell=Calendar.createElement(\"td\",row);cell.className=\"time\";cell.colSpan=this.weekNumbers?4:3;(function(){function makeTimePart(className,init,range_start,range_end){var part=Calendar.createElement(\"span\",cell);part.className=className;part.innerHTML=init;part.calendar=cal;part.ttip=Calendar._TT[\"TIME_PART\"];part.navtype=50;part._range=[];if(typeof range_start!=\"number\")\n   99  part._range=range_start;else{for(var i=range_start;i<=range_end;++i){var txt;if(i<10&&range_end>=10)txt='0'+i;else txt=''+i;part._range[part._range.length]=txt;}}\n  100: Calendar._add_evs(part);return part;};var hrs=cal.date.getHours();var mins=cal.date.getMinutes();var t12=!cal.time24;var pm=(hrs>12);if(t12&&pm)hrs-=12;var H=makeTimePart(\"hour\",hrs,t12?1:0,t12?12:23);var span=Calendar.createElement(\"span\",cell);span.innerHTML=\":\";span.className=\"colon\";var M=makeTimePart(\"minute\",mins,0,59);var AP=null;cell=Calendar.createElement(\"td\",row);cell.className=\"time\";cell.colSpan=2;if(t12)\n  101  AP=makeTimePart(\"ampm\",pm?\"pm\":\"am\",[\"am\",\"pm\"]);else\n  102  cell.innerHTML=\"&nbsp;\";cal.onSetTime=function(){var pm,hrs=this.date.getHours(),mins=this.date.getMinutes();if(t12){pm=(hrs>=12);if(pm)hrs-=12;if(hrs==0)hrs=12;AP.innerHTML=pm?\"pm\":\"am\";}\n  ...\n  105  h=0;}\n  106  var d=date.getDate();var m=date.getMonth();var y=date.getFullYear();date.setHours(h);date.setMinutes(parseInt(M.innerHTML,10));date.setFullYear(y);date.setMonth(m);date.setDate(d);this.dateClicked=false;this.callHandler();};})();}else{this.onSetTime=this.onUpdateTime=function(){};}\n  107: var tfoot=Calendar.createElement(\"tfoot\",table);row=Calendar.createElement(\"tr\",tfoot);row.className=\"footrow\";cell=hh(Calendar._TT[\"SEL_DATE\"],this.weekNumbers?8:7,300);cell.className=\"ttip\";if(this.isPopup){cell.ttip=Calendar._TT[\"DRAG_TO_MOVE\"];cell.style.cursor=\"move\";}\n  108: this.tooltips=cell;div=Calendar.createElement(\"div\",this.element);this.monthsCombo=div;div.className=\"combo\";for(i=0;i<Calendar._MN.length;++i){var mn=Calendar.createElement(\"div\");mn.className=Calendar.is_ie?\"label-IEfix\":\"label\";mn.month=i;mn.innerHTML=Calendar._SMN[i];div.appendChild(mn);}\n  109: div=Calendar.createElement(\"div\",this.element);this.yearsCombo=div;div.className=\"combo\";for(i=12;i>0;--i){var yr=Calendar.createElement(\"div\");yr.className=Calendar.is_ie?\"label-IEfix\":\"label\";div.appendChild(yr);}\n  110  this._init(this.firstDayOfWeek,this.date);parent.appendChild(this.element);};Calendar._keyEvent=function(ev){var cal=window._dynarch_popupCalendar;if(!cal||cal.multiple)\n  111  return false;(Calendar.is_ie)&&(ev=window.event);var act=(Calendar.is_ie||ev.type==\"keypress\"),K=ev.keyCode;if(ev.ctrlKey){switch(K){case 37:act&&Calendar.cellClick(cal._nav_pm);break;case 38:act&&Calendar.cellClick(cal._nav_py);break;case 39:act&&Calendar.cellClick(cal._nav_nm);break;case 40:act&&Calendar.cellClick(cal._nav_ny);break;default:return false;}}else switch(K){case 32:Calendar.cellClick(cal._nav_now);break;case 27:act&&cal.callCloseHandler();break;case 37:case 38:case 39:case 40:if(act){var prev,x,y,ne,el,step;prev=K==37||K==38;step=(K==37||K==39)?1:7;function setVars(){el=cal.currentDateEl;var p=el.pos;x=p&15;y=p>>4;ne=cal.ar_days[y][x];};setVars();function prevMonth(){var date=new Date(cal.date);date.setDate(date.getDate()-step);cal.setDate(date);};function nextMonth(){var date=new Date(cal.date);date.setDate(date.getDate()+step);cal.setDate(date);};while(1){switch(K){case 37:if(--x>=0)\n  ...\n  127  return Calendar.stopEvent(ev);};Calendar.prototype._init=function(firstDayOfWeek,date){var today=new Date(),TY=today.getFullYear(),TM=today.getMonth(),TD=today.getDate();this.table.style.visibility=\"hidden\";var year=date.getFullYear();if(year<this.minYear){year=this.minYear;date.setFullYear(year);}else if(year>this.maxYear){year=this.maxYear;date.setFullYear(year);}\n  128  this.firstDayOfWeek=firstDayOfWeek;this.date=new Date(date);var month=date.getMonth();var mday=date.getDate();var no_days=date.getMonthDays();date.setDate(1);var day1=(date.getDay()-this.firstDayOfWeek)%7;if(day1<0)\n  129: day1+=7;date.setDate(-day1);date.setDate(date.getDate()+1);var row=this.tbody.firstChild;var MN=Calendar._SMN[month];var ar_days=this.ar_days=new Array();var weekend=Calendar._TT[\"WEEKEND\"];var dates=this.multiple?(this.datesCells={}):null;for(var i=0;i<6;++i,row=row.nextSibling){var cell=row.firstChild;if(this.weekNumbers){cell.className=\"day wn\";cell.innerHTML=date.getWeekNumber();cell=cell.nextSibling;}\n  130: row.className=\"daysrow\";var hasdays=false,iday,dpos=ar_days[i]=[];for(var j=0;j<7;++j,cell=cell.nextSibling,date.setDate(iday+1)){iday=date.getDate();var wday=date.getDay();cell.className=\"day\";cell.pos=i<<4|j;dpos[j]=cell;var current_month=(date.getMonth()==month);if(!current_month){if(this.showsOtherMonths){cell.className+=\" othermonth\";cell.otherMonth=true;}else{cell.className=\"emptycell\";cell.innerHTML=\"&nbsp;\";cell.disabled=true;continue;}}else{cell.otherMonth=false;hasdays=true;}\n  131  cell.disabled=false;cell.innerHTML=this.getDateText?this.getDateText(date,iday):iday;if(dates)\n  132  dates[date.print(\"%Y%m%d\")]=cell;if(this.getDateStatus){var status=this.getDateStatus(date,year,month,iday);if(this.getDateToolTip){var toolTip=this.getDateToolTip(date,year,month,iday);if(toolTip)\n  133  cell.title=toolTip;}\n  134: if(status===true){cell.className+=\" disabled\";cell.disabled=true;}else{if(/disabled/i.test(status))\n  135: cell.disabled=true;cell.className+=\" \"+status;}}\n  136: if(!cell.disabled){cell.caldate=new Date(date);cell.ttip=\"_\";if(!this.multiple&&current_month&&iday==mday&&this.hiliteToday){cell.className+=\" selected\";this.currentDateEl=cell;}\n  137: if(date.getFullYear()==TY&&date.getMonth()==TM&&iday==TD){cell.className+=\" today\";cell.ttip+=Calendar._TT[\"PART_TODAY\"];}\n  138  if(weekend.indexOf(wday.toString())!=-1)\n  139: cell.className+=cell.otherMonth?\" oweekend\":\" weekend\";}}\n  140  if(!(hasdays||this.showsOtherMonths))\n  141: row.className=\"emptyrow\";}\n  142  this.title.innerHTML=Calendar._MN[month]+\", \"+year;this.onSetTime();this.table.style.visibility=\"visible\";this._initMultipleDates();};Calendar.prototype._initMultipleDates=function(){if(this.multiple){for(var i in this.multiple){var cell=this.datesCells[i];var d=this.multiple[i];if(!d)\n  143  continue;if(cell)\n  144: cell.className+=\" selected\";}}};Calendar.prototype._toggleMultipleDate=function(date){if(this.multiple){var ds=date.print(\"%Y%m%d\");var cell=this.datesCells[ds];if(cell){var d=this.multiple[ds];if(!d){Calendar.addClass(cell,\"selected\");this.multiple[ds]=date;}else{Calendar.removeClass(cell,\"selected\");delete this.multiple[ds];}}}};Calendar.prototype.setDateToolTipHandler=function(unaryFunction){this.getDateToolTip=unaryFunction;};Calendar.prototype.setDate=function(date){if(!date.equalsTo(this.date)){this._init(this.firstDayOfWeek,date);}};Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date);};Calendar.prototype.setFirstDayOfWeek=function(firstDayOfWeek){this._init(firstDayOfWeek,this.date);this._displayWeekdays();};Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(unaryFunction){this.getDateStatus=unaryFunction;};Calendar.prototype.setRange=function(a,z){this.minYear=a;this.maxYear=z;};Calendar.prototype.callHandler=function(){if(this.onSelected){this.onSelected(this,this.date.print(this.dateFormat));}};Calendar.prototype.callCloseHandler=function(){if(this.onClose){this.onClose(this);}\n  145  this.hideShowCovered();};Calendar.prototype.destroy=function(){var el=this.element.parentNode;el.removeChild(this.element);Calendar._C=null;window._dynarch_popupCalendar=null;};Calendar.prototype.reparent=function(new_parent){var el=this.element;el.parentNode.removeChild(el);new_parent.appendChild(el);};Calendar._checkCalendar=function(ev){var calendar=window._dynarch_popupCalendar;if(!calendar){return false;}\n  146  var el=Calendar.is_ie?Calendar.getElement(ev):Calendar.getTargetElement(ev);for(;el!=null&&el!=calendar.element;el=el.parentNode);if(el==null){window._dynarch_popupCalendar.callCloseHandler();return Calendar.stopEvent(ev);}};Calendar.prototype.show=function(){var rows=this.table.getElementsByTagName(\"tr\");for(var i=rows.length;i>0;){var row=rows[--i];Calendar.removeClass(row,\"rowhilite\");var cells=row.getElementsByTagName(\"td\");for(var j=cells.length;j>0;){var cell=cells[--j];Calendar.removeClass(cell,\"hilite\");Calendar.removeClass(cell,\"active\");}}\n  ...\n  164  return value;};var tags=new Array(\"applet\",\"iframe\",\"select\");var el=this.element;var p=Calendar.getAbsolutePos(el);var EX1=p.x;var EX2=el.offsetWidth+EX1;var EY1=p.y;var EY2=el.offsetHeight+EY1;for(var k=tags.length;k>0;){var ar=document.getElementsByTagName(tags[--k]);var cc=null;for(var i=ar.length;i>0;){cc=ar[--i];p=Calendar.getAbsolutePos(cc);var CX1=p.x;var CX2=cc.offsetWidth+CX1;var CY1=p.y;var CY2=cc.offsetHeight+CY1;if(this.hidden||(CX1>EX2)||(CX2<EX1)||(CY1>EY2)||(CY2<EY1)){if(!cc.__msh_save_visibility){cc.__msh_save_visibility=getVisib(cc);}\n  165  cc.style.visibility=cc.__msh_save_visibility;}else{if(!cc.__msh_save_visibility){cc.__msh_save_visibility=getVisib(cc);}\n  166: cc.style.visibility=\"hidden\";}}}};Calendar.prototype._displayWeekdays=function(){var fdow=this.firstDayOfWeek;var cell=this.firstdayname;var weekend=Calendar._TT[\"WEEKEND\"];for(var i=0;i<7;++i){cell.className=\"day name\";var realday=(i+fdow)%7;if(i){cell.ttip=Calendar._TT[\"DAY_FIRST\"].replace(\"%s\",Calendar._DN[realday]);cell.navtype=100;cell.calendar=this;cell.fdow=realday;Calendar._add_evs(cell);}\n  167  if(weekend.indexOf(realday.toString())!=-1){Calendar.addClass(cell,\"weekend\");}\n  168  cell.innerHTML=Calendar._SDN[(i+fdow)%7];cell=cell.nextSibling;}};Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display=\"none\";this.yearsCombo.style.display=\"none\";};Calendar.prototype._dragStart=function(ev){if(this.dragging){return;}\n\n/Users/boos/code/graasp/public/javascripts/calendariffic/calendar_src.js:\n  135  \n  136  Calendar.removeClass = function(el, className) {\n  137:   if (!(el && el.className)) {\n  138      return;\n  139    }\n  140:   var cls = el.className.split(\" \");\n  141    var ar = new Array();\n  142    for (var i = cls.length; i > 0;) {\n  ...\n  145      }\n  146    }\n  147:   el.className = ar.join(\" \");\n  148  };\n  149  \n  150  Calendar.addClass = function(el, className) {\n  151    Calendar.removeClass(el, className);\n  152:   el.className += \" \" + className;\n  153  };\n  154  \n  ...\n  740    var div = Calendar.createElement(\"div\");\n  741    this.element = div;\n  742:   div.className = \"calendar\";\n  743    if (this.isPopup) {\n  744      div.style.position = \"absolute\";\n  ...\n  755      cell = Calendar.createElement(\"td\", row);\n  756      cell.colSpan = cs;\n  757:     cell.className = \"button\";\n  758      if (navtype != 0 && Math.abs(navtype) <= 2)\n  759:       cell.className += \" nav\";\n  760      Calendar._add_evs(cell);\n  761      cell.calendar = cal;\n  ...\n  772    hh(\"?\", 1, 400).ttip = Calendar._TT[\"INFO\"];\n  773    this.title = hh(\"\", title_length, 300);\n  774:   this.title.className = \"title\";\n  775    if (this.isPopup) {\n  776      this.title.ttip = Calendar._TT[\"DRAG_TO_MOVE\"];\n  ...\n  780  \n  781    row = Calendar.createElement(\"tr\", thead);\n  782:   row.className = \"headrow\";\n  783  \n  784    this._nav_py = hh(\"&#x00ab;\", 1, -2);\n  ...\n  799    // day names\n  800    row = Calendar.createElement(\"tr\", thead);\n  801:   row.className = \"daynames\";\n  802    if (this.weekNumbers) {\n  803      cell = Calendar.createElement(\"td\", row);\n  804:     cell.className = \"name wn\";\n  805      cell.innerHTML = Calendar._TT[\"WK\"];\n  806    }\n  ...\n  833    if (this.showsTime) {\n  834      row = Calendar.createElement(\"tr\", tbody);\n  835:     row.className = \"time\";\n  836  \n  837      cell = Calendar.createElement(\"td\", row);\n  838:     cell.className = \"time\";\n  839      cell.colSpan = 2;\n  840      cell.innerHTML = Calendar._TT[\"TIME\"] || \"&nbsp;\";\n  841  \n  842      cell = Calendar.createElement(\"td\", row);\n  843:     cell.className = \"time\";\n  844      cell.colSpan = this.weekNumbers ? 4 : 3;\n  845  \n  ...\n  847        function makeTimePart(className, init, range_start, range_end) {\n  848          var part = Calendar.createElement(\"span\", cell);\n  849:         part.className = className;\n  850          part.innerHTML = init;\n  851          part.calendar = cal;\n  ...\n  874        var span = Calendar.createElement(\"span\", cell);\n  875        span.innerHTML = \":\";\n  876:       span.className = \"colon\";\n  877        var M = makeTimePart(\"minute\", mins, 0, 59);\n  878        var AP = null;\n  879        cell = Calendar.createElement(\"td\", row);\n  880:       cell.className = \"time\";\n  881        cell.colSpan = 2;\n  882        if (t12)\n  ...\n  926  \n  927    row = Calendar.createElement(\"tr\", tfoot);\n  928:   row.className = \"footrow\";\n  929  \n  930    cell = hh(Calendar._TT[\"SEL_DATE\"], this.weekNumbers ? 8 : 7, 300);\n  931:   cell.className = \"ttip\";\n  932    if (this.isPopup) {\n  933      cell.ttip = Calendar._TT[\"DRAG_TO_MOVE\"];\n  ...\n  938    div = Calendar.createElement(\"div\", this.element);\n  939    this.monthsCombo = div;\n  940:   div.className = \"combo\";\n  941    for (i = 0; i < Calendar._MN.length; ++i) {\n  942      var mn = Calendar.createElement(\"div\");\n  943:     mn.className = Calendar.is_ie ? \"label-IEfix\" : \"label\";\n  944      mn.month = i;\n  945      mn.innerHTML = Calendar._SMN[i];\n  ...\n  949    div = Calendar.createElement(\"div\", this.element);\n  950    this.yearsCombo = div;\n  951:   div.className = \"combo\";\n  952    for (i = 12; i > 0; --i) {\n  953      var yr = Calendar.createElement(\"div\");\n  954:     yr.className = Calendar.is_ie ? \"label-IEfix\" : \"label\";\n  955      div.appendChild(yr);\n  956    }\n  ...\n 1117      var cell = row.firstChild;\n 1118      if (this.weekNumbers) {\n 1119:       cell.className = \"day wn\";\n 1120        cell.innerHTML = date.getWeekNumber();\n 1121        cell = cell.nextSibling;\n 1122      }\n 1123:     row.className = \"daysrow\";\n 1124      var hasdays = false, iday, dpos = ar_days[i] = [];\n 1125      for (var j = 0; j < 7; ++j, cell = cell.nextSibling, date.setDate(iday + 1)) {\n 1126        iday = date.getDate();\n 1127        var wday = date.getDay();\n 1128:       cell.className = \"day\";\n 1129        cell.pos = i << 4 | j;\n 1130        dpos[j] = cell;\n ....\n 1132        if (!current_month) {\n 1133          if (this.showsOtherMonths) {\n 1134:           cell.className += \" othermonth\";\n 1135            cell.otherMonth = true;\n 1136          } else {\n 1137:           cell.className = \"emptycell\";\n 1138            cell.innerHTML = \"&nbsp;\";\n 1139            cell.disabled = true;\n ....\n 1156          }\n 1157          if (status === true) {\n 1158:           cell.className += \" disabled\";\n 1159            cell.disabled = true;\n 1160          } else {\n 1161            if (/disabled/i.test(status))\n 1162              cell.disabled = true;\n 1163:           cell.className += \" \" + status;\n 1164          }\n 1165        }\n ....\n 1169          if (!this.multiple && current_month\n 1170              && iday == mday && this.hiliteToday) {\n 1171:           cell.className += \" selected\";\n 1172            this.currentDateEl = cell;\n 1173          }\n ....\n 1175              date.getMonth() == TM &&\n 1176              iday == TD) {\n 1177:           cell.className += \" today\";\n 1178            cell.ttip += Calendar._TT[\"PART_TODAY\"];\n 1179          }\n 1180          if (weekend.indexOf(wday.toString()) != -1)\n 1181:           cell.className += cell.otherMonth ? \" oweekend\" : \" weekend\";\n 1182        }\n 1183      }\n 1184      if (!(hasdays || this.showsOtherMonths))\n 1185:       row.className = \"emptyrow\";\n 1186    }\n 1187    this.title.innerHTML = Calendar._MN[month] + \", \" + year;\n ....\n 1201          continue;\n 1202        if (cell)\n 1203:         cell.className += \" selected\";\n 1204      }\n 1205    }\n ....\n 1523    var weekend = Calendar._TT[\"WEEKEND\"];\n 1524    for (var i = 0; i < 7; ++i) {\n 1525:     cell.className = \"day name\";\n 1526      var realday = (i + fdow) % 7;\n 1527      if (i) {\n\n/Users/boos/code/graasp/public/javascripts/center/permissions_list_popup.js:\n  292  \n  293      if(!confirm(message)){\n  294:       if (_this.class_name!='undefined' && _this.class_name!='center' && $('item_settings_popup').getStyle('display') != 'none')\n  295          items_settings_popup.close();\n  296        return;\n  ...\n  317          }\n  318        );\n  319:       if (_this.class_name!='undefined' && _this.class_name!='center'&& $('item_settings_popup').getStyle('display') != 'none')\n  320          items_settings_popup.close();\n  321  \n\n/Users/boos/code/graasp/public/javascripts/controls.js:\n  519        btn.type = 'submit';\n  520        btn.value = text;\n  521:       btn.className = 'editor_' + mode + '_button';\n  522        if ('cancel' == mode)\n  523          btn.onclick = this._boundCancelHandler;\n  ...\n  529        link.appendChild(document.createTextNode(text));\n  530        link.onclick = 'cancel' == mode ? this._boundCancelHandler : this._boundSubmitHandler;\n  531:       link.className = 'editor_' + mode + '_link';\n  532        if (extraClasses)\n  533:         link.className += ' ' + extraClasses;\n  534        this._form.appendChild(link);\n  535        this._controls[mode] = link;\n  ...\n  551      fld.name = this.options.paramName;\n  552      fld.value = text; // No HTML breaks conversion anymore\n  553:     fld.className = 'editor_field';\n  554      if (this.options.submitOnBlur)\n  555        fld.onblur = this._boundSubmitHandler;\n\n/Users/boos/code/graasp/public/javascripts/controls_src.js:\n  519        btn.type = 'submit';\n  520        btn.value = text;\n  521:       btn.className = 'editor_' + mode + '_button';\n  522        if ('cancel' == mode)\n  523          btn.onclick = this._boundCancelHandler;\n  ...\n  529        link.appendChild(document.createTextNode(text));\n  530        link.onclick = 'cancel' == mode ? this._boundCancelHandler : this._boundSubmitHandler;\n  531:       link.className = 'editor_' + mode + '_link';\n  532        if (extraClasses)\n  533:         link.className += ' ' + extraClasses;\n  534        this._form.appendChild(link);\n  535        this._controls[mode] = link;\n  ...\n  551      fld.name = this.options.paramName;\n  552      fld.value = text; // No HTML breaks conversion anymore\n  553:     fld.className = 'editor_field';\n  554      if (this.options.submitOnBlur)\n  555        fld.onblur = this._boundSubmitHandler;\n\n/Users/boos/code/graasp/public/javascripts/dragdrop.js:\n   69          this.isContained(element, drop)) &&\n   70        ((!drop.accept) ||\n   71:         (Element.classNames(element).detect(\n   72            function(v) { return drop.accept.include(v) } ) )) &&\n   73        Position.within(drop.element, point[0], point[1]) );\n   ..\n  959    $A(element.childNodes).each( function(e) {\n  960      if(e.tagName && e.tagName.toUpperCase()==tagName &&\n  961:       (!only || (Element.classNames(e).detect(function(v) { return only.include(v) }))))\n  962          elements.push(e);\n  963      if(recursive) {\n\n/Users/boos/code/graasp/public/javascripts/dragdrop_src.js:\n   69          this.isContained(element, drop)) &&\n   70        ((!drop.accept) ||\n   71:         (Element.classNames(element).detect(\n   72            function(v) { return drop.accept.include(v) } ) )) &&\n   73        Position.within(drop.element, point[0], point[1]) );\n   ..\n  959    $A(element.childNodes).each( function(e) {\n  960      if(e.tagName && e.tagName.toUpperCase()==tagName &&\n  961:       (!only || (Element.classNames(e).detect(function(v) { return only.include(v) }))))\n  962          elements.push(e);\n  963      if(recursive) {\n\n/Users/boos/code/graasp/public/javascripts/dragdropextra.js:\n  142          this.isContained(element, drop)) &&\n  143        ((!drop.accept) ||\n  144:         (Element.classNames(element).detect(\n  145            function(v) { return drop.accept.include(v) } ) )) && positioned_within );\n  146  \n\n/Users/boos/code/graasp/public/javascripts/example.js:\n   17    var txt = document.createTextNode(fileObj.name);\n   18  \n   19:   li.className = \"uploading\";\n   20    li.id = fileObj.name;\n   21    \n   22    var prg = document.createElement(\"span\");\n   23    prg.id = fileObj.name + \"progress\";\n   24:   prg.className = \"progressBar\"\n   25    \n   26    li.appendChild(txt);\n   ..\n   40  \n   41  uploadComplete = function(fileObj) {\n   42:   $(fileObj.name).className = \"uploadDone\";\n   43    $(fileObj.name).innerHTML += \" \" + (Math.ceil(fileObj.size / 1000)) + \" kb\";\n   44  }\n\n/Users/boos/code/graasp/public/javascripts/graaasp.js:\n  227      this.all_blocks.each(function(block){\n  228        // call ajax to get data for every block and uses this data to build the GUI for this block\n  229:       if (block.class_name === \"notification\") return; // TODO: temporarily disable notification request\n  230        block.get_data(item4a_type,item4a_id);\n  231      })\n\n/Users/boos/code/graasp/public/javascripts/graaasp_block.js:\n    9    // executed only once\n   10    pre_build: function(){\n   11:     this.placeholder = $(this.class_name+'_area');\n   12:     //this.placeholder = $(this.class_name+'_data');\n   13      // this.placeholder.innerHTML = \"\";\n   14  \n   ..\n   22    // callback when data is received from the server\n   23    build: function(data){\n   24:     this.placeholder = $(this.class_name+'_area');\n   25:     //this.placeholder = $(this.class_name+'_data');\n   26      this.build_block(data);\n   27    },\n   ..\n   30    },\n   31    settings_button: function(){\n   32:     var class_name = this.class_name;\n   33      // settings button\n   34      var settings = new Element('div', {id: class_name+\"_settings\", \"class\": \"settings\",style:\"cursor: pointer\"});\n   ..\n  100    show: function(){\n  101      // displays the block\n  102:     $(this.class_name+'_spinner').hide();\n  103    },\n  104    hide: function(){\n  105      // hides the block\n  106:     $(this.class_name+'_spinner').show();\n  107    },\n  108    has_spinner: function(){\n\n/Users/boos/code/graasp/public/javascripts/invite.js:\n    6  function ToggleRow(name){\n    7    $('members'+name).style.display = ($('members'+name).style.display==\"none\")?\"\":\"none\";\n    8:   $('icon'+name).className = ($('members'+name).style.display==\"none\")?\"iconExp\":\"iconCol\";\n    9  }\n   10  function UpdateRole(viewtype,a,i,r,t){  if(t==\"direct\"){  new Ajax.Request(\"/ajax/\"+viewtype + \"/invitations/update_role/\"+a+\"/\"+i+\"/\"+r, {method: 'post'});}else {new Ajax.Request(\"/ajax/\"+viewtype + \"/invitations/update_role/group/\"+a+\"/\"+i+\"/\"+r, {method: 'post'});}}\n\n/Users/boos/code/graasp/public/javascripts/item3a_extension.js:\n    7    // this.i3a_type = \"user\";\n    8    // this.create_popup = create_user;\n    9:   // this.class_name = \"users\";\n   10    // this.display_name = \"People\";\n   11  \n   ..\n  278      var _this = object;\n  279      i3a_list.innerHTML = \"\";\n  280:     i3a_list.className = \"i3a_list_pad\";\n  281  \n  282      // first build a button for dropping/adding a new element\n  ...\n  328  \n  329        i3a_list.insert(notify_msg);\n  330:       i3a_list.className = \"i3a_list_notify\";\n  331        // i3a_list.innerHTML = \"This pad belongs to a closed \"+ container;\n  332        // i3a_list.appendChild(document.createElement(\"br\"));\n  ...\n  348      var _this = object;\n  349      i3a_list.innerHTML = \"\";\n  350:         i3a_list.className = \"i3a_list_pad\";\n  351      // decide if it is a search or normal\n  352      graaasp.items_list.each(function(i3a){\n  ...\n  703    //         index++;\n  704    //       }\n  705:   //       if(dragged.className.search(\"i3a_link\") != -1)\n  706    //         is_original = false;\n  707    //\n  ...\n  933      // hide search_list and search_info when reloading the page\n  934    hide_search_list: function(){\n  935:     var search_list = $(this.class_name+'_search_list');\n  936:     var list = $(this.class_name+'_list');\n  937:     var search_info = $(this.class_name+'_search_info');\n  938      if(search_list.visible()){\n  939        search_list.hide();\n\n/Users/boos/code/graasp/public/javascripts/jquery-ui.js:\n   45   *  ui.core.js\n   46   */\n   47: (function(c){c.widget(\"ui.resizable\",c.extend({},c.ui.mouse,{_init:function(){var e=this,j=this.options;this.element.addClass(\"ui-resizable\");c.extend(this,{_aspectRatio:!!(j.aspectRatio),aspectRatio:j.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:j.helper||j.ghost||j.animate?j.helper||\"ui-resizable-helper\":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css(\"position\"))&&c.browser.opera){this.element.css({position:\"relative\",top:\"auto\",left:\"auto\"})}this.element.wrap(c('<div class=\"ui-wrapper\" style=\"overflow: hidden;\"></div>').css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")}));this.element=this.element.parent().data(\"resizable\",this.element.data(\"resizable\"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css(\"marginLeft\"),marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css(\"resize\");this.originalElement.css(\"resize\",\"none\");this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"}));this.originalElement.css({margin:this.originalElement.css(\"margin\")});this._proportionallyResize()}this.handles=j.handles||(!c(\".ui-resizable-handle\",this.element).length?\"e,s,se\":{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"});if(this.handles.constructor==String){if(this.handles==\"all\"){this.handles=\"n,e,s,w,se,sw,ne,nw\"}var k=this.handles.split(\",\");this.handles={};for(var f=0;f<k.length;f++){var h=c.trim(k[f]),d=\"ui-resizable-\"+h;var g=c('<div class=\"ui-resizable-handle '+d+'\"></div>');if(/sw|se|ne|nw/.test(h)){g.css({zIndex:++j.zIndex})}if(\"se\"==h){g.addClass(\"ui-icon ui-icon-gripsmall-diagonal-se\")}this.handles[h]=\".ui-resizable-\"+h;this.element.append(g)}}this._renderAxis=function(p){p=p||this.element;for(var m in this.handles){if(this.handles[m].constructor==String){this.handles[m]=c(this.handles[m],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=c(this.handles[m],this.element),o=0;o=/sw|ne|nw|se|n|s/.test(m)?n.outerHeight():n.outerWidth();var l=[\"padding\",/ne|nw|n/.test(m)?\"Top\":/se|sw|s/.test(m)?\"Bottom\":/^e$/.test(m)?\"Right\":\"Left\"].join(\"\");p.css(l,o);this._proportionallyResize()}if(!c(this.handles[m]).length){continue}}};this._renderAxis(this.element);this._handles=c(\".ui-resizable-handle\",this.element).disableSelection();this._handles.mouseover(function(){if(!e.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}e.axis=i&&i[1]?i[1]:\"se\"}});if(j.autoHide){this._handles.hide();c(this.element).addClass(\"ui-resizable-autohide\").hover(function(){c(this).removeClass(\"ui-resizable-autohide\");e._handles.show()},function(){if(!e.resizing){c(this).addClass(\"ui-resizable-autohide\");e._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var d=function(f){c(f).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\").removeData(\"resizable\").unbind(\".resizable\").find(\".ui-resizable-handle\").remove()};if(this.elementIsWrapper){d(this.element);var e=this.element;e.parent().append(this.originalElement.css({position:e.css(\"position\"),width:e.outerWidth(),height:e.outerHeight(),top:e.css(\"top\"),left:e.css(\"left\")})).end().remove()}this.originalElement.css(\"resize\",this.originalResizeStyle);d(this.originalElement)},_mouseCapture:function(e){var f=false;for(var d in this.handles){if(c(this.handles[d])[0]==e.target){f=true}}return this.options.disabled||!!f},_mouseStart:function(f){var i=this.options,e=this.element.position(),d=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(d.is(\".ui-draggable\")||(/absolute/).test(d.css(\"position\"))){d.css({position:\"absolute\",top:e.top,left:e.left})}if(c.browser.opera&&(/relative/).test(d.css(\"position\"))){d.css({position:\"relative\",top:\"auto\",left:\"auto\"})}this._renderProxy();var j=b(this.helper.css(\"left\")),g=b(this.helper.css(\"top\"));if(i.containment){j+=c(i.containment).scrollLeft()||0;g+=c(i.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:j,top:g};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:j,top:g};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()};this.originalMousePosition={left:f.pageX,top:f.pageY};this.aspectRatio=(typeof i.aspectRatio==\"number\")?i.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var h=c(\".ui-resizable-\"+this.axis).css(\"cursor\");c(\"body\").css(\"cursor\",h==\"auto\"?this.axis+\"-resize\":h);d.addClass(\"ui-resizable-resizing\");this._propagate(\"start\",f);return true},_mouseDrag:function(d){var g=this.helper,f=this.options,l={},p=this,i=this.originalMousePosition,m=this.axis;var q=(d.pageX-i.left)||0,n=(d.pageY-i.top)||0;var h=this._change[m];if(!h){return false}var k=h.apply(this,[d,q,n]),j=c.browser.msie&&c.browser.version<7,e=this.sizeDiff;if(this._aspectRatio||d.shiftKey){k=this._updateRatio(k,d)}k=this._respectSize(k,d);this._propagate(\"resize\",d);g.css({top:this.position.top+\"px\",left:this.position.left+\"px\",width:this.size.width+\"px\",height:this.size.height+\"px\"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(k);this._trigger(\"resize\",d,this.ui());return false},_mouseStop:function(g){this.resizing=false;var h=this.options,l=this;if(this._helper){var f=this._proportionallyResizeElements,d=f.length&&(/textarea/i).test(f[0].nodeName),e=d&&c.ui.hasScroll(f[0],\"left\")?0:l.sizeDiff.height,j=d?0:l.sizeDiff.width;var m={width:(l.size.width-j),height:(l.size.height-e)},i=(parseInt(l.element.css(\"left\"),10)+(l.position.left-l.originalPosition.left))||null,k=(parseInt(l.element.css(\"top\"),10)+(l.position.top-l.originalPosition.top))||null;if(!h.animate){this.element.css(c.extend(m,{top:k,left:i}))}l.helper.height(l.size.height);l.helper.width(l.size.width);if(this._helper&&!h.animate){this._proportionallyResize()}}c(\"body\").css(\"cursor\",\"auto\");this.element.removeClass(\"ui-resizable-resizing\");this._propagate(\"stop\",g);if(this._helper){this.helper.remove()}return false},_updateCache:function(d){var e=this.options;this.offset=this.helper.offset();if(a(d.left)){this.position.left=d.left}if(a(d.top)){this.position.top=d.top}if(a(d.height)){this.size.height=d.height}if(a(d.width)){this.size.width=d.width}},_updateRatio:function(g,f){var h=this.options,i=this.position,e=this.size,d=this.axis;if(g.height){g.width=(e.height*this.aspectRatio)}else{if(g.width){g.height=(e.width/this.aspectRatio)}}if(d==\"sw\"){g.left=i.left+(e.width-g.width);g.top=null}if(d==\"nw\"){g.top=i.top+(e.height-g.height);g.left=i.left+(e.width-g.width)}return g},_respectSize:function(k,f){var i=this.helper,h=this.options,q=this._aspectRatio||f.shiftKey,p=this.axis,s=a(k.width)&&h.maxWidth&&(h.maxWidth<k.width),l=a(k.height)&&h.maxHeight&&(h.maxHeight<k.height),g=a(k.width)&&h.minWidth&&(h.minWidth>k.width),r=a(k.height)&&h.minHeight&&(h.minHeight>k.height);if(g){k.width=h.minWidth}if(r){k.height=h.minHeight}if(s){k.width=h.maxWidth}if(l){k.height=h.maxHeight}var e=this.originalPosition.left+this.originalSize.width,n=this.position.top+this.size.height;var j=/sw|nw|w/.test(p),d=/nw|ne|n/.test(p);if(g&&j){k.left=e-h.minWidth}if(s&&j){k.left=e-h.maxWidth}if(r&&d){k.top=n-h.minHeight}if(l&&d){k.top=n-h.maxHeight}var m=!k.width&&!k.height;if(m&&!k.left&&k.top){k.top=null}else{if(m&&!k.top&&k.left){k.left=null}}return k},_proportionallyResize:function(){var j=this.options;if(!this._proportionallyResizeElements.length){return}var f=this.helper||this.element;for(var e=0;e<this._proportionallyResizeElements.length;e++){var g=this._proportionallyResizeElements[e];if(!this.borderDif){var d=[g.css(\"borderTopWidth\"),g.css(\"borderRightWidth\"),g.css(\"borderBottomWidth\"),g.css(\"borderLeftWidth\")],h=[g.css(\"paddingTop\"),g.css(\"paddingRight\"),g.css(\"paddingBottom\"),g.css(\"paddingLeft\")];this.borderDif=c.map(d,function(k,m){var l=parseInt(k,10)||0,n=parseInt(h[m],10)||0;return l+n})}if(c.browser.msie&&!(!(c(f).is(\":hidden\")||c(f).parents(\":hidden\").length))){continue}g.css({height:(f.height()-this.borderDif[0]-this.borderDif[2])||0,width:(f.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,h=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c('<div style=\"overflow:hidden;\"></div>');var d=c.browser.msie&&c.browser.version<7,f=(d?1:0),g=(d?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+g,height:this.element.outerHeight()+g,position:\"absolute\",left:this.elementOffset.left-f+\"px\",top:this.elementOffset.top-f+\"px\",zIndex:++h.zIndex});this.helper.appendTo(\"body\").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,e,d){return{width:this.originalSize.width+e}},w:function(g,e,d){var i=this.options,f=this.originalSize,h=this.originalPosition;return{left:h.left+e,width:f.width-e}},n:function(g,e,d){var i=this.options,f=this.originalSize,h=this.originalPosition;return{top:h.top+d,height:f.height-d}},s:function(f,e,d){return{height:this.originalSize.height+d}},se:function(f,e,d){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[f,e,d]))},sw:function(f,e,d){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[f,e,d]))},ne:function(f,e,d){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[f,e,d]))},nw:function(f,e,d){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[f,e,d]))}},_propagate:function(e,d){c.ui.plugin.call(this,e,[d,this.ui()]);(e!=\"resize\"&&this._trigger(e,d,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}));c.extend(c.ui.resizable,{version:\"1.7.2\",eventPrefix:\"resize\",defaults:{alsoResize:false,animate:false,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:false,autoHide:false,cancel:\":input,option\",containment:false,delay:0,distance:1,ghost:false,grid:false,handles:\"e,s,se\",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000}});c.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(e,f){var d=c(this).data(\"resizable\"),g=d.options;_store=function(h){c(h).each(function(){c(this).data(\"resizable-alsoresize\",{width:parseInt(c(this).width(),10),height:parseInt(c(this).height(),10),left:parseInt(c(this).css(\"left\"),10),top:parseInt(c(this).css(\"top\"),10)})})};if(typeof(g.alsoResize)==\"object\"&&!g.alsoResize.parentNode){if(g.alsoResize.length){g.alsoResize=g.alsoResize[0];_store(g.alsoResize)}else{c.each(g.alsoResize,function(h,i){_store(h)})}}else{_store(g.alsoResize)}},resize:function(f,h){var e=c(this).data(\"resizable\"),i=e.options,g=e.originalSize,k=e.originalPosition;var j={height:(e.size.height-g.height)||0,width:(e.size.width-g.width)||0,top:(e.position.top-k.top)||0,left:(e.position.left-k.left)||0},d=function(l,m){c(l).each(function(){var p=c(this),q=c(this).data(\"resizable-alsoresize\"),o={},n=m&&m.length?m:[\"width\",\"height\",\"top\",\"left\"];c.each(n||[\"width\",\"height\",\"top\",\"left\"],function(r,t){var s=(q[t]||0)+(j[t]||0);if(s&&s>=0){o[t]=s||null}});if(/relative/.test(p.css(\"position\"))&&c.browser.opera){e._revertToRelativePosition=true;p.css({position:\"absolute\",top:\"auto\",left:\"auto\"})}p.css(o)})};if(typeof(i.alsoResize)==\"object\"&&!i.alsoResize.nodeType){c.each(i.alsoResize,function(l,m){d(l,m)})}else{d(i.alsoResize)}},stop:function(e,f){var d=c(this).data(\"resizable\");if(d._revertToRelativePosition&&c.browser.opera){d._revertToRelativePosition=false;el.css({position:\"relative\"})}c(this).removeData(\"resizable-alsoresize-start\")}});c.ui.plugin.add(\"resizable\",\"animate\",{stop:function(h,m){var n=c(this).data(\"resizable\"),i=n.options;var g=n._proportionallyResizeElements,d=g.length&&(/textarea/i).test(g[0].nodeName),e=d&&c.ui.hasScroll(g[0],\"left\")?0:n.sizeDiff.height,k=d?0:n.sizeDiff.width;var f={width:(n.size.width-k),height:(n.size.height-e)},j=(parseInt(n.element.css(\"left\"),10)+(n.position.left-n.originalPosition.left))||null,l=(parseInt(n.element.css(\"top\"),10)+(n.position.top-n.originalPosition.top))||null;n.element.animate(c.extend(f,l&&j?{top:l,left:j}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var o={width:parseInt(n.element.css(\"width\"),10),height:parseInt(n.element.css(\"height\"),10),top:parseInt(n.element.css(\"top\"),10),left:parseInt(n.element.css(\"left\"),10)};if(g&&g.length){c(g[0]).css({width:o.width,height:o.height})}n._updateCache(o);n._propagate(\"resize\",h)}})}});c.ui.plugin.add(\"resizable\",\"containment\",{start:function(e,q){var s=c(this).data(\"resizable\"),i=s.options,k=s.element;var f=i.containment,j=(f instanceof c)?f.get(0):(/parent/.test(f))?k.parent().get(0):f;if(!j){return}s.containerElement=c(j);if(/document/.test(f)||f==document){s.containerOffset={left:0,top:0};s.containerPosition={left:0,top:0};s.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var m=c(j),h=[];c([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(p,o){h[p]=b(m.css(\"padding\"+o))});s.containerOffset=m.offset();s.containerPosition=m.position();s.containerSize={height:(m.innerHeight()-h[3]),width:(m.innerWidth()-h[1])};var n=s.containerOffset,d=s.containerSize.height,l=s.containerSize.width,g=(c.ui.hasScroll(j,\"left\")?j.scrollWidth:l),r=(c.ui.hasScroll(j)?j.scrollHeight:d);s.parentData={element:j,left:n.left,top:n.top,width:g,height:r}}},resize:function(f,p){var s=c(this).data(\"resizable\"),h=s.options,e=s.containerSize,n=s.containerOffset,l=s.size,m=s.position,q=s._aspectRatio||f.shiftKey,d={top:0,left:0},g=s.containerElement;if(g[0]!=document&&(/static/).test(g.css(\"position\"))){d=n}if(m.left<(s._helper?n.left:0)){s.size.width=s.size.width+(s._helper?(s.position.left-n.left):(s.position.left-d.left));if(q){s.size.height=s.size.width/h.aspectRatio}s.position.left=h.helper?n.left:0}if(m.top<(s._helper?n.top:0)){s.size.height=s.size.height+(s._helper?(s.position.top-n.top):s.position.top);if(q){s.size.width=s.size.height*h.aspectRatio}s.position.top=s._helper?n.top:0}s.offset.left=s.parentData.left+s.position.left;s.offset.top=s.parentData.top+s.position.top;var k=Math.abs((s._helper?s.offset.left-d.left:(s.offset.left-d.left))+s.sizeDiff.width),r=Math.abs((s._helper?s.offset.top-d.top:(s.offset.top-n.top))+s.sizeDiff.height);var j=s.containerElement.get(0)==s.element.parent().get(0),i=/relative|absolute/.test(s.containerElement.css(\"position\"));if(j&&i){k-=s.parentData.left}if(k+s.size.width>=s.parentData.width){s.size.width=s.parentData.width-k;if(q){s.size.height=s.size.width/s.aspectRatio}}if(r+s.size.height>=s.parentData.height){s.size.height=s.parentData.height-r;if(q){s.size.width=s.size.height*s.aspectRatio}}},stop:function(e,m){var p=c(this).data(\"resizable\"),f=p.options,k=p.position,l=p.containerOffset,d=p.containerPosition,g=p.containerElement;var i=c(p.helper),q=i.offset(),n=i.outerWidth()-p.sizeDiff.width,j=i.outerHeight()-p.sizeDiff.height;if(p._helper&&!f.animate&&(/relative/).test(g.css(\"position\"))){c(this).css({left:q.left-d.left-l.left,width:n,height:j})}if(p._helper&&!f.animate&&(/static/).test(g.css(\"position\"))){c(this).css({left:q.left-d.left-l.left,width:n,height:j})}}});c.ui.plugin.add(\"resizable\",\"ghost\",{start:function(f,g){var d=c(this).data(\"resizable\"),h=d.options,e=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:0.25,display:\"block\",position:\"relative\",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass(\"ui-resizable-ghost\").addClass(typeof h.ghost==\"string\"?h.ghost:\"\");d.ghost.appendTo(d.helper)},resize:function(e,f){var d=c(this).data(\"resizable\"),g=d.options;if(d.ghost){d.ghost.css({position:\"relative\",height:d.size.height,width:d.size.width})}},stop:function(e,f){var d=c(this).data(\"resizable\"),g=d.options;if(d.ghost&&d.helper){d.helper.get(0).removeChild(d.ghost.get(0))}}});c.ui.plugin.add(\"resizable\",\"grid\",{resize:function(d,l){var n=c(this).data(\"resizable\"),g=n.options,j=n.size,h=n.originalSize,i=n.originalPosition,m=n.axis,k=g._aspectRatio||d.shiftKey;g.grid=typeof g.grid==\"number\"?[g.grid,g.grid]:g.grid;var f=Math.round((j.width-h.width)/(g.grid[0]||1))*(g.grid[0]||1),e=Math.round((j.height-h.height)/(g.grid[1]||1))*(g.grid[1]||1);if(/^(se|s|e)$/.test(m)){n.size.width=h.width+f;n.size.height=h.height+e}else{if(/^(ne)$/.test(m)){n.size.width=h.width+f;n.size.height=h.height+e;n.position.top=i.top-e}else{if(/^(sw)$/.test(m)){n.size.width=h.width+f;n.size.height=h.height+e;n.position.left=i.left-f}else{n.size.width=h.width+f;n.size.height=h.height+e;n.position.top=i.top-e;n.position.left=i.left-f}}}}});var b=function(d){return parseInt(d,10)||0};var a=function(d){return !isNaN(parseInt(d,10))}})(jQuery);;/*\n   48   * jQuery UI Selectable 1.7.2\n   49   *\n   ..\n   69   *  ui.core.js\n   70   */\n   71: (function(a){a.widget(\"ui.sortable\",a.extend({},a.ui.mouse,{_init:function(){var b=this.options;this.containerCache={};this.element.addClass(\"ui-sortable\");this.refresh();this.floating=this.items.length?(/left|right/).test(this.items[0].item.css(\"float\")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass(\"ui-sortable ui-sortable-disabled\").removeData(\"sortable\").unbind(\".sortable\");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData(\"sortable-item\")}},_mouseCapture:function(e,f){if(this.reverting){return false}if(this.options.disabled||this.options.type==\"static\"){return false}this._refreshItems(e);var d=null,c=this,b=a(e.target).parents().each(function(){if(a.data(this,\"sortable-item\")==c){d=a(this);return false}});if(a.data(e.target,\"sortable-item\")==c){d=a(e.target)}if(!d){return false}if(this.options.handle&&!f){var g=false;a(this.options.handle,d).find(\"*\").andSelf().each(function(){if(this==e.target){g=true}});if(!g){return false}}this.currentItem=d;this._removeCurrentsFromItems();return true},_mouseStart:function(e,f,b){var g=this.options,c=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css(\"position\",\"absolute\");this.cssPosition=this.helper.css(\"position\");a.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;if(g.cursorAt){this._adjustOffsetFromHelper(g.cursorAt)}this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(g.containment){this._setContainment()}if(g.cursor){if(a(\"body\").css(\"cursor\")){this._storedCursor=a(\"body\").css(\"cursor\")}a(\"body\").css(\"cursor\",g.cursor)}if(g.opacity){if(this.helper.css(\"opacity\")){this._storedOpacity=this.helper.css(\"opacity\")}this.helper.css(\"opacity\",g.opacity)}if(g.zIndex){if(this.helper.css(\"zIndex\")){this._storedZIndex=this.helper.css(\"zIndex\")}this.helper.css(\"zIndex\",g.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!=\"HTML\"){this.overflowOffset=this.scrollParent.offset()}this._trigger(\"start\",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!b){for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger(\"activate\",e,c._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this.helper.addClass(\"ui-sortable-helper\");this._mouseDrag(e);return true},_mouseDrag:function(f){this.position=this._generatePosition(f);this.positionAbs=this._convertPositionTo(\"absolute\");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var g=this.options,b=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!=\"HTML\"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-f.pageY<g.scrollSensitivity){this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop+g.scrollSpeed}else{if(f.pageY-this.overflowOffset.top<g.scrollSensitivity){this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop-g.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-f.pageX<g.scrollSensitivity){this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(f.pageX-this.overflowOffset.left<g.scrollSensitivity){this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft-g.scrollSpeed}}}else{if(f.pageY-a(document).scrollTop()<g.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(f.pageY-a(document).scrollTop())<g.scrollSensitivity){b=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}if(f.pageX-a(document).scrollLeft()<g.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(f.pageX-a(document).scrollLeft())<g.scrollSensitivity){b=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}if(b!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,f)}}this.positionAbs=this._convertPositionTo(\"absolute\");if(!this.options.axis||this.options.axis!=\"y\"){this.helper[0].style.left=this.position.left+\"px\"}if(!this.options.axis||this.options.axis!=\"x\"){this.helper[0].style.top=this.position.top+\"px\"}for(var d=this.items.length-1;d>=0;d--){var e=this.items[d],c=e.item[0],h=this._intersectsWithPointer(e);if(!h){continue}if(c!=this.currentItem[0]&&this.placeholder[h==1?\"next\":\"prev\"]()[0]!=c&&!a.ui.contains(this.placeholder[0],c)&&(this.options.type==\"semi-dynamic\"?!a.ui.contains(this.element[0],c):true)){this.direction=h==1?\"down\":\"up\";if(this.options.tolerance==\"pointer\"||this._intersectsWithSides(e)){this._rearrange(f,e)}else{break}this._trigger(\"change\",f,this._uiHash());break}}this._contactContainers(f);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,f)}this._trigger(\"sort\",f,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(c,d){if(!c){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,c)}if(this.options.revert){var b=this;var e=b.placeholder.offset();b.reverting=true;a(this.helper).animate({left:e.left-this.offset.parent.left-b.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-b.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){b._clear(c)})}else{this._clear(c,d)}return false},cancel:function(){var b=this;if(this.dragging){this._mouseUp();if(this.options.helper==\"original\"){this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\")}else{this.currentItem.show()}for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger(\"deactivate\",null,b._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger(\"out\",null,b._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=\"original\"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}return true},serialize:function(d){var b=this._getItemsAsjQuery(d&&d.connected);var c=[];d=d||{};a(b).each(function(){var e=(a(d.item||this).attr(d.attribute||\"id\")||\"\").match(d.expression||(/(.+)[-=_](.+)/));if(e){c.push((d.key||e[1]+\"[]\")+\"=\"+(d.key&&d.expression?e[1]:e[2]))}});return c.join(\"&\")},toArray:function(d){var b=this._getItemsAsjQuery(d&&d.connected);var c=[];d=d||{};b.each(function(){c.push(a(d.item||this).attr(d.attribute||\"id\")||\"\")});return c},_intersectsWith:function(m){var e=this.positionAbs.left,d=e+this.helperProportions.width,k=this.positionAbs.top,j=k+this.helperProportions.height;var f=m.left,c=f+m.width,n=m.top,i=n+m.height;var o=this.offset.click.top,h=this.offset.click.left;var g=(k+o)>n&&(k+o)<i&&(e+h)>f&&(e+h)<c;if(this.options.tolerance==\"pointer\"||this.options.forcePointerForContainers||(this.options.tolerance!=\"pointer\"&&this.helperProportions[this.floating?\"width\":\"height\"]>m[this.floating?\"width\":\"height\"])){return g}else{return(f<e+(this.helperProportions.width/2)&&d-(this.helperProportions.width/2)<c&&n<k+(this.helperProportions.height/2)&&j-(this.helperProportions.height/2)<i)}},_intersectsWithPointer:function(d){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height),c=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width),g=e&&c,b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();if(!g){return false}return this.floating?(((f&&f==\"right\")||b==\"down\")?2:1):(b&&(b==\"down\"?2:1))},_intersectsWithSides:function(e){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+(e.height/2),e.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+(e.width/2),e.width),b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();if(this.floating&&f){return((f==\"right\"&&d)||(f==\"left\"&&!d))}else{return b&&((b==\"down\"&&c)||(b==\"up\"&&!c))}},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?\"right\":\"left\")},refresh:function(b){this._refreshItems(b);this.refreshPositions()},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){var l=this;var g=[];var e=[];var h=this._connectWith();if(h&&b){for(var d=h.length-1;d>=0;d--){var k=a(h[d]);for(var c=k.length-1;c>=0;c--){var f=a.data(k[c],\"sortable\");if(f&&f!=this&&!f.options.disabled){e.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(\".ui-sortable-helper\"),f])}}}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(\".ui-sortable-helper\"),this]);for(var d=e.length-1;d>=0;d--){e[d][0].each(function(){g.push(this)})}return a(g)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(\":data(sortable-item)\");for(var c=0;c<this.items.length;c++){for(var b=0;b<d.length;b++){if(d[b]==this.items[c].item[0]){this.items.splice(c,1)}}}},_refreshItems:function(b){this.items=[];this.containers=[this];var h=this.items;var p=this;var f=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];var l=this._connectWith();if(l){for(var e=l.length-1;e>=0;e--){var m=a(l[e]);for(var d=m.length-1;d>=0;d--){var g=a.data(m[d],\"sortable\");if(g&&g!=this&&!g.options.disabled){f.push([a.isFunction(g.options.items)?g.options.items.call(g.element[0],b,{item:this.currentItem}):a(g.options.items,g.element),g]);this.containers.push(g)}}}}for(var e=f.length-1;e>=0;e--){var k=f[e][1];var c=f[e][0];for(var d=0,n=c.length;d<n;d++){var o=a(c[d]);o.data(\"sortable-item\",k);h.push({item:o,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var d=this.items.length-1;d>=0;d--){var e=this.items[d];if(e.instance!=this.currentContainer&&this.currentContainer&&e.item[0]!=this.currentItem[0]){continue}var c=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;if(!b){e.width=c.outerWidth();e.height=c.outerHeight()}var f=c.offset();e.left=f.left;e.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var d=this.containers.length-1;d>=0;d--){var f=this.containers[d].element.offset();this.containers[d].containerCache.left=f.left;this.containers[d].containerCache.top=f.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}},_createPlaceholder:function(d){var b=d||this,e=b.options;if(!e.placeholder||e.placeholder.constructor==String){var c=e.placeholder;e.placeholder={element:function(){var f=a(document.createElement(b.currentItem[0].nodeName)).addClass(c||b.currentItem[0].className+\" ui-sortable-placeholder\").removeClass(\"ui-sortable-helper\")[0];if(!c){f.style.visibility=\"hidden\"}return f},update:function(f,g){if(c&&!e.forcePlaceholderSize){return}if(!g.height()){g.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css(\"paddingTop\")||0,10)-parseInt(b.currentItem.css(\"paddingBottom\")||0,10))}if(!g.width()){g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css(\"paddingLeft\")||0,10)-parseInt(b.currentItem.css(\"paddingRight\")||0,10))}}}}b.placeholder=a(e.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);e.placeholder.update(b,b.placeholder)},_contactContainers:function(d){for(var c=this.containers.length-1;c>=0;c--){if(this._intersectsWith(this.containers[c].containerCache)){if(!this.containers[c].containerCache.over){if(this.currentContainer!=this.containers[c]){var h=10000;var g=null;var e=this.positionAbs[this.containers[c].floating?\"left\":\"top\"];for(var b=this.items.length-1;b>=0;b--){if(!a.ui.contains(this.containers[c].element[0],this.items[b].item[0])){continue}var f=this.items[b][this.containers[c].floating?\"left\":\"top\"];if(Math.abs(f-e)<h){h=Math.abs(f-e);g=this.items[b]}}if(!g&&!this.options.dropOnEmpty){continue}this.currentContainer=this.containers[c];g?this._rearrange(d,g,null,true):this._rearrange(d,null,this.containers[c].element,true);this._trigger(\"change\",d,this._uiHash());this.containers[c]._trigger(\"change\",d,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder)}this.containers[c]._trigger(\"over\",d,this._uiHash(this));this.containers[c].containerCache.over=1}}else{if(this.containers[c].containerCache.over){this.containers[c]._trigger(\"out\",d,this._uiHash(this));this.containers[c].containerCache.over=0}}}},_createHelper:function(c){var d=this.options;var b=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[c,this.currentItem])):(d.helper==\"clone\"?this.currentItem.clone():this.currentItem);if(!b.parents(\"body\").length){a(d.appendTo!=\"parent\"?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0])}if(b[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}}if(b[0].style.width==\"\"||d.forceHelperSize){b.width(this.currentItem.width())}if(b[0].style.height==\"\"||d.forceHelperSize){b.height(this.currentItem.height())}return b},_adjustOffsetFromHelper:function(b){if(b.left!=undefined){this.offset.click.left=b.left+this.margins.left}if(b.right!=undefined){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if(b.top!=undefined){this.offset.click.top=b.top+this.margins.top}if(b.bottom!=undefined){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition==\"absolute\"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==\"html\"&&a.browser.msie)){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:b.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==\"relative\"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css(\"marginLeft\"),10)||0),top:(parseInt(this.currentItem.css(\"marginTop\"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment==\"parent\"){e.containment=this.helper[0].parentNode}if(e.containment==\"document\"||e.containment==\"window\"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment==\"document\"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment==\"document\"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(e.containment)){var c=a(e.containment)[0];var d=a(e.containment).offset();var b=(a(c).css(\"overflow\")!=\"hidden\");this.containment=[d.left+(parseInt(a(c).css(\"borderLeftWidth\"),10)||0)+(parseInt(a(c).css(\"paddingLeft\"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css(\"borderTopWidth\"),10)||0)+(parseInt(a(c).css(\"paddingTop\"),10)||0)-this.margins.top,d.left+(b?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css(\"borderLeftWidth\"),10)||0)-(parseInt(a(c).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(b?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css(\"borderTopWidth\"),10)||0)-(parseInt(a(c).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,h){if(!h){h=this.position}var c=f==\"absolute\"?1:-1;var e=this.options,b=this.cssPosition==\"absolute\"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(b[0].tagName);return{top:(h.top+this.offset.relative.top*c+this.offset.parent.top*c-(a.browser.safari&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollTop():(g?0:b.scrollTop()))*c)),left:(h.left+this.offset.relative.left*c+this.offset.parent.left*c-(a.browser.safari&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollLeft():g?0:b.scrollLeft())*c))}},_generatePosition:function(e){var h=this.options,b=this.cssPosition==\"absolute\"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(b[0].tagName);if(this.cssPosition==\"relative\"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var d=e.pageX;var c=e.pageY;if(this.originalPosition){if(this.containment){if(e.pageX-this.offset.click.left<this.containment[0]){d=this.containment[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<this.containment[1]){c=this.containment[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>this.containment[2]){d=this.containment[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>this.containment[3]){c=this.containment[3]+this.offset.click.top}}if(h.grid){var g=this.originalPageY+Math.round((c-this.originalPageY)/h.grid[1])*h.grid[1];c=this.containment?(!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:(!(g-this.offset.click.top<this.containment[1])?g-h.grid[1]:g+h.grid[1])):g;var f=this.originalPageX+Math.round((d-this.originalPageX)/h.grid[0])*h.grid[0];d=this.containment?(!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:(!(f-this.offset.click.left<this.containment[0])?f-h.grid[0]:f+h.grid[0])):f}}return{top:(c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollTop():(i?0:b.scrollTop())))),left:(d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollLeft():i?0:b.scrollLeft())))}},_rearrange:function(g,f,c,e){c?c[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==\"down\"?f.item[0]:f.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var d=this,b=this.counter;window.setTimeout(function(){if(b==d.counter){d.refreshPositions(!e)}},0)},_clear:function(d,e){this.reverting=false;var f=[],b=this;if(!this._noFinalSort&&this.currentItem[0].parentNode){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS){if(this._storedCSS[c]==\"auto\"||this._storedCSS[c]==\"static\"){this._storedCSS[c]=\"\"}}this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\")}else{this.currentItem.show()}if(this.fromOutside&&!e){f.push(function(g){this._trigger(\"receive\",g,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(\".ui-sortable-helper\")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e){f.push(function(g){this._trigger(\"update\",g,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){if(!e){f.push(function(g){this._trigger(\"remove\",g,this._uiHash())})}for(var c=this.containers.length-1;c>=0;c--){if(a.ui.contains(this.containers[c].element[0],this.currentItem[0])&&!e){f.push((function(g){return function(h){g._trigger(\"receive\",h,this._uiHash(this))}}).call(this,this.containers[c]));f.push((function(g){return function(h){g._trigger(\"update\",h,this._uiHash(this))}}).call(this,this.containers[c]))}}}for(var c=this.containers.length-1;c>=0;c--){if(!e){f.push((function(g){return function(h){g._trigger(\"deactivate\",h,this._uiHash(this))}}).call(this,this.containers[c]))}if(this.containers[c].containerCache.over){f.push((function(g){return function(h){g._trigger(\"out\",h,this._uiHash(this))}}).call(this,this.containers[c]));this.containers[c].containerCache.over=0}}if(this._storedCursor){a(\"body\").css(\"cursor\",this._storedCursor)}if(this._storedOpacity){this.helper.css(\"opacity\",this._storedOpacity)}if(this._storedZIndex){this.helper.css(\"zIndex\",this._storedZIndex==\"auto\"?\"\":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger(\"beforeStop\",d,this._uiHash());for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger(\"stop\",d,this._uiHash())}return false}if(!e){this._trigger(\"beforeStop\",d,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!e){for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger(\"stop\",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(c){var b=c||this;return{helper:b.helper,placeholder:b.placeholder||a([]),position:b.position,absolutePosition:b.positionAbs,offset:b.positionAbs,item:b.currentItem,sender:c?c.element:null}}}));a.extend(a.ui.sortable,{getter:\"serialize toArray\",version:\"1.7.2\",eventPrefix:\"sort\",defaults:{appendTo:\"parent\",axis:false,cancel:\":input,option\",connectWith:false,containment:false,cursor:\"auto\",cursorAt:false,delay:0,distance:1,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:\"original\",items:\"> *\",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1000}})})(jQuery);;/*\n   72   * jQuery UI Accordion 1.7.2\n   73   *\n   ..\n  131   *  ui.core.js\n  132   */\n  133: (function($){$.extend($.ui,{datepicker:{version:\"1.7.2\"}});var PROP_NAME=\"datepicker\";function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId=\"ui-datepicker-div\";this._inlineClass=\"ui-datepicker-inline\";this._appendClass=\"ui-datepicker-append\";this._triggerClass=\"ui-datepicker-trigger\";this._dialogClass=\"ui-datepicker-dialog\";this._disableClass=\"ui-datepicker-disabled\";this._unselectableClass=\"ui-datepicker-unselectable\";this._currentClass=\"ui-datepicker-current-day\";this._dayOverClass=\"ui-datepicker-days-cell-over\";this.regional=[];this.regional[\"\"]={closeText:\"Done\",prevText:\"Prev\",nextText:\"Next\",currentText:\"Today\",monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],dateFormat:\"mm/dd/yy\",firstDay:0,isRTL:false};this._defaults={showOn:\"focus\",showAnim:\"show\",showOptions:{},defaultDate:null,appendText:\"\",buttonText:\"...\",buttonImage:\"\",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,showMonthAfterYear:false,yearRange:\"-10:+10\",showOtherMonths:false,calculateWeek:this.iso8601Week,shortYearCutoff:\"+10\",minDate:null,maxDate:null,duration:\"normal\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\"\",altFormat:\"\",constrainInput:true,showButtonPanel:false};$.extend(this._defaults,this.regional[\"\"]);this.dpDiv=$('<div id=\"'+this._mainDivId+'\" class=\"ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible\"></div>')}$.extend(Datepicker.prototype,{markerClassName:\"hasDatepicker\",log:function(){if(this.debug){console.log.apply(\"\",arguments)}},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute(\"date:\"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName==\"div\"||nodeName==\"span\");if(!target.id){target.id=\"dp\"+(++this.uuid)}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName==\"input\"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([:\\[\\]\\.])/g,\"\\\\\\\\$1\");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:$('<div class=\"'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"></div>'))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}var appendText=this._get(inst,\"appendText\");var isRTL=this._get(inst,\"isRTL\");if(appendText){inst.append=$('<span class=\"'+this._appendClass+'\">'+appendText+\"</span>\");input[isRTL?\"before\":\"after\"](inst.append)}var showOn=this._get(inst,\"showOn\");if(showOn==\"focus\"||showOn==\"both\"){input.focus(this._showDatepicker)}if(showOn==\"button\"||showOn==\"both\"){var buttonText=this._get(inst,\"buttonText\");var buttonImage=this._get(inst,\"buttonImage\");inst.trigger=$(this._get(inst,\"buttonImageOnly\")?$(\"<img/>\").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type=\"button\"></button>').addClass(this._triggerClass).html(buttonImage==\"\"?buttonText:$(\"<img/>\").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?\"before\":\"after\"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==target){$.datepicker._hideDatepicker()}else{$.datepicker._showDatepicker(target)}return false})}input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).bind(\"setData.datepicker\",function(event,key,value){inst.settings[key]=value}).bind(\"getData.datepicker\",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst)},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind(\"setData.datepicker\",function(event,key,value){inst.settings[key]=value}).bind(\"getData.datepicker\",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst));this._updateDatepicker(inst);this._updateAlternate(inst)},_dialogDatepicker:function(input,dateText,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){var id=\"dp\"+(++this.uuid);this._dialogInput=$('<input type=\"text\" id=\"'+id+'\" size=\"1\" style=\"position: absolute; top: -100px;\"/>');this._dialogInput.keydown(this._doKeyDown);$(\"body\").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});this._dialogInput.val(dateText);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css(\"left\",this._pos[0]+\"px\").css(\"top\",this._pos[1]+\"px\");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName==\"input\"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind(\"focus\",this._showDatepicker).unbind(\"keydown\",this._doKeyDown).unbind(\"keypress\",this._doKeyPress)}else{if(nodeName==\"div\"||nodeName==\"span\"){$target.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName==\"input\"){target.disabled=false;inst.trigger.filter(\"button\").each(function(){this.disabled=false}).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"})}else{if(nodeName==\"div\"||nodeName==\"span\"){var inline=$target.children(\".\"+this._inlineClass);inline.children().removeClass(\"ui-state-disabled\")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName==\"input\"){target.disabled=true;inst.trigger.filter(\"button\").each(function(){this.disabled=true}).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"})}else{if(nodeName==\"div\"||nodeName==\"span\"){var inline=$target.children(\".\"+this._inlineClass);inline.children().addClass(\"ui-state-disabled\")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw\"Missing instance data for this datepicker\"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name==\"string\"){return(name==\"defaults\"?$.extend({},$.datepicker._defaults):(inst?(name==\"all\"?$.extend({},inst.settings):this._get(inst,name)):null))}var settings=name||{};if(typeof name==\"string\"){settings={};settings[name]=value}if(inst){if(this._curInst==inst){this._hideDatepicker(null)}var date=this._getDateDatepicker(target);extendRemove(inst.settings,settings);this._setDateDatepicker(target,date);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date,endDate){var inst=this._getInst(target);if(inst){this._setDate(inst,date,endDate);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(\".ui-datepicker-rtl\");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker(null,\"\");break;case 13:var sel=$(\"td.\"+$.datepicker._dayOverClass+\", td.\"+$.datepicker._currentClass,inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}else{$.datepicker._hideDatepicker(null,$.datepicker._get(inst,\"duration\"))}return false;break;case 27:$.datepicker._hideDatepicker(null,$.datepicker._get(inst,\"duration\"));break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,\"stepBigMonths\"):-$.datepicker._get(inst,\"stepMonths\")),\"M\");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,\"stepBigMonths\"):+$.datepicker._get(inst,\"stepMonths\")),\"M\");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),\"D\")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,\"stepBigMonths\"):-$.datepicker._get(inst,\"stepMonths\")),\"M\")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,\"D\")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),\"D\")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,\"stepBigMonths\"):+$.datepicker._get(inst,\"stepMonths\")),\"M\")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,\"D\")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,\"constrainInput\")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,\"dateFormat\"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||(chr<\" \"||!chars||chars.indexOf(chr)>-1)}},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=\"input\"){input=$(\"input\",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return}var inst=$.datepicker._getInst(input);var beforeShow=$.datepicker._get(inst,\"beforeShow\");extendRemove(inst.settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));$.datepicker._hideDatepicker(null,\"\");$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=\"\"}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css(\"position\")==\"fixed\";return !isFixed});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop}var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.rangeStart=null;inst.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?\"static\":(isFixed?\"fixed\":\"absolute\")),display:\"none\",left:offset.left+\"px\",top:offset.top+\"px\"});if(!inst.inline){var showAnim=$.datepicker._get(inst,\"showAnim\")||\"show\";var duration=$.datepicker._get(inst,\"duration\");var postProcess=function(){$.datepicker._datepickerShowing=true;if($.browser.msie&&parseInt($.browser.version,10)<7){$(\"iframe.ui-datepicker-cover\").css({width:inst.dpDiv.width()+4,height:inst.dpDiv.height()+4})}};if($.effects&&$.effects[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,\"showOptions\"),duration,postProcess)}else{inst.dpDiv[showAnim](duration,postProcess)}if(duration==\"\"){postProcess()}if(inst.input[0].type!=\"hidden\"){inst.input[0].focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){var dims={width:inst.dpDiv.width()+4,height:inst.dpDiv.height()+4};var self=this;inst.dpDiv.empty().append(this._generateHTML(inst)).find(\"iframe.ui-datepicker-cover\").css({width:dims.width,height:dims.height}).end().find(\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\").bind(\"mouseout\",function(){$(this).removeClass(\"ui-state-hover\");if(this.className.indexOf(\"ui-datepicker-prev\")!=-1){$(this).removeClass(\"ui-datepicker-prev-hover\")}if(this.className.indexOf(\"ui-datepicker-next\")!=-1){$(this).removeClass(\"ui-datepicker-next-hover\")}}).bind(\"mouseover\",function(){if(!self._isDisabledDatepicker(inst.inline?inst.dpDiv.parent()[0]:inst.input[0])){$(this).parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\");$(this).addClass(\"ui-state-hover\");if(this.className.indexOf(\"ui-datepicker-prev\")!=-1){$(this).addClass(\"ui-datepicker-prev-hover\")}if(this.className.indexOf(\"ui-datepicker-next\")!=-1){$(this).addClass(\"ui-datepicker-next-hover\")}}}).end().find(\".\"+this._dayOverClass+\" a\").trigger(\"mouseover\").end();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;if(cols>1){inst.dpDiv.addClass(\"ui-datepicker-multi-\"+cols).css(\"width\",(width*cols)+\"em\")}else{inst.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\")}inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\");inst.dpDiv[(this._get(inst,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\");if(inst.input&&inst.input[0].type!=\"hidden\"&&inst==$.datepicker._curInst){$(inst.input[0]).focus()}},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+$(document).scrollLeft();var viewHeight=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)+$(document).scrollTop();offset.left-=(this._get(inst,\"isRTL\")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0;offset.top-=(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(offset.top+dpHeight+inputHeight*2-viewHeight):0;return offset},_findPos:function(obj){while(obj&&(obj.type==\"hidden\"||obj.nodeType!=1)){obj=obj.nextSibling}var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input,duration){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(inst.stayOpen){this._selectDate(\"#\"+inst.id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))}inst.stayOpen=false;if(this._datepickerShowing){duration=(duration!=null?duration:this._get(inst,\"duration\"));var showAnim=this._get(inst,\"showAnim\");var postProcess=function(){$.datepicker._tidyDialog(inst)};if(duration!=\"\"&&$.effects&&$.effects[showAnim]){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,\"showOptions\"),duration,postProcess)}else{inst.dpDiv[(duration==\"\"?\"hide\":(showAnim==\"slideDown\"?\"slideUp\":(showAnim==\"fadeIn\"?\"fadeOut\":\"hide\")))](duration,postProcess)}if(duration==\"\"){this._tidyDialog(inst)}var onClose=this._get(inst,\"onClose\");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():\"\"),inst])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"});if($.blockUI){$.unblockUI();$(\"body\").append(this.dpDiv)}}this._inDialog=false}this._curInst=null},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(\".ui-datepicker-calendar\")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return}var $target=$(event.target);if(($target.parents(\"#\"+$.datepicker._mainDivId).length==0)&&!$target.hasClass($.datepicker.markerClassName)&&!$target.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker._hideDatepicker(null,\"\")}},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return}this._adjustInstDate(inst,offset+(period==\"M\"?this._get(inst,\"showCurrentAtPos\"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,\"gotoCurrent\")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst._selectingMonthYear=false;inst[\"selected\"+(period==\"M\"?\"Month\":\"Year\")]=inst[\"draw\"+(period==\"M\"?\"Month\":\"Year\")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_clickMonthYear:function(id){var target=$(id);var inst=this._getInst(target[0]);if(inst.input&&inst._selectingMonthYear&&!$.browser.msie){inst.input[0].focus()}inst._selectingMonthYear=!inst._selectingMonthYear},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return}var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$(\"a\",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;if(inst.stayOpen){inst.endDay=inst.endMonth=inst.endYear=null}this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));if(inst.stayOpen){inst.rangeStart=this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));this._updateDatepicker(inst)}},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);inst.stayOpen=false;inst.endDay=inst.endMonth=inst.endYear=inst.rangeStart=null;this._selectDate(target,\"\")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);var onSelect=this._get(inst,\"onSelect\");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger(\"change\")}}if(inst.inline){this._updateDatepicker(inst)}else{if(!inst.stayOpen){this._hideDatepicker(null,this._get(inst,\"duration\"));this._lastInput=inst.input[0];if(typeof(inst.input[0])!=\"object\"){inst.input[0].focus()}this._lastInput=null}}},_updateAlternate:function(inst){var altField=this._get(inst,\"altField\");if(altField){var altFormat=this._get(inst,\"altFormat\")||this._get(inst,\"dateFormat\");var date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),\"\"]},iso8601Week:function(date){var checkDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());var firstMon=new Date(checkDate.getFullYear(),1-1,4);var firstDay=firstMon.getDay()||7;firstMon.setDate(firstMon.getDate()+1-firstDay);if(firstDay<4&&checkDate<firstMon){checkDate.setDate(checkDate.getDate()-3);return $.datepicker.iso8601Week(checkDate)}else{if(checkDate>new Date(checkDate.getFullYear(),12-1,28)){firstDay=new Date(checkDate.getFullYear()+1,1-1,4).getDay()||7;if(firstDay>4&&(checkDate.getDay()||7)<firstDay-3){return 1}}}return Math.floor(((checkDate-firstMon)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw\"Invalid arguments\"}value=(typeof value==\"object\"?value.toString():value+\"\");if(value==\"\"){return null}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var getNumber=function(match){lookAhead(match);var origSize=(match==\"@\"?14:(match==\"y\"?4:(match==\"o\"?3:2)));var size=origSize;var num=0;while(size>0&&iValue<value.length&&value.charAt(iValue)>=\"0\"&&value.charAt(iValue)<=\"9\"){num=num*10+parseInt(value.charAt(iValue++),10);size--}if(size==origSize){throw\"Missing number at position \"+iValue}return num};var getName=function(match,shortNames,longNames){var names=(lookAhead(match)?longNames:shortNames);var size=0;for(var j=0;j<names.length;j++){size=Math.max(size,names[j].length)}var name=\"\";var iInit=iValue;while(size>0&&iValue<value.length){name+=value.charAt(iValue++);for(var i=0;i<names.length;i++){if(name==names[i]){return i+1}}size--}throw\"Unknown name at position \"+iInit};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw\"Unexpected literal at position \"+iValue}iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==\"'\"&&!lookAhead(\"'\")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case\"d\":day=getNumber(\"d\");break;case\"D\":getName(\"D\",dayNamesShort,dayNames);break;case\"o\":doy=getNumber(\"o\");break;case\"m\":month=getNumber(\"m\");break;case\"M\":month=getName(\"M\",monthNamesShort,monthNames);break;case\"y\":year=getNumber(\"y\");break;case\"@\":var date=new Date(getNumber(\"@\"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case\"'\":if(lookAhead(\"'\")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(year==-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw\"Invalid date\"}return date},ATOM:\"yy-mm-dd\",COOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",formatDate:function(format,date,settings){if(!date){return\"\"}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=\"\"+value;if(lookAhead(match)){while(num.length<len){num=\"0\"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};var output=\"\";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==\"'\"&&!lookAhead(\"'\")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case\"d\":output+=formatNumber(\"d\",date.getDate(),2);break;case\"D\":output+=formatName(\"D\",date.getDay(),dayNamesShort,dayNames);break;case\"o\":var doy=date.getDate();for(var m=date.getMonth()-1;m>=0;m--){doy+=this._getDaysInMonth(date.getFullYear(),m)}output+=formatNumber(\"o\",doy,3);break;case\"m\":output+=formatNumber(\"m\",date.getMonth()+1,2);break;case\"M\":output+=formatName(\"M\",date.getMonth(),monthNamesShort,monthNames);break;case\"y\":output+=(lookAhead(\"y\")?date.getFullYear():(date.getYear()%100<10?\"0\":\"\")+date.getYear()%100);break;case\"@\":output+=date.getTime();break;case\"'\":if(lookAhead(\"'\")){output+=\"'\"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var chars=\"\";var literal=false;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==\"'\"&&!lookAhead(\"'\")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case\"d\":case\"m\":case\"y\":case\"@\":chars+=\"0123456789\";break;case\"D\":case\"M\":return null;case\"'\":if(lookAhead(\"'\")){chars+=\"'\"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst){var dateFormat=this._get(inst,\"dateFormat\");var dates=inst.input?inst.input.val():null;inst.endDay=inst.endMonth=inst.endYear=null;var date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);date=defaultDate}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){var date=this._determineDate(this._get(inst,\"defaultDate\"),new Date());var minDate=this._getMinMaxDate(inst,\"min\",true);var maxDate=this._getMinMaxDate(inst,\"max\");date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);return date},_determineDate:function(date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date};var offsetString=function(offset,getDaysInMonth){var date=new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||\"d\"){case\"d\":case\"D\":day+=parseInt(matches[1],10);break;case\"w\":case\"W\":day+=parseInt(matches[1],10)*7;break;case\"m\":case\"M\":month+=parseInt(matches[1],10);day=Math.min(day,getDaysInMonth(year,month));break;case\"y\":case\"Y\":year+=parseInt(matches[1],10);day=Math.min(day,getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};date=(date==null?defaultDate:(typeof date==\"string\"?offsetString(date,this._getDaysInMonth):(typeof date==\"number\"?(isNaN(date)?defaultDate:offsetNumeric(date)):date)));date=(date&&date.toString()==\"Invalid Date\"?defaultDate:date);if(date){date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0)}return this._daylightSavingAdjust(date)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,endDate){var clear=!(date);var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;date=this._determineDate(date,new Date());inst.selectedDay=inst.currentDay=date.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=date.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=date.getFullYear();if(origMonth!=inst.selectedMonth||origYear!=inst.selectedYear){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?\"\":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==\"\")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,\"isRTL\");var showButtonPanel=this._get(inst,\"showButtonPanel\");var hideIfNoPrevNext=this._get(inst,\"hideIfNoPrevNext\");var navigationAsDateFormat=this._get(inst,\"navigationAsDateFormat\");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,\"showCurrentAtPos\");var stepMonths=this._get(inst,\"stepMonths\");var stepBigMonths=this._get(inst,\"stepBigMonths\");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,\"min\",true);var maxDate=this._getMinMaxDate(inst,\"max\");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[1]+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,\"prevText\");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class=\"ui-datepicker-prev ui-corner-all\" onclick=\"DP_jQuery.datepicker._adjustDate(\\'#'+inst.id+\"', -\"+stepMonths+\", 'M');\\\" title=\\\"\"+prevText+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+(isRTL?\"e\":\"w\")+'\">'+prevText+\"</span></a>\":(hideIfNoPrevNext?\"\":'<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\"'+prevText+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+(isRTL?\"e\":\"w\")+'\">'+prevText+\"</span></a>\"));var nextText=this._get(inst,\"nextText\");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class=\"ui-datepicker-next ui-corner-all\" onclick=\"DP_jQuery.datepicker._adjustDate(\\'#'+inst.id+\"', +\"+stepMonths+\", 'M');\\\" title=\\\"\"+nextText+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+(isRTL?\"w\":\"e\")+'\">'+nextText+\"</span></a>\":(hideIfNoPrevNext?\"\":'<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\"'+nextText+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+(isRTL?\"w\":\"e\")+'\">'+nextText+\"</span></a>\"));var currentText=this._get(inst,\"currentText\");var gotoDate=(this._get(inst,\"gotoCurrent\")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\" onclick=\"DP_jQuery.datepicker._hideDatepicker();\">'+this._get(inst,\"closeText\")+\"</button>\":\"\");var buttonPanel=(showButtonPanel)?'<div class=\"ui-datepicker-buttonpane ui-widget-content\">'+(isRTL?controls:\"\")+(this._isInRange(inst,gotoDate)?'<button type=\"button\" class=\"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\" onclick=\"DP_jQuery.datepicker._gotoToday(\\'#'+inst.id+\"');\\\">\"+currentText+\"</button>\":\"\")+(isRTL?\"\":controls)+\"</div>\":\"\";var firstDay=parseInt(this._get(inst,\"firstDay\"),10);firstDay=(isNaN(firstDay)?0:firstDay);var dayNames=this._get(inst,\"dayNames\");var dayNamesShort=this._get(inst,\"dayNamesShort\");var dayNamesMin=this._get(inst,\"dayNamesMin\");var monthNames=this._get(inst,\"monthNames\");var monthNamesShort=this._get(inst,\"monthNamesShort\");var beforeShowDay=this._get(inst,\"beforeShowDay\");var showOtherMonths=this._get(inst,\"showOtherMonths\");var calculateWeek=this._get(inst,\"calculateWeek\")||this.iso8601Week;var endDate=inst.endDay?this._daylightSavingAdjust(new Date(inst.endYear,inst.endMonth,inst.endDay)):currentDate;var defaultDate=this._getDefaultDate(inst);var html=\"\";for(var row=0;row<numMonths[0];row++){var group=\"\";for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=\" ui-corner-all\";var calender=\"\";if(isMultiMonth){calender+='<div class=\"ui-datepicker-group ui-datepicker-group-';switch(col){case 0:calender+=\"first\";cornerClass=\" ui-corner-\"+(isRTL?\"right\":\"left\");break;case numMonths[1]-1:calender+=\"last\";cornerClass=\" ui-corner-\"+(isRTL?\"left\":\"right\");break;default:calender+=\"middle\";cornerClass=\"\";break}calender+='\">'}calender+='<div class=\"ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'\">'+(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):\"\")+(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):\"\")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class=\"ui-datepicker-calendar\"><thead><tr>';var thead=\"\";for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+=\"<th\"+((dow+firstDay+6)%7>=5?' class=\"ui-datepicker-week-end\"':\"\")+'><span title=\"'+dayNames[day]+'\">'+dayNamesMin[day]+\"</span></th>\"}calender+=thead+\"</tr></thead><tbody>\";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var numRows=(isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7));var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+=\"<tr>\";var tbody=\"\";for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,\"\"]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=otherMonth||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class=\"'+((dow+firstDay+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(otherMonth?\" ui-datepicker-other-month\":\"\")+((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?\" \"+this._dayOverClass:\"\")+(unselectable?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(otherMonth&&!showOtherMonths?\"\":\" \"+daySettings[1]+(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?\" \"+this._currentClass:\"\")+(printDate.getTime()==today.getTime()?\" ui-datepicker-today\":\"\"))+'\"'+((!otherMonth||showOtherMonths)&&daySettings[2]?' title=\"'+daySettings[2]+'\"':\"\")+(unselectable?\"\":\" onclick=\\\"DP_jQuery.datepicker._selectDay('#\"+inst.id+\"',\"+drawMonth+\",\"+drawYear+', this);return false;\"')+\">\"+(otherMonth?(showOtherMonths?printDate.getDate():\"&#xa0;\"):(unselectable?'<span class=\"ui-state-default\">'+printDate.getDate()+\"</span>\":'<a class=\"ui-state-default'+(printDate.getTime()==today.getTime()?\" ui-state-highlight\":\"\")+(printDate.getTime()>=currentDate.getTime()&&printDate.getTime()<=endDate.getTime()?\" ui-state-active\":\"\")+'\" href=\"#\">'+printDate.getDate()+\"</a>\"))+\"</td>\";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+\"</tr>\"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+=\"</tbody></table>\"+(isMultiMonth?\"</div>\"+((numMonths[0]>0&&col==numMonths[1]-1)?'<div class=\"ui-datepicker-row-break\"></div>':\"\"):\"\");group+=calender}html+=group}html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"></iframe>':\"\");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,secondary,monthNames,monthNamesShort){minDate=(inst.rangeStart&&minDate&&selectedDate<minDate?selectedDate:minDate);var changeMonth=this._get(inst,\"changeMonth\");var changeYear=this._get(inst,\"changeYear\");var showMonthAfterYear=this._get(inst,\"showMonthAfterYear\");var html='<div class=\"ui-datepicker-title\">';var monthHtml=\"\";if(secondary||!changeMonth){monthHtml+='<span class=\"ui-datepicker-month\">'+monthNames[drawMonth]+\"</span> \"}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class=\"ui-datepicker-month\" onchange=\"DP_jQuery.datepicker._selectMonthYear(\\'#'+inst.id+\"', this, 'M');\\\" onclick=\\\"DP_jQuery.datepicker._clickMonthYear('#\"+inst.id+\"');\\\">\";for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+='<option value=\"'+month+'\"'+(month==drawMonth?' selected=\"selected\"':\"\")+\">\"+monthNamesShort[month]+\"</option>\"}}monthHtml+=\"</select>\"}if(!showMonthAfterYear){html+=monthHtml+((secondary||changeMonth||changeYear)&&(!(changeMonth&&changeYear))?\"&#xa0;\":\"\")}if(secondary||!changeYear){html+='<span class=\"ui-datepicker-year\">'+drawYear+\"</span>\"}else{var years=this._get(inst,\"yearRange\").split(\":\");var year=0;var endYear=0;if(years.length!=2){year=drawYear-10;endYear=drawYear+10}else{if(years[0].charAt(0)==\"+\"||years[0].charAt(0)==\"-\"){year=drawYear+parseInt(years[0],10);endYear=drawYear+parseInt(years[1],10)}else{year=parseInt(years[0],10);endYear=parseInt(years[1],10)}}year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);html+='<select class=\"ui-datepicker-year\" onchange=\"DP_jQuery.datepicker._selectMonthYear(\\'#'+inst.id+\"', this, 'Y');\\\" onclick=\\\"DP_jQuery.datepicker._clickMonthYear('#\"+inst.id+\"');\\\">\";for(;year<=endYear;year++){html+='<option value=\"'+year+'\"'+(year==drawYear?' selected=\"selected\"':\"\")+\">\"+year+\"</option>\"}html+=\"</select>\"}if(showMonthAfterYear){html+=(secondary||changeMonth||changeYear?\"&#xa0;\":\"\")+monthHtml}html+=\"</div>\";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period==\"Y\"?offset:0);var month=inst.drawMonth+(period==\"M\"?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==\"D\"?offset:0);var date=this._daylightSavingAdjust(new Date(year,month,day));var minDate=this._getMinMaxDate(inst,\"min\",true);var maxDate=this._getMinMaxDate(inst,\"max\");date=(minDate&&date<minDate?minDate:date);date=(maxDate&&date>maxDate?maxDate:date);inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==\"M\"||period==\"Y\"){this._notifyChange(inst)}},_notifyChange:function(inst){var onChange=this._get(inst,\"onChangeMonthYear\");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,\"numberOfMonths\");return(numMonths==null?[1,1]:(typeof numMonths==\"number\"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax,checkRange){var date=this._determineDate(this._get(inst,minMax+\"Date\"),null);return(!checkRange||!inst.rangeStart?date:(!date||inst.rangeStart>date?inst.rangeStart:date))},_getDaysInMonth:function(year,month){return 32-new Date(year,month,32).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var newMinDate=(!inst.rangeStart?null:this._daylightSavingAdjust(new Date(inst.selectedYear,inst.selectedMonth,inst.selectedDay)));newMinDate=(newMinDate&&inst.rangeStart<newMinDate?inst.rangeStart:newMinDate);var minDate=newMinDate||this._getMinMaxDate(inst,\"min\");var maxDate=this._getMinMaxDate(inst,\"max\");return((!minDate||date>=minDate)&&(!maxDate||date<=maxDate))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,\"shortYearCutoff\");shortYearCutoff=(typeof shortYearCutoff!=\"string\"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,\"dayNamesShort\"),dayNames:this._get(inst,\"dayNames\"),monthNamesShort:this._get(inst,\"monthNamesShort\"),monthNames:this._get(inst,\"monthNames\")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day==\"object\"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,\"dateFormat\"),date,this._getFormatConfig(inst))}});function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}function isArray(a){return(a&&(($.browser.safari&&typeof a==\"object\"&&a.length)||(a.constructor&&a.constructor.toString().match(/\\Array\\(\\)/))))}$.fn.datepicker=function(options){if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find(\"body\").append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==\"string\"&&(options==\"isDisabled\"||options==\"getDate\")){return $.datepicker[\"_\"+options+\"Datepicker\"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options==\"option\"&&arguments.length==2&&typeof arguments[1]==\"string\"){return $.datepicker[\"_\"+options+\"Datepicker\"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options==\"string\"?$.datepicker[\"_\"+options+\"Datepicker\"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version=\"1.7.2\";window.DP_jQuery=$})(jQuery);;/*\n  134   * jQuery UI Progressbar 1.7.2\n  135   *\n  ...\n  296   *  effects.core.js\n  297   */\n  298: (function(a){a.effects.transfer=function(b){return this.queue(function(){var f=a(this),h=a(b.options.to),e=h.offset(),g={top:e.top,left:e.left,height:h.innerHeight(),width:h.innerWidth()},d=f.offset(),c=a('<div class=\"ui-effects-transfer\"></div>').appendTo(document.body).addClass(b.options.className).css({top:d.top,left:d.left,height:f.innerHeight(),width:f.innerWidth(),position:\"absolute\"}).animate(g,b.duration,b.options.easing,function(){c.remove();(b.callback&&b.callback.apply(f[0],arguments));f.dequeue()})})}})(jQuery);;\n\n/Users/boos/code/graasp/public/javascripts/jquery.js:\n   10   * Revision: 6246\n   11   */\n   12: (function(){var l=this,g,y=l.jQuery,p=l.$,o=l.jQuery=l.$=function(E,F){return new o.fn.init(E,F)},D=/^[^<]*(<(.|\\s)+>)[^>]*$|^#([\\w-]+)$/,f=/^.[^:#\\[\\.,]*$/;o.fn=o.prototype={init:function(E,H){E=E||document;if(E.nodeType){this[0]=E;this.length=1;this.context=E;return this}if(typeof E===\"string\"){var G=D.exec(E);if(G&&(G[1]||!H)){if(G[1]){E=o.clean([G[1]],H)}else{var I=document.getElementById(G[3]);if(I&&I.id!=G[3]){return o().find(E)}var F=o(I||[]);F.context=document;F.selector=E;return F}}else{return o(H).find(E)}}else{if(o.isFunction(E)){return o(document).ready(E)}}if(E.selector&&E.context){this.selector=E.selector;this.context=E.context}return this.setArray(o.isArray(E)?E:o.makeArray(E))},selector:\"\",jquery:\"1.3.2\",size:function(){return this.length},get:function(E){return E===g?Array.prototype.slice.call(this):this[E]},pushStack:function(F,H,E){var G=o(F);G.prevObject=this;G.context=this.context;if(H===\"find\"){G.selector=this.selector+(this.selector?\" \":\"\")+E}else{if(H){G.selector=this.selector+\".\"+H+\"(\"+E+\")\"}}return G},setArray:function(E){this.length=0;Array.prototype.push.apply(this,E);return this},each:function(F,E){return o.each(this,F,E)},index:function(E){return o.inArray(E&&E.jquery?E[0]:E,this)},attr:function(F,H,G){var E=F;if(typeof F===\"string\"){if(H===g){return this[0]&&o[G||\"attr\"](this[0],F)}else{E={};E[F]=H}}return this.each(function(I){for(F in E){o.attr(G?this.style:this,F,o.prop(this,E[F],G,I,F))}})},css:function(E,F){if((E==\"width\"||E==\"height\")&&parseFloat(F)<0){F=g}return this.attr(E,F,\"curCSS\")},text:function(F){if(typeof F!==\"object\"&&F!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(F))}var E=\"\";o.each(F||this,function(){o.each(this.childNodes,function(){if(this.nodeType!=8){E+=this.nodeType!=1?this.nodeValue:o.fn.text([this])}})});return E},wrapAll:function(E){if(this[0]){var F=o(E,this[0].ownerDocument).clone();if(this[0].parentNode){F.insertBefore(this[0])}F.map(function(){var G=this;while(G.firstChild){G=G.firstChild}return G}).append(this)}return this},wrapInner:function(E){return this.each(function(){o(this).contents().wrapAll(E)})},wrap:function(E){return this.each(function(){o(this).wrapAll(E)})},append:function(){return this.domManip(arguments,true,function(E){if(this.nodeType==1){this.appendChild(E)}})},prepend:function(){return this.domManip(arguments,true,function(E){if(this.nodeType==1){this.insertBefore(E,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(E){this.parentNode.insertBefore(E,this)})},after:function(){return this.domManip(arguments,false,function(E){this.parentNode.insertBefore(E,this.nextSibling)})},end:function(){return this.prevObject||o([])},push:[].push,sort:[].sort,splice:[].splice,find:function(E){if(this.length===1){var F=this.pushStack([],\"find\",E);F.length=0;o.find(E,this[0],F);return F}else{return this.pushStack(o.unique(o.map(this,function(G){return o.find(E,G)})),\"find\",E)}},clone:function(G){var E=this.map(function(){if(!o.support.noCloneEvent&&!o.isXMLDoc(this)){var I=this.outerHTML;if(!I){var J=this.ownerDocument.createElement(\"div\");J.appendChild(this.cloneNode(true));I=J.innerHTML}return o.clean([I.replace(/ jQuery\\d+=\"(?:\\d+|null)\"/g,\"\").replace(/^\\s*/,\"\")])[0]}else{return this.cloneNode(true)}});if(G===true){var H=this.find(\"*\").andSelf(),F=0;E.find(\"*\").andSelf().each(function(){if(this.nodeName!==H[F].nodeName){return}var I=o.data(H[F],\"events\");for(var K in I){for(var J in I[K]){o.event.add(this,K,I[K][J],I[K][J].data)}}F++})}return E},filter:function(E){return this.pushStack(o.isFunction(E)&&o.grep(this,function(G,F){return E.call(G,F)})||o.multiFilter(E,o.grep(this,function(F){return F.nodeType===1})),\"filter\",E)},closest:function(E){var G=o.expr.match.POS.test(E)?o(E):null,F=0;return this.map(function(){var H=this;while(H&&H.ownerDocument){if(G?G.index(H)>-1:o(H).is(E)){o.data(H,\"closest\",F);return H}H=H.parentNode;F++}})},not:function(E){if(typeof E===\"string\"){if(f.test(E)){return this.pushStack(o.multiFilter(E,this,true),\"not\",E)}else{E=o.multiFilter(E,this)}}var F=E.length&&E[E.length-1]!==g&&!E.nodeType;return this.filter(function(){return F?o.inArray(this,E)<0:this!=E})},add:function(E){return this.pushStack(o.unique(o.merge(this.get(),typeof E===\"string\"?o(E):o.makeArray(E))))},is:function(E){return !!E&&o.multiFilter(E,this).length>0},hasClass:function(E){return !!E&&this.is(\".\"+E)},val:function(K){if(K===g){var E=this[0];if(E){if(o.nodeName(E,\"option\")){return(E.attributes.value||{}).specified?E.value:E.text}if(o.nodeName(E,\"select\")){var I=E.selectedIndex,L=[],M=E.options,H=E.type==\"select-one\";if(I<0){return null}for(var F=H?I:0,J=H?I+1:M.length;F<J;F++){var G=M[F];if(G.selected){K=o(G).val();if(H){return K}L.push(K)}}return L}return(E.value||\"\").replace(/\\r/g,\"\")}return g}if(typeof K===\"number\"){K+=\"\"}return this.each(function(){if(this.nodeType!=1){return}if(o.isArray(K)&&/radio|checkbox/.test(this.type)){this.checked=(o.inArray(this.value,K)>=0||o.inArray(this.name,K)>=0)}else{if(o.nodeName(this,\"select\")){var N=o.makeArray(K);o(\"option\",this).each(function(){this.selected=(o.inArray(this.value,N)>=0||o.inArray(this.text,N)>=0)});if(!N.length){this.selectedIndex=-1}}else{this.value=K}}})},html:function(E){return E===g?(this[0]?this[0].innerHTML.replace(/ jQuery\\d+=\"(?:\\d+|null)\"/g,\"\"):null):this.empty().append(E)},replaceWith:function(E){return this.after(E).remove()},eq:function(E){return this.slice(E,+E+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),\"slice\",Array.prototype.slice.call(arguments).join(\",\"))},map:function(E){return this.pushStack(o.map(this,function(G,F){return E.call(G,F,G)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(J,M,L){if(this[0]){var I=(this[0].ownerDocument||this[0]).createDocumentFragment(),F=o.clean(J,(this[0].ownerDocument||this[0]),I),H=I.firstChild;if(H){for(var G=0,E=this.length;G<E;G++){L.call(K(this[G],H),this.length>1||G>0?I.cloneNode(true):I)}}if(F){o.each(F,z)}}return this;function K(N,O){return M&&o.nodeName(N,\"table\")&&o.nodeName(O,\"tr\")?(N.getElementsByTagName(\"tbody\")[0]||N.appendChild(N.ownerDocument.createElement(\"tbody\"))):N}}};o.fn.init.prototype=o.fn;function z(E,F){if(F.src){o.ajax({url:F.src,async:false,dataType:\"script\"})}else{o.globalEval(F.text||F.textContent||F.innerHTML||\"\")}if(F.parentNode){F.parentNode.removeChild(F)}}function e(){return +new Date}o.extend=o.fn.extend=function(){var J=arguments[0]||{},H=1,I=arguments.length,E=false,G;if(typeof J===\"boolean\"){E=J;J=arguments[1]||{};H=2}if(typeof J!==\"object\"&&!o.isFunction(J)){J={}}if(I==H){J=this;--H}for(;H<I;H++){if((G=arguments[H])!=null){for(var F in G){var K=J[F],L=G[F];if(J===L){continue}if(E&&L&&typeof L===\"object\"&&!L.nodeType){J[F]=o.extend(E,K||(L.length!=null?[]:{}),L)}else{if(L!==g){J[F]=L}}}}}return J};var b=/z-?index|font-?weight|opacity|zoom|line-?height/i,q=document.defaultView||{},s=Object.prototype.toString;o.extend({noConflict:function(E){l.$=p;if(E){l.jQuery=y}return o},isFunction:function(E){return s.call(E)===\"[object Function]\"},isArray:function(E){return s.call(E)===\"[object Array]\"},isXMLDoc:function(E){return E.nodeType===9&&E.documentElement.nodeName!==\"HTML\"||!!E.ownerDocument&&o.isXMLDoc(E.ownerDocument)},globalEval:function(G){if(G&&/\\S/.test(G)){var F=document.getElementsByTagName(\"head\")[0]||document.documentElement,E=document.createElement(\"script\");E.type=\"text/javascript\";if(o.support.scriptEval){E.appendChild(document.createTextNode(G))}else{E.text=G}F.insertBefore(E,F.firstChild);F.removeChild(E)}},nodeName:function(F,E){return F.nodeName&&F.nodeName.toUpperCase()==E.toUpperCase()},each:function(G,K,F){var E,H=0,I=G.length;if(F){if(I===g){for(E in G){if(K.apply(G[E],F)===false){break}}}else{for(;H<I;){if(K.apply(G[H++],F)===false){break}}}}else{if(I===g){for(E in G){if(K.call(G[E],E,G[E])===false){break}}}else{for(var J=G[0];H<I&&K.call(J,H,J)!==false;J=G[++H]){}}}return G},prop:function(H,I,G,F,E){if(o.isFunction(I)){I=I.call(H,F)}return typeof I===\"number\"&&G==\"curCSS\"&&!b.test(E)?I+\"px\":I},className:{add:function(E,F){o.each((F||\"\").split(/\\s+/),function(G,H){if(E.nodeType==1&&!o.className.has(E.className,H)){E.className+=(E.className?\" \":\"\")+H}})},remove:function(E,F){if(E.nodeType==1){E.className=F!==g?o.grep(E.className.split(/\\s+/),function(G){return !o.className.has(F,G)}).join(\" \"):\"\"}},has:function(F,E){return F&&o.inArray(E,(F.className||F).toString().split(/\\s+/))>-1}},swap:function(H,G,I){var E={};for(var F in G){E[F]=H.style[F];H.style[F]=G[F]}I.call(H);for(var F in G){H.style[F]=E[F]}},css:function(H,F,J,E){if(F==\"width\"||F==\"height\"){var L,G={position:\"absolute\",visibility:\"hidden\",display:\"block\"},K=F==\"width\"?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"];function I(){L=F==\"width\"?H.offsetWidth:H.offsetHeight;if(E===\"border\"){return}o.each(K,function(){if(!E){L-=parseFloat(o.curCSS(H,\"padding\"+this,true))||0}if(E===\"margin\"){L+=parseFloat(o.curCSS(H,\"margin\"+this,true))||0}else{L-=parseFloat(o.curCSS(H,\"border\"+this+\"Width\",true))||0}})}if(H.offsetWidth!==0){I()}else{o.swap(H,G,I)}return Math.max(0,Math.round(L))}return o.curCSS(H,F,J)},curCSS:function(I,F,G){var L,E=I.style;if(F==\"opacity\"&&!o.support.opacity){L=o.attr(E,\"opacity\");return L==\"\"?\"1\":L}if(F.match(/float/i)){F=w}if(!G&&E&&E[F]){L=E[F]}else{if(q.getComputedStyle){if(F.match(/float/i)){F=\"float\"}F=F.replace(/([A-Z])/g,\"-$1\").toLowerCase();var M=q.getComputedStyle(I,null);if(M){L=M.getPropertyValue(F)}if(F==\"opacity\"&&L==\"\"){L=\"1\"}}else{if(I.currentStyle){var J=F.replace(/\\-(\\w)/g,function(N,O){return O.toUpperCase()});L=I.currentStyle[F]||I.currentStyle[J];if(!/^\\d+(px)?$/i.test(L)&&/^\\d/.test(L)){var H=E.left,K=I.runtimeStyle.left;I.runtimeStyle.left=I.currentStyle.left;E.left=L||0;L=E.pixelLeft+\"px\";E.left=H;I.runtimeStyle.left=K}}}}return L},clean:function(F,K,I){K=K||document;if(typeof K.createElement===\"undefined\"){K=K.ownerDocument||K[0]&&K[0].ownerDocument||document}if(!I&&F.length===1&&typeof F[0]===\"string\"){var H=/^<(\\w+)\\s*\\/?>$/.exec(F[0]);if(H){return[K.createElement(H[1])]}}var G=[],E=[],L=K.createElement(\"div\");o.each(F,function(P,S){if(typeof S===\"number\"){S+=\"\"}if(!S){return}if(typeof S===\"string\"){S=S.replace(/(<(\\w+)[^>]*?)\\/>/g,function(U,V,T){return T.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?U:V+\"></\"+T+\">\"});var O=S.replace(/^\\s+/,\"\").substring(0,10).toLowerCase();var Q=!O.indexOf(\"<opt\")&&[1,\"<select multiple='multiple'>\",\"</select>\"]||!O.indexOf(\"<leg\")&&[1,\"<fieldset>\",\"</fieldset>\"]||O.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,\"<table>\",\"</table>\"]||!O.indexOf(\"<tr\")&&[2,\"<table><tbody>\",\"</tbody></table>\"]||(!O.indexOf(\"<td\")||!O.indexOf(\"<th\"))&&[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"]||!O.indexOf(\"<col\")&&[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"]||!o.support.htmlSerialize&&[1,\"div<div>\",\"</div>\"]||[0,\"\",\"\"];L.innerHTML=Q[1]+S+Q[2];while(Q[0]--){L=L.lastChild}if(!o.support.tbody){var R=/<tbody/i.test(S),N=!O.indexOf(\"<table\")&&!R?L.firstChild&&L.firstChild.childNodes:Q[1]==\"<table>\"&&!R?L.childNodes:[];for(var M=N.length-1;M>=0;--M){if(o.nodeName(N[M],\"tbody\")&&!N[M].childNodes.length){N[M].parentNode.removeChild(N[M])}}}if(!o.support.leadingWhitespace&&/^\\s/.test(S)){L.insertBefore(K.createTextNode(S.match(/^\\s*/)[0]),L.firstChild)}S=o.makeArray(L.childNodes)}if(S.nodeType){G.push(S)}else{G=o.merge(G,S)}});if(I){for(var J=0;G[J];J++){if(o.nodeName(G[J],\"script\")&&(!G[J].type||G[J].type.toLowerCase()===\"text/javascript\")){E.push(G[J].parentNode?G[J].parentNode.removeChild(G[J]):G[J])}else{if(G[J].nodeType===1){G.splice.apply(G,[J+1,0].concat(o.makeArray(G[J].getElementsByTagName(\"script\"))))}I.appendChild(G[J])}}return E}return G},attr:function(J,G,K){if(!J||J.nodeType==3||J.nodeType==8){return g}var H=!o.isXMLDoc(J),L=K!==g;G=H&&o.props[G]||G;if(J.tagName){var F=/href|src|style/.test(G);if(G==\"selected\"&&J.parentNode){J.parentNode.selectedIndex}if(G in J&&H&&!F){if(L){if(G==\"type\"&&o.nodeName(J,\"input\")&&J.parentNode){throw\"type property can't be changed\"}J[G]=K}if(o.nodeName(J,\"form\")&&J.getAttributeNode(G)){return J.getAttributeNode(G).nodeValue}if(G==\"tabIndex\"){var I=J.getAttributeNode(\"tabIndex\");return I&&I.specified?I.value:J.nodeName.match(/(button|input|object|select|textarea)/i)?0:J.nodeName.match(/^(a|area)$/i)&&J.href?0:g}return J[G]}if(!o.support.style&&H&&G==\"style\"){return o.attr(J.style,\"cssText\",K)}if(L){J.setAttribute(G,\"\"+K)}var E=!o.support.hrefNormalized&&H&&F?J.getAttribute(G,2):J.getAttribute(G);return E===null?g:E}if(!o.support.opacity&&G==\"opacity\"){if(L){J.zoom=1;J.filter=(J.filter||\"\").replace(/alpha\\([^)]*\\)/,\"\")+(parseInt(K)+\"\"==\"NaN\"?\"\":\"alpha(opacity=\"+K*100+\")\")}return J.filter&&J.filter.indexOf(\"opacity=\")>=0?(parseFloat(J.filter.match(/opacity=([^)]*)/)[1])/100)+\"\":\"\"}G=G.replace(/-([a-z])/ig,function(M,N){return N.toUpperCase()});if(L){J[G]=K}return J[G]},trim:function(E){return(E||\"\").replace(/^\\s+|\\s+$/g,\"\")},makeArray:function(G){var E=[];if(G!=null){var F=G.length;if(F==null||typeof G===\"string\"||o.isFunction(G)||G.setInterval){E[0]=G}else{while(F){E[--F]=G[F]}}}return E},inArray:function(G,H){for(var E=0,F=H.length;E<F;E++){if(H[E]===G){return E}}return -1},merge:function(H,E){var F=0,G,I=H.length;if(!o.support.getAll){while((G=E[F++])!=null){if(G.nodeType!=8){H[I++]=G}}}else{while((G=E[F++])!=null){H[I++]=G}}return H},unique:function(K){var F=[],E={};try{for(var G=0,H=K.length;G<H;G++){var J=o.data(K[G]);if(!E[J]){E[J]=true;F.push(K[G])}}}catch(I){F=K}return F},grep:function(F,J,E){var G=[];for(var H=0,I=F.length;H<I;H++){if(!E!=!J(F[H],H)){G.push(F[H])}}return G},map:function(E,J){var F=[];for(var G=0,H=E.length;G<H;G++){var I=J(E[G],G);if(I!=null){F[F.length]=I}}return F.concat.apply([],F)}});var C=navigator.userAgent.toLowerCase();o.browser={version:(C.match(/.+(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/)||[0,\"0\"])[1],safari:/webkit/.test(C),opera:/opera/.test(C),msie:/msie/.test(C)&&!/opera/.test(C),mozilla:/mozilla/.test(C)&&!/(compatible|webkit)/.test(C)};o.each({parent:function(E){return E.parentNode},parents:function(E){return o.dir(E,\"parentNode\")},next:function(E){return o.nth(E,2,\"nextSibling\")},prev:function(E){return o.nth(E,2,\"previousSibling\")},nextAll:function(E){return o.dir(E,\"nextSibling\")},prevAll:function(E){return o.dir(E,\"previousSibling\")},siblings:function(E){return o.sibling(E.parentNode.firstChild,E)},children:function(E){return o.sibling(E.firstChild)},contents:function(E){return o.nodeName(E,\"iframe\")?E.contentDocument||E.contentWindow.document:o.makeArray(E.childNodes)}},function(E,F){o.fn[E]=function(G){var H=o.map(this,F);if(G&&typeof G==\"string\"){H=o.multiFilter(G,H)}return this.pushStack(o.unique(H),E,G)}});o.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(E,F){o.fn[E]=function(G){var J=[],L=o(G);for(var K=0,H=L.length;K<H;K++){var I=(K>0?this.clone(true):this).get();o.fn[F].apply(o(L[K]),I);J=J.concat(I)}return this.pushStack(J,E,G)}});o.each({removeAttr:function(E){o.attr(this,E,\"\");if(this.nodeType==1){this.removeAttribute(E)}},addClass:function(E){o.className.add(this,E)},removeClass:function(E){o.className.remove(this,E)},toggleClass:function(F,E){if(typeof E!==\"boolean\"){E=!o.className.has(this,F)}o.className[E?\"add\":\"remove\"](this,F)},remove:function(E){if(!E||o.filter(E,[this]).length){o(\"*\",this).add([this]).each(function(){o.event.remove(this);o.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){o(this).children().remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(E,F){o.fn[E]=function(){return this.each(F,arguments)}});function j(E,F){return E[0]&&parseInt(o.curCSS(E[0],F,true),10)||0}var h=\"jQuery\"+e(),v=0,A={};o.extend({cache:{},data:function(F,E,G){F=F==l?A:F;var H=F[h];if(!H){H=F[h]=++v}if(E&&!o.cache[H]){o.cache[H]={}}if(G!==g){o.cache[H][E]=G}return E?o.cache[H][E]:H},removeData:function(F,E){F=F==l?A:F;var H=F[h];if(E){if(o.cache[H]){delete o.cache[H][E];E=\"\";for(E in o.cache[H]){break}if(!E){o.removeData(F)}}}else{try{delete F[h]}catch(G){if(F.removeAttribute){F.removeAttribute(h)}}delete o.cache[H]}},queue:function(F,E,H){if(F){E=(E||\"fx\")+\"queue\";var G=o.data(F,E);if(!G||o.isArray(H)){G=o.data(F,E,o.makeArray(H))}else{if(H){G.push(H)}}}return G},dequeue:function(H,G){var E=o.queue(H,G),F=E.shift();if(!G||G===\"fx\"){F=E[0]}if(F!==g){F.call(H)}}});o.fn.extend({data:function(E,G){var H=E.split(\".\");H[1]=H[1]?\".\"+H[1]:\"\";if(G===g){var F=this.triggerHandler(\"getData\"+H[1]+\"!\",[H[0]]);if(F===g&&this.length){F=o.data(this[0],E)}return F===g&&H[1]?this.data(H[0]):F}else{return this.trigger(\"setData\"+H[1]+\"!\",[H[0],G]).each(function(){o.data(this,E,G)})}},removeData:function(E){return this.each(function(){o.removeData(this,E)})},queue:function(E,F){if(typeof E!==\"string\"){F=E;E=\"fx\"}if(F===g){return o.queue(this[0],E)}return this.each(function(){var G=o.queue(this,E,F);if(E==\"fx\"&&G.length==1){G[0].call(this)}})},dequeue:function(E){return this.each(function(){o.dequeue(this,E)})}});\n   13  /*\n   14   * Sizzle CSS Selector Engine - v0.9.3\n   ..\n   17   *  More information: http://sizzlejs.com/\n   18   */\n   19: (function(){var R=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^[\\]]*\\]|['\"][^'\"]*['\"]|[^[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?/g,L=0,H=Object.prototype.toString;var F=function(Y,U,ab,ac){ab=ab||[];U=U||document;if(U.nodeType!==1&&U.nodeType!==9){return[]}if(!Y||typeof Y!==\"string\"){return ab}var Z=[],W,af,ai,T,ad,V,X=true;R.lastIndex=0;while((W=R.exec(Y))!==null){Z.push(W[1]);if(W[2]){V=RegExp.rightContext;break}}if(Z.length>1&&M.exec(Y)){if(Z.length===2&&I.relative[Z[0]]){af=J(Z[0]+Z[1],U)}else{af=I.relative[Z[0]]?[U]:F(Z.shift(),U);while(Z.length){Y=Z.shift();if(I.relative[Y]){Y+=Z.shift()}af=J(Y,af)}}}else{var ae=ac?{expr:Z.pop(),set:E(ac)}:F.find(Z.pop(),Z.length===1&&U.parentNode?U.parentNode:U,Q(U));af=F.filter(ae.expr,ae.set);if(Z.length>0){ai=E(af)}else{X=false}while(Z.length){var ah=Z.pop(),ag=ah;if(!I.relative[ah]){ah=\"\"}else{ag=Z.pop()}if(ag==null){ag=U}I.relative[ah](ai,ag,Q(U))}}if(!ai){ai=af}if(!ai){throw\"Syntax error, unrecognized expression: \"+(ah||Y)}if(H.call(ai)===\"[object Array]\"){if(!X){ab.push.apply(ab,ai)}else{if(U.nodeType===1){for(var aa=0;ai[aa]!=null;aa++){if(ai[aa]&&(ai[aa]===true||ai[aa].nodeType===1&&K(U,ai[aa]))){ab.push(af[aa])}}}else{for(var aa=0;ai[aa]!=null;aa++){if(ai[aa]&&ai[aa].nodeType===1){ab.push(af[aa])}}}}}else{E(ai,ab)}if(V){F(V,U,ab,ac);if(G){hasDuplicate=false;ab.sort(G);if(hasDuplicate){for(var aa=1;aa<ab.length;aa++){if(ab[aa]===ab[aa-1]){ab.splice(aa--,1)}}}}}return ab};F.matches=function(T,U){return F(T,null,null,U)};F.find=function(aa,T,ab){var Z,X;if(!aa){return[]}for(var W=0,V=I.order.length;W<V;W++){var Y=I.order[W],X;if((X=I.match[Y].exec(aa))){var U=RegExp.leftContext;if(U.substr(U.length-1)!==\"\\\\\"){X[1]=(X[1]||\"\").replace(/\\\\/g,\"\");Z=I.find[Y](X,T,ab);if(Z!=null){aa=aa.replace(I.match[Y],\"\");break}}}}if(!Z){Z=T.getElementsByTagName(\"*\")}return{set:Z,expr:aa}};F.filter=function(ad,ac,ag,W){var V=ad,ai=[],aa=ac,Y,T,Z=ac&&ac[0]&&Q(ac[0]);while(ad&&ac.length){for(var ab in I.filter){if((Y=I.match[ab].exec(ad))!=null){var U=I.filter[ab],ah,af;T=false;if(aa==ai){ai=[]}if(I.preFilter[ab]){Y=I.preFilter[ab](Y,aa,ag,ai,W,Z);if(!Y){T=ah=true}else{if(Y===true){continue}}}if(Y){for(var X=0;(af=aa[X])!=null;X++){if(af){ah=U(af,Y,X,aa);var ae=W^!!ah;if(ag&&ah!=null){if(ae){T=true}else{aa[X]=false}}else{if(ae){ai.push(af);T=true}}}}}if(ah!==g){if(!ag){aa=ai}ad=ad.replace(I.match[ab],\"\");if(!T){return[]}break}}}if(ad==V){if(T==null){throw\"Syntax error, unrecognized expression: \"+ad}else{break}}V=ad}return aa};var I=F.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(['\"]*)(.*?)\\3|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*_-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+-]*)\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)(?:\\((['\"]*)((?:\\([^\\)]+\\)|[^\\2\\(\\)]*)+)\\2\\))?/},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function(T){return T.getAttribute(\"href\")}},relative:{\"+\":function(aa,T,Z){var X=typeof T===\"string\",ab=X&&!/\\W/.test(T),Y=X&&!ab;if(ab&&!Z){T=T.toUpperCase()}for(var W=0,V=aa.length,U;W<V;W++){if((U=aa[W])){while((U=U.previousSibling)&&U.nodeType!==1){}aa[W]=Y||U&&U.nodeName===T?U||false:U===T}}if(Y){F.filter(T,aa,true)}},\">\":function(Z,U,aa){var X=typeof U===\"string\";if(X&&!/\\W/.test(U)){U=aa?U:U.toUpperCase();for(var V=0,T=Z.length;V<T;V++){var Y=Z[V];if(Y){var W=Y.parentNode;Z[V]=W.nodeName===U?W:false}}}else{for(var V=0,T=Z.length;V<T;V++){var Y=Z[V];if(Y){Z[V]=X?Y.parentNode:Y.parentNode===U}}if(X){F.filter(U,Z,true)}}},\"\":function(W,U,Y){var V=L++,T=S;if(!U.match(/\\W/)){var X=U=Y?U:U.toUpperCase();T=P}T(\"parentNode\",U,V,W,X,Y)},\"~\":function(W,U,Y){var V=L++,T=S;if(typeof U===\"string\"&&!U.match(/\\W/)){var X=U=Y?U:U.toUpperCase();T=P}T(\"previousSibling\",U,V,W,X,Y)}},find:{ID:function(U,V,W){if(typeof V.getElementById!==\"undefined\"&&!W){var T=V.getElementById(U[1]);return T?[T]:[]}},NAME:function(V,Y,Z){if(typeof Y.getElementsByName!==\"undefined\"){var U=[],X=Y.getElementsByName(V[1]);for(var W=0,T=X.length;W<T;W++){if(X[W].getAttribute(\"name\")===V[1]){U.push(X[W])}}return U.length===0?null:U}},TAG:function(T,U){return U.getElementsByTagName(T[1])}},preFilter:{CLASS:function(W,U,V,T,Z,aa){W=\" \"+W[1].replace(/\\\\/g,\"\")+\" \";if(aa){return W}for(var X=0,Y;(Y=U[X])!=null;X++){if(Y){if(Z^(Y.className&&(\" \"+Y.className+\" \").indexOf(W)>=0)){if(!V){T.push(Y)}}else{if(V){U[X]=false}}}}return false},ID:function(T){return T[1].replace(/\\\\/g,\"\")},TAG:function(U,T){for(var V=0;T[V]===false;V++){}return T[V]&&Q(T[V])?U[1]:U[1].toUpperCase()},CHILD:function(T){if(T[1]==\"nth\"){var U=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec(T[2]==\"even\"&&\"2n\"||T[2]==\"odd\"&&\"2n+1\"||!/\\D/.test(T[2])&&\"0n+\"+T[2]||T[2]);T[2]=(U[1]+(U[2]||1))-0;T[3]=U[3]-0}T[0]=L++;return T},ATTR:function(X,U,V,T,Y,Z){var W=X[1].replace(/\\\\/g,\"\");if(!Z&&I.attrMap[W]){X[1]=I.attrMap[W]}if(X[2]===\"~=\"){X[4]=\" \"+X[4]+\" \"}return X},PSEUDO:function(X,U,V,T,Y){if(X[1]===\"not\"){if(X[3].match(R).length>1||/^\\w/.test(X[3])){X[3]=F(X[3],null,null,U)}else{var W=F.filter(X[3],U,V,true^Y);if(!V){T.push.apply(T,W)}return false}}else{if(I.match.POS.test(X[0])||I.match.CHILD.test(X[0])){return true}}return X},POS:function(T){T.unshift(true);return T}},filters:{enabled:function(T){return T.disabled===false&&T.type!==\"hidden\"},disabled:function(T){return T.disabled===true},checked:function(T){return T.checked===true},selected:function(T){T.parentNode.selectedIndex;return T.selected===true},parent:function(T){return !!T.firstChild},empty:function(T){return !T.firstChild},has:function(V,U,T){return !!F(T[3],V).length},header:function(T){return/h\\d/i.test(T.nodeName)},text:function(T){return\"text\"===T.type},radio:function(T){return\"radio\"===T.type},checkbox:function(T){return\"checkbox\"===T.type},file:function(T){return\"file\"===T.type},password:function(T){return\"password\"===T.type},submit:function(T){return\"submit\"===T.type},image:function(T){return\"image\"===T.type},reset:function(T){return\"reset\"===T.type},button:function(T){return\"button\"===T.type||T.nodeName.toUpperCase()===\"BUTTON\"},input:function(T){return/input|select|textarea|button/i.test(T.nodeName)}},setFilters:{first:function(U,T){return T===0},last:function(V,U,T,W){return U===W.length-1},even:function(U,T){return T%2===0},odd:function(U,T){return T%2===1},lt:function(V,U,T){return U<T[3]-0},gt:function(V,U,T){return U>T[3]-0},nth:function(V,U,T){return T[3]-0==U},eq:function(V,U,T){return T[3]-0==U}},filter:{PSEUDO:function(Z,V,W,aa){var U=V[1],X=I.filters[U];if(X){return X(Z,W,V,aa)}else{if(U===\"contains\"){return(Z.textContent||Z.innerText||\"\").indexOf(V[3])>=0}else{if(U===\"not\"){var Y=V[3];for(var W=0,T=Y.length;W<T;W++){if(Y[W]===Z){return false}}return true}}}},CHILD:function(T,W){var Z=W[1],U=T;switch(Z){case\"only\":case\"first\":while(U=U.previousSibling){if(U.nodeType===1){return false}}if(Z==\"first\"){return true}U=T;case\"last\":while(U=U.nextSibling){if(U.nodeType===1){return false}}return true;case\"nth\":var V=W[2],ac=W[3];if(V==1&&ac==0){return true}var Y=W[0],ab=T.parentNode;if(ab&&(ab.sizcache!==Y||!T.nodeIndex)){var X=0;for(U=ab.firstChild;U;U=U.nextSibling){if(U.nodeType===1){U.nodeIndex=++X}}ab.sizcache=Y}var aa=T.nodeIndex-ac;if(V==0){return aa==0}else{return(aa%V==0&&aa/V>=0)}}},ID:function(U,T){return U.nodeType===1&&U.getAttribute(\"id\")===T},TAG:function(U,T){return(T===\"*\"&&U.nodeType===1)||U.nodeName===T},CLASS:function(U,T){return(\" \"+(U.className||U.getAttribute(\"class\"))+\" \").indexOf(T)>-1},ATTR:function(Y,W){var V=W[1],T=I.attrHandle[V]?I.attrHandle[V](Y):Y[V]!=null?Y[V]:Y.getAttribute(V),Z=T+\"\",X=W[2],U=W[4];return T==null?X===\"!=\":X===\"=\"?Z===U:X===\"*=\"?Z.indexOf(U)>=0:X===\"~=\"?(\" \"+Z+\" \").indexOf(U)>=0:!U?Z&&T!==false:X===\"!=\"?Z!=U:X===\"^=\"?Z.indexOf(U)===0:X===\"$=\"?Z.substr(Z.length-U.length)===U:X===\"|=\"?Z===U||Z.substr(0,U.length+1)===U+\"-\":false},POS:function(X,U,V,Y){var T=U[2],W=I.setFilters[T];if(W){return W(X,V,U,Y)}}}};var M=I.match.POS;for(var O in I.match){I.match[O]=RegExp(I.match[O].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source)}var E=function(U,T){U=Array.prototype.slice.call(U);if(T){T.push.apply(T,U);return T}return U};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(N){E=function(X,W){var U=W||[];if(H.call(X)===\"[object Array]\"){Array.prototype.push.apply(U,X)}else{if(typeof X.length===\"number\"){for(var V=0,T=X.length;V<T;V++){U.push(X[V])}}else{for(var V=0;X[V];V++){U.push(X[V])}}}return U}}var G;if(document.documentElement.compareDocumentPosition){G=function(U,T){var V=U.compareDocumentPosition(T)&4?-1:U===T?0:1;if(V===0){hasDuplicate=true}return V}}else{if(\"sourceIndex\" in document.documentElement){G=function(U,T){var V=U.sourceIndex-T.sourceIndex;if(V===0){hasDuplicate=true}return V}}else{if(document.createRange){G=function(W,U){var V=W.ownerDocument.createRange(),T=U.ownerDocument.createRange();V.selectNode(W);V.collapse(true);T.selectNode(U);T.collapse(true);var X=V.compareBoundaryPoints(Range.START_TO_END,T);if(X===0){hasDuplicate=true}return X}}}}(function(){var U=document.createElement(\"form\"),V=\"script\"+(new Date).getTime();U.innerHTML=\"<input name='\"+V+\"'/>\";var T=document.documentElement;T.insertBefore(U,T.firstChild);if(!!document.getElementById(V)){I.find.ID=function(X,Y,Z){if(typeof Y.getElementById!==\"undefined\"&&!Z){var W=Y.getElementById(X[1]);return W?W.id===X[1]||typeof W.getAttributeNode!==\"undefined\"&&W.getAttributeNode(\"id\").nodeValue===X[1]?[W]:g:[]}};I.filter.ID=function(Y,W){var X=typeof Y.getAttributeNode!==\"undefined\"&&Y.getAttributeNode(\"id\");return Y.nodeType===1&&X&&X.nodeValue===W}}T.removeChild(U)})();(function(){var T=document.createElement(\"div\");T.appendChild(document.createComment(\"\"));if(T.getElementsByTagName(\"*\").length>0){I.find.TAG=function(U,Y){var X=Y.getElementsByTagName(U[1]);if(U[1]===\"*\"){var W=[];for(var V=0;X[V];V++){if(X[V].nodeType===1){W.push(X[V])}}X=W}return X}}T.innerHTML=\"<a href='#'></a>\";if(T.firstChild&&typeof T.firstChild.getAttribute!==\"undefined\"&&T.firstChild.getAttribute(\"href\")!==\"#\"){I.attrHandle.href=function(U){return U.getAttribute(\"href\",2)}}})();if(document.querySelectorAll){(function(){var T=F,U=document.createElement(\"div\");U.innerHTML=\"<p class='TEST'></p>\";if(U.querySelectorAll&&U.querySelectorAll(\".TEST\").length===0){return}F=function(Y,X,V,W){X=X||document;if(!W&&X.nodeType===9&&!Q(X)){try{return E(X.querySelectorAll(Y),V)}catch(Z){}}return T(Y,X,V,W)};F.find=T.find;F.filter=T.filter;F.selectors=T.selectors;F.matches=T.matches})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var T=document.createElement(\"div\");T.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(T.getElementsByClassName(\"e\").length===0){return}T.lastChild.className=\"e\";if(T.getElementsByClassName(\"e\").length===1){return}I.order.splice(1,0,\"CLASS\");I.find.CLASS=function(U,V,W){if(typeof V.getElementsByClassName!==\"undefined\"&&!W){return V.getElementsByClassName(U[1])}}})()}function P(U,Z,Y,ad,aa,ac){var ab=U==\"previousSibling\"&&!ac;for(var W=0,V=ad.length;W<V;W++){var T=ad[W];if(T){if(ab&&T.nodeType===1){T.sizcache=Y;T.sizset=W}T=T[U];var X=false;while(T){if(T.sizcache===Y){X=ad[T.sizset];break}if(T.nodeType===1&&!ac){T.sizcache=Y;T.sizset=W}if(T.nodeName===Z){X=T;break}T=T[U]}ad[W]=X}}}function S(U,Z,Y,ad,aa,ac){var ab=U==\"previousSibling\"&&!ac;for(var W=0,V=ad.length;W<V;W++){var T=ad[W];if(T){if(ab&&T.nodeType===1){T.sizcache=Y;T.sizset=W}T=T[U];var X=false;while(T){if(T.sizcache===Y){X=ad[T.sizset];break}if(T.nodeType===1){if(!ac){T.sizcache=Y;T.sizset=W}if(typeof Z!==\"string\"){if(T===Z){X=true;break}}else{if(F.filter(Z,[T]).length>0){X=T;break}}}T=T[U]}ad[W]=X}}}var K=document.compareDocumentPosition?function(U,T){return U.compareDocumentPosition(T)&16}:function(U,T){return U!==T&&(U.contains?U.contains(T):true)};var Q=function(T){return T.nodeType===9&&T.documentElement.nodeName!==\"HTML\"||!!T.ownerDocument&&Q(T.ownerDocument)};var J=function(T,aa){var W=[],X=\"\",Y,V=aa.nodeType?[aa]:aa;while((Y=I.match.PSEUDO.exec(T))){X+=Y[0];T=T.replace(I.match.PSEUDO,\"\")}T=I.relative[T]?T+\"*\":T;for(var Z=0,U=V.length;Z<U;Z++){F(T,V[Z],W)}return F.filter(X,W)};o.find=F;o.filter=F.filter;o.expr=F.selectors;o.expr[\":\"]=o.expr.filters;F.selectors.filters.hidden=function(T){return T.offsetWidth===0||T.offsetHeight===0};F.selectors.filters.visible=function(T){return T.offsetWidth>0||T.offsetHeight>0};F.selectors.filters.animated=function(T){return o.grep(o.timers,function(U){return T===U.elem}).length};o.multiFilter=function(V,T,U){if(U){V=\":not(\"+V+\")\"}return F.matches(V,T)};o.dir=function(V,U){var T=[],W=V[U];while(W&&W!=document){if(W.nodeType==1){T.push(W)}W=W[U]}return T};o.nth=function(X,T,V,W){T=T||1;var U=0;for(;X;X=X[V]){if(X.nodeType==1&&++U==T){break}}return X};o.sibling=function(V,U){var T=[];for(;V;V=V.nextSibling){if(V.nodeType==1&&V!=U){T.push(V)}}return T};return;l.Sizzle=F})();o.event={add:function(I,F,H,K){if(I.nodeType==3||I.nodeType==8){return}if(I.setInterval&&I!=l){I=l}if(!H.guid){H.guid=this.guid++}if(K!==g){var G=H;H=this.proxy(G);H.data=K}var E=o.data(I,\"events\")||o.data(I,\"events\",{}),J=o.data(I,\"handle\")||o.data(I,\"handle\",function(){return typeof o!==\"undefined\"&&!o.event.triggered?o.event.handle.apply(arguments.callee.elem,arguments):g});J.elem=I;o.each(F.split(/\\s+/),function(M,N){var O=N.split(\".\");N=O.shift();H.type=O.slice().sort().join(\".\");var L=E[N];if(o.event.specialAll[N]){o.event.specialAll[N].setup.call(I,K,O)}if(!L){L=E[N]={};if(!o.event.special[N]||o.event.special[N].setup.call(I,K,O)===false){if(I.addEventListener){I.addEventListener(N,J,false)}else{if(I.attachEvent){I.attachEvent(\"on\"+N,J)}}}}L[H.guid]=H;o.event.global[N]=true});I=null},guid:1,global:{},remove:function(K,H,J){if(K.nodeType==3||K.nodeType==8){return}var G=o.data(K,\"events\"),F,E;if(G){if(H===g||(typeof H===\"string\"&&H.charAt(0)==\".\")){for(var I in G){this.remove(K,I+(H||\"\"))}}else{if(H.type){J=H.handler;H=H.type}o.each(H.split(/\\s+/),function(M,O){var Q=O.split(\".\");O=Q.shift();var N=RegExp(\"(^|\\\\.)\"+Q.slice().sort().join(\".*\\\\.\")+\"(\\\\.|$)\");if(G[O]){if(J){delete G[O][J.guid]}else{for(var P in G[O]){if(N.test(G[O][P].type)){delete G[O][P]}}}if(o.event.specialAll[O]){o.event.specialAll[O].teardown.call(K,Q)}for(F in G[O]){break}if(!F){if(!o.event.special[O]||o.event.special[O].teardown.call(K,Q)===false){if(K.removeEventListener){K.removeEventListener(O,o.data(K,\"handle\"),false)}else{if(K.detachEvent){K.detachEvent(\"on\"+O,o.data(K,\"handle\"))}}}F=null;delete G[O]}}})}for(F in G){break}if(!F){var L=o.data(K,\"handle\");if(L){L.elem=null}o.removeData(K,\"events\");o.removeData(K,\"handle\")}}},trigger:function(I,K,H,E){var G=I.type||I;if(!E){I=typeof I===\"object\"?I[h]?I:o.extend(o.Event(G),I):o.Event(G);if(G.indexOf(\"!\")>=0){I.type=G=G.slice(0,-1);I.exclusive=true}if(!H){I.stopPropagation();if(this.global[G]){o.each(o.cache,function(){if(this.events&&this.events[G]){o.event.trigger(I,K,this.handle.elem)}})}}if(!H||H.nodeType==3||H.nodeType==8){return g}I.result=g;I.target=H;K=o.makeArray(K);K.unshift(I)}I.currentTarget=H;var J=o.data(H,\"handle\");if(J){J.apply(H,K)}if((!H[G]||(o.nodeName(H,\"a\")&&G==\"click\"))&&H[\"on\"+G]&&H[\"on\"+G].apply(H,K)===false){I.result=false}if(!E&&H[G]&&!I.isDefaultPrevented()&&!(o.nodeName(H,\"a\")&&G==\"click\")){this.triggered=true;try{H[G]()}catch(L){}}this.triggered=false;if(!I.isPropagationStopped()){var F=H.parentNode||H.ownerDocument;if(F){o.event.trigger(I,K,F,true)}}},handle:function(K){var J,E;K=arguments[0]=o.event.fix(K||l.event);K.currentTarget=this;var L=K.type.split(\".\");K.type=L.shift();J=!L.length&&!K.exclusive;var I=RegExp(\"(^|\\\\.)\"+L.slice().sort().join(\".*\\\\.\")+\"(\\\\.|$)\");E=(o.data(this,\"events\")||{})[K.type];for(var G in E){var H=E[G];if(J||I.test(H.type)){K.handler=H;K.data=H.data;var F=H.apply(this,arguments);if(F!==g){K.result=F;if(F===false){K.preventDefault();K.stopPropagation()}}if(K.isImmediatePropagationStopped()){break}}}},props:\"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which\".split(\" \"),fix:function(H){if(H[h]){return H}var F=H;H=o.Event(F);for(var G=this.props.length,J;G;){J=this.props[--G];H[J]=F[J]}if(!H.target){H.target=H.srcElement||document}if(H.target.nodeType==3){H.target=H.target.parentNode}if(!H.relatedTarget&&H.fromElement){H.relatedTarget=H.fromElement==H.target?H.toElement:H.fromElement}if(H.pageX==null&&H.clientX!=null){var I=document.documentElement,E=document.body;H.pageX=H.clientX+(I&&I.scrollLeft||E&&E.scrollLeft||0)-(I.clientLeft||0);H.pageY=H.clientY+(I&&I.scrollTop||E&&E.scrollTop||0)-(I.clientTop||0)}if(!H.which&&((H.charCode||H.charCode===0)?H.charCode:H.keyCode)){H.which=H.charCode||H.keyCode}if(!H.metaKey&&H.ctrlKey){H.metaKey=H.ctrlKey}if(!H.which&&H.button){H.which=(H.button&1?1:(H.button&2?3:(H.button&4?2:0)))}return H},proxy:function(F,E){E=E||function(){return F.apply(this,arguments)};E.guid=F.guid=F.guid||E.guid||this.guid++;return E},special:{ready:{setup:B,teardown:function(){}}},specialAll:{live:{setup:function(E,F){o.event.add(this,F[0],c)},teardown:function(G){if(G.length){var E=0,F=RegExp(\"(^|\\\\.)\"+G[0]+\"(\\\\.|$)\");o.each((o.data(this,\"events\").live||{}),function(){if(F.test(this.type)){E++}});if(E<1){o.event.remove(this,G[0],c)}}}}}};o.Event=function(E){if(!this.preventDefault){return new o.Event(E)}if(E&&E.type){this.originalEvent=E;this.type=E.type}else{this.type=E}this.timeStamp=e();this[h]=true};function k(){return false}function u(){return true}o.Event.prototype={preventDefault:function(){this.isDefaultPrevented=u;var E=this.originalEvent;if(!E){return}if(E.preventDefault){E.preventDefault()}E.returnValue=false},stopPropagation:function(){this.isPropagationStopped=u;var E=this.originalEvent;if(!E){return}if(E.stopPropagation){E.stopPropagation()}E.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};var a=function(F){var E=F.relatedTarget;while(E&&E!=this){try{E=E.parentNode}catch(G){E=this}}if(E!=this){F.type=F.data;o.event.handle.apply(this,arguments)}};o.each({mouseover:\"mouseenter\",mouseout:\"mouseleave\"},function(F,E){o.event.special[E]={setup:function(){o.event.add(this,F,a,E)},teardown:function(){o.event.remove(this,F,a)}}});o.fn.extend({bind:function(F,G,E){return F==\"unload\"?this.one(F,G,E):this.each(function(){o.event.add(this,F,E||G,E&&G)})},one:function(G,H,F){var E=o.event.proxy(F||H,function(I){o(this).unbind(I,E);return(F||H).apply(this,arguments)});return this.each(function(){o.event.add(this,G,E,F&&H)})},unbind:function(F,E){return this.each(function(){o.event.remove(this,F,E)})},trigger:function(E,F){return this.each(function(){o.event.trigger(E,F,this)})},triggerHandler:function(E,G){if(this[0]){var F=o.Event(E);F.preventDefault();F.stopPropagation();o.event.trigger(F,G,this[0]);return F.result}},toggle:function(G){var E=arguments,F=1;while(F<E.length){o.event.proxy(G,E[F++])}return this.click(o.event.proxy(G,function(H){this.lastToggle=(this.lastToggle||0)%F;H.preventDefault();return E[this.lastToggle++].apply(this,arguments)||false}))},hover:function(E,F){return this.mouseenter(E).mouseleave(F)},ready:function(E){B();if(o.isReady){E.call(document,o)}else{o.readyList.push(E)}return this},live:function(G,F){var E=o.event.proxy(F);E.guid+=this.selector+G;o(document).bind(i(G,this.selector),this.selector,E);return this},die:function(F,E){o(document).unbind(i(F,this.selector),E?{guid:E.guid+this.selector+F}:null);return this}});function c(H){var E=RegExp(\"(^|\\\\.)\"+H.type+\"(\\\\.|$)\"),G=true,F=[];o.each(o.data(this,\"events\").live||[],function(I,J){if(E.test(J.type)){var K=o(H.target).closest(J.data)[0];if(K){F.push({elem:K,fn:J})}}});F.sort(function(J,I){return o.data(J.elem,\"closest\")-o.data(I.elem,\"closest\")});o.each(F,function(){if(this.fn.call(this.elem,H,this.fn.data)===false){return(G=false)}});return G}function i(F,E){return[\"live\",F,E.replace(/\\./g,\"`\").replace(/ /g,\"|\")].join(\".\")}o.extend({isReady:false,readyList:[],ready:function(){if(!o.isReady){o.isReady=true;if(o.readyList){o.each(o.readyList,function(){this.call(document,o)});o.readyList=null}o(document).triggerHandler(\"ready\")}}});var x=false;function B(){if(x){return}x=true;if(document.addEventListener){document.addEventListener(\"DOMContentLoaded\",function(){document.removeEventListener(\"DOMContentLoaded\",arguments.callee,false);o.ready()},false)}else{if(document.attachEvent){document.attachEvent(\"onreadystatechange\",function(){if(document.readyState===\"complete\"){document.detachEvent(\"onreadystatechange\",arguments.callee);o.ready()}});if(document.documentElement.doScroll&&l==l.top){(function(){if(o.isReady){return}try{document.documentElement.doScroll(\"left\")}catch(E){setTimeout(arguments.callee,0);return}o.ready()})()}}}o.event.add(l,\"load\",o.ready)}o.each((\"blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error\").split(\",\"),function(F,E){o.fn[E]=function(G){return G?this.bind(E,G):this.trigger(E)}});o(l).bind(\"unload\",function(){for(var E in o.cache){if(E!=1&&o.cache[E].handle){o.event.remove(o.cache[E].handle.elem)}}});(function(){o.support={};var F=document.documentElement,G=document.createElement(\"script\"),K=document.createElement(\"div\"),J=\"script\"+(new Date).getTime();K.style.display=\"none\";K.innerHTML='   <link/><table></table><a href=\"/a\" style=\"color:red;float:left;opacity:.5;\">a</a><select><option>text</option></select><object><param/></object>';var H=K.getElementsByTagName(\"*\"),E=K.getElementsByTagName(\"a\")[0];if(!H||!H.length||!E){return}o.support={leadingWhitespace:K.firstChild.nodeType==3,tbody:!K.getElementsByTagName(\"tbody\").length,objectAll:!!K.getElementsByTagName(\"object\")[0].getElementsByTagName(\"*\").length,htmlSerialize:!!K.getElementsByTagName(\"link\").length,style:/red/.test(E.getAttribute(\"style\")),hrefNormalized:E.getAttribute(\"href\")===\"/a\",opacity:E.style.opacity===\"0.5\",cssFloat:!!E.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};G.type=\"text/javascript\";try{G.appendChild(document.createTextNode(\"window.\"+J+\"=1;\"))}catch(I){}F.insertBefore(G,F.firstChild);if(l[J]){o.support.scriptEval=true;delete l[J]}F.removeChild(G);if(K.attachEvent&&K.fireEvent){K.attachEvent(\"onclick\",function(){o.support.noCloneEvent=false;K.detachEvent(\"onclick\",arguments.callee)});K.cloneNode(true).fireEvent(\"onclick\")}o(function(){var L=document.createElement(\"div\");L.style.width=L.style.paddingLeft=\"1px\";document.body.appendChild(L);o.boxModel=o.support.boxModel=L.offsetWidth===2;document.body.removeChild(L).style.display=\"none\"})})();var w=o.support.cssFloat?\"cssFloat\":\"styleFloat\";o.props={\"for\":\"htmlFor\",\"class\":\"className\",\"float\":w,cssFloat:w,styleFloat:w,readonly:\"readOnly\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",rowspan:\"rowSpan\",tabindex:\"tabIndex\"};o.fn.extend({_load:o.fn.load,load:function(G,J,K){if(typeof G!==\"string\"){return this._load(G)}var I=G.indexOf(\" \");if(I>=0){var E=G.slice(I,G.length);G=G.slice(0,I)}var H=\"GET\";if(J){if(o.isFunction(J)){K=J;J=null}else{if(typeof J===\"object\"){J=o.param(J);H=\"POST\"}}}var F=this;o.ajax({url:G,type:H,dataType:\"html\",data:J,complete:function(M,L){if(L==\"success\"||L==\"notmodified\"){F.html(E?o(\"<div/>\").append(M.responseText.replace(/<script(.|\\s)*?\\/script>/g,\"\")).find(E):M.responseText)}if(K){F.each(K,[M.responseText,L,M])}}});return this},serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?o.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(E,F){var G=o(this).val();return G==null?null:o.isArray(G)?o.map(G,function(I,H){return{name:F.name,value:I}}):{name:F.name,value:G}}).get()}});o.each(\"ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend\".split(\",\"),function(E,F){o.fn[F]=function(G){return this.bind(F,G)}});var r=e();o.extend({get:function(E,G,H,F){if(o.isFunction(G)){H=G;G=null}return o.ajax({type:\"GET\",url:E,data:G,success:H,dataType:F})},getScript:function(E,F){return o.get(E,null,F,\"script\")},getJSON:function(E,F,G){return o.get(E,F,G,\"json\")},post:function(E,G,H,F){if(o.isFunction(G)){H=G;G={}}return o.ajax({type:\"POST\",url:E,data:G,success:H,dataType:F})},ajaxSetup:function(E){o.extend(o.ajaxSettings,E)},ajaxSettings:{url:location.href,global:true,type:\"GET\",contentType:\"application/x-www-form-urlencoded\",processData:true,async:true,xhr:function(){return l.ActiveXObject?new ActiveXObject(\"Microsoft.XMLHTTP\"):new XMLHttpRequest()},accepts:{xml:\"application/xml, text/xml\",html:\"text/html\",script:\"text/javascript, application/javascript\",json:\"application/json, text/javascript\",text:\"text/plain\",_default:\"*/*\"}},lastModified:{},ajax:function(M){M=o.extend(true,M,o.extend(true,{},o.ajaxSettings,M));var W,F=/=\\?(&|$)/g,R,V,G=M.type.toUpperCase();if(M.data&&M.processData&&typeof M.data!==\"string\"){M.data=o.param(M.data)}if(M.dataType==\"jsonp\"){if(G==\"GET\"){if(!M.url.match(F)){M.url+=(M.url.match(/\\?/)?\"&\":\"?\")+(M.jsonp||\"callback\")+\"=?\"}}else{if(!M.data||!M.data.match(F)){M.data=(M.data?M.data+\"&\":\"\")+(M.jsonp||\"callback\")+\"=?\"}}M.dataType=\"json\"}if(M.dataType==\"json\"&&(M.data&&M.data.match(F)||M.url.match(F))){W=\"jsonp\"+r++;if(M.data){M.data=(M.data+\"\").replace(F,\"=\"+W+\"$1\")}M.url=M.url.replace(F,\"=\"+W+\"$1\");M.dataType=\"script\";l[W]=function(X){V=X;I();L();l[W]=g;try{delete l[W]}catch(Y){}if(H){H.removeChild(T)}}}if(M.dataType==\"script\"&&M.cache==null){M.cache=false}if(M.cache===false&&G==\"GET\"){var E=e();var U=M.url.replace(/(\\?|&)_=.*?(&|$)/,\"$1_=\"+E+\"$2\");M.url=U+((U==M.url)?(M.url.match(/\\?/)?\"&\":\"?\")+\"_=\"+E:\"\")}if(M.data&&G==\"GET\"){M.url+=(M.url.match(/\\?/)?\"&\":\"?\")+M.data;M.data=null}if(M.global&&!o.active++){o.event.trigger(\"ajaxStart\")}var Q=/^(\\w+:)?\\/\\/([^\\/?#]+)/.exec(M.url);if(M.dataType==\"script\"&&G==\"GET\"&&Q&&(Q[1]&&Q[1]!=location.protocol||Q[2]!=location.host)){var H=document.getElementsByTagName(\"head\")[0];var T=document.createElement(\"script\");T.src=M.url;if(M.scriptCharset){T.charset=M.scriptCharset}if(!W){var O=false;T.onload=T.onreadystatechange=function(){if(!O&&(!this.readyState||this.readyState==\"loaded\"||this.readyState==\"complete\")){O=true;I();L();T.onload=T.onreadystatechange=null;H.removeChild(T)}}}H.appendChild(T);return g}var K=false;var J=M.xhr();if(M.username){J.open(G,M.url,M.async,M.username,M.password)}else{J.open(G,M.url,M.async)}try{if(M.data){J.setRequestHeader(\"Content-Type\",M.contentType)}if(M.ifModified){J.setRequestHeader(\"If-Modified-Since\",o.lastModified[M.url]||\"Thu, 01 Jan 1970 00:00:00 GMT\")}J.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");J.setRequestHeader(\"Accept\",M.dataType&&M.accepts[M.dataType]?M.accepts[M.dataType]+\", */*\":M.accepts._default)}catch(S){}if(M.beforeSend&&M.beforeSend(J,M)===false){if(M.global&&!--o.active){o.event.trigger(\"ajaxStop\")}J.abort();return false}if(M.global){o.event.trigger(\"ajaxSend\",[J,M])}var N=function(X){if(J.readyState==0){if(P){clearInterval(P);P=null;if(M.global&&!--o.active){o.event.trigger(\"ajaxStop\")}}}else{if(!K&&J&&(J.readyState==4||X==\"timeout\")){K=true;if(P){clearInterval(P);P=null}R=X==\"timeout\"?\"timeout\":!o.httpSuccess(J)?\"error\":M.ifModified&&o.httpNotModified(J,M.url)?\"notmodified\":\"success\";if(R==\"success\"){try{V=o.httpData(J,M.dataType,M)}catch(Z){R=\"parsererror\"}}if(R==\"success\"){var Y;try{Y=J.getResponseHeader(\"Last-Modified\")}catch(Z){}if(M.ifModified&&Y){o.lastModified[M.url]=Y}if(!W){I()}}else{o.handleError(M,J,R)}L();if(X){J.abort()}if(M.async){J=null}}}};if(M.async){var P=setInterval(N,13);if(M.timeout>0){setTimeout(function(){if(J&&!K){N(\"timeout\")}},M.timeout)}}try{J.send(M.data)}catch(S){o.handleError(M,J,null,S)}if(!M.async){N()}function I(){if(M.success){M.success(V,R)}if(M.global){o.event.trigger(\"ajaxSuccess\",[J,M])}}function L(){if(M.complete){M.complete(J,R)}if(M.global){o.event.trigger(\"ajaxComplete\",[J,M])}if(M.global&&!--o.active){o.event.trigger(\"ajaxStop\")}}return J},handleError:function(F,H,E,G){if(F.error){F.error(H,E,G)}if(F.global){o.event.trigger(\"ajaxError\",[H,F,G])}},active:0,httpSuccess:function(F){try{return !F.status&&location.protocol==\"file:\"||(F.status>=200&&F.status<300)||F.status==304||F.status==1223}catch(E){}return false},httpNotModified:function(G,E){try{var H=G.getResponseHeader(\"Last-Modified\");return G.status==304||H==o.lastModified[E]}catch(F){}return false},httpData:function(J,H,G){var F=J.getResponseHeader(\"content-type\"),E=H==\"xml\"||!H&&F&&F.indexOf(\"xml\")>=0,I=E?J.responseXML:J.responseText;if(E&&I.documentElement.tagName==\"parsererror\"){throw\"parsererror\"}if(G&&G.dataFilter){I=G.dataFilter(I,H)}if(typeof I===\"string\"){if(H==\"script\"){o.globalEval(I)}if(H==\"json\"){I=l[\"eval\"](\"(\"+I+\")\")}}return I},param:function(E){var G=[];function H(I,J){G[G.length]=encodeURIComponent(I)+\"=\"+encodeURIComponent(J)}if(o.isArray(E)||E.jquery){o.each(E,function(){H(this.name,this.value)})}else{for(var F in E){if(o.isArray(E[F])){o.each(E[F],function(){H(F,this)})}else{H(F,o.isFunction(E[F])?E[F]():E[F])}}}return G.join(\"&\").replace(/%20/g,\"+\")}});var m={},n,d=[[\"height\",\"marginTop\",\"marginBottom\",\"paddingTop\",\"paddingBottom\"],[\"width\",\"marginLeft\",\"marginRight\",\"paddingLeft\",\"paddingRight\"],[\"opacity\"]];function t(F,E){var G={};o.each(d.concat.apply([],d.slice(0,E)),function(){G[this]=F});return G}o.fn.extend({show:function(J,L){if(J){return this.animate(t(\"show\",3),J,L)}else{for(var H=0,F=this.length;H<F;H++){var E=o.data(this[H],\"olddisplay\");this[H].style.display=E||\"\";if(o.css(this[H],\"display\")===\"none\"){var G=this[H].tagName,K;if(m[G]){K=m[G]}else{var I=o(\"<\"+G+\" />\").appendTo(\"body\");K=I.css(\"display\");if(K===\"none\"){K=\"block\"}I.remove();m[G]=K}o.data(this[H],\"olddisplay\",K)}}for(var H=0,F=this.length;H<F;H++){this[H].style.display=o.data(this[H],\"olddisplay\")||\"\"}return this}},hide:function(H,I){if(H){return this.animate(t(\"hide\",3),H,I)}else{for(var G=0,F=this.length;G<F;G++){var E=o.data(this[G],\"olddisplay\");if(!E&&E!==\"none\"){o.data(this[G],\"olddisplay\",o.css(this[G],\"display\"))}}for(var G=0,F=this.length;G<F;G++){this[G].style.display=\"none\"}return this}},_toggle:o.fn.toggle,toggle:function(G,F){var E=typeof G===\"boolean\";return o.isFunction(G)&&o.isFunction(F)?this._toggle.apply(this,arguments):G==null||E?this.each(function(){var H=E?G:o(this).is(\":hidden\");o(this)[H?\"show\":\"hide\"]()}):this.animate(t(\"toggle\",3),G,F)},fadeTo:function(E,G,F){return this.animate({opacity:G},E,F)},animate:function(I,F,H,G){var E=o.speed(F,H,G);return this[E.queue===false?\"each\":\"queue\"](function(){var K=o.extend({},E),M,L=this.nodeType==1&&o(this).is(\":hidden\"),J=this;for(M in I){if(I[M]==\"hide\"&&L||I[M]==\"show\"&&!L){return K.complete.call(this)}if((M==\"height\"||M==\"width\")&&this.style){K.display=o.css(this,\"display\");K.overflow=this.style.overflow}}if(K.overflow!=null){this.style.overflow=\"hidden\"}K.curAnim=o.extend({},I);o.each(I,function(O,S){var R=new o.fx(J,K,O);if(/toggle|show|hide/.test(S)){R[S==\"toggle\"?L?\"show\":\"hide\":S](I)}else{var Q=S.toString().match(/^([+-]=)?([\\d+-.]+)(.*)$/),T=R.cur(true)||0;if(Q){var N=parseFloat(Q[2]),P=Q[3]||\"px\";if(P!=\"px\"){J.style[O]=(N||1)+P;T=((N||1)/R.cur(true))*T;J.style[O]=T+P}if(Q[1]){N=((Q[1]==\"-=\"?-1:1)*N)+T}R.custom(T,N,P)}else{R.custom(T,S,\"\")}}});return true})},stop:function(F,E){var G=o.timers;if(F){this.queue([])}this.each(function(){for(var H=G.length-1;H>=0;H--){if(G[H].elem==this){if(E){G[H](true)}G.splice(H,1)}}});if(!E){this.dequeue()}return this}});o.each({slideDown:t(\"show\",1),slideUp:t(\"hide\",1),slideToggle:t(\"toggle\",1),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"}},function(E,F){o.fn[E]=function(G,H){return this.animate(F,G,H)}});o.extend({speed:function(G,H,F){var E=typeof G===\"object\"?G:{complete:F||!F&&H||o.isFunction(G)&&G,duration:G,easing:F&&H||H&&!o.isFunction(H)&&H};E.duration=o.fx.off?0:typeof E.duration===\"number\"?E.duration:o.fx.speeds[E.duration]||o.fx.speeds._default;E.old=E.complete;E.complete=function(){if(E.queue!==false){o(this).dequeue()}if(o.isFunction(E.old)){E.old.call(this)}};return E},easing:{linear:function(G,H,E,F){return E+F*G},swing:function(G,H,E,F){return((-Math.cos(G*Math.PI)/2)+0.5)*F+E}},timers:[],fx:function(F,E,G){this.options=E;this.elem=F;this.prop=G;if(!E.orig){E.orig={}}}});o.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(o.fx.step[this.prop]||o.fx.step._default)(this);if((this.prop==\"height\"||this.prop==\"width\")&&this.elem.style){this.elem.style.display=\"block\"}},cur:function(F){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var E=parseFloat(o.css(this.elem,this.prop,F));return E&&E>-10000?E:parseFloat(o.curCSS(this.elem,this.prop))||0},custom:function(I,H,G){this.startTime=e();this.start=I;this.end=H;this.unit=G||this.unit||\"px\";this.now=this.start;this.pos=this.state=0;var E=this;function F(J){return E.step(J)}F.elem=this.elem;if(F()&&o.timers.push(F)&&!n){n=setInterval(function(){var K=o.timers;for(var J=0;J<K.length;J++){if(!K[J]()){K.splice(J--,1)}}if(!K.length){clearInterval(n);n=g}},13)}},show:function(){this.options.orig[this.prop]=o.attr(this.elem.style,this.prop);this.options.show=true;this.custom(this.prop==\"width\"||this.prop==\"height\"?1:0,this.cur());o(this.elem).show()},hide:function(){this.options.orig[this.prop]=o.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(H){var G=e();if(H||G>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var E=true;for(var F in this.options.curAnim){if(this.options.curAnim[F]!==true){E=false}}if(E){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(o.css(this.elem,\"display\")==\"none\"){this.elem.style.display=\"block\"}}if(this.options.hide){o(this.elem).hide()}if(this.options.hide||this.options.show){for(var I in this.options.curAnim){o.attr(this.elem.style,I,this.options.orig[I])}}this.options.complete.call(this.elem)}return false}else{var J=G-this.startTime;this.state=J/this.options.duration;this.pos=o.easing[this.options.easing||(o.easing.swing?\"swing\":\"linear\")](this.state,J,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};o.extend(o.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(E){o.attr(E.elem.style,\"opacity\",E.now)},_default:function(E){if(E.elem.style&&E.elem.style[E.prop]!=null){E.elem.style[E.prop]=E.now+E.unit}else{E.elem[E.prop]=E.now}}}});if(document.documentElement.getBoundingClientRect){o.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return o.offset.bodyOffset(this[0])}var G=this[0].getBoundingClientRect(),J=this[0].ownerDocument,F=J.body,E=J.documentElement,L=E.clientTop||F.clientTop||0,K=E.clientLeft||F.clientLeft||0,I=G.top+(self.pageYOffset||o.boxModel&&E.scrollTop||F.scrollTop)-L,H=G.left+(self.pageXOffset||o.boxModel&&E.scrollLeft||F.scrollLeft)-K;return{top:I,left:H}}}else{o.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return o.offset.bodyOffset(this[0])}o.offset.initialized||o.offset.initialize();var J=this[0],G=J.offsetParent,F=J,O=J.ownerDocument,M,H=O.documentElement,K=O.body,L=O.defaultView,E=L.getComputedStyle(J,null),N=J.offsetTop,I=J.offsetLeft;while((J=J.parentNode)&&J!==K&&J!==H){M=L.getComputedStyle(J,null);N-=J.scrollTop,I-=J.scrollLeft;if(J===G){N+=J.offsetTop,I+=J.offsetLeft;if(o.offset.doesNotAddBorder&&!(o.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(J.tagName))){N+=parseInt(M.borderTopWidth,10)||0,I+=parseInt(M.borderLeftWidth,10)||0}F=G,G=J.offsetParent}if(o.offset.subtractsBorderForOverflowNotVisible&&M.overflow!==\"visible\"){N+=parseInt(M.borderTopWidth,10)||0,I+=parseInt(M.borderLeftWidth,10)||0}E=M}if(E.position===\"relative\"||E.position===\"static\"){N+=K.offsetTop,I+=K.offsetLeft}if(E.position===\"fixed\"){N+=Math.max(H.scrollTop,K.scrollTop),I+=Math.max(H.scrollLeft,K.scrollLeft)}return{top:N,left:I}}}o.offset={initialize:function(){if(this.initialized){return}var L=document.body,F=document.createElement(\"div\"),H,G,N,I,M,E,J=L.style.marginTop,K='<div style=\"position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;\"><div></div></div><table style=\"position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;\" cellpadding=\"0\" cellspacing=\"0\"><tr><td></td></tr></table>';M={position:\"absolute\",top:0,left:0,margin:0,border:0,width:\"1px\",height:\"1px\",visibility:\"hidden\"};for(E in M){F.style[E]=M[E]}F.innerHTML=K;L.insertBefore(F,L.firstChild);H=F.firstChild,G=H.firstChild,I=H.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(G.offsetTop!==5);this.doesAddBorderForTableAndCells=(I.offsetTop===5);H.style.overflow=\"hidden\",H.style.position=\"relative\";this.subtractsBorderForOverflowNotVisible=(G.offsetTop===-5);L.style.marginTop=\"1px\";this.doesNotIncludeMarginInBodyOffset=(L.offsetTop===0);L.style.marginTop=J;L.removeChild(F);this.initialized=true},bodyOffset:function(E){o.offset.initialized||o.offset.initialize();var G=E.offsetTop,F=E.offsetLeft;if(o.offset.doesNotIncludeMarginInBodyOffset){G+=parseInt(o.curCSS(E,\"marginTop\",true),10)||0,F+=parseInt(o.curCSS(E,\"marginLeft\",true),10)||0}return{top:G,left:F}}};o.fn.extend({position:function(){var I=0,H=0,F;if(this[0]){var G=this.offsetParent(),J=this.offset(),E=/^body|html$/i.test(G[0].tagName)?{top:0,left:0}:G.offset();J.top-=j(this,\"marginTop\");J.left-=j(this,\"marginLeft\");E.top+=j(G,\"borderTopWidth\");E.left+=j(G,\"borderLeftWidth\");F={top:J.top-E.top,left:J.left-E.left}}return F},offsetParent:function(){var E=this[0].offsetParent||document.body;while(E&&(!/^body|html$/i.test(E.tagName)&&o.css(E,\"position\")==\"static\")){E=E.offsetParent}return o(E)}});o.each([\"Left\",\"Top\"],function(F,E){var G=\"scroll\"+E;o.fn[G]=function(H){if(!this[0]){return null}return H!==g?this.each(function(){this==l||this==document?l.scrollTo(!F?H:o(l).scrollLeft(),F?H:o(l).scrollTop()):this[G]=H}):this[0]==l||this[0]==document?self[F?\"pageYOffset\":\"pageXOffset\"]||o.boxModel&&document.documentElement[G]||document.body[G]:this[0][G]}});o.each([\"Height\",\"Width\"],function(I,G){var E=I?\"Left\":\"Top\",H=I?\"Right\":\"Bottom\",F=G.toLowerCase();o.fn[\"inner\"+G]=function(){return this[0]?o.css(this[0],F,false,\"padding\"):null};o.fn[\"outer\"+G]=function(K){return this[0]?o.css(this[0],F,false,K?\"margin\":\"border\"):null};var J=G.toLowerCase();o.fn[J]=function(K){return this[0]==l?document.compatMode==\"CSS1Compat\"&&document.documentElement[\"client\"+G]||document.body[\"client\"+G]:this[0]==document?Math.max(document.documentElement[\"client\"+G],document.body[\"scroll\"+G],document.documentElement[\"scroll\"+G],document.body[\"offset\"+G],document.documentElement[\"offset\"+G]):K===g?(this.length?o.css(this[0],J):null):this.css(J,typeof K===\"string\"?K:K+\"px\")}})})();\n   20  var $j = jQuery.noConflict();\n   21  \n\n/Users/boos/code/graasp/public/javascripts/libs/event_behavior.js:\n  102          if(typeof(element) == 'function'){\n  103              return $A(element()).each(function(e){\n  104:                 $(e).className = c;\n  105              });\n  106          }else {\n  107:             c = $(element).className;\n  108              return c;\n  109          }\n\n/Users/boos/code/graasp/public/javascripts/libs/fileuploader.js:\n   94  \n   95      // easier access\n   96:     this._classes = this._options.classes;\n   97  \n   98      this._handler = this._createUploadHandler();\n   ..\n  123      },\n  124      /**\n  125:      * Gets one of the elements listed in this._options.classes\n  126       *\n  127       * First optional element is root for search,\n  ...\n  139          }\n  140  \n  141:         var element = qq.getByClass(parent, this._options.classes[type])[0];\n  142  \n  143          if (!element){\n  ...\n  913  qq.hasClass = function(element, name){\n  914      var re = new RegExp('(^| )' + name + '( |$)');\n  915:     return re.test(element.className);\n  916  };\n  917  qq.addClass = function(element, name){\n  918      if (!qq.hasClass(element, name)){\n  919:         element.className += ' ' + name;\n  920      }\n  921  };\n  922  qq.removeClass = function(element, name){\n  923      var re = new RegExp('(^| )' + name + '( |$)');\n  924:     element.className = element.className.replace(re, ' ').replace(/^\\s+|\\s+$/g, \"\");\n  925  };\n  926  qq.setText = function(element, text){\n\n/Users/boos/code/graasp/public/javascripts/libs/jquery.embedly.min.js:\n    1: (function(a){return(a.embedly=function(b,k,j){var d,c,f,e,h,g;d=a.extend({maxWidth:null,maxHeight:null,wmode:null,method:\"replace\",addImageStyles:true,wrapElement:\"div\",className:\"embed\",urlRe:null,success:function(l,o){var m,n;n=o.node;if(!(l)){return null}if((m=d.method)===\"replace\"){return n.replaceWith(l.code)}else{if(m===\"after\"){return n.after(l.code)}else{if(m===\"afterParent\"){return n.parent().after(l.code)}}}}},k);if(typeof j!=\"undefined\"){d.success=j}urlValid=function(m){var l=/http:\\/\\/(.*youtube\\.com\\/watch.*|.*\\.youtube\\.com\\/v\\/.*|youtu\\.be\\/.*|.*\\.youtube\\.com\\/user\\/.*#.*|.*\\.youtube\\.com\\/.*#.*\\/.*|m\\.youtube\\.com\\/watch.*|m\\.youtube\\.com\\/index.*|.*justin\\.tv\\/.*|.*justin\\.tv\\/.*\\/b\\/.*|.*justin\\.tv\\/.*\\/w\\/.*|www\\.ustream\\.tv\\/recorded\\/.*|www\\.ustream\\.tv\\/channel\\/.*|www\\.ustream\\.tv\\/.*|qik\\.com\\/video\\/.*|qik\\.com\\/.*|qik\\.ly\\/.*|.*revision3\\.com\\/.*|.*\\.dailymotion\\.com\\/video\\/.*|.*\\.dailymotion\\.com\\/.*\\/video\\/.*|www\\.collegehumor\\.com\\/video:.*|.*twitvid\\.com\\/.*|www\\.break\\.com\\/.*\\/.*|vids\\.myspace\\.com\\/index\\.cfm\\?fuseaction=vids\\.individual&videoid.*|www\\.myspace\\.com\\/index\\.cfm\\?fuseaction=.*&videoid.*|www\\.metacafe\\.com\\/watch\\/.*|www\\.metacafe\\.com\\/w\\/.*|blip\\.tv\\/file\\/.*|.*\\.blip\\.tv\\/file\\/.*|video\\.google\\.com\\/videoplay\\?.*|.*revver\\.com\\/video\\/.*|video\\.yahoo\\.com\\/watch\\/.*\\/.*|video\\.yahoo\\.com\\/network\\/.*|.*viddler\\.com\\/explore\\/.*\\/videos\\/.*|liveleak\\.com\\/view\\?.*|www\\.liveleak\\.com\\/view\\?.*|animoto\\.com\\/play\\/.*|dotsub\\.com\\/view\\/.*|www\\.overstream\\.net\\/view\\.php\\?oid=.*|www\\.livestream\\.com\\/.*|www\\.worldstarhiphop\\.com\\/videos\\/video.*\\.php\\?v=.*|worldstarhiphop\\.com\\/videos\\/video.*\\.php\\?v=.*|teachertube\\.com\\/viewVideo\\.php.*|teachertube\\.com\\/viewVideo\\.php.*|bambuser\\.com\\/v\\/.*|bambuser\\.com\\/channel\\/.*|bambuser\\.com\\/channel\\/.*\\/broadcast\\/.*|www\\.schooltube\\.com\\/video\\/.*\\/.*|bigthink\\.com\\/ideas\\/.*|bigthink\\.com\\/series\\/.*|sendables\\.jibjab\\.com\\/view\\/.*|sendables\\.jibjab\\.com\\/originals\\/.*|.*yfrog\\..*\\/.*|tweetphoto\\.com\\/.*|www\\.flickr\\.com\\/photos\\/.*|flic\\.kr\\/.*|.*twitpic\\.com\\/.*|.*imgur\\.com\\/.*|.*\\.posterous\\.com\\/.*|post\\.ly\\/.*|twitgoo\\.com\\/.*|i.*\\.photobucket\\.com\\/albums\\/.*|gi.*\\.photobucket\\.com\\/groups\\/.*|phodroid\\.com\\/.*\\/.*\\/.*|www\\.mobypicture\\.com\\/user\\/.*\\/view\\/.*|moby\\.to\\/.*|xkcd\\.com\\/.*|www\\.xkcd\\.com\\/.*|imgs\\.xkcd\\.com\\/.*|www\\.asofterworld\\.com\\/index\\.php\\?id=.*|www\\.asofterworld\\.com\\/.*\\.jpg|asofterworld\\.com\\/.*\\.jpg|www\\.qwantz\\.com\\/index\\.php\\?comic=.*|23hq\\.com\\/.*\\/photo\\/.*|www\\.23hq\\.com\\/.*\\/photo\\/.*|.*dribbble\\.com\\/shots\\/.*|drbl\\.in\\/.*|.*\\.smugmug\\.com\\/.*|.*\\.smugmug\\.com\\/.*#.*|emberapp\\.com\\/.*\\/images\\/.*|emberapp\\.com\\/.*\\/images\\/.*\\/sizes\\/.*|emberapp\\.com\\/.*\\/collections\\/.*\\/.*|emberapp\\.com\\/.*\\/categories\\/.*\\/.*\\/.*|embr\\.it\\/.*|picasaweb\\.google\\.com.*\\/.*\\/.*#.*|picasaweb\\.google\\.com.*\\/lh\\/photo\\/.*|picasaweb\\.google\\.com.*\\/.*\\/.*|dailybooth\\.com\\/.*\\/.*|brizzly\\.com\\/pic\\/.*|pics\\.brizzly\\.com\\/.*\\.jpg|img\\.ly\\/.*|www\\.tinypic\\.com\\/view\\.php.*|tinypic\\.com\\/view\\.php.*|www\\.tinypic\\.com\\/player\\.php.*|tinypic\\.com\\/player\\.php.*|www\\.tinypic\\.com\\/r\\/.*\\/.*|tinypic\\.com\\/r\\/.*\\/.*|.*\\.tinypic\\.com\\/.*\\.jpg|.*\\.tinypic\\.com\\/.*\\.png|meadd\\.com\\/.*\\/.*|meadd\\.com\\/.*|.*\\.deviantart\\.com\\/art\\/.*|.*\\.deviantart\\.com\\/gallery\\/.*|.*\\.deviantart\\.com\\/#\\/.*|fav\\.me\\/.*|.*\\.deviantart\\.com|.*\\.deviantart\\.com\\/gallery|.*\\.deviantart\\.com\\/.*\\/.*\\.jpg|.*\\.deviantart\\.com\\/.*\\/.*\\.gif|.*\\.deviantart\\.net\\/.*\\/.*\\.jpg|.*\\.deviantart\\.net\\/.*\\/.*\\.gif|plixi\\.com\\/p\\/.*|plixi\\.com\\/profile\\/home\\/.*|plixi\\.com\\/.*|www\\.fotopedia\\.com\\/.*\\/.*|fotopedia\\.com\\/.*\\/.*|http:\\/photozou\\.jp\\/photo\\/show\\/.*\\/.*|http:\\/photozou\\.jp\\/photo\\/photo_only\\/.*\\/.*|instagr\\.am\\/p\\/.*|skitch\\.com\\/.*\\/.*\\/.*|img\\.skitch\\.com\\/.*|www\\.whitehouse\\.gov\\/photos-and-video\\/video\\/.*|www\\.whitehouse\\.gov\\/video\\/.*|wh\\.gov\\/photos-and-video\\/video\\/.*|wh\\.gov\\/video\\/.*|www\\.hulu\\.com\\/watch.*|www\\.hulu\\.com\\/w\\/.*|hulu\\.com\\/watch.*|hulu\\.com\\/w\\/.*|.*crackle\\.com\\/c\\/.*|www\\.fancast\\.com\\/.*\\/videos|www\\.funnyordie\\.com\\/videos\\/.*|www\\.funnyordie\\.com\\/m\\/.*|funnyordie\\.com\\/videos\\/.*|funnyordie\\.com\\/m\\/.*|www\\.vimeo\\.com\\/groups\\/.*\\/videos\\/.*|www\\.vimeo\\.com\\/.*|vimeo\\.com\\/m\\/#\\/featured\\/.*|vimeo\\.com\\/groups\\/.*\\/videos\\/.*|vimeo\\.com\\/.*|vimeo\\.com\\/m\\/#\\/featured\\/.*|www\\.ted\\.com\\/talks\\/.*\\.html.*|www\\.ted\\.com\\/talks\\/lang\\/.*\\/.*\\.html.*|www\\.ted\\.com\\/index\\.php\\/talks\\/.*\\.html.*|www\\.ted\\.com\\/index\\.php\\/talks\\/lang\\/.*\\/.*\\.html.*|.*nfb\\.ca\\/film\\/.*|www\\.thedailyshow\\.com\\/watch\\/.*|www\\.thedailyshow\\.com\\/full-episodes\\/.*|www\\.thedailyshow\\.com\\/collection\\/.*\\/.*\\/.*|movies\\.yahoo\\.com\\/movie\\/.*\\/video\\/.*|movies\\.yahoo\\.com\\/movie\\/.*\\/trailer|movies\\.yahoo\\.com\\/movie\\/.*\\/video|www\\.colbertnation\\.com\\/the-colbert-report-collections\\/.*|www\\.colbertnation\\.com\\/full-episodes\\/.*|www\\.colbertnation\\.com\\/the-colbert-report-videos\\/.*|www\\.comedycentral\\.com\\/videos\\/index\\.jhtml\\?.*|www\\.theonion\\.com\\/video\\/.*|theonion\\.com\\/video\\/.*|wordpress\\.tv\\/.*\\/.*\\/.*\\/.*\\/|www\\.traileraddict\\.com\\/trailer\\/.*|www\\.traileraddict\\.com\\/clip\\/.*|www\\.traileraddict\\.com\\/poster\\/.*|www\\.escapistmagazine\\.com\\/videos\\/.*|www\\.trailerspy\\.com\\/trailer\\/.*\\/.*|www\\.trailerspy\\.com\\/trailer\\/.*|www\\.trailerspy\\.com\\/view_video\\.php.*|www\\.atom\\.com\\/.*\\/.*\\/|fora\\.tv\\/.*\\/.*\\/.*\\/.*|www\\.spike\\.com\\/video\\/.*|www\\.gametrailers\\.com\\/video\\/.*|gametrailers\\.com\\/video\\/.*|www\\.koldcast\\.tv\\/video\\/.*|www\\.koldcast\\.tv\\/#video:.*|techcrunch\\.tv\\/watch.*|techcrunch\\.tv\\/.*\\/watch.*|mixergy\\.com\\/.*|video\\.pbs\\.org\\/video\\/.*|www\\.zapiks\\.com\\/.*|tv\\.digg\\.com\\/.*|www\\.trutv\\.com\\/video\\/.*|www\\.nzonscreen\\.com\\/title\\/.*|nzonscreen\\.com\\/title\\/.*|www\\.tangle\\.com\\/view_video.*|mediamatters\\.org\\/mmtv\\/.*|soundcloud\\.com\\/.*|soundcloud\\.com\\/.*\\/.*|soundcloud\\.com\\/.*\\/sets\\/.*|soundcloud\\.com\\/groups\\/.*|www\\.last\\.fm\\/music\\/.*|www\\.last\\.fm\\/music\\/+videos\\/.*|www\\.last\\.fm\\/music\\/+images\\/.*|www\\.last\\.fm\\/music\\/.*\\/_\\/.*|www\\.last\\.fm\\/music\\/.*\\/.*|www\\.mixcloud\\.com\\/.*\\/.*\\/|www\\.radionomy\\.com\\/.*\\/radio\\/.*|radionomy\\.com\\/.*\\/radio\\/.*|www\\.entertonement\\.com\\/clips\\/.*|espn\\.go\\.com\\/video\\/clip.*|espn\\.go\\.com\\/.*\\/story.*|abcnews\\.com\\/.*\\/video\\/.*|abcnews\\.com\\/video\\/playerIndex.*|washingtonpost\\.com\\/wp-dyn\\/.*\\/video\\/.*\\/.*\\/.*\\/.*|www\\.washingtonpost\\.com\\/wp-dyn\\/.*\\/video\\/.*\\/.*\\/.*\\/.*|www\\.boston\\.com\\/video.*|boston\\.com\\/video.*|www\\.facebook\\.com\\/photo\\.php.*|www\\.facebook\\.com\\/video\\/video\\.php.*|www\\.facebook\\.com\\/v\\/.*|cnbc\\.com\\/id\\/.*\\?video.*|cbsnews\\.com\\/video\\/watch\\/.*|www\\.google\\.com\\/buzz\\/.*\\/.*\\/.*|www\\.google\\.com\\/buzz\\/.*|www\\.google\\.com\\/profiles\\/.*|google\\.com\\/buzz\\/.*\\/.*\\/.*|google\\.com\\/buzz\\/.*|google\\.com\\/profiles\\/.*|www\\.cnn\\.com\\/video\\/.*|edition\\.cnn\\.com\\/video\\/.*|money\\.cnn\\.com\\/video\\/.*|today\\.msnbc\\.msn\\.com\\/id\\/.*\\/vp\\/.*|www\\.msnbc\\.msn\\.com\\/id\\/.*\\/vp\\/.*|www\\.msnbc\\.msn\\.com\\/id\\/.*\\/ns\\/.*|today\\.msnbc\\.msn\\.com\\/id\\/.*\\/ns\\/.*|multimedia\\.foxsports\\.com\\/m\\/video\\/.*\\/.*|msn\\.foxsports\\.com\\/video.*|www\\.globalpost\\.com\\/video\\/.*|www\\.globalpost\\.com\\/dispatch\\/.*|.*amazon\\..*\\/gp\\/product\\/.*|.*amazon\\..*\\/.*\\/dp\\/.*|.*amazon\\..*\\/dp\\/.*|.*amazon\\..*\\/o\\/ASIN\\/.*|.*amazon\\..*\\/gp\\/offer-listing\\/.*|.*amazon\\..*\\/.*\\/ASIN\\/.*|.*amazon\\..*\\/gp\\/product\\/images\\/.*|www\\.amzn\\.com\\/.*|amzn\\.com\\/.*|www\\.shopstyle\\.com\\/browse.*|www\\.shopstyle\\.com\\/action\\/apiVisitRetailer.*|www\\.shopstyle\\.com\\/action\\/viewLook.*|gist\\.github\\.com\\/.*|twitter\\.com\\/.*\\/status\\/.*|twitter\\.com\\/.*\\/statuses\\/.*|mobile\\.twitter\\.com\\/.*\\/status\\/.*|mobile\\.twitter\\.com\\/.*\\/statuses\\/.*|www\\.crunchbase\\.com\\/.*\\/.*|crunchbase\\.com\\/.*\\/.*|www\\.slideshare\\.net\\/.*\\/.*|www\\.slideshare\\.net\\/mobile\\/.*\\/.*|.*\\.scribd\\.com\\/doc\\/.*|screenr\\.com\\/.*|polldaddy\\.com\\/community\\/poll\\/.*|polldaddy\\.com\\/poll\\/.*|answers\\.polldaddy\\.com\\/poll\\/.*|www\\.5min\\.com\\/Video\\/.*|www\\.howcast\\.com\\/videos\\/.*|www\\.screencast\\.com\\/.*\\/media\\/.*|screencast\\.com\\/.*\\/media\\/.*|www\\.screencast\\.com\\/t\\/.*|screencast\\.com\\/t\\/.*|issuu\\.com\\/.*\\/docs\\/.*|www\\.kickstarter\\.com\\/projects\\/.*\\/.*|www\\.scrapblog\\.com\\/viewer\\/viewer\\.aspx.*|ping\\.fm\\/p\\/.*|chart\\.ly\\/.*|maps\\.google\\.com\\/maps\\?.*|maps\\.google\\.com\\/\\?.*|.*\\.craigslist\\.org\\/.*\\/.*|my\\.opera\\.com\\/.*\\/albums\\/show\\.dml\\?id=.*|my\\.opera\\.com\\/.*\\/albums\\/showpic\\.dml\\?album=.*&picture=.*|tumblr\\.com\\/.*|.*\\.tumblr\\.com\\/post\\/.*|www\\.polleverywhere\\.com\\/polls\\/.*|www\\.polleverywhere\\.com\\/multiple_choice_polls\\/.*|www\\.polleverywhere\\.com\\/free_text_polls\\/.*|www\\.quantcast\\.com\\/wd:.*|www\\.quantcast\\.com\\/.*|siteanalytics\\.compete\\.com\\/.*|statsheet\\.com\\/statplot\\/charts\\/.*\\/.*\\/.*\\/.*|statsheet\\.com\\/statplot\\/charts\\/e\\/.*|statsheet\\.com\\/.*\\/teams\\/.*\\/.*|statsheet\\.com\\/tools\\/chartlets\\?chart=.*|.*\\.status\\.net\\/notice\\/.*|identi\\.ca\\/notice\\/.*|brainbird\\.net\\/notice\\/.*|shitmydadsays\\.com\\/notice\\/.*|www\\.studivz\\.net\\/Profile\\/.*|www\\.studivz\\.net\\/l\\/.*|www\\.studivz\\.net\\/Groups\\/Overview\\/.*|www\\.studivz\\.net\\/Gadgets\\/Info\\/.*|www\\.studivz\\.net\\/Gadgets\\/Install\\/.*|www\\.studivz\\.net\\/.*|www\\.meinvz\\.net\\/Profile\\/.*|www\\.meinvz\\.net\\/l\\/.*|www\\.meinvz\\.net\\/Groups\\/Overview\\/.*|www\\.meinvz\\.net\\/Gadgets\\/Info\\/.*|www\\.meinvz\\.net\\/Gadgets\\/Install\\/.*|www\\.meinvz\\.net\\/.*|www\\.schuelervz\\.net\\/Profile\\/.*|www\\.schuelervz\\.net\\/l\\/.*|www\\.schuelervz\\.net\\/Groups\\/Overview\\/.*|www\\.schuelervz\\.net\\/Gadgets\\/Info\\/.*|www\\.schuelervz\\.net\\/Gadgets\\/Install\\/.*|www\\.schuelervz\\.net\\/.*|myloc\\.me\\/.*|pastebin\\.com\\/.*|pastie\\.org\\/.*|www\\.pastie\\.org\\/.*|redux\\.com\\/stream\\/item\\/.*\\/.*|redux\\.com\\/f\\/.*\\/.*|www\\.redux\\.com\\/stream\\/item\\/.*\\/.*|www\\.redux\\.com\\/f\\/.*\\/.*|cl\\.ly\\/.*|cl\\.ly\\/.*\\/content|speakerdeck\\.com\\/u\\/.*\\/p\\/.*|www\\.kiva\\.org\\/lend\\/.*|www\\.timetoast\\.com\\/timelines\\/.*|storify\\.com\\/.*\\/.*)/i;return(m.match(l)!==null&&(d.urlRe===null||m.match(d.urlRe)!==null))};f=(typeof b==\"object\")?b:[b];c=[];a.each(f,function(m,l){return l&&urlValid(l)?c.push({url:l}):null});e=function(l){var n,p,o,m;o=a.map(l,function(r,q){return encodeURIComponent(r.url)}).join(\",\");n=\"urls=\"+o;if(d.maxWidth!==null){n+=\"&maxwidth=\"+d.maxWidth}else{if(typeof m!=\"undefined\"){n+=\"&maxwidth=\"+m.width}}if(d.maxHeight!==null){n+=\"&maxheight=\"+d.maxHeight}if(d.wmode!==null){n+=\"&wmode=\"+d.wmode}p=function(q,v){var r,t,s,u;if((r=q.type)===\"photo\"){u=q.title||\"\";s=[];if(d.addImageStyles){if(d.maxWidth){units=typeof d.maxHeight==\"number\"?\"px\":\"\";s.push(\"max-width: \"+(d.maxWidth)+units)}if(d.maxHeight){units=typeof d.maxHeight==\"number\"?\"px\":\"\";s.push(\"max-height: \"+(d.maxHeight)+units)}}s=s.join(\";\");t=\"<a href='\"+v.url+\"' target='_blank'><img style='\"+s+\"' src='\"+q.url+\"' alt='\"+u+\"' /></a>\"}else{if(r===\"video\"){t=q.html}else{if(r===\"rich\"){t=q.html}else{u=q.title||v.url;t=\"<a href='\"+v.url+\"'>\"+u+\"</a>\"}}}if(d.wrapElement){t=\"<\"+d.wrapElement+' class=\"'+d.className+'\">'+t+\"</\"+d.wrapElement+\">\"}q.code=t;return d.success(q,v)};return a.ajax({url:\"http://api.embed.ly/v1/api/oembed\",dataType:\"jsonp\",data:n,success:function(q){return a.each(q,function(r,s){return s.title&&!s.error_code?p(s,l[r]):null})}})};h=[];g=c.length;for(i=0;(0<=g?i<g:i>g);i+=20){h.push(e(c.slice(i,i+20)))}return h})})(jQuery);(function(a){return(a.fn.embedly=function(e,j){var f,d,c,b,h,g;g=a.extend({maxWidth:null,maxHeight:null,wmode:null,method:\"replace\",addImageStyles:true,wrapElement:\"div\",className:\"embed\",urlRe:null,success:function(k,n){var l,m;m=n.node;if(!(k)){return null}if((l=g.method)===\"replace\"){return m.replaceWith(k.code)}else{if(l===\"after\"){return m.after(k.code)}else{if(l===\"afterParent\"){return m.parent().after(k.code)}}}}},e);if(typeof j!=\"undefined\"){g.success=j}h=function(l){var k=/http:\\/\\/(.*youtube\\.com\\/watch.*|.*\\.youtube\\.com\\/v\\/.*|youtu\\.be\\/.*|.*\\.youtube\\.com\\/user\\/.*#.*|.*\\.youtube\\.com\\/.*#.*\\/.*|.*justin\\.tv\\/.*|.*justin\\.tv\\/.*\\/b\\/.*|www\\.ustream\\.tv\\/recorded\\/.*|www\\.ustream\\.tv\\/channel\\/.*|www\\.ustream\\.tv\\/.*|qik\\.com\\/video\\/.*|qik\\.com\\/.*|.*revision3\\.com\\/.*|.*\\.dailymotion\\.com\\/video\\/.*|.*\\.dailymotion\\.com\\/.*\\/video\\/.*|www\\.collegehumor\\.com\\/video:.*|.*twitvid\\.com\\/.*|www\\.break\\.com\\/.*\\/.*|vids\\.myspace\\.com\\/index\\.cfm\\?fuseaction=vids\\.individual&videoid.*|www\\.myspace\\.com\\/index\\.cfm\\?fuseaction=.*&videoid.*|www\\.metacafe\\.com\\/watch\\/.*|blip\\.tv\\/file\\/.*|.*\\.blip\\.tv\\/file\\/.*|video\\.google\\.com\\/videoplay\\?.*|.*revver\\.com\\/video\\/.*|video\\.yahoo\\.com\\/watch\\/.*\\/.*|video\\.yahoo\\.com\\/network\\/.*|.*viddler\\.com\\/explore\\/.*\\/videos\\/.*|liveleak\\.com\\/view\\?.*|www\\.liveleak\\.com\\/view\\?.*|animoto\\.com\\/play\\/.*|dotsub\\.com\\/view\\/.*|www\\.overstream\\.net\\/view\\.php\\?oid=.*|www\\.livestream\\.com\\/.*|www\\.worldstarhiphop\\.com\\/videos\\/video.*\\.php\\?v=.*|worldstarhiphop\\.com\\/videos\\/video.*\\.php\\?v=.*|teachertube\\.com\\/viewVideo\\.php.*|teachertube\\.com\\/viewVideo\\.php.*|bambuser\\.com\\/v\\/.*|bambuser\\.com\\/channel\\/.*|bambuser\\.com\\/channel\\/.*\\/broadcast\\/.*|www\\.schooltube\\.com\\/video\\/.*\\/.*|.*yfrog\\..*\\/.*|tweetphoto\\.com\\/.*|www\\.flickr\\.com\\/photos\\/.*|.*twitpic\\.com\\/.*|.*imgur\\.com\\/.*|.*\\.posterous\\.com\\/.*|post\\.ly\\/.*|twitgoo\\.com\\/.*|i.*\\.photobucket\\.com\\/albums\\/.*|gi.*\\.photobucket\\.com\\/groups\\/.*|phodroid\\.com\\/.*\\/.*\\/.*|www\\.mobypicture\\.com\\/user\\/.*\\/view\\/.*|moby\\.to\\/.*|xkcd\\.com\\/.*|www\\.xkcd\\.com\\/.*|www\\.asofterworld\\.com\\/index\\.php\\?id=.*|www\\.qwantz\\.com\\/index\\.php\\?comic=.*|23hq\\.com\\/.*\\/photo\\/.*|www\\.23hq\\.com\\/.*\\/photo\\/.*|.*dribbble\\.com\\/shots\\/.*|drbl\\.in\\/.*|.*\\.smugmug\\.com\\/.*|.*\\.smugmug\\.com\\/.*#.*|emberapp\\.com\\/.*\\/images\\/.*|emberapp\\.com\\/.*\\/images\\/.*\\/sizes\\/.*|emberapp\\.com\\/.*\\/collections\\/.*\\/.*|emberapp\\.com\\/.*\\/categories\\/.*\\/.*\\/.*|embr\\.it\\/.*|picasaweb\\.google\\.com.*\\/.*\\/.*#.*|picasaweb\\.google\\.com.*\\/lh\\/photo\\/.*|picasaweb\\.google\\.com.*\\/.*\\/.*|dailybooth\\.com\\/.*\\/.*|brizzly\\.com\\/pic\\/.*|pics\\.brizzly\\.com\\/.*\\.jpg|img\\.ly\\/.*|www\\.facebook\\.com\\/photo\\.php.*|www\\.tinypic\\.com\\/view\\.php.*|tinypic\\.com\\/view\\.php.*|www\\.tinypic\\.com\\/player\\.php.*|tinypic\\.com\\/player\\.php.*|www\\.tinypic\\.com\\/r\\/.*\\/.*|tinypic\\.com\\/r\\/.*\\/.*|.*\\.tinypic\\.com\\/.*\\.jpg|.*\\.tinypic\\.com\\/.*\\.png|meadd\\.com\\/.*\\/.*|meadd\\.com\\/.*|.*\\.deviantart\\.com\\/art\\/.*|.*\\.deviantart\\.com\\/gallery\\/.*|.*\\.deviantart\\.com\\/#\\/.*|fav\\.me\\/.*|.*\\.deviantart\\.com|.*\\.deviantart\\.com\\/gallery|.*\\.deviantart\\.com\\/.*\\/.*\\.jpg|.*\\.deviantart\\.com\\/.*\\/.*\\.gif|.*\\.deviantart\\.net\\/.*\\/.*\\.jpg|.*\\.deviantart\\.net\\/.*\\/.*\\.gif|www\\.whitehouse\\.gov\\/photos-and-video\\/video\\/.*|www\\.whitehouse\\.gov\\/video\\/.*|wh\\.gov\\/photos-and-video\\/video\\/.*|wh\\.gov\\/video\\/.*|www\\.hulu\\.com\\/watch.*|www\\.hulu\\.com\\/w\\/.*|hulu\\.com\\/watch.*|hulu\\.com\\/w\\/.*|movieclips\\.com\\/watch\\/.*\\/.*\\/|movieclips\\.com\\/watch\\/.*\\/.*\\/.*\\/.*|.*crackle\\.com\\/c\\/.*|www\\.fancast\\.com\\/.*\\/videos|www\\.funnyordie\\.com\\/videos\\/.*|www\\.vimeo\\.com\\/groups\\/.*\\/videos\\/.*|www\\.vimeo\\.com\\/.*|vimeo\\.com\\/groups\\/.*\\/videos\\/.*|vimeo\\.com\\/.*|www\\.ted\\.com\\/talks\\/.*\\.html.*|www\\.ted\\.com\\/talks\\/lang\\/.*\\/.*\\.html.*|www\\.ted\\.com\\/index\\.php\\/talks\\/.*\\.html.*|www\\.ted\\.com\\/index\\.php\\/talks\\/lang\\/.*\\/.*\\.html.*|.*omnisio\\.com\\/.*|.*nfb\\.ca\\/film\\/.*|www\\.thedailyshow\\.com\\/watch\\/.*|www\\.thedailyshow\\.com\\/full-episodes\\/.*|www\\.thedailyshow\\.com\\/collection\\/.*\\/.*\\/.*|movies\\.yahoo\\.com\\/movie\\/.*\\/video\\/.*|movies\\.yahoo\\.com\\/movie\\/.*\\/info|movies\\.yahoo\\.com\\/movie\\/.*\\/trailer|www\\.colbertnation\\.com\\/the-colbert-report-collections\\/.*|www\\.colbertnation\\.com\\/full-episodes\\/.*|www\\.colbertnation\\.com\\/the-colbert-report-videos\\/.*|www\\.comedycentral\\.com\\/videos\\/index\\.jhtml\\?.*|www\\.theonion\\.com\\/video\\/.*|theonion\\.com\\/video\\/.*|wordpress\\.tv\\/.*\\/.*\\/.*\\/.*\\/|www\\.traileraddict\\.com\\/trailer\\/.*|www\\.traileraddict\\.com\\/clip\\/.*|www\\.traileraddict\\.com\\/poster\\/.*|www\\.escapistmagazine\\.com\\/videos\\/.*|www\\.trailerspy\\.com\\/trailer\\/.*\\/.*|www\\.trailerspy\\.com\\/trailer\\/.*|www\\.trailerspy\\.com\\/view_video\\.php.*|www\\.atom\\.com\\/.*\\/.*\\/|fora\\.tv\\/.*\\/.*\\/.*\\/.*|www\\.spike\\.com\\/video\\/.*|www\\.gametrailers\\.com\\/video\\/.*|gametrailers\\.com\\/video\\/.*|www\\.koldcast\\.tv\\/video\\/.*|www\\.koldcast\\.tv\\/#video:.*|techcrunch\\.tv\\/watch.*|techcrunch\\.tv\\/.*\\/watch.*|www\\.godtube\\.com\\/featured\\/video\\/.*|www\\.tangle\\.com\\/view_video.*|soundcloud\\.com\\/.*|soundcloud\\.com\\/.*\\/.*|soundcloud\\.com\\/.*\\/sets\\/.*|soundcloud\\.com\\/groups\\/.*|www\\\\.last\\\\.fm\\/music\\/.*|www\\\\.last\\\\.fm\\/music\\/+videos\\/.*|www\\\\.last\\\\.fm\\/music\\/+images\\/.*|www\\\\.last\\\\.fm\\/music\\/.*\\/_\\/.*|www\\\\.last\\\\.fm\\/music\\/.*\\/.*|www\\.mixcloud\\.com\\/.*\\/.*\\/|espn\\.go\\.com\\/video\\/clip.*|espn\\.go\\.com\\/.*\\/story.*|cnbc\\.com\\/id\\/.*|cbsnews\\.com\\/video\\/watch\\/.*|www\\.cnn\\.com\\/video\\/.*|edition\\.cnn\\.com\\/video\\/.*|money\\.cnn\\.com\\/video\\/.*|today\\.msnbc\\.msn\\.com\\/id\\/.*\\/vp\\/.*|www\\.msnbc\\.msn\\.com\\/id\\/.*\\/vp\\/.*|www\\.msnbc\\.msn\\.com\\/id\\/.*\\/ns\\/.*|today\\.msnbc\\.msn\\.com\\/id\\/.*\\/ns\\/.*|multimedia\\.foxsports\\.com\\/m\\/video\\/.*\\/.*|msn\\.foxsports\\.com\\/video.*|.*amazon\\..*\\/gp\\/product\\/.*|.*amazon\\..*\\/.*\\/dp\\/.*|.*amazon\\..*\\/dp\\/.*|.*amazon\\..*\\/o\\/ASIN\\/.*|.*amazon\\..*\\/gp\\/offer-listing\\/.*|.*amazon\\..*\\/.*\\/ASIN\\/.*|.*amazon\\..*\\/gp\\/product\\/images\\/.*|www\\.amzn\\.com\\/.*|amzn\\.com\\/.*|www\\.shopstyle\\.com\\/browse.*|www\\.shopstyle\\.com\\/action\\/apiVisitRetailer.*|www\\.shopstyle\\.com\\/action\\/viewLook.*|gist\\.github\\.com\\/.*|twitter\\.com\\/.*\\/status\\/.*|twitter\\.com\\/.*\\/statuses\\/.*|www\\.crunchbase\\.com\\/.*\\/.*|crunchbase\\.com\\/.*\\/.*|www\\.slideshare\\.net\\/.*\\/.*|.*\\.scribd\\.com\\/doc\\/.*|screenr\\.com\\/.*|polldaddy\\.com\\/community\\/poll\\/.*|polldaddy\\.com\\/poll\\/.*|answers\\.polldaddy\\.com\\/poll\\/.*|www\\.5min\\.com\\/Video\\/.*|www\\.howcast\\.com\\/videos\\/.*|www\\.screencast\\.com\\/.*\\/media\\/.*|screencast\\.com\\/.*\\/media\\/.*|www\\.screencast\\.com\\/t\\/.*|screencast\\.com\\/t\\/.*|issuu\\.com\\/.*\\/docs\\/.*|www\\.kickstarter\\.com\\/projects\\/.*\\/.*|www\\.scrapblog\\.com\\/viewer\\/viewer\\.aspx.*|my\\.opera\\.com\\/.*\\/albums\\/show\\.dml\\?id=.*|my\\.opera\\.com\\/.*\\/albums\\/showpic\\.dml\\?album=.*&picture=.*|tumblr\\.com\\/.*|.*\\.tumblr\\.com\\/post\\/.*|www\\.polleverywhere\\.com\\/polls\\/.*|www\\.polleverywhere\\.com\\/multiple_choice_polls\\/.*|www\\.polleverywhere\\.com\\/free_text_polls\\/.*|www\\.quantcast\\.com\\/wd:.*|www\\.quantcast\\.com\\/.*|siteanalytics\\.compete\\.com\\/.*|statsheet\\.com\\/statplot\\/charts\\/.*\\/.*\\/.*\\/.*|statsheet\\.com\\/statplot\\/charts\\/e\\/.*|statsheet\\.com\\/.*\\/teams\\/.*\\/.*|statsheet\\.com\\/tools\\/chartlets\\?chart=.*|.*\\.status\\.net\\/notice\\/.*|identi\\.ca\\/notice\\/.*|shitmydadsays\\.com\\/notice\\/.*)/i;return(l.match(k)!==null&&(g.urlRe===null||l.match(g.urlRe)!==null))};c=[];this.each(function(){return this.href&&h(this.href)?c.push({url:this.href,node:a(this)}):null});b=function(k){var m,o,n,l;n=a.map(k,function(q,p){if(p==0){l={width:q.node.parent().width(),height:q.node.parent().height()}}return encodeURIComponent(q.url)}).join(\",\");m=\"urls=\"+n;if(g.maxWidth!==null){m+=\"&maxwidth=\"+g.maxWidth}else{if(typeof l!=\"undefined\"){m+=\"&maxwidth=\"+l.width}}if(g.maxHeight!==null){m+=\"&maxheight=\"+g.maxHeight}if(g.wmode!==null){m+=\"&wmode=\"+g.wmode}o=function(p,u){var q,s,r,t;if((q=p.type)===\"photo\"){t=p.title||\"\";r=[];if(g.addImageStyles){if(g.maxWidth){r.push(\"max-width: \"+(g.maxWidth))}if(g.maxHeight){r.push(\"max-height: \"+(g.maxHeight))}}r=r.join(\";\");s=\"<a href='\"+u.url+\"' target='_blank'><img style='\"+r+\"' src='\"+p.url+\"' alt='\"+t+\"' /></a>\"}else{if(q===\"video\"){s=p.html}else{if(q===\"rich\"){s=p.html}else{t=p.title||u.url;s=\"<a href='\"+u.url+\"'>\"+t+\"</a>\"}}}if(g.wrapElement){s=\"<\"+g.wrapElement+' class=\"'+g.className+'\">'+s+\"</\"+g.wrapElement+\">\"}p.code=s;return g.success(p,u)};return a.ajax({url:\"http://api.embed.ly/v1/api/oembed\",dataType:\"jsonp\",data:m,success:function(p){return a.each(p,function(q,r){return !r.error_code?o(r,k[q]):g.success(null,k[q])})}})};f=[];d=c.length;for(i=0;(0<=d?i<d:i>d);i+=20){f.push(b(c.slice(i,i+20)))}return f})})(jQuery);\n\n/Users/boos/code/graasp/public/javascripts/libs/progressbar.js:\n   42          };\n   43          Object.extend(this.options,options || {});\n   44:         this.container.addClassName(this.options.classNames.inactive);\n   45          this.active = false;\n   46      },\n   ..\n   69      start: function(){\n   70          this.active = true;\n   71:         this.container.removeClassName(this.options.classNames.inactive);\n   72:         this.container.addClassName(this.options.classNames.active);\n   73          this.executer = new PeriodicalExecuter(this.step.bind(this,this.options.step),this.options.interval);\n   74      },\n   ..\n   77          if(this.executer) {\n   78              this.executer.stop(); }\n   79:         this.container.removeClassName(this.options.classNames.active);\n   80:         this.container.addClassName(this.options.classNames.inactive);\n   81          if (typeof reset  === 'undefined' || reset === true) {\n   82              this.reset(); }\n\n/Users/boos/code/graasp/public/javascripts/libs/prototypextensions.js:\n  722          }\n  723          this.getTabs().unSelectAll(this);\n  724:         this.getItem().className = 'tab-show';\n  725:         this.getPanel().className = 'panel-show';\n  726          this.getPanel().show();\n  727          this.load();\n  ...\n  730      },\n  731      unSelect: function () {\n  732:         this.getItem().className = 'tab-hide';\n  733:         this.getPanel().className = 'panel-hide';\n  734          if (this.getSelected()) {\n  735              this.events.notify('unselect', this);\n\n/Users/boos/code/graasp/public/javascripts/libs/rating.js:\n   76              }.bindAsEventListener(this));\n   77          }\n   78:         link.addClassName(this.options.classNames.off);\n   79          return link;\n   80      },\n   ..\n  122          (this.options.reverse ? this.links.reverse() : this.links).each(function(link,i){\n  123              if(link.value <= Math.ceil(rating)){\n  124:                 link.className = this.options.classNames[link.value <= rating ? 'on' : 'half'];\n  125                  if(this.options.rated || force_selected) {\n  126:                     // link.addClassName(this.options.classNames.selected);\n  127:                     link.className = this.options.classNames.selected;\n  128                  }\n  129              } else {\n  130:                 link.className = this.options.classNames.off; }\n  131          }.bind(this));\n  132      },\n\n/Users/boos/code/graasp/public/javascripts/libs/window.js:\n  227              styles.height = $value(this.options.height) + 'px';\n  228          this.container.setStyle(styles);\n  229:         if(this.options.className)\n  230:             this.container.addClassName(this.options.className);\n  231          this.positionHandler = this.position.bindAsEventListener(this);\n  232          this.outOfBoundsPositionHandler = this.ensureInBounds.bindAsEventListener(this);\n\n/Users/boos/code/graasp/public/javascripts/libs_jquery/jquery.ibutton.js:\n  120        $input.attr(\"disabled\", toggle);\n  121        // set the diabled styles\n  122:       $container[toggle ? \"addClass\" : \"removeClass\"](options.classDisabled);\n  123        // run callback\n  124        if( $.isFunction(options.disable) ) options.disable.apply(self, [disabled, $input, options]);\n  ...\n  145      $input\n  146        // create the wrapper code\n  147:       .wrap('<div class=\"' + options.classContainer + '\" />')\n  148        .after(\n  149:           '<div class=\"' + options.classHandle + '\"><div class=\"' + options.classHandleRight + '\"><div class=\"' + options.classHandleMiddle + '\" /></div></div>'\n  150:         + '<div class=\"' + options.classLabelOff + '\"><span><label>'+ options.labelOff + '</label></span></div>'\n  151:         + '<div class=\"' + options.classLabelOn + '\"><span><label>' + options.labelOn   + '</label></span></div>'\n  152:         + '<div class=\"' + options.classPaddingLeft + '\"></div><div class=\"' + options.classPaddingRight + '\"></div>'\n  153        );\n  154  \n  155      var $container = $input.parent()\n  156:       , $handle    = $input.siblings(\".\" + options.classHandle)\n  157:       , $offlabel  = $input.siblings(\".\" + options.classLabelOff)\n  158        , $offspan   = $offlabel.children(\"span\")\n  159:       , $onlabel   = $input.siblings(\".\" + options.classLabelOn)\n  160        , $onspan    = $onlabel.children(\"span\");\n  161  \n  ...\n  236          if( x != dragStart.offset ){\n  237            mouse.dragging = true;\n  238:           $container.addClass(options.classHandleActive);\n  239          }\n  240    \n  ...\n  279        \n  280        // remove the active handler class      \n  281:       $container.removeClass(options.classHandleActive);\n  282        mouse.clicked =  null;\n  283        mouse.dragging = null;\n  ...\n  312        // if the element has focus, we need to highlight the container\n  313        .bind(\"focus.iButton\", function (){\n  314:         $container.addClass(options.classFocus);\n  315        })\n  316        // if the element has focus, we need to highlight the container\n  317        .bind(\"blur.iButton\", function (){\n  318:         $container.removeClass(options.classFocus);\n  319        });\n  320  \n\n/Users/boos/code/graasp/public/javascripts/libs_jquery/jquery.min.js:\n   14   * Date: Thu Mar 31 15:28:23 2011 -0400\n   15   */\n   16: (function(a,b){function ci(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cf(a){if(!b_[a]){var b=d(\"<\"+a+\">\").appendTo(\"body\"),c=b.css(\"display\");b.remove();if(c===\"none\"||c===\"\")c=\"block\";b_[a]=c}return b_[a]}function ce(a,b){var c={};d.each(cd.concat.apply([],cd.slice(0,b)),function(){c[this]=a});return c}function b$(){try{return new a.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(b){}}function bZ(){try{return new a.XMLHttpRequest}catch(b){}}function bY(){d(a).unload(function(){for(var a in bW)bW[a](0,1)})}function bS(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var e=a.dataTypes,f={},g,h,i=e.length,j,k=e[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h===\"string\"&&(f[h.toLowerCase()]=a.converters[h]);l=k,k=e[g];if(k===\"*\")k=l;else if(l!==\"*\"&&l!==k){m=l+\" \"+k,n=f[m]||f[\"* \"+k];if(!n){p=b;for(o in f){j=o.split(\" \");if(j[0]===l||j[0]===\"*\"){p=f[j[1]+\" \"+k];if(p){o=f[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&d.error(\"No conversion from \"+m.replace(\" \",\" to \")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function bR(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]===\"*\")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader(\"content-type\"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+\" \"+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function bQ(a,b,c,e){if(d.isArray(b)&&b.length)d.each(b,function(b,f){c||bs.test(a)?e(a,f):bQ(a+\"[\"+(typeof f===\"object\"||d.isArray(f)?b:\"\")+\"]\",f,c,e)});else if(c||b==null||typeof b!==\"object\")e(a,b);else if(d.isArray(b)||d.isEmptyObject(b))e(a,\"\");else for(var f in b)bQ(a+\"[\"+f+\"]\",b[f],c,e)}function bP(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bJ,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l===\"string\"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bP(a,c,d,e,l,g)));(k||!l)&&!g[\"*\"]&&(l=bP(a,c,d,e,\"*\",g));return l}function bO(a){return function(b,c){typeof b!==\"string\"&&(c=b,b=\"*\");if(d.isFunction(c)){var e=b.toLowerCase().split(bD),f=0,g=e.length,h,i,j;for(;f<g;f++)h=e[f],j=/^\\+/.test(h),j&&(h=h.substr(1)||\"*\"),i=a[h]=a[h]||[],i[j?\"unshift\":\"push\"](c)}}}function bq(a,b,c){var e=b===\"width\"?bk:bl,f=b===\"width\"?a.offsetWidth:a.offsetHeight;if(c===\"border\")return f;d.each(e,function(){c||(f-=parseFloat(d.css(a,\"padding\"+this))||0),c===\"margin\"?f+=parseFloat(d.css(a,\"margin\"+this))||0:f-=parseFloat(d.css(a,\"border\"+this+\"Width\"))||0});return f}function bc(a,b){b.src?d.ajax({url:b.src,async:!1,dataType:\"script\"}):d.globalEval(b.text||b.textContent||b.innerHTML||\"\"),b.parentNode&&b.parentNode.removeChild(b)}function bb(a){return\"getElementsByTagName\"in a?a.getElementsByTagName(\"*\"):\"querySelectorAll\"in a?a.querySelectorAll(\"*\"):[]}function ba(a,b){if(b.nodeType===1){var c=b.nodeName.toLowerCase();b.clearAttributes(),b.mergeAttributes(a);if(c===\"object\")b.outerHTML=a.outerHTML;else if(c!==\"input\"||a.type!==\"checkbox\"&&a.type!==\"radio\"){if(c===\"option\")b.selected=a.defaultSelected;else if(c===\"input\"||c===\"textarea\")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(d.expando)}}function _(a,b){if(b.nodeType===1&&d.hasData(a)){var c=d.expando,e=d.data(a),f=d.data(b,e);if(e=e[c]){var g=e.events;f=f[c]=d.extend({},e);if(g){delete f.handle,f.events={};for(var h in g)for(var i=0,j=g[h].length;i<j;i++)d.event.add(b,h+(g[h][i].namespace?\".\":\"\")+g[h][i].namespace,g[h][i],g[h][i].data)}}}}function $(a,b){return d.nodeName(a,\"table\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function Q(a,b,c){if(d.isFunction(b))return d.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return d.grep(a,function(a,d){return a===b===c});if(typeof b===\"string\"){var e=d.grep(a,function(a){return a.nodeType===1});if(L.test(b))return d.filter(b,e,!c);b=d.filter(b,e)}return d.grep(a,function(a,e){return d.inArray(a,b)>=0===c})}function P(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function H(a,b){return(a&&a!==\"*\"?a+\".\":\"\")+b.replace(t,\"`\").replace(u,\"&\")}function G(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p=[],q=[],s=d._data(this,\"events\");if(a.liveFired!==this&&s&&s.live&&!a.target.disabled&&(!a.button||a.type!==\"click\")){a.namespace&&(n=new RegExp(\"(^|\\\\.)\"+a.namespace.split(\".\").join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\")),a.liveFired=this;var t=s.live.slice(0);for(i=0;i<t.length;i++)g=t[i],g.origType.replace(r,\"\")===a.type?q.push(g.selector):t.splice(i--,1);f=d(a.target).closest(q,a.currentTarget);for(j=0,k=f.length;j<k;j++){m=f[j];for(i=0;i<t.length;i++){g=t[i];if(m.selector===g.selector&&(!n||n.test(g.namespace))&&!m.elem.disabled){h=m.elem,e=null;if(g.preType===\"mouseenter\"||g.preType===\"mouseleave\")a.type=g.preType,e=d(a.relatedTarget).closest(g.selector)[0];(!e||e!==h)&&p.push({elem:h,handleObj:g,level:m.level})}}}for(j=0,k=p.length;j<k;j++){f=p[j];if(c&&f.level>c)break;a.currentTarget=f.elem,a.data=f.handleObj.data,a.handleObj=f.handleObj,o=f.handleObj.origHandler.apply(f.elem,arguments);if(o===!1||a.isPropagationStopped()){c=f.level,o===!1&&(b=!1);if(a.isImmediatePropagationStopped())break}}return b}}function E(a,c,e){var f=d.extend({},e[0]);f.type=a,f.originalEvent={},f.liveFired=b,d.event.handle.call(c,f),f.isDefaultPrevented()&&e[0].preventDefault()}function y(){return!0}function x(){return!1}function i(a){for(var b in a)if(b!==\"toJSON\")return!1;return!0}function h(a,c,e){if(e===b&&a.nodeType===1){e=a.getAttribute(\"data-\"+c);if(typeof e===\"string\"){try{e=e===\"true\"?!0:e===\"false\"?!1:e===\"null\"?null:d.isNaN(e)?g.test(e)?d.parseJSON(e):e:parseFloat(e)}catch(f){}d.data(a,c,e)}else e=b}return e}var c=a.document,d=function(){function G(){if(!d.isReady){try{c.documentElement.doScroll(\"left\")}catch(a){setTimeout(G,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]+)$)/,i=/\\S/,j=/^\\s+/,k=/\\s+$/,l=/\\d/,m=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,n=/^[\\],:{}\\s]*$/,o=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,q=/(?:^|:|,)(?:\\s*\\[)+/g,r=/(webkit)[ \\/]([\\w.]+)/,s=/(opera)(?:.*version)?[ \\/]([\\w.]+)/,t=/(msie) ([\\w.]+)/,u=/(mozilla)(?:.*? rv:([\\w.]+))?/,v=navigator.userAgent,w,x,y,z=Object.prototype.toString,A=Object.prototype.hasOwnProperty,B=Array.prototype.push,C=Array.prototype.slice,D=String.prototype.trim,E=Array.prototype.indexOf,F={};d.fn=d.prototype={constructor:d,init:function(a,e,f){var g,i,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a===\"body\"&&!e&&c.body){this.context=c,this[0]=c.body,this.selector=\"body\",this.length=1;return this}if(typeof a===\"string\"){g=h.exec(a);if(!g||!g[1]&&e)return!e||e.jquery?(e||f).find(a):this.constructor(e).find(a);if(g[1]){e=e instanceof d?e[0]:e,k=e?e.ownerDocument||e:c,j=m.exec(a),j?d.isPlainObject(e)?(a=[c.createElement(j[1])],d.fn.attr.call(a,e,!0)):a=[k.createElement(j[1])]:(j=d.buildFragment([g[1]],[k]),a=(j.cacheable?d.clone(j.fragment):j.fragment).childNodes);return d.merge(this,a)}i=c.getElementById(g[2]);if(i&&i.parentNode){if(i.id!==g[2])return f.find(a);this.length=1,this[0]=i}this.context=c,this.selector=a;return this}if(d.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)},selector:\"\",jquery:\"1.5.2\",length:0,size:function(){return this.length},toArray:function(){return C.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();d.isArray(a)?B.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b===\"find\"?e.selector=this.selector+(this.selector?\" \":\"\")+c:b&&(e.selector=this.selector+\".\"+b+\"(\"+c+\")\");return e},each:function(a,b){return d.each(this,a,b)},ready:function(a){d.bindReady(),x.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(C.apply(this,arguments),\"slice\",C.call(arguments).join(\",\"))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i===\"boolean\"&&(l=i,i=arguments[1]||{},j=2),typeof i!==\"object\"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){a.$=f,b&&(a.jQuery=e);return d},isReady:!1,readyWait:1,ready:function(a){a===!0&&d.readyWait--;if(!d.readyWait||a!==!0&&!d.isReady){if(!c.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;x.resolveWith(c,[d]),d.fn.trigger&&d(c).trigger(\"ready\").unbind(\"ready\")}},bindReady:function(){if(!x){x=d._Deferred();if(c.readyState===\"complete\")return setTimeout(d.ready,1);if(c.addEventListener)c.addEventListener(\"DOMContentLoaded\",y,!1),a.addEventListener(\"load\",d.ready,!1);else if(c.attachEvent){c.attachEvent(\"onreadystatechange\",y),a.attachEvent(\"onload\",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}c.documentElement.doScroll&&b&&G()}}},isFunction:function(a){return d.type(a)===\"function\"},isArray:Array.isArray||function(a){return d.type(a)===\"array\"},isWindow:function(a){return a&&typeof a===\"object\"&&\"setInterval\"in a},isNaN:function(a){return a==null||!l.test(a)||isNaN(a)},type:function(a){return a==null?String(a):F[z.call(a)]||\"object\"},isPlainObject:function(a){if(!a||d.type(a)!==\"object\"||a.nodeType||d.isWindow(a))return!1;if(a.constructor&&!A.call(a,\"constructor\")&&!A.call(a.constructor.prototype,\"isPrototypeOf\"))return!1;var c;for(c in a){}return c===b||A.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!==\"string\"||!b)return null;b=d.trim(b);if(n.test(b.replace(o,\"@\").replace(p,\"]\").replace(q,\"\")))return a.JSON&&a.JSON.parse?a.JSON.parse(b):(new Function(\"return \"+b))();d.error(\"Invalid JSON: \"+b)},parseXML:function(b,c,e){a.DOMParser?(e=new DOMParser,c=e.parseFromString(b,\"text/xml\")):(c=new ActiveXObject(\"Microsoft.XMLDOM\"),c.async=\"false\",c.loadXML(b)),e=c.documentElement,(!e||!e.nodeName||e.nodeName===\"parsererror\")&&d.error(\"Invalid XML: \"+b);return c},noop:function(){},globalEval:function(a){if(a&&i.test(a)){var b=c.head||c.getElementsByTagName(\"head\")[0]||c.documentElement,e=c.createElement(\"script\");d.support.scriptEval()?e.appendChild(c.createTextNode(a)):e.text=a,b.insertBefore(e,b.firstChild),b.removeChild(e)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(var j=a[0];g<h&&c.call(j,g,j)!==!1;j=a[++g]){}return a},trim:D?function(a){return a==null?\"\":D.call(a)}:function(a){return a==null?\"\":(a+\"\").replace(j,\"\").replace(k,\"\")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e===\"string\"||e===\"function\"||e===\"regexp\"||d.isWindow(a)?B.call(c,a):d.merge(c,a)}return c},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length===\"number\")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,c){var d=[],e;for(var f=0,g=a.length;f<g;f++)e=b(a[f],f,c),e!=null&&(d[d.length]=e);return d.concat.apply([],d)},guid:1,proxy:function(a,c,e){arguments.length===2&&(typeof c===\"string\"?(e=a,a=e[c],c=b):c&&!d.isFunction(c)&&(e=c,c=b)),!c&&a&&(c=function(){return a.apply(e||this,arguments)}),a&&(c.guid=a.guid=a.guid||c.guid||d.guid++);return c},access:function(a,c,e,f,g,h){var i=a.length;if(typeof c===\"object\"){for(var j in c)d.access(a,j,c[j],f,g,e);return a}if(e!==b){f=!h&&f&&d.isFunction(e);for(var k=0;k<i;k++)g(a[k],c,f?e.call(a[k],k,g(a[k],c)):e,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf(\"compatible\")<0&&u.exec(a)||[];return{browser:b[1]||\"\",version:b[2]||\"0\"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.subclass=this.subclass,a.fn.init=function b(b,c){c&&c instanceof d&&!(c instanceof a)&&(c=a(c));return d.fn.init.call(this,b,c,e)},a.fn.init.prototype=a.fn;var e=a(c);return a},browser:{}}),d.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"),function(a,b){F[\"[object \"+b+\"]\"]=b.toLowerCase()}),w=d.uaMatch(v),w.browser&&(d.browser[w.browser]=!0,d.browser.version=w.version),d.browser.webkit&&(d.browser.safari=!0),E&&(d.inArray=function(a,b){return E.call(b,a)}),i.test(\" \")&&(j=/^[\\s\\xA0]+/,k=/[\\s\\xA0]+$/),g=d(c),c.addEventListener?y=function(){c.removeEventListener(\"DOMContentLoaded\",y,!1),d.ready()}:c.attachEvent&&(y=function(){c.readyState===\"complete\"&&(c.detachEvent(\"onreadystatechange\",y),d.ready())});return d}(),e=\"then done fail isResolved isRejected promise\".split(\" \"),f=[].slice;d.extend({_Deferred:function(){var a=[],b,c,e,f={done:function(){if(!e){var c=arguments,g,h,i,j,k;b&&(k=b,b=0);for(g=0,h=c.length;g<h;g++)i=c[g],j=d.type(i),j===\"array\"?f.done.apply(f,i):j===\"function\"&&a.push(i);k&&f.resolveWith(k[0],k[1])}return this},resolveWith:function(d,f){if(!e&&!b&&!c){f=f||[],c=1;try{while(a[0])a.shift().apply(d,f)}finally{b=[d,f],c=0}}return this},resolve:function(){f.resolveWith(this,arguments);return this},isResolved:function(){return c||b},cancel:function(){e=1,a=[];return this}};return f},Deferred:function(a){var b=d._Deferred(),c=d._Deferred(),f;d.extend(b,{then:function(a,c){b.done(a).fail(c);return this},fail:c.done,rejectWith:c.resolveWith,reject:c.resolve,isRejected:c.isResolved,promise:function(a){if(a==null){if(f)return f;f=a={}}var c=e.length;while(c--)a[e[c]]=b[e[c]];return a}}),b.done(c.cancel).fail(b.cancel),delete b.cancel,a&&a.call(b,b);return b},when:function(a){function i(a){return function(c){b[a]=arguments.length>1?f.call(arguments,0):c,--g||h.resolveWith(h,f.call(b,0))}}var b=arguments,c=0,e=b.length,g=e,h=e<=1&&a&&d.isFunction(a.promise)?a:d.Deferred();if(e>1){for(;c<e;c++)b[c]&&d.isFunction(b[c].promise)?b[c].promise().then(i(c),h.reject):--g;g||h.resolveWith(h,b)}else h!==a&&h.resolveWith(h,e?[a]:[]);return h.promise()}}),function(){d.support={};var b=c.createElement(\"div\");b.style.display=\"none\",b.innerHTML=\"   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>\";var e=b.getElementsByTagName(\"*\"),f=b.getElementsByTagName(\"a\")[0],g=c.createElement(\"select\"),h=g.appendChild(c.createElement(\"option\")),i=b.getElementsByTagName(\"input\")[0];if(e&&e.length&&f){d.support={leadingWhitespace:b.firstChild.nodeType===3,tbody:!b.getElementsByTagName(\"tbody\").length,htmlSerialize:!!b.getElementsByTagName(\"link\").length,style:/red/.test(f.getAttribute(\"style\")),hrefNormalized:f.getAttribute(\"href\")===\"/a\",opacity:/^0.55$/.test(f.style.opacity),cssFloat:!!f.style.cssFloat,checkOn:i.value===\"on\",optSelected:h.selected,deleteExpando:!0,optDisabled:!1,checkClone:!1,noCloneEvent:!0,noCloneChecked:!0,boxModel:null,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0,reliableMarginRight:!0},i.checked=!0,d.support.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,d.support.optDisabled=!h.disabled;var j=null;d.support.scriptEval=function(){if(j===null){var b=c.documentElement,e=c.createElement(\"script\"),f=\"script\"+d.now();try{e.appendChild(c.createTextNode(\"window.\"+f+\"=1;\"))}catch(g){}b.insertBefore(e,b.firstChild),a[f]?(j=!0,delete a[f]):j=!1,b.removeChild(e)}return j};try{delete b.test}catch(k){d.support.deleteExpando=!1}!b.addEventListener&&b.attachEvent&&b.fireEvent&&(b.attachEvent(\"onclick\",function l(){d.support.noCloneEvent=!1,b.detachEvent(\"onclick\",l)}),b.cloneNode(!0).fireEvent(\"onclick\")),b=c.createElement(\"div\"),b.innerHTML=\"<input type='radio' name='radiotest' checked='checked'/>\";var m=c.createDocumentFragment();m.appendChild(b.firstChild),d.support.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked,d(function(){var a=c.createElement(\"div\"),b=c.getElementsByTagName(\"body\")[0];if(b){a.style.width=a.style.paddingLeft=\"1px\",b.appendChild(a),d.boxModel=d.support.boxModel=a.offsetWidth===2,\"zoom\"in a.style&&(a.style.display=\"inline\",a.style.zoom=1,d.support.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display=\"\",a.innerHTML=\"<div style='width:4px;'></div>\",d.support.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML=\"<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>\";var e=a.getElementsByTagName(\"td\");d.support.reliableHiddenOffsets=e[0].offsetHeight===0,e[0].style.display=\"\",e[1].style.display=\"none\",d.support.reliableHiddenOffsets=d.support.reliableHiddenOffsets&&e[0].offsetHeight===0,a.innerHTML=\"\",c.defaultView&&c.defaultView.getComputedStyle&&(a.style.width=\"1px\",a.style.marginRight=\"0\",d.support.reliableMarginRight=(parseInt(c.defaultView.getComputedStyle(a,null).marginRight,10)||0)===0),b.removeChild(a).style.display=\"none\",a=e=null}});var n=function(a){var b=c.createElement(\"div\");a=\"on\"+a;if(!b.attachEvent)return!0;var d=a in b;d||(b.setAttribute(a,\"return;\"),d=typeof b[a]===\"function\");return d};d.support.submitBubbles=n(\"submit\"),d.support.changeBubbles=n(\"change\"),b=e=f=null}}();var g=/^(?:\\{.*\\}|\\[.*\\])$/;d.extend({cache:{},uuid:0,expando:\"jQuery\"+(d.fn.jquery+Math.random()).replace(/\\D/g,\"\"),noData:{embed:!0,object:\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",applet:!0},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!i(a)},data:function(a,c,e,f){if(d.acceptData(a)){var g=d.expando,h=typeof c===\"string\",i,j=a.nodeType,k=j?d.cache:a,l=j?a[d.expando]:a[d.expando]&&d.expando;if((!l||f&&l&&!k[l][g])&&h&&e===b)return;l||(j?a[d.expando]=l=++d.uuid:l=d.expando),k[l]||(k[l]={},j||(k[l].toJSON=d.noop));if(typeof c===\"object\"||typeof c===\"function\")f?k[l][g]=d.extend(k[l][g],c):k[l]=d.extend(k[l],c);i=k[l],f&&(i[g]||(i[g]={}),i=i[g]),e!==b&&(i[c]=e);if(c===\"events\"&&!i[c])return i[g]&&i[g].events;return h?i[c]:i}},removeData:function(b,c,e){if(d.acceptData(b)){var f=d.expando,g=b.nodeType,h=g?d.cache:b,j=g?b[d.expando]:d.expando;if(!h[j])return;if(c){var k=e?h[j][f]:h[j];if(k){delete k[c];if(!i(k))return}}if(e){delete h[j][f];if(!i(h[j]))return}var l=h[j][f];d.support.deleteExpando||h!=a?delete h[j]:h[j]=null,l?(h[j]={},g||(h[j].toJSON=d.noop),h[j][f]=l):g&&(d.support.deleteExpando?delete b[d.expando]:b.removeAttribute?b.removeAttribute(d.expando):b[d.expando]=null)}},_data:function(a,b,c){return d.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=d.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute(\"classid\")===b}return!0}}),d.fn.extend({data:function(a,c){var e=null;if(typeof a===\"undefined\"){if(this.length){e=d.data(this[0]);if(this[0].nodeType===1){var f=this[0].attributes,g;for(var i=0,j=f.length;i<j;i++)g=f[i].name,g.indexOf(\"data-\")===0&&(g=g.substr(5),h(this[0],g,e[g]))}}return e}if(typeof a===\"object\")return this.each(function(){d.data(this,a)});var k=a.split(\".\");k[1]=k[1]?\".\"+k[1]:\"\";if(c===b){e=this.triggerHandler(\"getData\"+k[1]+\"!\",[k[0]]),e===b&&this.length&&(e=d.data(this[0],a),e=h(this[0],a,e));return e===b&&k[1]?this.data(k[0]):e}return this.each(function(){var b=d(this),e=[k[0],c];b.triggerHandler(\"setData\"+k[1]+\"!\",e),d.data(this,a,c),b.triggerHandler(\"changeData\"+k[1]+\"!\",e)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})}}),d.extend({queue:function(a,b,c){if(a){b=(b||\"fx\")+\"queue\";var e=d._data(a,b);if(!c)return e||[];!e||d.isArray(c)?e=d._data(a,b,d.makeArray(c)):e.push(c);return e}},dequeue:function(a,b){b=b||\"fx\";var c=d.queue(a,b),e=c.shift();e===\"inprogress\"&&(e=c.shift()),e&&(b===\"fx\"&&c.unshift(\"inprogress\"),e.call(a,function(){d.dequeue(a,b)})),c.length||d.removeData(a,b+\"queue\",!0)}}),d.fn.extend({queue:function(a,c){typeof a!==\"string\"&&(c=a,a=\"fx\");if(c===b)return d.queue(this[0],a);return this.each(function(b){var e=d.queue(this,a,c);a===\"fx\"&&e[0]!==\"inprogress\"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,b){a=d.fx?d.fx.speeds[a]||a:a,b=b||\"fx\";return this.queue(b,function(){var c=this;setTimeout(function(){d.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||\"fx\",[])}});var j=/[\\n\\t\\r]/g,k=/\\s+/,l=/\\r/g,m=/^(?:href|src|style)$/,n=/^(?:button|input)$/i,o=/^(?:button|input|object|select|textarea)$/i,p=/^a(?:rea)?$/i,q=/^(?:radio|checkbox)$/i;d.props={\"for\":\"htmlFor\",\"class\":\"className\",readonly:\"readOnly\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",rowspan:\"rowSpan\",colspan:\"colSpan\",tabindex:\"tabIndex\",usemap:\"useMap\",frameborder:\"frameBorder\"},d.fn.extend({attr:function(a,b){return d.access(this,a,b,!0,d.attr)},removeAttr:function(a,b){return this.each(function(){d.attr(this,a,\"\"),this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.addClass(a.call(this,b,c.attr(\"class\")))});if(a&&typeof a===\"string\"){var b=(a||\"\").split(k);for(var c=0,e=this.length;c<e;c++){var f=this[c];if(f.nodeType===1)if(f.className){var g=\" \"+f.className+\" \",h=f.className;for(var i=0,j=b.length;i<j;i++)g.indexOf(\" \"+b[i]+\" \")<0&&(h+=\" \"+b[i]);f.className=d.trim(h)}else f.className=a}}return this},removeClass:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.removeClass(a.call(this,b,c.attr(\"class\")))});if(a&&typeof a===\"string\"||a===b){var c=(a||\"\").split(k);for(var e=0,f=this.length;e<f;e++){var g=this[e];if(g.nodeType===1&&g.className)if(a){var h=(\" \"+g.className+\" \").replace(j,\" \");for(var i=0,l=c.length;i<l;i++)h=h.replace(\" \"+c[i]+\" \",\" \");g.className=d.trim(h)}else g.className=\"\"}}return this},toggleClass:function(a,b){var c=typeof a,e=typeof b===\"boolean\";if(d.isFunction(a))return this.each(function(c){var e=d(this);e.toggleClass(a.call(this,c,e.attr(\"class\"),b),b)});return this.each(function(){if(c===\"string\"){var f,g=0,h=d(this),i=b,j=a.split(k);while(f=j[g++])i=e?i:!h.hasClass(f),h[i?\"addClass\":\"removeClass\"](f)}else if(c===\"undefined\"||c===\"boolean\")this.className&&d._data(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":d._data(this,\"__className__\")||\"\"})},hasClass:function(a){var b=\" \"+a+\" \";for(var c=0,d=this.length;c<d;c++)if((\" \"+this[c].className+\" \").replace(j,\" \").indexOf(b)>-1)return!0;return!1},val:function(a){if(!arguments.length){var c=this[0];if(c){if(d.nodeName(c,\"option\")){var e=c.attributes.value;return!e||e.specified?c.value:c.text}if(d.nodeName(c,\"select\")){var f=c.selectedIndex,g=[],h=c.options,i=c.type===\"select-one\";if(f<0)return null;for(var j=i?f:0,k=i?f+1:h.length;j<k;j++){var m=h[j];if(m.selected&&(d.support.optDisabled?!m.disabled:m.getAttribute(\"disabled\")===null)&&(!m.parentNode.disabled||!d.nodeName(m.parentNode,\"optgroup\"))){a=d(m).val();if(i)return a;g.push(a)}}if(i&&!g.length&&h.length)return d(h[f]).val();return g}if(q.test(c.type)&&!d.support.checkOn)return c.getAttribute(\"value\")===null?\"on\":c.value;return(c.value||\"\").replace(l,\"\")}return b}var n=d.isFunction(a);return this.each(function(b){var c=d(this),e=a;if(this.nodeType===1){n&&(e=a.call(this,b,c.val())),e==null?e=\"\":typeof e===\"number\"?e+=\"\":d.isArray(e)&&(e=d.map(e,function(a){return a==null?\"\":a+\"\"}));if(d.isArray(e)&&q.test(this.type))this.checked=d.inArray(c.val(),e)>=0;else if(d.nodeName(this,\"select\")){var f=d.makeArray(e);d(\"option\",this).each(function(){this.selected=d.inArray(d(this).val(),f)>=0}),f.length||(this.selectedIndex=-1)}else this.value=e}})}}),d.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,e,f){if(!a||a.nodeType===3||a.nodeType===8||a.nodeType===2)return b;if(f&&c in d.attrFn)return d(a)[c](e);var g=a.nodeType!==1||!d.isXMLDoc(a),h=e!==b;c=g&&d.props[c]||c;if(a.nodeType===1){var i=m.test(c);if(c===\"selected\"&&!d.support.optSelected){var j=a.parentNode;j&&(j.selectedIndex,j.parentNode&&j.parentNode.selectedIndex)}if((c in a||a[c]!==b)&&g&&!i){h&&(c===\"type\"&&n.test(a.nodeName)&&a.parentNode&&d.error(\"type property can't be changed\"),e===null?a.nodeType===1&&a.removeAttribute(c):a[c]=e);if(d.nodeName(a,\"form\")&&a.getAttributeNode(c))return a.getAttributeNode(c).nodeValue;if(c===\"tabIndex\"){var k=a.getAttributeNode(\"tabIndex\");return k&&k.specified?k.value:o.test(a.nodeName)||p.test(a.nodeName)&&a.href?0:b}return a[c]}if(!d.support.style&&g&&c===\"style\"){h&&(a.style.cssText=\"\"+e);return a.style.cssText}h&&a.setAttribute(c,\"\"+e);if(!a.attributes[c]&&(a.hasAttribute&&!a.hasAttribute(c)))return b;var l=!d.support.hrefNormalized&&g&&i?a.getAttribute(c,2):a.getAttribute(c);return l===null?b:l}h&&(a[c]=e);return a[c]}});var r=/\\.(.*)$/,s=/^(?:textarea|input|select)$/i,t=/\\./g,u=/ /g,v=/[^\\w\\s.|`]/g,w=function(a){return a.replace(v,\"\\\\$&\")};d.event={add:function(c,e,f,g){if(c.nodeType!==3&&c.nodeType!==8){try{d.isWindow(c)&&(c!==a&&!c.frameElement)&&(c=a)}catch(h){}if(f===!1)f=x;else if(!f)return;var i,j;f.handler&&(i=f,f=i.handler),f.guid||(f.guid=d.guid++);var k=d._data(c);if(!k)return;var l=k.events,m=k.handle;l||(k.events=l={}),m||(k.handle=m=function(a){return typeof d!==\"undefined\"&&d.event.triggered!==a.type?d.event.handle.apply(m.elem,arguments):b}),m.elem=c,e=e.split(\" \");var n,o=0,p;while(n=e[o++]){j=i?d.extend({},i):{handler:f,data:g},n.indexOf(\".\")>-1?(p=n.split(\".\"),n=p.shift(),j.namespace=p.slice(0).sort().join(\".\")):(p=[],j.namespace=\"\"),j.type=n,j.guid||(j.guid=f.guid);var q=l[n],r=d.event.special[n]||{};if(!q){q=l[n]=[];if(!r.setup||r.setup.call(c,g,p,m)===!1)c.addEventListener?c.addEventListener(n,m,!1):c.attachEvent&&c.attachEvent(\"on\"+n,m)}r.add&&(r.add.call(c,j),j.handler.guid||(j.handler.guid=f.guid)),q.push(j),d.event.global[n]=!0}c=null}},global:{},remove:function(a,c,e,f){if(a.nodeType!==3&&a.nodeType!==8){e===!1&&(e=x);var g,h,i,j,k=0,l,m,n,o,p,q,r,s=d.hasData(a)&&d._data(a),t=s&&s.events;if(!s||!t)return;c&&c.type&&(e=c.handler,c=c.type);if(!c||typeof c===\"string\"&&c.charAt(0)===\".\"){c=c||\"\";for(h in t)d.event.remove(a,h+c);return}c=c.split(\" \");while(h=c[k++]){r=h,q=null,l=h.indexOf(\".\")<0,m=[],l||(m=h.split(\".\"),h=m.shift(),n=new RegExp(\"(^|\\\\.)\"+d.map(m.slice(0).sort(),w).join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\")),p=t[h];if(!p)continue;if(!e){for(j=0;j<p.length;j++){q=p[j];if(l||n.test(q.namespace))d.event.remove(a,r,q.handler,j),p.splice(j--,1)}continue}o=d.event.special[h]||{};for(j=f||0;j<p.length;j++){q=p[j];if(e.guid===q.guid){if(l||n.test(q.namespace))f==null&&p.splice(j--,1),o.remove&&o.remove.call(a,q);if(f!=null)break}}if(p.length===0||f!=null&&p.length===1)(!o.teardown||o.teardown.call(a,m)===!1)&&d.removeEvent(a,h,s.handle),g=null,delete t[h]}if(d.isEmptyObject(t)){var u=s.handle;u&&(u.elem=null),delete s.events,delete s.handle,d.isEmptyObject(s)&&d.removeData(a,b,!0)}}},trigger:function(a,c,e){var f=a.type||a,g=arguments[3];if(!g){a=typeof a===\"object\"?a[d.expando]?a:d.extend(d.Event(f),a):d.Event(f),f.indexOf(\"!\")>=0&&(a.type=f=f.slice(0,-1),a.exclusive=!0),e||(a.stopPropagation(),d.event.global[f]&&d.each(d.cache,function(){var b=d.expando,e=this[b];e&&e.events&&e.events[f]&&d.event.trigger(a,c,e.handle.elem)}));if(!e||e.nodeType===3||e.nodeType===8)return b;a.result=b,a.target=e,c=d.makeArray(c),c.unshift(a)}a.currentTarget=e;var h=d._data(e,\"handle\");h&&h.apply(e,c);var i=e.parentNode||e.ownerDocument;try{e&&e.nodeName&&d.noData[e.nodeName.toLowerCase()]||e[\"on\"+f]&&e[\"on\"+f].apply(e,c)===!1&&(a.result=!1,a.preventDefault())}catch(j){}if(!a.isPropagationStopped()&&i)d.event.trigger(a,c,i,!0);else if(!a.isDefaultPrevented()){var k,l=a.target,m=f.replace(r,\"\"),n=d.nodeName(l,\"a\")&&m===\"click\",o=d.event.special[m]||{};if((!o._default||o._default.call(e,a)===!1)&&!n&&!(l&&l.nodeName&&d.noData[l.nodeName.toLowerCase()])){try{l[m]&&(k=l[\"on\"+m],k&&(l[\"on\"+m]=null),d.event.triggered=a.type,l[m]())}catch(p){}k&&(l[\"on\"+m]=k),d.event.triggered=b}}},handle:function(c){var e,f,g,h,i,j=[],k=d.makeArray(arguments);c=k[0]=d.event.fix(c||a.event),c.currentTarget=this,e=c.type.indexOf(\".\")<0&&!c.exclusive,e||(g=c.type.split(\".\"),c.type=g.shift(),j=g.slice(0).sort(),h=new RegExp(\"(^|\\\\.)\"+j.join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\")),c.namespace=c.namespace||j.join(\".\"),i=d._data(this,\"events\"),f=(i||{})[c.type];if(i&&f){f=f.slice(0);for(var l=0,m=f.length;l<m;l++){var n=f[l];if(e||h.test(n.namespace)){c.handler=n.handler,c.data=n.data,c.handleObj=n;var o=n.handler.apply(this,k);o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()));if(c.isImmediatePropagationStopped())break}}}return c.result},props:\"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which\".split(\" \"),fix:function(a){if(a[d.expando])return a;var e=a;a=d.Event(e);for(var f=this.props.length,g;f;)g=this.props[--f],a[g]=e[g];a.target||(a.target=a.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){var h=c.documentElement,i=c.body;a.pageX=a.clientX+(h&&h.scrollLeft||i&&i.scrollLeft||0)-(h&&h.clientLeft||i&&i.clientLeft||0),a.pageY=a.clientY+(h&&h.scrollTop||i&&i.scrollTop||0)-(h&&h.clientTop||i&&i.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1e8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,H(a.origType,a.selector),d.extend({},a,{handler:G,guid:a.handler.guid}))},remove:function(a){d.event.remove(this,H(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){d.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}},d.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent(\"on\"+b,c)},d.Event=function(a){if(!this.preventDefault)return new d.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?y:x):this.type=a,this.timeStamp=d.now(),this[d.expando]=!0},d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=y;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=y;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=y,this.stopPropagation()},isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x};var z=function(a){var b=a.relatedTarget;try{if(b&&b!==c&&!b.parentNode)return;while(b&&b!==this)b=b.parentNode;b!==this&&(a.type=a.data,d.event.handle.apply(this,arguments))}catch(e){}},A=function(a){a.type=a.data,d.event.handle.apply(this,arguments)};d.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(a,b){d.event.special[a]={setup:function(c){d.event.add(this,b,c&&c.selector?A:z,a)},teardown:function(a){d.event.remove(this,b,a&&a.selector?A:z)}}}),d.support.submitBubbles||(d.event.special.submit={setup:function(a,b){if(this.nodeName&&this.nodeName.toLowerCase()!==\"form\")d.event.add(this,\"click.specialSubmit\",function(a){var b=a.target,c=b.type;(c===\"submit\"||c===\"image\")&&d(b).closest(\"form\").length&&E(\"submit\",this,arguments)}),d.event.add(this,\"keypress.specialSubmit\",function(a){var b=a.target,c=b.type;(c===\"text\"||c===\"password\")&&d(b).closest(\"form\").length&&a.keyCode===13&&E(\"submit\",this,arguments)});else return!1},teardown:function(a){d.event.remove(this,\".specialSubmit\")}});if(!d.support.changeBubbles){var B,C=function(a){var b=a.type,c=a.value;b===\"radio\"||b===\"checkbox\"?c=a.checked:b===\"select-multiple\"?c=a.selectedIndex>-1?d.map(a.options,function(a){return a.selected}).join(\"-\"):\"\":a.nodeName.toLowerCase()===\"select\"&&(c=a.selectedIndex);return c},D=function D(a){var c=a.target,e,f;if(s.test(c.nodeName)&&!c.readOnly){e=d._data(c,\"_change_data\"),f=C(c),(a.type!==\"focusout\"||c.type!==\"radio\")&&d._data(c,\"_change_data\",f);if(e===b||f===e)return;if(e!=null||f)a.type=\"change\",a.liveFired=b,d.event.trigger(a,arguments[1],c)}};d.event.special.change={filters:{focusout:D,beforedeactivate:D,click:function(a){var b=a.target,c=b.type;(c===\"radio\"||c===\"checkbox\"||b.nodeName.toLowerCase()===\"select\")&&D.call(this,a)},keydown:function(a){var b=a.target,c=b.type;(a.keyCode===13&&b.nodeName.toLowerCase()!==\"textarea\"||a.keyCode===32&&(c===\"checkbox\"||c===\"radio\")||c===\"select-multiple\")&&D.call(this,a)},beforeactivate:function(a){var b=a.target;d._data(b,\"_change_data\",C(b))}},setup:function(a,b){if(this.type===\"file\")return!1;for(var c in B)d.event.add(this,c+\".specialChange\",B[c]);return s.test(this.nodeName)},teardown:function(a){d.event.remove(this,\".specialChange\");return s.test(this.nodeName)}},B=d.event.special.change.filters,B.focus=B.beforeactivate}c.addEventListener&&d.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){function f(a){var c=d.event.fix(a);c.type=b,c.originalEvent={},d.event.trigger(c,null,c.target),c.isDefaultPrevented()&&a.preventDefault()}var e=0;d.event.special[b]={setup:function(){e++===0&&c.addEventListener(a,f,!0)},teardown:function(){--e===0&&c.removeEventListener(a,f,!0)}}}),d.each([\"bind\",\"one\"],function(a,c){d.fn[c]=function(a,e,f){if(typeof a===\"object\"){for(var g in a)this[c](g,e,a[g],f);return this}if(d.isFunction(e)||e===!1)f=e,e=b;var h=c===\"one\"?d.proxy(f,function(a){d(this).unbind(a,h);return f.apply(this,arguments)}):f;if(a===\"unload\"&&c!==\"one\")this.one(a,e,f);else for(var i=0,j=this.length;i<j;i++)d.event.add(this[i],a,h,e);return this}}),d.fn.extend({unbind:function(a,b){if(typeof a!==\"object\"||a.preventDefault)for(var e=0,f=this.length;e<f;e++)d.event.remove(this[e],a,b);else for(var c in a)this.unbind(c,a[c]);return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind(\"live\"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var c=d.Event(a);c.preventDefault(),c.stopPropagation(),d.event.trigger(c,b,this[0]);return c.result}},toggle:function(a){var b=arguments,c=1;while(c<b.length)d.proxy(a,b[c++]);return this.click(d.proxy(a,function(e){var f=(d._data(this,\"lastToggle\"+a.guid)||0)%c;d._data(this,\"lastToggle\"+a.guid,f+1),e.preventDefault();return b[f].apply(this,arguments)||!1}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var F={focus:\"focusin\",blur:\"focusout\",mouseenter:\"mouseover\",mouseleave:\"mouseout\"};d.each([\"live\",\"die\"],function(a,c){d.fn[c]=function(a,e,f,g){var h,i=0,j,k,l,m=g||this.selector,n=g?this:d(this.context);if(typeof a===\"object\"&&!a.preventDefault){for(var o in a)n[c](o,e,a[o],m);return this}d.isFunction(e)&&(f=e,e=b),a=(a||\"\").split(\" \");while((h=a[i++])!=null){j=r.exec(h),k=\"\",j&&(k=j[0],h=h.replace(r,\"\"));if(h===\"hover\"){a.push(\"mouseenter\"+k,\"mouseleave\"+k);continue}l=h,h===\"focus\"||h===\"blur\"?(a.push(F[h]+k),h=h+k):h=(F[h]||h)+k;if(c===\"live\")for(var p=0,q=n.length;p<q;p++)d.event.add(n[p],\"live.\"+H(h,m),{data:e,selector:m,handler:f,origType:h,origHandler:f,preType:l});else n.unbind(\"live.\"+H(h,m),f)}return this}}),d.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error\".split(\" \"),function(a,b){d.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.bind(b,a,c):this.trigger(b)},d.attrFn&&(d.attrFn[b]=!0)}),function(){function u(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}if(i.nodeType===1){f||(i.sizcache=c,i.sizset=g);if(typeof b!==\"string\"){if(i===b){j=!0;break}}else if(k.filter(b,[i]).length>0){j=i;break}}i=i[a]}d[g]=j}}}function t(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}i.nodeType===1&&!f&&(i.sizcache=c,i.sizset=g);if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}var a=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,e=0,f=Object.prototype.toString,g=!1,h=!0,i=/\\\\/g,j=/\\W/;[0,0].sort(function(){h=!1;return 0});var k=function(b,d,e,g){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!==\"string\")return e;var i,j,n,o,q,r,s,t,u=!0,w=k.isXML(d),x=[],y=b;do{a.exec(\"\"),i=a.exec(y);if(i){y=i[3],x.push(i[1]);if(i[2]){o=i[3];break}}}while(i);if(x.length>1&&m.exec(b))if(x.length===2&&l.relative[x[0]])j=v(x[0]+x[1],d);else{j=l.relative[x[0]]?[d]:k(x.shift(),d);while(x.length)b=x.shift(),l.relative[b]&&(b+=x.shift()),j=v(b,j)}else{!g&&x.length>1&&d.nodeType===9&&!w&&l.match.ID.test(x[0])&&!l.match.ID.test(x[x.length-1])&&(q=k.find(x.shift(),d,w),d=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]);if(d){q=g?{expr:x.pop(),set:p(g)}:k.find(x.pop(),x.length===1&&(x[0]===\"~\"||x[0]===\"+\")&&d.parentNode?d.parentNode:d,w),j=q.expr?k.filter(q.expr,q.set):q.set,x.length>0?n=p(j):u=!1;while(x.length)r=x.pop(),s=r,l.relative[r]?s=x.pop():r=\"\",s==null&&(s=d),l.relative[r](n,s,w)}else n=x=[]}n||(n=j),n||k.error(r||b);if(f.call(n)===\"[object Array]\")if(u)if(d&&d.nodeType===1)for(t=0;n[t]!=null;t++)n[t]&&(n[t]===!0||n[t].nodeType===1&&k.contains(d,n[t]))&&e.push(j[t]);else for(t=0;n[t]!=null;t++)n[t]&&n[t].nodeType===1&&e.push(j[t]);else e.push.apply(e,n);else p(n,e);o&&(k(o,h,e,g),k.uniqueSort(e));return e};k.uniqueSort=function(a){if(r){g=h,a.sort(r);if(g)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},k.matches=function(a,b){return k(a,null,null,b)},k.matchesSelector=function(a,b){return k(b,null,null,[a]).length>0},k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;e<f;e++){var g,h=l.order[e];if(g=l.leftMatch[h].exec(a)){var j=g[1];g.splice(1,1);if(j.substr(j.length-1)!==\"\\\\\"){g[1]=(g[1]||\"\").replace(i,\"\"),d=l.find[h](g,b,c);if(d!=null){a=a.replace(l.match[h],\"\");break}}}}d||(d=typeof b.getElementsByTagName!==\"undefined\"?b.getElementsByTagName(\"*\"):[]);return{set:d,expr:a}},k.filter=function(a,c,d,e){var f,g,h=a,i=[],j=c,m=c&&c[0]&&k.isXML(c[0]);while(a&&c.length){for(var n in l.filter)if((f=l.leftMatch[n].exec(a))!=null&&f[2]){var o,p,q=l.filter[n],r=f[1];g=!1,f.splice(1,1);if(r.substr(r.length-1)===\"\\\\\")continue;j===i&&(i=[]);if(l.preFilter[n]){f=l.preFilter[n](f,j,d,i,e,m);if(f){if(f===!0)continue}else g=o=!0}if(f)for(var s=0;(p=j[s])!=null;s++)if(p){o=q(p,f,s,j);var t=e^!!o;d&&o!=null?t?g=!0:j[s]=!1:t&&(i.push(p),g=!0)}if(o!==b){d||(j=i),a=a.replace(l.match[n],\"\");if(!g)return[];break}}if(a===h)if(g==null)k.error(a);else break;h=a}return j},k.error=function(a){throw\"Syntax error, unrecognized expression: \"+a};var l=k.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(?:(['\"])(.*?)\\3|(#?(?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)*)|)|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\(\\s*(even|odd|(?:[+\\-]?\\d+|(?:[+\\-]?\\d*)?n\\s*(?:[+\\-]\\s*\\d+)?))\\s*\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function(a){return a.getAttribute(\"href\")},type:function(a){return a.getAttribute(\"type\")}},relative:{\"+\":function(a,b){var c=typeof b===\"string\",d=c&&!j.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1){}a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&k.filter(b,a,!0)},\">\":function(a,b){var c,d=typeof b===\"string\",e=0,f=a.length;if(d&&!j.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&k.filter(b,a,!0)}},\"\":function(a,b,c){var d,f=e++,g=u;typeof b===\"string\"&&!j.test(b)&&(b=b.toLowerCase(),d=b,g=t),g(\"parentNode\",b,f,a,d,c)},\"~\":function(a,b,c){var d,f=e++,g=u;typeof b===\"string\"&&!j.test(b)&&(b=b.toLowerCase(),d=b,g=t),g(\"previousSibling\",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!==\"undefined\"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!==\"undefined\"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute(\"name\")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!==\"undefined\")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=\" \"+a[1].replace(i,\"\")+\" \";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(\" \"+h.className+\" \").replace(/[\\t\\n\\r]/g,\" \").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(i,\"\")},TAG:function(a,b){return a[1].replace(i,\"\").toLowerCase()},CHILD:function(a){if(a[1]===\"nth\"){a[2]||k.error(a[0]),a[2]=a[2].replace(/^\\+|\\s*/g,\"\");var b=/(-?)(\\d*)(?:n([+\\-]?\\d*))?/.exec(a[2]===\"even\"&&\"2n\"||a[2]===\"odd\"&&\"2n+1\"||!/\\D/.test(a[2])&&\"0n+\"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&k.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,\"\");!f&&l.attrMap[g]&&(a[1]=l.attrMap[g]),a[4]=(a[4]||a[5]||\"\").replace(i,\"\"),a[2]===\"~=\"&&(a[4]=\" \"+a[4]+\" \");return a},PSEUDO:function(b,c,d,e,f){if(b[1]===\"not\")if((a.exec(b[3])||\"\").length>1||/^\\w/.test(b[3]))b[3]=k(b[3],null,null,c);else{var g=k.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(l.match.POS.test(b[0])||l.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!==\"hidden\"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute(\"type\"),c=a.type;return\"text\"===c&&(b===c||b===null)},radio:function(a){return\"radio\"===a.type},checkbox:function(a){return\"checkbox\"===a.type},file:function(a){return\"file\"===a.type},password:function(a){return\"password\"===a.type},submit:function(a){return\"submit\"===a.type},image:function(a){return\"image\"===a.type},reset:function(a){return\"reset\"===a.type},button:function(a){return\"button\"===a.type||a.nodeName.toLowerCase()===\"button\"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if(e===\"contains\")return(a.textContent||a.innerText||k.getText([a])||\"\").indexOf(b[3])>=0;if(e===\"not\"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}k.error(e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case\"only\":case\"first\":while(d=d.previousSibling)if(d.nodeType===1)return!1;if(c===\"first\")return!0;d=a;case\"last\":while(d=d.nextSibling)if(d.nodeType===1)return!1;return!0;case\"nth\":var e=b[2],f=b[3];if(e===1&&f===0)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling)d.nodeType===1&&(d.nodeIndex=++i);h.sizcache=g}var j=a.nodeIndex-f;return e===0?j===0:j%e===0&&j/e>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute(\"id\")===b},TAG:function(a,b){return b===\"*\"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(\" \"+(a.className||a.getAttribute(\"class\"))+\" \").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attrHandle[c]?l.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+\"\",f=b[2],g=b[4];return d==null?f===\"!=\":f===\"=\"?e===g:f===\"*=\"?e.indexOf(g)>=0:f===\"~=\"?(\" \"+e+\" \").indexOf(g)>=0:g?f===\"!=\"?e!==g:f===\"^=\"?e.indexOf(g)===0:f===\"$=\"?e.substr(e.length-g.length)===g:f===\"|=\"?e===g||e.substr(0,g.length+1)===g+\"-\":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=l.setFilters[e];if(f)return f(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return\"\\\\\"+(b-0+1)};for(var o in l.match)l.match[o]=new RegExp(l.match[o].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source),l.leftMatch[o]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+l.match[o].source.replace(/\\\\(\\d+)/g,n));var p=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(q){p=function(a,b){var c=0,d=b||[];if(f.call(a)===\"[object Array]\")Array.prototype.push.apply(d,a);else if(typeof a.length===\"number\")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var r,s;c.documentElement.compareDocumentPosition?r=function(a,b){if(a===b){g=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(r=function(a,b){var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(a===b){g=!0;return 0}if(h===i)return s(a,b);if(!h)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return s(e[k],f[k]);return k===c?s(a,f[k],-1):s(e[k],b,1)},s=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),k.getText=function(a){var b=\"\",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=k.getText(c.childNodes));return b},function(){var a=c.createElement(\"div\"),d=\"script\"+(new Date).getTime(),e=c.documentElement;a.innerHTML=\"<a name='\"+d+\"'/>\",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(l.find.ID=function(a,c,d){if(typeof c.getElementById!==\"undefined\"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!==\"undefined\"&&e.getAttributeNode(\"id\").nodeValue===a[1]?[e]:b:[]}},l.filter.ID=function(a,b){var c=typeof a.getAttributeNode!==\"undefined\"&&a.getAttributeNode(\"id\");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement(\"div\");a.appendChild(c.createComment(\"\")),a.getElementsByTagName(\"*\").length>0&&(l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]===\"*\"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML=\"<a href='#'></a>\",a.firstChild&&typeof a.firstChild.getAttribute!==\"undefined\"&&a.firstChild.getAttribute(\"href\")!==\"#\"&&(l.attrHandle.href=function(a){return a.getAttribute(\"href\",2)}),a=null}(),c.querySelectorAll&&function(){var a=k,b=c.createElement(\"div\"),d=\"__sizzle__\";b.innerHTML=\"<p class='TEST'></p>\";if(!b.querySelectorAll||b.querySelectorAll(\".TEST\").length!==0){k=function(b,e,f,g){e=e||c;if(!g&&!k.isXML(e)){var h=/^(\\w+$)|^\\.([\\w\\-]+$)|^#([\\w\\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return p(e.getElementsByTagName(b),f);if(h[2]&&l.find.CLASS&&e.getElementsByClassName)return p(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b===\"body\"&&e.body)return p([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return p([],f);if(i.id===h[3])return p([i],f)}try{return p(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!==\"object\"){var m=e,n=e.getAttribute(\"id\"),o=n||d,q=e.parentNode,r=/^\\s*[+~]/.test(b);n?o=o.replace(/'/g,\"\\\\$&\"):e.setAttribute(\"id\",o),r&&q&&(e=e.parentNode);try{if(!r||q)return p(e.querySelectorAll(\"[id='\"+o+\"'] \"+b),f)}catch(s){}finally{n||m.removeAttribute(\"id\")}}}return a(b,e,f,g)};for(var e in a)k[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement(\"div\"),\"div\"),e=!1;try{b.call(c.documentElement,\"[test!='']:sizzle\")}catch(f){e=!0}k.matchesSelector=function(a,c){c=c.replace(/\\=\\s*([^'\"\\]]*)\\s*\\]/g,\"='$1']\");if(!k.isXML(a))try{if(e||!l.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return k(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement(\"div\");a.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(a.getElementsByClassName&&a.getElementsByClassName(\"e\").length!==0){a.lastChild.className=\"e\";if(a.getElementsByClassName(\"e\").length===1)return;l.order.splice(1,0,\"CLASS\"),l.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==\"undefined\"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?k.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?k.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:k.contains=function(){return!1},k.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!==\"HTML\":!1};var v=function(a,b){var c,d=[],e=\"\",f=b.nodeType?[b]:b;while(c=l.match.PSEUDO.exec(a))e+=c[0],a=a.replace(l.match.PSEUDO,\"\");a=l.relative[a]?a+\"*\":a;for(var g=0,h=f.length;g<h;g++)k(a,f[g],d);return k.filter(e,d)};d.find=k,d.expr=k.selectors,d.expr[\":\"]=d.expr.filters,d.unique=k.uniqueSort,d.text=k.getText,d.isXMLDoc=k.isXML,d.contains=k.contains}();var I=/Until$/,J=/^(?:parents|prevUntil|prevAll)/,K=/,/,L=/^.[^:#\\[\\.,]*$/,M=Array.prototype.slice,N=d.expr.match.POS,O={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var b=this.pushStack(\"\",\"find\",a),c=0;for(var e=0,f=this.length;e<f;e++){c=b.length,d.find(a,this[e],b);if(e>0)for(var g=c;g<b.length;g++)for(var h=0;h<c;h++)if(b[h]===b[g]){b.splice(g--,1);break}}return b},has:function(a){var b=d(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(d.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(Q(this,a,!1),\"not\",a)},filter:function(a){return this.pushStack(Q(this,a,!0),\"filter\",a)},is:function(a){return!!a&&d.filter(a,this).length>0},closest:function(a,b){var c=[],e,f,g=this[0];if(d.isArray(a)){var h,i,j={},k=1;if(g&&a.length){for(e=0,f=a.length;e<f;e++)i=a[e],j[i]||(j[i]=d.expr.match.POS.test(i)?d(i,b||this.context):i);while(g&&g.ownerDocument&&g!==b){for(i in j)h=j[i],(h.jquery?h.index(g)>-1:d(g).is(h))&&c.push({selector:i,elem:g,level:k});g=g.parentNode,k++}}return c}var l=N.test(a)?d(a,b||this.context):null;for(e=0,f=this.length;e<f;e++){g=this[e];while(g){if(l?l.index(g)>-1:d.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b)break}}c=c.length>1?d.unique(c):c;return this.pushStack(c,\"closest\",a)},index:function(a){if(!a||typeof a===\"string\")return d.inArray(this[0],a?d(a):this.parent().children());return d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a===\"string\"?d(a,b):d.makeArray(a),e=d.merge(this.get(),c);return this.pushStack(P(c[0])||P(e[0])?e:d.unique(e))},andSelf:function(){return this.add(this.prevObject)}}),d.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return d.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return d.dir(a,\"parentNode\",c)},next:function(a){return d.nth(a,2,\"nextSibling\")},prev:function(a){return d.nth(a,2,\"previousSibling\")},nextAll:function(a){return d.dir(a,\"nextSibling\")},prevAll:function(a){return d.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return d.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return d.dir(a,\"previousSibling\",c)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,\"iframe\")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,b){d.fn[a]=function(c,e){var f=d.map(this,b,c),g=M.call(arguments);I.test(a)||(e=c),e&&typeof e===\"string\"&&(f=d.filter(e,f)),f=this.length>1&&!O[a]?d.unique(f):f,(this.length>1||K.test(e))&&J.test(a)&&(f=f.reverse());return this.pushStack(f,a,g.join(\",\"))}}),d.extend({filter:function(a,b,c){c&&(a=\":not(\"+a+\")\");return b.length===1?d.find.matchesSelector(b[0],a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,c,e){var f=[],g=a[c];while(g&&g.nodeType!==9&&(e===b||g.nodeType!==1||!d(g).is(e)))g.nodeType===1&&f.push(g),g=g[c];return f},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var R=/ jQuery\\d+=\"(?:\\d+|null)\"/g,S=/^\\s+/,T=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,U=/<([\\w:]+)/,V=/<tbody/i,W=/<|&#?\\w+;/,X=/<(?:script|object|embed|option|style)/i,Y=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Z={option:[1,\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],area:[1,\"<map>\",\"</map>\"],_default:[0,\"\",\"\"]};Z.optgroup=Z.option,Z.tbody=Z.tfoot=Z.colgroup=Z.caption=Z.thead,Z.th=Z.td,d.support.htmlSerialize||(Z._default=[1,\"div<div>\",\"</div>\"]),d.fn.extend({text:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.text(a.call(this,b,c.text()))});if(typeof a!==\"object\"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapAll(a.call(this,b))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapInner(a.call(this,b))});return this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,\"body\")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,\"before\",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,\"after\",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,e;(e=this[c])!=null;c++)if(!a||d.filter(a,[e]).length)!b&&e.nodeType===1&&(d.cleanData(e.getElementsByTagName(\"*\")),d.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&d.cleanData(b.getElementsByTagName(\"*\"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(R,\"\"):null;if(typeof a!==\"string\"||X.test(a)||!d.support.leadingWhitespace&&S.test(a)||Z[(U.exec(a)||[\"\",\"\"])[1].toLowerCase()])d.isFunction(a)?this.each(function(b){var c=d(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);else{a=a.replace(T,\"<$1></$2>\");try{for(var c=0,e=this.length;c<e;c++)this[c].nodeType===1&&(d.cleanData(this[c].getElementsByTagName(\"*\")),this[c].innerHTML=a)}catch(f){this.empty().append(a)}}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(b){var c=d(this),e=c.html();c.replaceWith(a.call(this,b,e))});typeof a!==\"string\"&&(a=d(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;d(this).remove(),b?d(b).before(a):d(c).append(a)})}return this.length?this.pushStack(d(d.isFunction(a)?a():a),\"replaceWith\",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,e){var f,g,h,i,j=a[0],k=[];if(!d.support.checkClone&&arguments.length===3&&typeof j===\"string\"&&Y.test(j))return this.each(function(){d(this).domManip(a,c,e,!0)});if(d.isFunction(j))return this.each(function(f){var g=d(this);a[0]=j.call(this,f,c?g.html():b),g.domManip(a,c,e)});if(this[0]){i=j&&j.parentNode,d.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?f={fragment:i}:f=d.buildFragment(a,this,k),h=f.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&d.nodeName(g,\"tr\");for(var l=0,m=this.length,n=m-1;l<m;l++)e.call(c?$(this[l],g):this[l],f.cacheable||m>1&&l<n?d.clone(h,!0,!0):h)}k.length&&d.each(k,bc)}return this}}),d.buildFragment=function(a,b,e){var f,g,h,i=b&&b[0]?b[0].ownerDocument||b[0]:c;a.length===1&&typeof a[0]===\"string\"&&a[0].length<512&&i===c&&a[0].charAt(0)===\"<\"&&!X.test(a[0])&&(d.support.checkClone||!Y.test(a[0]))&&(g=!0,h=d.fragments[a[0]],h&&(h!==1&&(f=h))),f||(f=i.createDocumentFragment(),d.clean(a,i,f,e)),g&&(d.fragments[a[0]]=h?f:1);return{fragment:f,cacheable:g}},d.fragments={},d.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){d.fn[a]=function(c){var e=[],f=d(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&f.length===1){f[b](this[0]);return this}for(var h=0,i=f.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();d(f[h])[b](j),e=e.concat(j)}return this.pushStack(e,a,f.selector)}}),d.extend({clone:function(a,b,c){var e=a.cloneNode(!0),f,g,h;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){ba(a,e),f=bb(a),g=bb(e);for(h=0;f[h];++h)ba(f[h],g[h])}if(b){_(a,e);if(c){f=bb(a),g=bb(e);for(h=0;f[h];++h)_(f[h],g[h])}}return e},clean:function(a,b,e,f){b=b||c,typeof b.createElement===\"undefined\"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var g=[];for(var h=0,i;(i=a[h])!=null;h++){typeof i===\"number\"&&(i+=\"\");if(!i)continue;if(typeof i!==\"string\"||W.test(i)){if(typeof i===\"string\"){i=i.replace(T,\"<$1></$2>\");var j=(U.exec(i)||[\"\",\"\"])[1].toLowerCase(),k=Z[j]||Z._default,l=k[0],m=b.createElement(\"div\");m.innerHTML=k[1]+i+k[2];while(l--)m=m.lastChild;if(!d.support.tbody){var n=V.test(i),o=j===\"table\"&&!n?m.firstChild&&m.firstChild.childNodes:k[1]===\"<table>\"&&!n?m.childNodes:[];for(var p=o.length-1;p>=0;--p)d.nodeName(o[p],\"tbody\")&&!o[p].childNodes.length&&o[p].parentNode.removeChild(o[p])}!d.support.leadingWhitespace&&S.test(i)&&m.insertBefore(b.createTextNode(S.exec(i)[0]),m.firstChild),i=m.childNodes}}else i=b.createTextNode(i);i.nodeType?g.push(i):g=d.merge(g,i)}if(e)for(h=0;g[h];h++)!f||!d.nodeName(g[h],\"script\")||g[h].type&&g[h].type.toLowerCase()!==\"text/javascript\"?(g[h].nodeType===1&&g.splice.apply(g,[h+1,0].concat(d.makeArray(g[h].getElementsByTagName(\"script\")))),e.appendChild(g[h])):f.push(g[h].parentNode?g[h].parentNode.removeChild(g[h]):g[h]);return g},cleanData:function(a){var b,c,e=d.cache,f=d.expando,g=d.event.special,h=d.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&d.noData[j.nodeName.toLowerCase()])continue;c=j[d.expando];if(c){b=e[c]&&e[c][f];if(b&&b.events){for(var k in b.events)g[k]?d.event.remove(j,k):d.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}h?delete j[d.expando]:j.removeAttribute&&j.removeAttribute(d.expando),delete e[c]}}}});var bd=/alpha\\([^)]*\\)/i,be=/opacity=([^)]*)/,bf=/-([a-z])/ig,bg=/([A-Z]|^ms)/g,bh=/^-?\\d+(?:px)?$/i,bi=/^-?\\d/,bj={position:\"absolute\",visibility:\"hidden\",display:\"block\"},bk=[\"Left\",\"Right\"],bl=[\"Top\",\"Bottom\"],bm,bn,bo,bp=function(a,b){return b.toUpperCase()};d.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return d.access(this,a,c,!0,function(a,c,e){return e!==b?d.style(a,c,e):d.css(a,c)})},d.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bm(a,\"opacity\",\"opacity\");return c===\"\"?\"1\":c}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0},cssProps:{\"float\":d.support.cssFloat?\"cssFloat\":\"styleFloat\"},style:function(a,c,e,f){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var g,h=d.camelCase(c),i=a.style,j=d.cssHooks[h];c=d.cssProps[h]||h;if(e===b){if(j&&\"get\"in j&&(g=j.get(a,!1,f))!==b)return g;return i[c]}if(typeof e===\"number\"&&isNaN(e)||e==null)return;typeof e===\"number\"&&!d.cssNumber[h]&&(e+=\"px\");if(!j||!(\"set\"in j)||(e=j.set(a,e))!==b)try{i[c]=e}catch(k){}}},css:function(a,c,e){var f,g=d.camelCase(c),h=d.cssHooks[g];c=d.cssProps[g]||g;if(h&&\"get\"in h&&(f=h.get(a,!0,e))!==b)return f;if(bm)return bm(a,c,g)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]},camelCase:function(a){return a.replace(bf,bp)}}),d.curCSS=d.css,d.each([\"height\",\"width\"],function(a,b){d.cssHooks[b]={get:function(a,c,e){var f;if(c){a.offsetWidth!==0?f=bq(a,b,e):d.swap(a,bj,function(){f=bq(a,b,e)});if(f<=0){f=bm(a,b,b),f===\"0px\"&&bo&&(f=bo(a,b,b));if(f!=null)return f===\"\"||f===\"auto\"?\"0px\":f}if(f<0||f==null){f=a.style[b];return f===\"\"||f===\"auto\"?\"0px\":f}return typeof f===\"string\"?f:f+\"px\"}},set:function(a,b){if(!bh.test(b))return b;b=parseFloat(b);if(b>=0)return b+\"px\"}}}),d.support.opacity||(d.cssHooks.opacity={get:function(a,b){return be.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||\"\")?parseFloat(RegExp.$1)/100+\"\":b?\"1\":\"\"},set:function(a,b){var c=a.style;c.zoom=1;var e=d.isNaN(b)?\"\":\"alpha(opacity=\"+b*100+\")\",f=c.filter||\"\";c.filter=bd.test(f)?f.replace(bd,e):c.filter+\" \"+e}}),d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(a,b){var c;d.swap(a,{display:\"inline-block\"},function(){b?c=bm(a,\"margin-right\",\"marginRight\"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bn=function(a,c,e){var f,g,h;e=e.replace(bg,\"-$1\").toLowerCase();if(!(g=a.ownerDocument.defaultView))return b;if(h=g.getComputedStyle(a,null))f=h.getPropertyValue(e),f===\"\"&&!d.contains(a.ownerDocument.documentElement,a)&&(f=d.style(a,e));return f}),c.documentElement.currentStyle&&(bo=function(a,b){var c,d=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;!bh.test(d)&&bi.test(d)&&(c=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b===\"fontSize\"?\"1em\":d||0,d=f.pixelLeft+\"px\",f.left=c,e&&(a.runtimeStyle.left=e));return d===\"\"?\"auto\":d}),bm=bn||bo,d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!d.support.reliableHiddenOffsets&&(a.style.display||d.css(a,\"display\"))===\"none\"},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});var br=/%20/g,bs=/\\[\\]$/,bt=/\\r?\\n/g,bu=/#.*$/,bv=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,bw=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bx=/^(?:about|app|app\\-storage|.+\\-extension|file|widget):$/,by=/^(?:GET|HEAD)$/,bz=/^\\/\\//,bA=/\\?/,bB=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,bC=/^(?:select|textarea)/i,bD=/\\s+/,bE=/([?&])_=[^&]*/,bF=/(^|\\-)([a-z])/g,bG=function(a,b,c){return b+c.toUpperCase()},bH=/^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,bI=d.fn.load,bJ={},bK={},bL,bM;try{bL=c.location.href}catch(bN){bL=c.createElement(\"a\"),bL.href=\"\",bL=bL.href}bM=bH.exec(bL.toLowerCase())||[],d.fn.extend({load:function(a,c,e){if(typeof a!==\"string\"&&bI)return bI.apply(this,arguments);if(!this.length)return this;var f=a.indexOf(\" \");if(f>=0){var g=a.slice(f,a.length);a=a.slice(0,f)}var h=\"GET\";c&&(d.isFunction(c)?(e=c,c=b):typeof c===\"object\"&&(c=d.param(c,d.ajaxSettings.traditional),h=\"POST\"));var i=this;d.ajax({url:a,type:h,dataType:\"html\",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?d(\"<div>\").append(c.replace(bB,\"\")).find(g):c)),e&&i.each(e,[c,b,a])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bC.test(this.nodeName)||bw.test(this.type))}).map(function(a,b){var c=d(this).val();return c==null?null:d.isArray(c)?d.map(c,function(a,c){return{name:b.name,value:a.replace(bt,\"\\r\\n\")}}):{name:b.name,value:c.replace(bt,\"\\r\\n\")}}).get()}}),d.each(\"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split(\" \"),function(a,b){d.fn[b]=function(a){return this.bind(b,a)}}),d.each([\"get\",\"post\"],function(a,c){d[c]=function(a,e,f,g){d.isFunction(e)&&(g=g||f,f=e,e=b);return d.ajax({type:c,url:a,data:e,success:f,dataType:g})}}),d.extend({getScript:function(a,c){return d.get(a,b,c,\"script\")},getJSON:function(a,b,c){return d.get(a,b,c,\"json\")},ajaxSetup:function(a,b){b?d.extend(!0,a,d.ajaxSettings,b):(b=a,a=d.extend(!0,d.ajaxSettings,b));for(var c in {context:1,url:1})c in b?a[c]=b[c]:c in d.ajaxSettings&&(a[c]=d.ajaxSettings[c]);return a},ajaxSettings:{url:bL,isLocal:bx.test(bM[1]),global:!0,type:\"GET\",contentType:\"application/x-www-form-urlencoded\",processData:!0,async:!0,accepts:{xml:\"application/xml, text/xml\",html:\"text/html\",text:\"text/plain\",json:\"application/json, text/javascript\",\"*\":\"*/*\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\"},converters:{\"* text\":a.String,\"text html\":!0,\"text json\":d.parseJSON,\"text xml\":d.parseXML}},ajaxPrefilter:bO(bJ),ajaxTransport:bO(bK),ajax:function(a,c){function v(a,c,l,n){if(r!==2){r=2,p&&clearTimeout(p),o=b,m=n||\"\",u.readyState=a?4:0;var q,t,v,w=l?bR(e,u,l):b,x,y;if(a>=200&&a<300||a===304){if(e.ifModified){if(x=u.getResponseHeader(\"Last-Modified\"))d.lastModified[k]=x;if(y=u.getResponseHeader(\"Etag\"))d.etag[k]=y}if(a===304)c=\"notmodified\",q=!0;else try{t=bS(e,w),c=\"success\",q=!0}catch(z){c=\"parsererror\",v=z}}else{v=c;if(!c||a)c=\"error\",a<0&&(a=0)}u.status=a,u.statusText=c,q?h.resolveWith(f,[t,c,u]):h.rejectWith(f,[u,c,v]),u.statusCode(j),j=b,s&&g.trigger(\"ajax\"+(q?\"Success\":\"Error\"),[u,e,q?t:v]),i.resolveWith(f,[u,c]),s&&(g.trigger(\"ajaxComplete\",[u,e]),--d.active||d.event.trigger(\"ajaxStop\"))}}typeof a===\"object\"&&(c=a,a=b),c=c||{};var e=d.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof d)?d(f):d.event,h=d.Deferred(),i=d._Deferred(),j=e.statusCode||{},k,l={},m,n,o,p,q,r=0,s,t,u={readyState:0,setRequestHeader:function(a,b){r||(l[a.toLowerCase().replace(bF,bG)]=b);return this},getAllResponseHeaders:function(){return r===2?m:null},getResponseHeader:function(a){var c;if(r===2){if(!n){n={};while(c=bv.exec(m))n[c[1].toLowerCase()]=c[2]}c=n[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){r||(e.mimeType=a);return this},abort:function(a){a=a||\"abort\",o&&o.abort(a),v(0,a);return this}};h.promise(u),u.success=u.done,u.error=u.fail,u.complete=i.done,u.statusCode=function(a){if(a){var b;if(r<2)for(b in a)j[b]=[j[b],a[b]];else b=a[u.status],u.then(b,b)}return this},e.url=((a||e.url)+\"\").replace(bu,\"\").replace(bz,bM[1]+\"//\"),e.dataTypes=d.trim(e.dataType||\"*\").toLowerCase().split(bD),e.crossDomain==null&&(q=bH.exec(e.url.toLowerCase()),e.crossDomain=q&&(q[1]!=bM[1]||q[2]!=bM[2]||(q[3]||(q[1]===\"http:\"?80:443))!=(bM[3]||(bM[1]===\"http:\"?80:443)))),e.data&&e.processData&&typeof e.data!==\"string\"&&(e.data=d.param(e.data,e.traditional)),bP(bJ,e,c,u);if(r===2)return!1;s=e.global,e.type=e.type.toUpperCase(),e.hasContent=!by.test(e.type),s&&d.active++===0&&d.event.trigger(\"ajaxStart\");if(!e.hasContent){e.data&&(e.url+=(bA.test(e.url)?\"&\":\"?\")+e.data),k=e.url;if(e.cache===!1){var w=d.now(),x=e.url.replace(bE,\"$1_=\"+w);e.url=x+(x===e.url?(bA.test(e.url)?\"&\":\"?\")+\"_=\"+w:\"\")}}if(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)l[\"Content-Type\"]=e.contentType;e.ifModified&&(k=k||e.url,d.lastModified[k]&&(l[\"If-Modified-Since\"]=d.lastModified[k]),d.etag[k]&&(l[\"If-None-Match\"]=d.etag[k])),l.Accept=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!==\"*\"?\", */*; q=0.01\":\"\"):e.accepts[\"*\"];for(t in e.headers)u.setRequestHeader(t,e.headers[t]);if(e.beforeSend&&(e.beforeSend.call(f,u,e)===!1||r===2)){u.abort();return!1}for(t in {success:1,error:1,complete:1})u[t](e[t]);o=bP(bK,e,c,u);if(o){u.readyState=1,s&&g.trigger(\"ajaxSend\",[u,e]),e.async&&e.timeout>0&&(p=setTimeout(function(){u.abort(\"timeout\")},e.timeout));try{r=1,o.send(l,v)}catch(y){status<2?v(-1,y):d.error(y)}}else v(-1,\"No Transport\");return u},param:function(a,c){var e=[],f=function(a,b){b=d.isFunction(b)?b():b,e[e.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};c===b&&(c=d.ajaxSettings.traditional);if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){f(this.name,this.value)});else for(var g in a)bQ(g,a[g],c,f);return e.join(\"&\").replace(br,\"+\")}}),d.extend({active:0,lastModified:{},etag:{}});var bT=d.now(),bU=/(\\=)\\?(&|$)|\\?\\?/i;d.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){return d.expando+\"_\"+bT++}}),d.ajaxPrefilter(\"json jsonp\",function(b,c,e){var f=typeof b.data===\"string\";if(b.dataTypes[0]===\"jsonp\"||c.jsonpCallback||c.jsonp!=null||b.jsonp!==!1&&(bU.test(b.url)||f&&bU.test(b.data))){var g,h=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l=\"$1\"+h+\"$2\",m=function(){a[h]=i,g&&d.isFunction(i)&&a[h](g[0])};b.jsonp!==!1&&(j=j.replace(bU,l),b.url===j&&(f&&(k=k.replace(bU,l)),b.data===k&&(j+=(/\\?/.test(j)?\"&\":\"?\")+b.jsonp+\"=\"+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},e.then(m,m),b.converters[\"script json\"]=function(){g||d.error(h+\" was not called\");return g[0]},b.dataTypes[0]=\"json\";return\"script\"}}),d.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/javascript|ecmascript/},converters:{\"text script\":function(a){d.globalEval(a);return a}}}),d.ajaxPrefilter(\"script\",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\",a.global=!1)}),d.ajaxTransport(\"script\",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName(\"head\")[0]||c.documentElement;return{send:function(f,g){d=c.createElement(\"script\"),d.async=\"async\",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,\"success\")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var bV=d.now(),bW,bX;d.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&bZ()||b$()}:bZ,bX=d.ajaxSettings.xhr(),d.support.ajax=!!bX,d.support.cors=bX&&\"withCredentials\"in bX,bX=b,d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var c;return{send:function(e,f){var g=a.xhr(),h,i;a.username?g.open(a.type,a.url,a.async,a.username,a.password):g.open(a.type,a.url,a.async);if(a.xhrFields)for(i in a.xhrFields)g[i]=a.xhrFields[i];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType),!a.crossDomain&&!e[\"X-Requested-With\"]&&(e[\"X-Requested-With\"]=\"XMLHttpRequest\");try{for(i in e)g.setRequestHeader(i,e[i])}catch(j){}g.send(a.hasContent&&a.data||null),c=function(e,i){var j,k,l,m,n;try{if(c&&(i||g.readyState===4)){c=b,h&&(g.onreadystatechange=d.noop,delete bW[h]);if(i)g.readyState!==4&&g.abort();else{j=g.status,l=g.getAllResponseHeaders(),m={},n=g.responseXML,n&&n.documentElement&&(m.xml=n),m.text=g.responseText;try{k=g.statusText}catch(o){k=\"\"}j||!a.isLocal||a.crossDomain?j===1223&&(j=204):j=m.text?200:404}}}catch(p){i||f(-1,p)}m&&f(j,k,m,l)},a.async&&g.readyState!==4?(bW||(bW={},bY()),h=bV++,g.onreadystatechange=bW[h]=c):c()},abort:function(){c&&c(0,1)}}}});var b_={},ca=/^(?:toggle|show|hide)$/,cb=/^([+\\-]=)?([\\d+.\\-]+)([a-z%]*)$/i,cc,cd=[[\"height\",\"marginTop\",\"marginBottom\",\"paddingTop\",\"paddingBottom\"],[\"width\",\"marginLeft\",\"marginRight\",\"paddingLeft\",\"paddingRight\"],[\"opacity\"]];d.fn.extend({show:function(a,b,c){var e,f;if(a||a===0)return this.animate(ce(\"show\",3),a,b,c);for(var g=0,h=this.length;g<h;g++)e=this[g],f=e.style.display,!d._data(e,\"olddisplay\")&&f===\"none\"&&(f=e.style.display=\"\"),f===\"\"&&d.css(e,\"display\")===\"none\"&&d._data(e,\"olddisplay\",cf(e.nodeName));for(g=0;g<h;g++){e=this[g],f=e.style.display;if(f===\"\"||f===\"none\")e.style.display=d._data(e,\"olddisplay\")||\"\"}return this},hide:function(a,b,c){if(a||a===0)return this.animate(ce(\"hide\",3),a,b,c);for(var e=0,f=this.length;e<f;e++){var g=d.css(this[e],\"display\");g!==\"none\"&&!d._data(this[e],\"olddisplay\")&&d._data(this[e],\"olddisplay\",g)}for(e=0;e<f;e++)this[e].style.display=\"none\";return this},_toggle:d.fn.toggle,toggle:function(a,b,c){var e=typeof a===\"boolean\";d.isFunction(a)&&d.isFunction(b)?this._toggle.apply(this,arguments):a==null||e?this.each(function(){var b=e?a:d(this).is(\":hidden\");d(this)[b?\"show\":\"hide\"]()}):this.animate(ce(\"toggle\",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(\":hidden\").css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){var f=d.speed(b,c,e);if(d.isEmptyObject(a))return this.each(f.complete);return this[f.queue===!1?\"each\":\"queue\"](function(){var b=d.extend({},f),c,e=this.nodeType===1,g=e&&d(this).is(\":hidden\"),h=this;for(c in a){var i=d.camelCase(c);c!==i&&(a[i]=a[c],delete a[c],c=i);if(a[c]===\"hide\"&&g||a[c]===\"show\"&&!g)return b.complete.call(this);if(e&&(c===\"height\"||c===\"width\")){b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(d.css(this,\"display\")===\"inline\"&&d.css(this,\"float\")===\"none\")if(d.support.inlineBlockNeedsLayout){var j=cf(this.nodeName);j===\"inline\"?this.style.display=\"inline-block\":(this.style.display=\"inline\",this.style.zoom=1)}else this.style.display=\"inline-block\"}d.isArray(a[c])&&((b.specialEasing=b.specialEasing||{})[c]=a[c][1],a[c]=a[c][0])}b.overflow!=null&&(this.style.overflow=\"hidden\"),b.curAnim=d.extend({},a),d.each(a,function(c,e){var f=new d.fx(h,b,c);if(ca.test(e))f[e===\"toggle\"?g?\"show\":\"hide\":e](a);else{var i=cb.exec(e),j=f.cur();if(i){var k=parseFloat(i[2]),l=i[3]||(d.cssNumber[c]?\"\":\"px\");l!==\"px\"&&(d.style(h,c,(k||1)+l),j=(k||1)/f.cur()*j,d.style(h,c,j+l)),i[1]&&(k=(i[1]===\"-=\"?-1:1)*k+j),f.custom(j,k,l)}else f.custom(j,e,\"\")}});return!0})},stop:function(a,b){var c=d.timers;a&&this.queue([]),this.each(function(){for(var a=c.length-1;a>=0;a--)c[a].elem===this&&(b&&c[a](!0),c.splice(a,1))}),b||this.dequeue();return this}}),d.each({slideDown:ce(\"show\",1),slideUp:ce(\"hide\",1),slideToggle:ce(\"toggle\",1),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){d.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),d.extend({speed:function(a,b,c){var e=a&&typeof a===\"object\"?d.extend({},a):{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&!d.isFunction(b)&&b};e.duration=d.fx.off?0:typeof e.duration===\"number\"?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default,e.old=e.complete,e.complete=function(){e.queue!==!1&&d(this).dequeue(),d.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig||(b.orig={})}}),d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=d.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b===\"auto\"?0:b:a},custom:function(a,b,c){function g(a){return e.step(a)}var e=this,f=d.fx;this.startTime=d.now(),this.start=a,this.end=b,this.unit=c||this.unit||(d.cssNumber[this.prop]?\"\":\"px\"),this.now=this.start,this.pos=this.state=0,g.elem=this.elem,g()&&d.timers.push(g)&&!cc&&(cc=setInterval(f.tick,f.interval))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop===\"width\"||this.prop===\"height\"?1:0,this.cur()),d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b=d.now(),c=!0;if(a||b>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;for(var e in this.options.curAnim)this.options.curAnim[e]!==!0&&(c=!1);if(c){if(this.options.overflow!=null&&!d.support.shrinkWrapBlocks){var f=this.elem,g=this.options;d.each([\"\",\"X\",\"Y\"],function(a,b){f.style[\"overflow\"+b]=g.overflow[a]})}this.options.hide&&d(this.elem).hide();if(this.options.hide||this.options.show)for(var h in this.options.curAnim)d.style(this.elem,h,this.options.orig[h]);this.options.complete.call(this.elem)}return!1}var i=b-this.startTime;this.state=i/this.options.duration;var j=this.options.specialEasing&&this.options.specialEasing[this.prop],k=this.options.easing||(d.easing.swing?\"swing\":\"linear\");this.pos=d.easing[j||k](this.state,i,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update();return!0}},d.extend(d.fx,{tick:function(){var a=d.timers;for(var b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||d.fx.stop()},interval:13,stop:function(){clearInterval(cc),cc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,\"opacity\",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop===\"width\"||a.prop===\"height\"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}}),d.expr&&d.expr.filters&&(d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length});var cg=/^t(?:able|d|h)$/i,ch=/^(?:body|html)$/i;\"getBoundingClientRect\"in c.documentElement?d.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!c||!d.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=f.body,i=ci(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||d.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||d.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:d.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);d.offset.initialize();var c,e=b.offsetParent,f=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(d.offset.supportsFixedPosition&&k.position===\"fixed\")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===e&&(l+=b.offsetTop,m+=b.offsetLeft,d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!cg.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),f=e,e=b.offsetParent),d.offset.subtractsBorderForOverflowNotVisible&&c.overflow!==\"visible\"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position===\"relative\"||k.position===\"static\")l+=i.offsetTop,m+=i.offsetLeft;d.offset.supportsFixedPosition&&k.position===\"fixed\"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},d.offset={initialize:function(){var a=c.body,b=c.createElement(\"div\"),e,f,g,h,i=parseFloat(d.css(a,\"marginTop\"))||0,j=\"<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>\";d.extend(b.style,{position:\"absolute\",top:0,left:0,margin:0,border:0,width:\"1px\",height:\"1px\",visibility:\"hidden\"}),b.innerHTML=j,a.insertBefore(b,a.firstChild),e=b.firstChild,f=e.firstChild,h=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=f.offsetTop!==5,this.doesAddBorderForTableAndCells=h.offsetTop===5,f.style.position=\"fixed\",f.style.top=\"20px\",this.supportsFixedPosition=f.offsetTop===20||f.offsetTop===15,f.style.position=f.style.top=\"\",e.style.overflow=\"hidden\",e.style.position=\"relative\",this.subtractsBorderForOverflowNotVisible=f.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==i,a.removeChild(b),d.offset.initialize=d.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;d.offset.initialize(),d.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(d.css(a,\"marginTop\"))||0,c+=parseFloat(d.css(a,\"marginLeft\"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var e=d.css(a,\"position\");e===\"static\"&&(a.style.position=\"relative\");var f=d(a),g=f.offset(),h=d.css(a,\"top\"),i=d.css(a,\"left\"),j=(e===\"absolute\"||e===\"fixed\")&&d.inArray(\"auto\",[h,i])>-1,k={},l={},m,n;j&&(l=f.position()),m=j?l.top:parseInt(h,10)||0,n=j?l.left:parseInt(i,10)||0,d.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),\"using\"in b?b.using.call(a,k):f.css(k)}},d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),e=ch.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(d.css(a,\"marginTop\"))||0,c.left-=parseFloat(d.css(a,\"marginLeft\"))||0,e.top+=parseFloat(d.css(b[0],\"borderTopWidth\"))||0,e.left+=parseFloat(d.css(b[0],\"borderLeftWidth\"))||0;return{top:c.top-e.top,left:c.left-e.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&(!ch.test(a.nodeName)&&d.css(a,\"position\")===\"static\"))a=a.offsetParent;return a})}}),d.each([\"Left\",\"Top\"],function(a,c){var e=\"scroll\"+c;d.fn[e]=function(c){var f=this[0],g;if(!f)return null;if(c!==b)return this.each(function(){g=ci(this),g?g.scrollTo(a?d(g).scrollLeft():c,a?c:d(g).scrollTop()):this[e]=c});g=ci(f);return g?\"pageXOffset\"in g?g[a?\"pageYOffset\":\"pageXOffset\"]:d.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]}}),d.each([\"Height\",\"Width\"],function(a,c){var e=c.toLowerCase();d.fn[\"inner\"+c]=function(){return this[0]?parseFloat(d.css(this[0],e,\"padding\")):null},d.fn[\"outer\"+c]=function(a){return this[0]?parseFloat(d.css(this[0],e,a?\"margin\":\"border\")):null},d.fn[e]=function(a){var f=this[0];if(!f)return a==null?null:this;if(d.isFunction(a))return this.each(function(b){var c=d(this);c[e](a.call(this,b,c[e]()))});if(d.isWindow(f)){var g=f.document.documentElement[\"client\"+c];return f.document.compatMode===\"CSS1Compat\"&&g||f.document.body[\"client\"+c]||g}if(f.nodeType===9)return Math.max(f.documentElement[\"client\"+c],f.body[\"scroll\"+c],f.documentElement[\"scroll\"+c],f.body[\"offset\"+c],f.documentElement[\"offset\"+c]);if(a===b){var h=d.css(f,e),i=parseFloat(h);return d.isNaN(i)?h:i}return this.css(e,typeof a===\"string\"?a:a+\"px\")}}),a.jQuery=a.$=d})(window);\n\n/Users/boos/code/graasp/public/javascripts/menu_extension.js:\n    8      // this.item3a_type = item3a_type;\n    9      // this.item3a_it = item3a_id;\n   10:     // this.class_name = \"users\";\n   11      // m - means menu here\n   12      center_dependent: function() {\n   ..\n   20          },\n   21      remote_url: function() {\n   22:         return (\"/favorites/list/\" + this.class_name + \".json\");\n   23      },\n   24      prebuild_block: function() {\n   ..\n   33      // called to build block for fav, clip and also notifications\n   34      common_prebuild_block: function() {\n   35:     this.placeholder = $(this.class_name+'_area');\n   36:       this.menu_area = $(this.class_name + '_area');\n   37           var menu_main = new Element('div', {\n   38        id: this.m + '_main',\n   ..\n   71          // menu_main.down().insert({after: new Element('div',{class: \"drop_area\"}).update('drop here')});\n   72          var drop_info = new Element('div', {\n   73:             id: this.class_name + '_drop_info',\n   74              \"class\": \"drop_info\",\n   75              style: \"display:none;\"\n   ..\n  136        });\n  137        // bClose.observe('click',function(event) {\n  138:         // self.m_close(event,$(self.class_name+'_area'), self.m)\n  139        // })\n  140        m_slider.insert(bClose);\n  ...\n  216              index++;\n  217            }\n  218:           if(element.className.search(\"i3a_link\") != -1)\n  219              is_original = false;\n  220  \n  ...\n  483        if (currentUser.id != graaasp.guest_id) {\n  484        if (i3a.relation_type == \"link\") {\n  485:               popup_para.el.set($t(\"words.remove_link\").toLowerCase(), items_settings_popup.top_delete_click.bindAsEventListener(items_settings_popup, display_id, m_item_id, this.menu_area, this.m_out, this.class_name));\n  486            } else { // this is an item and not link\n  487              popup_para.el.set($t(\"words.remove\").toLowerCase(), this.b_delete_click.bindAsEventListener(this, i3a_id, i3a_type));\n\n/Users/boos/code/graasp/public/javascripts/protoflow.js:\n   98          if (this.useCaptions) {\n   99              this.captionHolder = new Element('div');\n  100:             this.captionHolder.className = \"captionHolder\";\n  101              this.captionHolder.setStyle({\n  102                  width: \"100%\",\n  ...\n  126              \n  127              this.sliderTrack = new Element('div');\n  128:             this.sliderTrack.className = \"sliderTrack\";\n  129              \n  130              this.sliderHandle = new Element('div');\n  131:             this.sliderHandle.className = \"sliderHandle\";\n  132              \n  133              this.sliderTrack.appendChild(this.sliderHandle);\n\n/Users/boos/code/graasp/public/javascripts/prototype.js:\n 2296  \n 2297    classNames: function(element) {\n 2298:     return new Element.ClassNames(element);\n 2299    },\n 2300  \n 2301    hasClassName: function(element, className) {\n 2302      if (!(element = $(element))) return;\n 2303:     var elementClassName = element.className;\n 2304      return (elementClassName.length > 0 && (elementClassName == className ||\n 2305        new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(elementClassName)));\n ....\n 2309      if (!(element = $(element))) return;\n 2310      if (!Element.hasClassName(element, className))\n 2311:       element.className += (element.className ? ' ' : '') + className;\n 2312      return element;\n 2313    },\n ....\n 2315    removeClassName: function(element, className) {\n 2316      if (!(element = $(element))) return;\n 2317:     element.className = element.className.replace(\n 2318        new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), ' ').strip();\n 2319      return element;\n ....\n 2586      el.setAttribute(classProp, 'x');\n 2587  \n 2588:     if (el.className !== 'x') {\n 2589        el.setAttribute('class', 'x');\n 2590:       if (el.className === 'x') {\n 2591          classProp = 'class';\n 2592        }\n ....\n 4357        for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {\n 4358          if ( elem ) {\n 4359:           if ( not ^ (elem.className && (\" \" + elem.className + \" \").indexOf(match) >= 0) ) {\n 4360              if ( !inplace )\n 4361                result.push( elem );\n ....\n 4577      },\n 4578      CLASS: function(elem, match){\n 4579:       return (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\n 4580          .indexOf( match ) > -1;\n 4581      },\n ....\n 4814      return;\n 4815  \n 4816:   div.lastChild.className = \"e\";\n 4817  \n 4818    if ( div.getElementsByClassName(\"e\").length === 1 )\n ....\n 4820  \n 4821    Expr.order.splice(1, 0, \"CLASS\");\n 4822:   Expr.find.CLASS = function(match, context, isXML) {\n 4823      if ( typeof context.getElementsByClassName !== \"undefined\" && !isXML ) {\n 4824        return context.getElementsByClassName(match[1]);\n ....\n 5976  \n 5977      for (var i = 0, child, cn; child = nodes[i]; i++) {\n 5978:       if (child.className && (cn = ' ' + child.className + ' ') && (cn.include(className) ||\n 5979            (classNames && classNames.all(function(name) {\n 5980              return !name.toString().blank() && cn.include(' ' + name + ' ');\n ....\n 5992  /*--------------------------------------------------------------------------*/\n 5993  \n 5994: Element.ClassNames = Class.create();\n 5995: Element.ClassNames.prototype = {\n 5996    initialize: function(element) {\n 5997      this.element = $(element);\n ....\n 5999  \n 6000    _each: function(iterator) {\n 6001:     this.element.className.split(/\\s+/).select(function(name) {\n 6002        return name.length > 0;\n 6003      })._each(iterator);\n ....\n 6005  \n 6006    set: function(className) {\n 6007:     this.element.className = className;\n 6008    },\n 6009  \n ....\n 6023  };\n 6024  \n 6025: Object.extend(Element.ClassNames.prototype, Enumerable);\n 6026  \n 6027  /*--------------------------------------------------------------------------*/\n\n/Users/boos/code/graasp/public/javascripts/prototype_src.js:\n 2296  \n 2297    classNames: function(element) {\n 2298:     return new Element.ClassNames(element);\n 2299    },\n 2300  \n 2301    hasClassName: function(element, className) {\n 2302      if (!(element = $(element))) return;\n 2303:     var elementClassName = element.className;\n 2304      return (elementClassName.length > 0 && (elementClassName == className ||\n 2305        new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(elementClassName)));\n ....\n 2309      if (!(element = $(element))) return;\n 2310      if (!Element.hasClassName(element, className))\n 2311:       element.className += (element.className ? ' ' : '') + className;\n 2312      return element;\n 2313    },\n ....\n 2315    removeClassName: function(element, className) {\n 2316      if (!(element = $(element))) return;\n 2317:     element.className = element.className.replace(\n 2318        new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), ' ').strip();\n 2319      return element;\n ....\n 2586      el.setAttribute(classProp, 'x');\n 2587  \n 2588:     if (el.className !== 'x') {\n 2589        el.setAttribute('class', 'x');\n 2590:       if (el.className === 'x') {\n 2591          classProp = 'class';\n 2592        }\n ....\n 4357        for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {\n 4358          if ( elem ) {\n 4359:           if ( not ^ (elem.className && (\" \" + elem.className + \" \").indexOf(match) >= 0) ) {\n 4360              if ( !inplace )\n 4361                result.push( elem );\n ....\n 4577      },\n 4578      CLASS: function(elem, match){\n 4579:       return (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\n 4580          .indexOf( match ) > -1;\n 4581      },\n ....\n 4814      return;\n 4815  \n 4816:   div.lastChild.className = \"e\";\n 4817  \n 4818    if ( div.getElementsByClassName(\"e\").length === 1 )\n ....\n 4820  \n 4821    Expr.order.splice(1, 0, \"CLASS\");\n 4822:   Expr.find.CLASS = function(match, context, isXML) {\n 4823      if ( typeof context.getElementsByClassName !== \"undefined\" && !isXML ) {\n 4824        return context.getElementsByClassName(match[1]);\n ....\n 5976  \n 5977      for (var i = 0, child, cn; child = nodes[i]; i++) {\n 5978:       if (child.className && (cn = ' ' + child.className + ' ') && (cn.include(className) ||\n 5979            (classNames && classNames.all(function(name) {\n 5980              return !name.toString().blank() && cn.include(' ' + name + ' ');\n ....\n 5992  /*--------------------------------------------------------------------------*/\n 5993  \n 5994: Element.ClassNames = Class.create();\n 5995: Element.ClassNames.prototype = {\n 5996    initialize: function(element) {\n 5997      this.element = $(element);\n ....\n 5999  \n 6000    _each: function(iterator) {\n 6001:     this.element.className.split(/\\s+/).select(function(name) {\n 6002        return name.length > 0;\n 6003      })._each(iterator);\n ....\n 6005  \n 6006    set: function(className) {\n 6007:     this.element.className = className;\n 6008    },\n 6009  \n ....\n 6023  };\n 6024  \n 6025: Object.extend(Element.ClassNames.prototype, Enumerable);\n 6026  \n 6027  /*--------------------------------------------------------------------------*/\n\n/Users/boos/code/graasp/public/javascripts/reflection.js:\n   13      for (var i = 0; i < children.length; i++) {\n   14        var child = children[i];\n   15:       var classNames = child.className.split(' ');\n   16        for (var j = 0; j < classNames.length; j++) {\n   17          if (classNames[j] == className) {\n   ..\n   47        var p = image;\n   48        \n   49:       var classes = p.className.split(' ');\n   50        var newClasses = '';\n   51        for (j=0;j<classes.length;j++) {\n   ..\n   72                      \n   73          /* Copy original image's classes & styles to div */\n   74:         d.className = newClasses;\n   75:         p.className = 'reflected';\n   76          \n   77          d.style.cssText = p.style.cssText;\n   ..\n   97          if (canvas.getContext) {\n   98            /* Copy original image's classes & styles to div */\n   99:           d.className = newClasses;\n  100:           p.className = 'reflected';\n  101            \n  102            d.style.cssText = p.style.cssText;\n  ...\n  145    \n  146    remove : function(image) {\n  147:     if (image.className == \"reflected\") {\n  148:       image.className = image.parentNode.className;\n  149        image.parentNode.parentNode.replaceChild(image, image.parentNode);\n  150      }\n  ...\n  158      var ropacity = null;\n  159      \n  160:     var classes = rimages[i].className.split(' ');\n  161      for (j=0;j<classes.length;j++) {\n  162        if (classes[j].indexOf(\"rheight\") == 0) {\n\n/Users/boos/code/graasp/public/javascripts/rights.js:\n    6  function ToggleRow(name){\n    7    $('members'+name).style.display = ($('members'+name).style.display==\"none\")?\"\":\"none\";\n    8:   $('icon'+name).className = ($('members'+name).style.display==\"none\")?\"iconExp\":\"iconCol\";\n    9  }\n   10  \n\n/Users/boos/code/graasp/public/javascripts/rss_feeds/rss_links.js:\n    5      var newRow = document.createElement(\"div\");\n    6      var newDiv = document.createElement(\"input\");\n    7:     newDiv.className = \"linkFile\";\n    8      newDiv.id = \"link_attachment\" + linkCounter + \"_link\";\n    9      newDiv.name = \"link_attachment\" + linkCounter;\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/adapter/jquery/adapter.js:\n  162            .removeClass(c)\n  163            .each(function(){\n  164:             r.push(this.className);\n  165            });\n  166  \n  ...\n  248            case \"class\":\n  249              e.each(function(){\n  250:               this.className = v;\n  251              });\n  252              break;\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/dom/DOMUtils.js:\n  679  \n  680            case \"class\":\n  681:             e.className = v || ''; // Fix IE null bug\n  682              break;\n  683  \n  ...\n 1002  \n 1003          if (this.hasClass(e, c))\n 1004:           return e.className;\n 1005  \n 1006          o = this.removeClass(e, c);\n 1007  \n 1008:         return e.className = (o != '' ? (o + ' ') : '') + c;\n 1009        });\n 1010      },\n ....\n 1034              re = new RegExp(\"(^|\\\\s+)\" + c + \"(\\\\s+|$)\", \"g\");\n 1035  \n 1036:           v = e.className.replace(re, ' ');\n 1037            v = tinymce.trim(v != ' ' ? v : '');\n 1038  \n 1039:           e.className = v;\n 1040  \n 1041            // Empty class attr\n ....\n 1048          }\n 1049  \n 1050:         return e.className;\n 1051        });\n 1052      },\n ....\n 1066          return false;\n 1067  \n 1068:       return (' ' + n.className + ' ').indexOf(' ' + c + ' ') !== -1;\n 1069      },\n 1070  \n ....\n 1420      /**\n 1421       * Returns a array of all single CSS classes in the document. A single CSS class is a simple\n 1422:      * rule like \".class\" complex ones like \"div td.class\" will not be added to output.\n 1423       *\n 1424       * @method getClasses\n ....\n 1426       */\n 1427      getClasses : function() {\n 1428:       var t = this, cl = [], i, lo = {}, f = t.settings.class_filter, ov;\n 1429  \n 1430:       if (t.classes)\n 1431:         return t.classes;\n 1432  \n 1433        function addClasses(s) {\n ....\n 1481  \n 1482        if (cl.length > 0)\n 1483:         t.classes = cl;\n 1484  \n 1485        return cl;\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/dom/Sizzle.js:\n  424        for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {\n  425          if ( elem ) {\n  426:           if ( not ^ (elem.className && (\" \" + elem.className + \" \").replace(/[\\t\\n]/g, \" \").indexOf(match) >= 0) ) {\n  427              if ( !inplace ) {\n  428                result.push( elem );\n  ...\n  658      },\n  659      CLASS: function(elem, match){\n  660:       return (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\n  661          .indexOf( match ) > -1;\n  662      },\n  ...\n  946  \n  947    // Safari caches class attributes, doesn't catch changes (in 3.2)\n  948:   div.lastChild.className = \"e\";\n  949  \n  950    if ( div.getElementsByClassName(\"e\").length === 1 ) {\n  ...\n  953  \n  954    Expr.order.splice(1, 0, \"CLASS\");\n  955:   Expr.find.CLASS = function(match, context, isXML) {\n  956      if ( typeof context.getElementsByClassName !== \"undefined\" && !isXML ) {\n  957        return context.getElementsByClassName(match[1]);\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/Editor.js:\n 1293          url_converter_scope : t,\n 1294          hex_colors : s.force_hex_style_colors,\n 1295:         class_filter : s.class_filter,\n 1296          update_styles : 1,\n 1297          fix_ie_paragraphs : 1,\n ....\n 1609            if (n == 'class') {\n 1610              // Build regexp for classes\n 1611:             if (!t.classesRE) {\n 1612                cl = t.dom.getClasses();\n 1613  \n ....\n 1619                  });\n 1620  \n 1621:                 t.classesRE = new RegExp('(' + s + ')', 'gi');\n 1622                }\n 1623              }\n 1624  \n 1625:             return !t.classesRE || /(\\bmceItem\\w+\\b|\\bmceTemp\\w+\\b)/g.test(v) || t.classesRE.test(v) ? v : '';\n 1626            }\n 1627  \n ....\n 1759          url_converter_scope : t,\n 1760          hex_colors : s.force_hex_style_colors,\n 1761:         class_filter : s.class_filter,\n 1762          root_element : t.id,\n 1763          fix_ie_paragraphs : 1,\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/EditorManager.js:\n  178            case \"specific_textareas\":\n  179              function hasClass(n, c) {\n  180:               return c.constructor === RegExp ? c.test(n.className) : DOM.hasClass(n, c);\n  181              };\n  182  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/firebug/firebug-lite.js:\n 1189                result.push(\"<span class='Gray Italic'>\"+_value.nodeName.toLowerCase()+\"</span>\");\n 1190              } else {\n 1191:               result.push(\"<span class='Blue\"+ ( !_link?\"'\":\" ObjectLink' onmouseover='this.className=this.className.replace(\\\"ObjectLink\\\",\\\"ObjectLinkHover\\\")' onmouseout='this.className=this.className.replace(\\\"ObjectLinkHover\\\",\\\"ObjectLink\\\")' onclick='firebug.d.html.inspect(firebug.d.console.cache[\" +( d.console.cache.push( _value ) -1 )+\"])'\" ) + \"'>\");\n 1192  \n 1193                if(_inArray){\n ....\n 1237                result.push(\"<span class='Gray Italic'>Object</span>\");\n 1238              } else {\n 1239:               result.push(\"<span class='Strong Green\"+ ( !_link?\"'\":\" ObjectLink' onmouseover='this.className=this.className.replace(\\\"ObjectLink\\\",\\\"ObjectLinkHover\\\")' onmouseout='this.className=this.className.replace(\\\"ObjectLinkHover\\\",\\\"ObjectLink\\\")' onclick='firebug.d.console.openObject(\" +( d.console.cache.push( _value ) -1 )+\")'\" ) + \">Object\");\n 1240                var i=0;\n 1241                for(var key in _value){\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/Formatter.js:\n  112  \n  113              // Split classes if needed\n  114:             if (typeof(format.classes) === 'string')\n  115:               format.classes = format.classes.split(/\\s+/);\n  116            });\n  117  \n  ...\n  198            });\n  199  \n  200:           each(fmt.classes, function(value) {\n  201              value = replaceVars(value, vars);\n  202  \n  ...\n  838            if (matchName(node, format) && matchItems(node, format, 'attributes') && matchItems(node, format, 'styles')) {\n  839              // Match classes\n  840:             if (classes = format.classes) {\n  841                for (i = 0; i < classes.length; i++) {\n  842                  if (!dom.hasClass(node, classes[i]))\n  ...\n 1413  \n 1414          // Remove classes\n 1415:         each(format.classes, function(value) {\n 1416            value = replaceVars(value, vars);\n 1417  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/Button.js:\n   31      Button : function(id, s, ed) {\n   32        this.parent(id, s, ed);\n   33:       this.classPrefix = 'mceButton';\n   34      },\n   35  \n   ..\n   42       */\n   43      renderHTML : function() {\n   44:       var cp = this.classPrefix, s = this.settings, h, l;\n   45  \n   46        l = DOM.encode(s.label || '');\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/Control.js:\n   33        this.rendered = false;\n   34        this.onRender = new tinymce.util.Dispatcher(this);\n   35:       this.classPrefix = '';\n   36        this.scope = s.scope || this;\n   37        this.disabled = 0;\n   ..\n  115        var n = DOM.get(this.id);\n  116  \n  117:       c = this.classPrefix + c;\n  118  \n  119        if (s)\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/DropMenu.js:\n   42        this.onShowMenu = new tinymce.util.Dispatcher(this);\n   43        this.onHideMenu = new tinymce.util.Dispatcher(this);\n   44:       this.classPrefix = 'mceMenu';\n   45      },\n   46  \n   ..\n  112       */\n  113      showMenu : function(x, y, px) {\n  114:       var t = this, s = t.settings, co, vp = DOM.getViewPort(), w, h, mx, my, ot = 2, dm, tb, cp = t.classPrefix;\n  115  \n  116        t.collapse(1);\n  ...\n  246  \n  247        if (e = DOM.get(t.id))\n  248:         DOM.removeClass(e.firstChild, t.classPrefix + 'ItemActive');\n  249  \n  250        t.onHideMenu.dispatch(t);\n  ...\n  327          DOM.setAttrib(w, 'aria-parent', 'menu_' + t.settings.parent.id);\n  328        }\n  329:       co = DOM.add(w, 'div', {role: 'presentation', id : 'menu_' + t.id + '_co', 'class' : t.classPrefix + (s['class'] ? ' ' + s['class'] : '')});\n  330        t.element = new Element('menu_' + t.id, {blocker : 1, container : s.container});\n  331  \n  332        if (s.menu_line)\n  333:         DOM.add(co, 'span', {'class' : t.classPrefix + 'Line'});\n  334  \n  335  //      n = DOM.add(co, 'div', {id : 'menu_' + t.id + '_co', 'class' : 'mceMenuContainer'});\n  ...\n  381  \n  382      _add : function(tb, o) {\n  383:       var n, s = o.settings, a, ro, it, cp = this.classPrefix, ic;\n  384  \n  385        if (s.separator) {\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/ListBox.js:\n  105        t.onRenderMenu = new tinymce.util.Dispatcher(this);\n  106  \n  107:       t.classPrefix = 'mceListBox';\n  108      },\n  109  \n  ...\n  218       */\n  219      renderHTML : function() {\n  220:       var h = '', t = this, s = t.settings, cp = t.classPrefix;\n  221  \n  222        h = '<span role=\"listbox\" aria-haspopup=\"true\" aria-labelledby=\"' + t.id +'_voiceDesc\" aria-describedby=\"' + t.id + '_voiceDesc\"><table role=\"presentation\" tabindex=\"0\" id=\"' + t.id + '\" cellpadding=\"0\" cellspacing=\"0\" class=\"' + cp + ' ' + cp + 'Enabled' + (s['class'] ? (' ' + s['class']) : '') + '\"><tbody><tr>';\n  ...\n  269  \n  270        Event.add(DOM.doc, 'mousedown', t.hideMenu, t);\n  271:       DOM.addClass(t.id, t.classPrefix + 'Selected');\n  272  \n  273        //DOM.get(t.id + '_text').focus();\n  ...\n  283  \n  284        if (t.menu && t.menu.isMenuVisible) {\n  285:         DOM.removeClass(t.id, t.classPrefix + 'Selected');\n  286  \n  287          // Prevent double toogles by canceling the mouse click event to the button\n  ...\n  290  \n  291          if (!e || !DOM.getParent(e.target, '.mceMenu')) {\n  292:           DOM.removeClass(t.id, t.classPrefix + 'Selected');\n  293            Event.remove(DOM.doc, 'mousedown', t.hideMenu, t);\n  294            t.menu.hideMenu();\n  ...\n  307        m = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n  308          menu_line : 1,\n  309:         'class' : t.classPrefix + 'Menu mceNoIcons',\n  310          max_width : 150,\n  311          max_height : 150\n  ...\n  361       */\n  362      postRender : function() {\n  363:       var t = this, cp = t.classPrefix;\n  364  \n  365        Event.add(t.id, 'click', t.showMenu, t);\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/MenuButton.js:\n  118        m = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n  119          menu_line : 1,\n  120:         'class' : this.classPrefix + 'Menu',\n  121          icons : t.settings.icons\n  122        });\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/MenuItem.js:\n   30      MenuItem : function(id, s) {\n   31        this.parent(id, s);\n   32:       this.classPrefix = 'mceMenuItem';\n   33      },\n   34  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/NativeListBox.js:\n   30      NativeListBox : function(id, s) {\n   31        this.parent(id, s);\n   32:       this.classPrefix = 'mceNativeListBox';\n   33      },\n   34  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/Separator.js:\n   26    Separator : function(id, s) {\n   27      this.parent(id, s);\n   28:     this.classPrefix = 'mceSeparator';\n   29      this.setDisabled(true);\n   30    },\n   ..\n   38     */\n   39    renderHTML : function() {\n   40:     return tinymce.DOM.createHTML('span', {'class' : this.classPrefix, role : 'separator', 'aria-orientation' : 'vertical', tabindex : '-1'});\n   41    }\n   42  });\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/classes/ui/SplitButton.js:\n   63      SplitButton : function(id, s, ed) {\n   64        this.parent(id, s, ed);\n   65:       this.classPrefix = 'mceSplitButton';\n   66      },\n   67  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/advimage/image.htm:\n  135  \n  136  						<!-- <tr>\n  137: 							<td class=\"column1\"><label id=\"classeslabel\" for=\"classes\">{#advimage_dlg.classes}</label></td> \n  138  							<td colspan=\"2\"><input id=\"classes\" name=\"classes\" type=\"text\" value=\"\" onchange=\"selectByValue(this.form,'classlist',this.value,true);\" /></td> \n  139  						</tr> -->\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/advlink/js/advlink.js:\n   17    var f = document.forms[0];\n   18  \n   19:   f.classes.value = getSelectValue(f, 'classlist');\n   20  }\n   21  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/advlink/link.htm:\n  157  \n  158  						<tr>\n  159: 							<td><label id=\"classeslabel\" for=\"classes\">{#advlink_dlg.classes}</label></td>\n  160  							<td><input type=\"text\" id=\"classes\" name=\"classes\" value=\"\" onchange=\"selectByValue(this.form,'classlist',this.value,true);\" /></td>\n  161  						</tr>\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/inlinepopups/editor_plugin.js:\n    1: (function(){var d=tinymce.DOM,b=tinymce.dom.Element,a=tinymce.dom.Event,e=tinymce.each,c=tinymce.is;tinymce.create(\"tinymce.plugins.InlinePopups\",{init:function(f,g){f.onBeforeRenderUI.add(function(){f.windowManager=new tinymce.InlineWindowManager(f);d.loadCSS(g+\"/skins/\"+(f.settings.inlinepopups_skin||\"clearlooks2\")+\"/window.css\")})},getInfo:function(){return{longname:\"InlinePopups\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/inlinepopups\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}}});tinymce.create(\"tinymce.InlineWindowManager:tinymce.WindowManager\",{InlineWindowManager:function(f){var g=this;g.parent(f);g.zIndex=300000;g.count=0;g.windows={}},open:function(s,j){var z=this,i,k=\"\",r=z.editor,g=0,v=0,h,m,o,q,l,x,y,n;s=s||{};j=j||{};if(!s.inline){return z.parent(s,j)}n=z._frontWindow();if(n&&d.get(n.id+\"_ifr\")){n.focussedElement=d.get(n.id+\"_ifr\").contentWindow.document.activeElement}if(!s.type){z.bookmark=r.selection.getBookmark(1)}i=d.uniqueId();h=d.getViewPort();s.width=parseInt(s.width||320);s.height=parseInt(s.height||240)+(tinymce.isIE?8:0);s.min_width=parseInt(s.min_width||150);s.min_height=parseInt(s.min_height||100);s.max_width=parseInt(s.max_width||2000);s.max_height=parseInt(s.max_height||2000);s.left=s.left||Math.round(Math.max(h.x,h.x+(h.w/2)-(s.width/2)));s.top=s.top||Math.round(Math.max(h.y,h.y+(h.h/2)-(s.height/2)));s.movable=s.resizable=true;j.mce_width=s.width;j.mce_height=s.height;j.mce_inline=true;j.mce_window_id=i;j.mce_auto_focus=s.auto_focus;z.features=s;z.params=j;z.onOpen.dispatch(z,s,j);if(s.type){k+=\" mceModal\";if(s.type){k+=\" mce\"+s.type.substring(0,1).toUpperCase()+s.type.substring(1)}s.resizable=false}if(s.statusbar){k+=\" mceStatusbar\"}if(s.resizable){k+=\" mceResizable\"}if(s.minimizable){k+=\" mceMinimizable\"}if(s.maximizable){k+=\" mceMaximizable\"}if(s.movable){k+=\" mceMovable\"}z._addAll(d.doc.body,[\"div\",{id:i,role:\"dialog\",\"aria-labelledby\":s.type?i+\"_content\":i+\"_title\",\"class\":(r.settings.inlinepopups_skin||\"clearlooks2\")+(tinymce.isIE&&window.getSelection?\" ie9\":\"\"),style:\"width:100px;height:100px\"},[\"div\",{id:i+\"_wrapper\",\"class\":\"mceWrapper\"+k},[\"div\",{id:i+\"_top\",\"class\":\"mceTop\"},[\"div\",{\"class\":\"mceLeft\"}],[\"div\",{\"class\":\"mceCenter\"}],[\"div\",{\"class\":\"mceRight\"}],[\"span\",{id:i+\"_title\"},s.title||\"\"]],[\"div\",{id:i+\"_middle\",\"class\":\"mceMiddle\"},[\"div\",{id:i+\"_left\",\"class\":\"mceLeft\",tabindex:\"0\"}],[\"span\",{id:i+\"_content\"}],[\"div\",{id:i+\"_right\",\"class\":\"mceRight\",tabindex:\"0\"}]],[\"div\",{id:i+\"_bottom\",\"class\":\"mceBottom\"},[\"div\",{\"class\":\"mceLeft\"}],[\"div\",{\"class\":\"mceCenter\"}],[\"div\",{\"class\":\"mceRight\"}],[\"span\",{id:i+\"_status\"},\"Content\"]],[\"a\",{\"class\":\"mceMove\",tabindex:\"-1\",href:\"javascript:;\"}],[\"a\",{\"class\":\"mceMin\",tabindex:\"-1\",href:\"javascript:;\",onmousedown:\"return false;\"}],[\"a\",{\"class\":\"mceMax\",tabindex:\"-1\",href:\"javascript:;\",onmousedown:\"return false;\"}],[\"a\",{\"class\":\"mceMed\",tabindex:\"-1\",href:\"javascript:;\",onmousedown:\"return false;\"}],[\"a\",{\"class\":\"mceClose\",tabindex:\"-1\",href:\"javascript:;\",onmousedown:\"return false;\"}],[\"a\",{id:i+\"_resize_n\",\"class\":\"mceResize mceResizeN\",tabindex:\"-1\",href:\"javascript:;\"}],[\"a\",{id:i+\"_resize_s\",\"class\":\"mceResize mceResizeS\",tabindex:\"-1\",href:\"javascript:;\"}],[\"a\",{id:i+\"_resize_w\",\"class\":\"mceResize mceResizeW\",tabindex:\"-1\",href:\"javascript:;\"}],[\"a\",{id:i+\"_resize_e\",\"class\":\"mceResize mceResizeE\",tabindex:\"-1\",href:\"javascript:;\"}],[\"a\",{id:i+\"_resize_nw\",\"class\":\"mceResize mceResizeNW\",tabindex:\"-1\",href:\"javascript:;\"}],[\"a\",{id:i+\"_resize_ne\",\"class\":\"mceResize mceResizeNE\",tabindex:\"-1\",href:\"javascript:;\"}],[\"a\",{id:i+\"_resize_sw\",\"class\":\"mceResize mceResizeSW\",tabindex:\"-1\",href:\"javascript:;\"}],[\"a\",{id:i+\"_resize_se\",\"class\":\"mceResize mceResizeSE\",tabindex:\"-1\",href:\"javascript:;\"}]]]);d.setStyles(i,{top:-10000,left:-10000});if(tinymce.isGecko){d.setStyle(i,\"overflow\",\"auto\")}if(!s.type){g+=d.get(i+\"_left\").clientWidth;g+=d.get(i+\"_right\").clientWidth;v+=d.get(i+\"_top\").clientHeight;v+=d.get(i+\"_bottom\").clientHeight}d.setStyles(i,{top:s.top,left:s.left,width:s.width+g,height:s.height+v});y=s.url||s.file;if(y){if(tinymce.relaxedDomain){y+=(y.indexOf(\"?\")==-1?\"?\":\"&\")+\"mce_rdomain=\"+tinymce.relaxedDomain}y=tinymce._addVer(y)}if(!s.type){d.add(i+\"_content\",\"iframe\",{id:i+\"_ifr\",src:'javascript:\"\"',frameBorder:0,style:\"border:0;width:10px;height:10px\"});d.setStyles(i+\"_ifr\",{width:s.width,height:s.height});d.setAttrib(i+\"_ifr\",\"src\",y)}else{d.add(i+\"_wrapper\",\"a\",{id:i+\"_ok\",\"class\":\"mceButton mceOk\",href:\"javascript:;\",onmousedown:\"return false;\"},\"Ok\");if(s.type==\"confirm\"){d.add(i+\"_wrapper\",\"a\",{\"class\":\"mceButton mceCancel\",href:\"javascript:;\",onmousedown:\"return false;\"},\"Cancel\")}d.add(i+\"_middle\",\"div\",{\"class\":\"mceIcon\"});d.setHTML(i+\"_content\",s.content.replace(\"\\n\",\"<br />\"));a.add(i,\"keyup\",function(f){var p=27;if(f.keyCode===p){s.button_func(false);return a.cancel(f)}});a.add(i,\"keydown\",function(f){var t,p=9;if(f.keyCode===p){t=d.select(\"a.mceCancel\",i+\"_wrapper\")[0];if(t&&t!==f.target){t.focus()}else{d.get(i+\"_ok\").focus()}return a.cancel(f)}})}o=a.add(i,\"mousedown\",function(t){var u=t.target,f,p;f=z.windows[i];z.focus(i);if(u.nodeName==\"A\"||u.nodeName==\"a\"){if(u.className==\"mceClose\"){z.close(null,i);return a.cancel(t)}else{if(u.className==\"mceMax\"){f.oldPos=f.element.getXY();f.oldSize=f.element.getSize();p=d.getViewPort();p.w-=2;p.h-=2;f.element.moveTo(p.x,p.y);f.element.resizeTo(p.w,p.h);d.setStyles(i+\"_ifr\",{width:p.w-f.deltaWidth,height:p.h-f.deltaHeight});d.addClass(i+\"_wrapper\",\"mceMaximized\")}else{if(u.className==\"mceMed\"){f.element.moveTo(f.oldPos.x,f.oldPos.y);f.element.resizeTo(f.oldSize.w,f.oldSize.h);f.iframeElement.resizeTo(f.oldSize.w-f.deltaWidth,f.oldSize.h-f.deltaHeight);d.removeClass(i+\"_wrapper\",\"mceMaximized\")}else{if(u.className==\"mceMove\"){return z._startDrag(i,t,u.className)}else{if(d.hasClass(u,\"mceResize\")){return z._startDrag(i,t,u.className.substring(13))}}}}}}});q=a.add(i,\"click\",function(f){var p=f.target;z.focus(i);if(p.nodeName==\"A\"||p.nodeName==\"a\"){switch(p.className){case\"mceClose\":z.close(null,i);return a.cancel(f);case\"mceButton mceOk\":case\"mceButton mceCancel\":s.button_func(p.className==\"mceButton mceOk\");return a.cancel(f)}}});a.add([i+\"_left\",i+\"_right\"],\"focus\",function(p){var t=d.get(i+\"_ifr\");if(t){var f=t.contentWindow.document.body;var u=d.select(\":input:enabled,*[tabindex=0]\",f);if(p.target.id===(i+\"_left\")){u[u.length-1].focus()}else{u[0].focus()}}else{d.get(i+\"_ok\").focus()}});x=z.windows[i]={id:i,mousedown_func:o,click_func:q,element:new b(i,{blocker:1,container:r.getContainer()}),iframeElement:new b(i+\"_ifr\"),features:s,deltaWidth:g,deltaHeight:v};x.iframeElement.on(\"focus\",function(){z.focus(i)});if(z.count==0&&z.editor.getParam(\"dialog_type\",\"modal\")==\"modal\"){d.add(d.doc.body,\"div\",{id:\"mceModalBlocker\",\"class\":(z.editor.settings.inlinepopups_skin||\"clearlooks2\")+\"_modalBlocker\",style:{zIndex:z.zIndex-1}});d.show(\"mceModalBlocker\");d.setAttrib(d.doc.body,\"aria-hidden\",\"true\")}else{d.setStyle(\"mceModalBlocker\",\"z-index\",z.zIndex-1)}if(tinymce.isIE6||/Firefox\\/2\\./.test(navigator.userAgent)||(tinymce.isIE&&!d.boxModel)){d.setStyles(\"mceModalBlocker\",{position:\"absolute\",left:h.x,top:h.y,width:h.w-2,height:h.h-2})}d.setAttrib(i,\"aria-hidden\",\"false\");z.focus(i);z._fixIELayout(i,1);if(d.get(i+\"_ok\")){d.get(i+\"_ok\").focus()}z.count++;return x},focus:function(h){var g=this,f;if(f=g.windows[h]){f.zIndex=this.zIndex++;f.element.setStyle(\"zIndex\",f.zIndex);f.element.update();h=h+\"_wrapper\";d.removeClass(g.lastId,\"mceFocus\");d.addClass(h,\"mceFocus\");g.lastId=h;if(f.focussedElement){f.focussedElement.focus()}else{if(d.get(h+\"_ok\")){d.get(f.id+\"_ok\").focus()}else{if(d.get(f.id+\"_ifr\")){d.get(f.id+\"_ifr\").focus()}}}}},_addAll:function(k,h){var g,l,f=this,j=tinymce.DOM;if(c(h,\"string\")){k.appendChild(j.doc.createTextNode(h))}else{if(h.length){k=k.appendChild(j.create(h[0],h[1]));for(g=2;g<h.length;g++){f._addAll(k,h[g])}}}},_startDrag:function(v,G,E){var o=this,u,z,C=d.doc,f,l=o.windows[v],h=l.element,y=h.getXY(),x,q,F,g,A,s,r,j,i,m,k,n,B;g={x:0,y:0};A=d.getViewPort();A.w-=2;A.h-=2;j=G.screenX;i=G.screenY;m=k=n=B=0;u=a.add(C,\"mouseup\",function(p){a.remove(C,\"mouseup\",u);a.remove(C,\"mousemove\",z);if(f){f.remove()}h.moveBy(m,k);h.resizeBy(n,B);q=h.getSize();d.setStyles(v+\"_ifr\",{width:q.w-l.deltaWidth,height:q.h-l.deltaHeight});o._fixIELayout(v,1);return a.cancel(p)});if(E!=\"Move\"){D()}function D(){if(f){return}o._fixIELayout(v,0);d.add(C.body,\"div\",{id:\"mceEventBlocker\",\"class\":\"mceEventBlocker \"+(o.editor.settings.inlinepopups_skin||\"clearlooks2\"),style:{zIndex:o.zIndex+1}});if(tinymce.isIE6||(tinymce.isIE&&!d.boxModel)){d.setStyles(\"mceEventBlocker\",{position:\"absolute\",left:A.x,top:A.y,width:A.w-2,height:A.h-2})}f=new b(\"mceEventBlocker\");f.update();x=h.getXY();q=h.getSize();s=g.x+x.x-A.x;r=g.y+x.y-A.y;d.add(f.get(),\"div\",{id:\"mcePlaceHolder\",\"class\":\"mcePlaceHolder\",style:{left:s,top:r,width:q.w,height:q.h}});F=new b(\"mcePlaceHolder\")}z=a.add(C,\"mousemove\",function(w){var p,H,t;D();p=w.screenX-j;H=w.screenY-i;switch(E){case\"ResizeW\":m=p;n=0-p;break;case\"ResizeE\":n=p;break;case\"ResizeN\":case\"ResizeNW\":case\"ResizeNE\":if(E==\"ResizeNW\"){m=p;n=0-p}else{if(E==\"ResizeNE\"){n=p}}k=H;B=0-H;break;case\"ResizeS\":case\"ResizeSW\":case\"ResizeSE\":if(E==\"ResizeSW\"){m=p;n=0-p}else{if(E==\"ResizeSE\"){n=p}}B=H;break;case\"mceMove\":m=p;k=H;break}if(n<(t=l.features.min_width-q.w)){if(m!==0){m+=n-t}n=t}if(B<(t=l.features.min_height-q.h)){if(k!==0){k+=B-t}B=t}n=Math.min(n,l.features.max_width-q.w);B=Math.min(B,l.features.max_height-q.h);m=Math.max(m,A.x-(s+A.x));k=Math.max(k,A.y-(r+A.y));m=Math.min(m,(A.w+A.x)-(s+q.w+A.x));k=Math.min(k,(A.h+A.y)-(r+q.h+A.y));if(m+k!==0){if(s+m<0){m=0}if(r+k<0){k=0}F.moveTo(s+m,r+k)}if(n+B!==0){F.resizeTo(q.w+n,q.h+B)}return a.cancel(w)});return a.cancel(G)},resizeBy:function(g,h,i){var f=this.windows[i];if(f){f.element.resizeBy(g,h);f.iframeElement.resizeBy(g,h)}},close:function(i,k){var g=this,f,j=d.doc,h,k;k=g._findId(k||i);if(!g.windows[k]){g.parent(i);return}g.count--;if(g.count==0){d.remove(\"mceModalBlocker\");d.setAttrib(d.doc.body,\"aria-hidden\",\"false\");g.editor.focus()}if(f=g.windows[k]){g.onClose.dispatch(g);a.remove(j,\"mousedown\",f.mousedownFunc);a.remove(j,\"click\",f.clickFunc);a.clear(k);a.clear(k+\"_ifr\");d.setAttrib(k+\"_ifr\",\"src\",'javascript:\"\"');f.element.remove();delete g.windows[k];h=g._frontWindow();if(h){g.focus(h.id)}}},_frontWindow:function(){var g,f=0;e(this.windows,function(h){if(h.zIndex>f){g=h;f=h.zIndex}});return g},setTitle:function(f,g){var h;f=this._findId(f);if(h=d.get(f+\"_title\")){h.innerHTML=d.encode(g)}},alert:function(g,f,j){var i=this,h;h=i.open({title:i,type:\"alert\",button_func:function(k){if(f){f.call(k||i,k)}i.close(null,h.id)},content:d.encode(i.editor.getLang(g,g)),inline:1,width:400,height:130})},confirm:function(g,f,j){var i=this,h;h=i.open({title:i,type:\"confirm\",button_func:function(k){if(f){f.call(k||i,k)}i.close(null,h.id)},content:d.encode(i.editor.getLang(g,g)),inline:1,width:400,height:130})},_findId:function(f){var g=this;if(typeof(f)==\"string\"){return f}e(g.windows,function(h){var i=d.get(h.id+\"_ifr\");if(i&&f==i.contentWindow){f=h.id;return false}});return f},_fixIELayout:function(i,h){var f,g;if(!tinymce.isIE6){return}e([\"n\",\"s\",\"w\",\"e\",\"nw\",\"ne\",\"sw\",\"se\"],function(j){var k=d.get(i+\"_resize_\"+j);d.setStyles(k,{width:h?k.clientWidth:\"\",height:h?k.clientHeight:\"\",cursor:d.getStyle(k,\"cursor\",1)});d.setStyle(i+\"_bottom\",\"bottom\",\"-1px\");k=0});if(f=this.windows[i]){f.element.hide();f.element.show();e(d.select(\"div,a\",i),function(k,j){if(k.currentStyle.backgroundImage!=\"none\"){g=new Image();g.src=k.currentStyle.backgroundImage.replace(/url\\(\\\"(.+)\\\"\\)/,\"$1\")}});d.get(i).style.filter=\"\"}}});tinymce.PluginManager.add(\"inlinepopups\",tinymce.plugins.InlinePopups)})();\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/inlinepopups/editor_plugin_src.js:\n  220  \n  221          if (n.nodeName == 'A' || n.nodeName == 'a') {\n  222:           if (n.className == 'mceClose') {\n  223              t.close(null, id);\n  224              return Event.cancel(e);\n  225:           } else if (n.className == 'mceMax') {\n  226              w.oldPos = w.element.getXY();\n  227              w.oldSize = w.element.getSize();\n  ...\n  237              DOM.setStyles(id + '_ifr', {width : vp.w - w.deltaWidth, height : vp.h - w.deltaHeight});\n  238              DOM.addClass(id + '_wrapper', 'mceMaximized');\n  239:           } else if (n.className == 'mceMed') {\n  240              // Reset to old size\n  241              w.element.moveTo(w.oldPos.x, w.oldPos.y);\n  ...\n  244  \n  245              DOM.removeClass(id + '_wrapper', 'mceMaximized');\n  246:           } else if (n.className == 'mceMove')\n  247:             return t._startDrag(id, e, n.className);\n  248            else if (DOM.hasClass(n, 'mceResize'))\n  249:             return t._startDrag(id, e, n.className.substring(13));\n  250          }\n  251        });\n  ...\n  257  \n  258          if (n.nodeName == 'A' || n.nodeName == 'a') {\n  259:           switch (n.className) {\n  260              case 'mceClose':\n  261                t.close(null, id);\n  ...\n  264              case 'mceButton mceOk':\n  265              case 'mceButton mceCancel':\n  266:               f.button_func(n.className == 'mceButton mceOk');\n  267                return Event.cancel(e);\n  268            }\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/layer/editor_plugin.js:\n    1: (function(){function a(b){do{if(b.className&&b.className.indexOf(\"mceItemLayer\")!=-1){return b}}while(b=b.parentNode)}tinymce.create(\"tinymce.plugins.Layer\",{init:function(b,c){var d=this;d.editor=b;b.addCommand(\"mceInsertLayer\",d._insertLayer,d);b.addCommand(\"mceMoveForward\",function(){d._move(1)});b.addCommand(\"mceMoveBackward\",function(){d._move(-1)});b.addCommand(\"mceMakeAbsolute\",function(){d._toggleAbsolute()});b.addButton(\"moveforward\",{title:\"layer.forward_desc\",cmd:\"mceMoveForward\"});b.addButton(\"movebackward\",{title:\"layer.backward_desc\",cmd:\"mceMoveBackward\"});b.addButton(\"absolute\",{title:\"layer.absolute_desc\",cmd:\"mceMakeAbsolute\"});b.addButton(\"insertlayer\",{title:\"layer.insertlayer_desc\",cmd:\"mceInsertLayer\"});b.onInit.add(function(){var e=b.dom;if(tinymce.isIE){b.getDoc().execCommand(\"2D-Position\",false,true)}});b.onMouseUp.add(function(f,h){var g=a(h.target);if(g){f.dom.setAttrib(g,\"data-mce-style\",\"\")}});b.onMouseDown.add(function(f,j){var h=j.target,i=f.getDoc(),g;if(tinymce.isGecko){if(a(h)){if(i.designMode!==\"on\"){i.designMode=\"on\";h=i.body;g=h.parentNode;g.removeChild(h);g.appendChild(h)}}else{if(i.designMode==\"on\"){i.designMode=\"off\"}}}});b.onNodeChange.add(d._nodeChange,d);b.onVisualAid.add(d._visualAid,d)},getInfo:function(){return{longname:\"Layer\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/layer\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}},_nodeChange:function(c,b,f){var d,e;d=this._getParentLayer(f);e=c.dom.getParent(f,\"DIV,P,IMG\");if(!e){b.setDisabled(\"absolute\",1);b.setDisabled(\"moveforward\",1);b.setDisabled(\"movebackward\",1)}else{b.setDisabled(\"absolute\",0);b.setDisabled(\"moveforward\",!d);b.setDisabled(\"movebackward\",!d);b.setActive(\"absolute\",d&&d.style.position.toLowerCase()==\"absolute\")}},_visualAid:function(b,d,c){var f=b.dom;tinymce.each(f.select(\"div,p\",d),function(g){if(/^(absolute|relative|fixed)$/i.test(g.style.position)){if(c){f.addClass(g,\"mceItemVisualAid\")}else{f.removeClass(g,\"mceItemVisualAid\")}f.addClass(g,\"mceItemLayer\")}})},_move:function(j){var c=this.editor,g,h=[],f=this._getParentLayer(c.selection.getNode()),e=-1,k=-1,b;b=[];tinymce.walk(c.getBody(),function(d){if(d.nodeType==1&&/^(absolute|relative|static)$/i.test(d.style.position)){b.push(d)}},\"childNodes\");for(g=0;g<b.length;g++){h[g]=b[g].style.zIndex?parseInt(b[g].style.zIndex):0;if(e<0&&b[g]==f){e=g}}if(j<0){for(g=0;g<h.length;g++){if(h[g]<h[e]){k=g;break}}if(k>-1){b[e].style.zIndex=h[k];b[k].style.zIndex=h[e]}else{if(h[e]>0){b[e].style.zIndex=h[e]-1}}}else{for(g=0;g<h.length;g++){if(h[g]>h[e]){k=g;break}}if(k>-1){b[e].style.zIndex=h[k];b[k].style.zIndex=h[e]}else{b[e].style.zIndex=h[e]+1}}c.execCommand(\"mceRepaint\")},_getParentLayer:function(b){return this.editor.dom.getParent(b,function(c){return c.nodeType==1&&/^(absolute|relative|static)$/i.test(c.style.position)})},_insertLayer:function(){var c=this.editor,e=c.dom,d=e.getPos(e.getParent(c.selection.getNode(),\"*\")),b=c.getBody();c.dom.add(b,\"div\",{style:{position:\"absolute\",left:d.x,top:(d.y>20?d.y:20),width:100,height:100},\"class\":\"mceItemVisualAid mceItemLayer\"},c.selection.getContent()||c.getLang(\"layer.content\"));if(tinymce.isIE){e.setHTML(b,b.innerHTML)}},_toggleAbsolute:function(){var b=this.editor,c=this._getParentLayer(b.selection.getNode());if(!c){c=b.dom.getParent(b.selection.getNode(),\"DIV,P,IMG\")}if(c){if(c.style.position.toLowerCase()==\"absolute\"){b.dom.setStyles(c,{position:\"\",left:\"\",top:\"\",width:\"\",height:\"\"});b.dom.removeClass(c,\"mceItemVisualAid\");b.dom.removeClass(c,\"mceItemLayer\")}else{if(c.style.left==\"\"){c.style.left=20+\"px\"}if(c.style.top==\"\"){c.style.top=20+\"px\"}if(c.style.width==\"\"){c.style.width=c.width?(c.width+\"px\"):\"100px\"}if(c.style.height==\"\"){c.style.height=c.height?(c.height+\"px\"):\"100px\"}c.style.position=\"absolute\";b.dom.setAttrib(c,\"data-mce-style\",\"\");b.addVisual(b.getBody())}b.execCommand(\"mceRepaint\");b.nodeChanged()}}});tinymce.PluginManager.add(\"layer\",tinymce.plugins.Layer)})();\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/layer/editor_plugin_src.js:\n   12    function findParentLayer(node) {\n   13      do {\n   14:       if (node.className && node.className.indexOf('mceItemLayer') != -1) {\n   15          return node;\n   16        }\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/lists/editor_plugin.js:\n    1: (function(){var e=tinymce.each,r=tinymce.dom.Event,g;function p(t,s){while(t&&(t.nodeType===8||(t.nodeType===3&&/^[ \\t\\n\\r]*$/.test(t.nodeValue)))){t=s(t)}return t}function b(s){return p(s,function(t){return t.previousSibling})}function i(s){return p(s,function(t){return t.nextSibling})}function d(s,u,t){return s.dom.getParent(u,function(v){return tinymce.inArray(t,v)!==-1})}function n(s){return s&&(s.tagName===\"OL\"||s.tagName===\"UL\")}function c(u,v){var t,w,s;t=b(u.lastChild);while(n(t)){w=t;t=b(w.previousSibling)}if(w){s=v.create(\"li\",{style:\"list-style-type: none;\"});v.split(u,w);v.insertAfter(s,w);s.appendChild(w);s.appendChild(w);u=s.previousSibling}return u}function m(t,s,u){t=a(t,s,u);return o(t,s,u)}function a(u,s,v){var t=b(u.previousSibling);if(t){return h(t,u,s?t:false,v)}else{return u}}function o(u,t,v){var s=i(u.nextSibling);if(s){return h(u,s,t?s:false,v)}else{return u}}function h(u,s,t,v){if(l(u,s,!!t,v)){return f(u,s,t)}else{if(u&&u.tagName===\"LI\"&&n(s)){u.appendChild(s)}}return s}function l(u,t,s,v){if(!u||!t){return false}else{if(u.tagName===\"LI\"&&t.tagName===\"LI\"){return t.style.listStyleType===\"none\"||j(t)}else{if(n(u)){return(u.tagName===t.tagName&&(s||u.style.listStyleType===t.style.listStyleType))||q(t)}else{if(v&&u.tagName===\"P\"&&t.tagName===\"P\"){return true}else{return false}}}}}function q(t){var s=i(t.firstChild),u=b(t.lastChild);return s&&u&&n(t)&&s===u&&(n(s)||s.style.listStyleType===\"none\"||j(s))}function j(u){var t=i(u.firstChild),s=b(u.lastChild);return t&&s&&t===s&&n(t)}function f(w,v,s){var u=b(w.lastChild),t=i(v.firstChild);if(w.tagName===\"P\"){w.appendChild(w.ownerDocument.createElement(\"br\"))}while(v.firstChild){w.appendChild(v.firstChild)}if(s){w.style.listStyleType=s.style.listStyleType}v.parentNode.removeChild(v);h(u,t,false);return w}function k(t,u){var s;if(!u.is(t,\"li,ol,ul\")){s=u.getParent(t,\"li\");if(s){t=s}}return t}tinymce.create(\"tinymce.plugins.Lists\",{init:function(A,y){var w=0;var t=1;var H=2;var J=3;var z=J;function C(M){return M.keyCode===9&&(A.queryCommandState(\"InsertUnorderedList\")||A.queryCommandState(\"InsertOrderedList\"))}function x(){var M=B();var O=M.parentNode.parentNode;var N=M.parentNode.lastChild===M;return N&&!u(O)&&K(M)}function u(M){if(n(M)){return M.parentNode&&M.parentNode.tagName===\"LI\"}else{return M.tagName===\"LI\"}}function D(){return A.selection.isCollapsed()&&K(B())}function B(){var M=A.selection.getStart();return((M.tagName==\"BR\"||M.tagName==\"\")&&M.parentNode.tagName==\"LI\")?M.parentNode:M}function K(M){var N=M.childNodes.length;if(M.tagName===\"LI\"){return N==0?true:N==1&&(M.firstChild.tagName==\"\"||F(M)||G(M))}return false}function F(M){return tinymce.isWebKit&&M.firstChild.nodeName==\"BR\"}function G(M){var N=tinymce.grep(M.parentNode.childNodes,function(Q){return Q.nodeName==\"LI\"});var O=M==N[N.length-1];var P=M.firstChild;return tinymce.isIE9&&O&&(P.nodeValue==String.fromCharCode(160)||P.nodeValue==String.fromCharCode(32))}function L(M){return M.keyCode===13}function I(M){if(C(M)){return w}else{if(L(M)&&x()){return H}else{if(L(M)&&D()){return t}else{return J}}}}function s(M,N){if(z==w||z==t){return r.cancel(N)}}function v(P,R){var U;if(!tinymce.isGecko){return}var N=P.selection.getStart();if(R.keyCode!=8||N.tagName!==\"IMG\"){return}function O(Y){var Z=Y.firstChild;var X=null;do{if(!Z){break}if(Z.tagName===\"LI\"){X=Z}}while(Z=Z.nextSibling);return X}function W(Y,X){while(Y.childNodes.length>0){X.appendChild(Y.childNodes[0])}}U=N.parentNode.previousSibling;if(!U){return}var S;if(U.tagName===\"UL\"||U.tagName===\"OL\"){S=U}else{if(U.previousSibling&&(U.previousSibling.tagName===\"UL\"||U.previousSibling.tagName===\"OL\")){S=U.previousSibling}else{return}}var V=O(S);var M=P.dom.createRng();M.setStart(V,1);M.setEnd(V,1);P.selection.setRng(M);P.selection.collapse(true);var Q=P.selection.getBookmark();var T=N.parentNode.cloneNode(true);if(T.tagName===\"P\"||T.tagName===\"DIV\"){W(T,V)}else{V.appendChild(T)}N.parentNode.parentNode.removeChild(N.parentNode);P.selection.moveToBookmark(Q)}function E(M){var N=A.dom.getParent(M,\"ol,ul\");if(N!=null){var O=N.lastChild;O.appendChild(A.getDoc().createElement(\"\"));A.selection.setCursorLocation(O,0)}}this.ed=A;A.addCommand(\"Indent\",this.indent,this);A.addCommand(\"Outdent\",this.outdent,this);A.addCommand(\"InsertUnorderedList\",function(){this.applyList(\"UL\",\"OL\")},this);A.addCommand(\"InsertOrderedList\",function(){this.applyList(\"OL\",\"UL\")},this);A.onInit.add(function(){A.editorCommands.addCommands({outdent:function(){var N=A.selection,O=A.dom;function M(P){P=O.getParent(P,O.isBlock);return P&&(parseInt(A.dom.getStyle(P,\"margin-left\")||0,10)+parseInt(A.dom.getStyle(P,\"padding-left\")||0,10))>0}return M(N.getStart())||M(N.getEnd())||A.queryCommandState(\"InsertOrderedList\")||A.queryCommandState(\"InsertUnorderedList\")}},\"state\")});A.onKeyUp.add(function(N,O){if(z==w){N.execCommand(O.shiftKey?\"Outdent\":\"Indent\",true,null);z=J;return r.cancel(O)}else{if(z==t){var M=B();var Q=N.settings.list_outdent_on_enter===true||O.shiftKey;N.execCommand(Q?\"Outdent\":\"Indent\",true,null);if(tinymce.isIE){E(M)}return r.cancel(O)}else{if(z==H){if(tinymce.isIE8){var P=N.getDoc().createTextNode(\"\\uFEFF\");N.selection.getNode().appendChild(P)}else{if(tinymce.isIE9){N.execCommand(\"Outdent\");return r.cancel(O)}}}}}});A.onKeyDown.add(function(M,N){z=I(N)});A.onKeyDown.add(s);A.onKeyDown.add(v);A.onKeyPress.add(s)},applyList:function(y,v){var C=this,z=C.ed,I=z.dom,s=[],H=false,u=false,w=false,B,G=z.selection.getSelectedBlocks();function E(t){if(t&&t.tagName===\"BR\"){I.remove(t)}}function F(M){var N=I.create(y),t;function L(O){if(O.style.marginLeft||O.style.paddingLeft){C.adjustPaddingFunction(false)(O)}}if(M.tagName===\"LI\"){}else{if(M.tagName===\"P\"||M.tagName===\"DIV\"||M.tagName===\"BODY\"){K(M,function(P,O,Q){J(P,O,M.tagName===\"BODY\"?null:P.parentNode);t=P.parentNode;L(t);E(O)});if(M.tagName===\"P\"||G.length>1){I.split(t.parentNode.parentNode,t.parentNode)}m(t.parentNode,true);return}else{t=I.create(\"li\");I.insertAfter(t,M);t.appendChild(M);L(M);M=t}}I.insertAfter(N,M);N.appendChild(M);m(N,true);s.push(M)}function J(Q,L,O){var t,P=Q,N,M;while(!I.isBlock(Q.parentNode)&&Q.parentNode!==I.getRoot()){Q=I.split(Q.parentNode,Q.previousSibling);Q=Q.nextSibling;P=Q}if(O){t=O.cloneNode(true);Q.parentNode.insertBefore(t,Q);while(t.firstChild){I.remove(t.firstChild)}t=I.rename(t,\"li\")}else{t=I.create(\"li\");Q.parentNode.insertBefore(t,Q)}while(P&&P!=L){N=P.nextSibling;t.appendChild(P);P=N}if(t.childNodes.length===0){t.innerHTML='<br _mce_bogus=\"1\" />'}F(t)}function K(Q,T){var N,R,O=3,L=1,t=\"br,ul,ol,p,div,h1,h2,h3,h4,h5,h6,table,blockquote,address,pre,form,center,dl\";function P(X,U){var V=I.createRng(),W;g.keep=true;z.selection.moveToBookmark(g);g.keep=false;W=z.selection.getRng(true);if(!U){U=X.parentNode.lastChild}V.setStartBefore(X);V.setEndAfter(U);return !(V.compareBoundaryPoints(O,W)>0||V.compareBoundaryPoints(L,W)<=0)}function S(U){if(U.nextSibling){return U.nextSibling}if(!I.isBlock(U.parentNode)&&U.parentNode!==I.getRoot()){return S(U.parentNode)}}N=Q.firstChild;var M=false;e(I.select(t,Q),function(V){var U;if(V.hasAttribute&&V.hasAttribute(\"_mce_bogus\")){return true}if(P(N,V)){I.addClass(V,\"_mce_tagged_br\");N=S(V)}});M=(N&&P(N,undefined));N=Q.firstChild;e(I.select(t,Q),function(V){var U=S(V);if(V.hasAttribute&&V.hasAttribute(\"_mce_bogus\")){return true}if(I.hasClass(V,\"_mce_tagged_br\")){T(N,V,R);R=null}else{R=V}N=U});if(M){T(N,undefined,R)}}function D(t){K(t,function(M,L,N){J(M,L);E(L);E(N)})}function A(t){if(tinymce.inArray(s,t)!==-1){return}if(t.parentNode.tagName===v){I.split(t.parentNode,t);F(t);o(t.parentNode,false)}s.push(t)}function x(M){var O,N,L,t;if(tinymce.inArray(s,M)!==-1){return}M=c(M,I);while(I.is(M.parentNode,\"ol,ul,li\")){I.split(M.parentNode,M)}s.push(M);M=I.rename(M,\"p\");L=m(M,false,z.settings.force_br_newlines);if(L===M){O=M.firstChild;while(O){if(I.isBlock(O)){O=I.split(O.parentNode,O);t=true;N=O.nextSibling&&O.nextSibling.firstChild}else{N=O.nextSibling;if(t&&O.tagName===\"BR\"){I.remove(O)}t=false}O=N}}}e(G,function(t){t=k(t,I);if(t.tagName===v||(t.tagName===\"LI\"&&t.parentNode.tagName===v)){u=true}else{if(t.tagName===y||(t.tagName===\"LI\"&&t.parentNode.tagName===y)){H=true}else{w=true}}});if(w||u||G.length===0){B={LI:A,H1:F,H2:F,H3:F,H4:F,H5:F,H6:F,P:F,BODY:F,DIV:G.length>1?F:D,defaultAction:D}}else{B={defaultAction:x}}this.process(B)},indent:function(){var u=this.ed,w=u.dom,x=[];function s(z){var y=w.create(\"li\",{style:\"list-style-type: none;\"});w.insertAfter(y,z);return y}function t(B){var y=s(B),D=w.getParent(B,\"ol,ul\"),C=D.tagName,E=w.getStyle(D,\"list-style-type\"),A={},z;if(E!==\"\"){A.style=\"list-style-type: \"+E+\";\"}z=w.create(C,A);y.appendChild(z);return z}function v(z){if(!d(u,z,x)){z=c(z,w);var y=t(z);y.appendChild(z);m(y.parentNode,false);m(y,false);x.push(z)}}this.process({LI:v,defaultAction:this.adjustPaddingFunction(true)})},outdent:function(){var v=this,u=v.ed,w=u.dom,s=[];function x(t){var z,y,A;if(!d(u,t,s)){if(w.getStyle(t,\"margin-left\")!==\"\"||w.getStyle(t,\"padding-left\")!==\"\"){return v.adjustPaddingFunction(false)(t)}A=w.getStyle(t,\"text-align\",true);if(A===\"center\"||A===\"right\"){w.setStyle(t,\"text-align\",\"left\");return}t=c(t,w);z=t.parentNode;y=t.parentNode.parentNode;if(y.tagName===\"P\"){w.split(y,t.parentNode)}else{w.split(z,t);if(y.tagName===\"LI\"){w.split(y,t)}else{if(!w.is(y,\"ol,ul\")){w.rename(t,\"p\")}}}s.push(t)}}this.process({LI:x,defaultAction:this.adjustPaddingFunction(false)});e(s,m)},process:function(y){var D=this,w=D.ed.selection,z=D.ed.dom,C,u;function x(s){z.removeClass(s,\"_mce_act_on\");if(!s||s.nodeType!==1){return}s=k(s,z);var t=y[s.tagName];if(!t){t=y.defaultAction}t(s)}function v(s){D.splitSafeEach(s.childNodes,x)}function B(s,t){return t>=0&&s.hasChildNodes()&&t<s.childNodes.length&&s.childNodes[t].tagName===\"BR\"}C=w.getSelectedBlocks();if(C.length===0){C=[z.getRoot()]}u=w.getRng(true);if(!u.collapsed){if(B(u.endContainer,u.endOffset-1)){u.setEnd(u.endContainer,u.endOffset-1);w.setRng(u)}if(B(u.startContainer,u.startOffset)){u.setStart(u.startContainer,u.startOffset+1);w.setRng(u)}}if(tinymce.isIE8){var E=D.ed.selection.getNode();if(E.tagName===\"LI\"&&!(E.parentNode.lastChild===E)){var A=D.ed.getDoc().createTextNode(\"\\uFEFF\");E.appendChild(A)}}g=w.getBookmark();y.OL=y.UL=v;D.splitSafeEach(C,x);w.moveToBookmark(g);g=null;D.ed.execCommand(\"mceRepaint\")},splitSafeEach:function(t,s){if(tinymce.isGecko&&(/Firefox\\/[12]\\.[0-9]/.test(navigator.userAgent)||/Firefox\\/3\\.[0-4]/.test(navigator.userAgent))){this.classBasedEach(t,s)}else{e(t,s)}},classBasedEach:function(v,u){var w=this.ed.dom,s,t;e(v,function(x){w.addClass(x,\"_mce_act_on\")});s=w.select(\"._mce_act_on\");while(s.length>0){t=s.shift();w.removeClass(t,\"_mce_act_on\");u(t);s=w.select(\"._mce_act_on\")}},adjustPaddingFunction:function(u){var s,v,t=this.ed;s=t.settings.indentation;v=/[a-z%]+/i.exec(s);s=parseInt(s,10);return function(w){var y,x;y=parseInt(t.dom.getStyle(w,\"margin-left\")||0,10)+parseInt(t.dom.getStyle(w,\"padding-left\")||0,10);if(u){x=y+s}else{x=y-s}t.dom.setStyle(w,\"padding-left\",\"\");t.dom.setStyle(w,\"margin-left\",x>0?x+v:\"\")}},getInfo:function(){return{longname:\"Lists\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/lists\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}}});tinymce.PluginManager.add(\"lists\",tinymce.plugins.Lists)}());\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/lists/editor_plugin_src.js:\n  729        if (tinymce.isGecko && (/Firefox\\/[12]\\.[0-9]/.test(navigator.userAgent) ||\n  730            /Firefox\\/3\\.[0-4]/.test(navigator.userAgent))) {\n  731:         this.classBasedEach(elements, f);\n  732        } else {\n  733          each(elements, f);\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/media/editor_plugin.js:\n    1: (function(){var d=tinymce.explode(\"id,name,width,height,style,align,class,hspace,vspace,bgcolor,type\"),h=tinymce.makeMap(d.join(\",\")),b=tinymce.html.Node,f,a,g=tinymce.util.JSON,e;f=[[\"Flash\",\"d27cdb6e-ae6d-11cf-96b8-444553540000\",\"application/x-shockwave-flash\",\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\"],[\"ShockWave\",\"166b1bca-3f9c-11cf-8075-444553540000\",\"application/x-director\",\"http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0\"],[\"WindowsMedia\",\"6bf52a52-394a-11d3-b153-00c04f79faa6,22d6f312-b0f6-11d0-94ab-0080c74c7e95,05589fa1-c356-11ce-bf01-00aa0055595a\",\"application/x-mplayer2\",\"http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701\"],[\"QuickTime\",\"02bf25d5-8c17-4b23-bc80-d3488abddc6b\",\"video/quicktime\",\"http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0\"],[\"RealMedia\",\"cfcdaa03-8be4-11cf-b84b-0020afbbccfa\",\"audio/x-pn-realaudio-plugin\",\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\"],[\"Java\",\"8ad9c840-044e-11d1-b3e9-00805f499d93\",\"application/x-java-applet\",\"http://java.sun.com/products/plugin/autodl/jinstall-1_5_0-windows-i586.cab#Version=1,5,0,0\"],[\"Silverlight\",\"dfeaf541-f3e1-4c24-acac-99c30715084a\",\"application/x-silverlight-2\"],[\"Iframe\"],[\"Video\"],[\"EmbeddedAudio\"],[\"Audio\"]];function c(m){var l,j,k;if(m&&!m.splice){j=[];for(k=0;true;k++){if(m[k]){j[k]=m[k]}else{break}}return j}return m}tinymce.create(\"tinymce.plugins.MediaPlugin\",{init:function(n,j){var r=this,l={},m,p,q,k;function o(i){return i&&i.nodeName===\"IMG\"&&n.dom.hasClass(i,\"mceItemMedia\")}r.editor=n;r.url=j;a=\"\";for(m=0;m<f.length;m++){k=f[m][0];q={name:k,clsids:tinymce.explode(f[m][1]||\"\"),mimes:tinymce.explode(f[m][2]||\"\"),codebase:f[m][3]};for(p=0;p<q.clsids.length;p++){l[\"clsid:\"+q.clsids[p]]=q}for(p=0;p<q.mimes.length;p++){l[q.mimes[p]]=q}l[\"mceItem\"+k]=q;l[k.toLowerCase()]=q;a+=(a?\"|\":\"\")+k}tinymce.each(n.getParam(\"media_types\",\"video=mp4,m4v,ogv,webm;silverlight=xap;flash=swf,flv;shockwave=dcr;quicktime=mov,qt,mpg,mpeg;shockwave=dcr;windowsmedia=avi,wmv,wm,asf,asx,wmx,wvx;realmedia=rm,ra,ram;java=jar;audio=mp3,ogg\").split(\";\"),function(v){var s,u,t;v=v.split(/=/);u=tinymce.explode(v[1].toLowerCase());for(s=0;s<u.length;s++){t=l[v[0].toLowerCase()];if(t){l[u[s]]=t}}});a=new RegExp(\"write(\"+a+\")\\\\(([^)]+)\\\\)\");r.lookup=l;n.onPreInit.add(function(){n.schema.addValidElements(\"object[id|style|width|height|classid|codebase|*],param[name|value],embed[id|style|width|height|type|src|*],video[*],audio[*],source[*]\");n.parser.addNodeFilter(\"object,embed,video,audio,script,iframe\",function(s){var t=s.length;while(t--){r.objectToImg(s[t])}});n.serializer.addNodeFilter(\"img\",function(s,u,t){var v=s.length,w;while(v--){w=s[v];if((w.attr(\"class\")||\"\").indexOf(\"mceItemMedia\")!==-1){r.imgToObject(w,t)}}})});n.onInit.add(function(){if(n.theme&&n.theme.onResolveName){n.theme.onResolveName.add(function(i,s){if(s.name===\"img\"&&n.dom.hasClass(s.node,\"mceItemMedia\")){s.name=\"media\"}})}if(n&&n.plugins.contextmenu){n.plugins.contextmenu.onContextMenu.add(function(s,t,i){if(i.nodeName===\"IMG\"&&i.className.indexOf(\"mceItemMedia\")!==-1){t.add({title:\"media.edit\",icon:\"media\",cmd:\"mceMedia\"})}})}});n.addCommand(\"mceMedia\",function(){var s,i;i=n.selection.getNode();if(o(i)){s=n.dom.getAttrib(i,\"data-mce-json\");if(s){s=g.parse(s);tinymce.each(d,function(t){var u=n.dom.getAttrib(i,t);if(u){s[t]=u}});s.type=r.getType(i.className).name.toLowerCase()}}if(!s){s={type:\"flash\",video:{sources:[]},params:{}}}n.windowManager.open({file:j+\"/media.htm\",width:430+parseInt(n.getLang(\"media.delta_width\",0)),height:500+parseInt(n.getLang(\"media.delta_height\",0)),inline:1},{plugin_url:j,data:s})});n.addButton(\"media\",{title:\"media.desc\",cmd:\"mceMedia\"});n.onNodeChange.add(function(s,i,t){i.setActive(\"media\",o(t))})},convertUrl:function(k,n){var j=this,m=j.editor,l=m.settings,o=l.url_converter,i=l.url_converter_scope||j;if(!k){return k}if(n){return m.documentBaseURI.toAbsolute(k)}return o.call(i,k,\"src\",\"object\")},getInfo:function(){return{longname:\"Media\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/media\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}},dataToImg:function(m,k){var r=this,o=r.editor,p=o.documentBaseURI,j,q,n,l;m.params.src=r.convertUrl(m.params.src,k);q=m.video.attrs;if(q){q.src=r.convertUrl(q.src,k)}if(q){q.poster=r.convertUrl(q.poster,k)}j=c(m.video.sources);if(j){for(l=0;l<j.length;l++){j[l].src=r.convertUrl(j[l].src,k)}}n=r.editor.dom.create(\"img\",{id:m.id,style:m.style,align:m.align,hspace:m.hspace,vspace:m.vspace,src:r.editor.theme.url+\"/img/trans.gif\",\"class\":\"mceItemMedia mceItem\"+r.getType(m.type).name,\"data-mce-json\":g.serialize(m,\"'\")});n.width=m.width||(m.type==\"audio\"?\"300\":\"320\");n.height=m.height||(m.type==\"audio\"?\"32\":\"240\");return n},dataToHtml:function(i,j){return this.editor.serializer.serialize(this.dataToImg(i,j),{forced_root_block:\"\",force_absolute:j})},htmlToData:function(k){var j,i,l;l={type:\"flash\",video:{sources:[]},params:{}};j=this.editor.parser.parse(k);i=j.getAll(\"img\")[0];if(i){l=g.parse(i.attr(\"data-mce-json\"));l.type=this.getType(i.attr(\"class\")).name.toLowerCase();tinymce.each(d,function(m){var n=i.attr(m);if(n){l[m]=n}})}return l},getType:function(m){var k,j,l;j=tinymce.explode(m,\" \");for(k=0;k<j.length;k++){l=this.lookup[j[k]];if(l){return l}}},imgToObject:function(z,o){var u=this,p=u.editor,C,H,j,t,I,y,G,w,k,E,s,q,A,D,m,x,l,B,F;function r(i,n){var M,L,N,K,J;J=p.getParam(\"flash_video_player_url\",u.convertUrl(u.url+\"/moxieplayer.swf\"));if(J){M=p.documentBaseURI;G.params.src=J;if(p.getParam(\"flash_video_player_absvideourl\",true)){i=M.toAbsolute(i||\"\",true);n=M.toAbsolute(n||\"\",true)}N=\"\";L=p.getParam(\"flash_video_player_flashvars\",{url:\"$url\",poster:\"$poster\"});tinymce.each(L,function(P,O){P=P.replace(/\\$url/,i||\"\");P=P.replace(/\\$poster/,n||\"\");if(P.length>0){N+=(N?\"&\":\"\")+O+\"=\"+escape(P)}});if(N.length){G.params.flashvars=N}K=p.getParam(\"flash_video_player_params\",{allowfullscreen:true,allowscriptaccess:true});tinymce.each(K,function(P,O){G.params[O]=\"\"+P})}}G=z.attr(\"data-mce-json\");if(!G){return}G=g.parse(G);q=this.getType(z.attr(\"class\"));B=z.attr(\"data-mce-style\");if(!B){B=z.attr(\"style\");if(B){B=p.dom.serializeStyle(p.dom.parseStyle(B,\"img\"))}}if(q.name===\"Iframe\"){x=new b(\"iframe\",1);tinymce.each(d,function(i){var n=z.attr(i);if(i==\"class\"&&n){n=n.replace(/mceItem.+ ?/g,\"\")}if(n&&n.length>0){x.attr(i,n)}});for(I in G.params){x.attr(I,G.params[I])}x.attr({style:B,src:G.params.src});z.replace(x);return}if(this.editor.settings.media_use_script){x=new b(\"script\",1).attr(\"type\",\"text/javascript\");y=new b(\"#text\",3);y.value=\"write\"+q.name+\"(\"+g.serialize(tinymce.extend(G.params,{width:z.attr(\"width\"),height:z.attr(\"height\")}))+\");\";x.append(y);z.replace(x);return}if(q.name===\"Video\"&&G.video.sources[0]){C=new b(\"video\",1).attr(tinymce.extend({id:z.attr(\"id\"),width:z.attr(\"width\"),height:z.attr(\"height\"),style:B},G.video.attrs));if(G.video.attrs){l=G.video.attrs.poster}k=G.video.sources=c(G.video.sources);for(A=0;A<k.length;A++){if(/\\.mp4$/.test(k[A].src)){m=k[A].src}}if(!k[0].type){C.attr(\"src\",k[0].src);k.splice(0,1)}for(A=0;A<k.length;A++){w=new b(\"source\",1).attr(k[A]);w.shortEnded=true;C.append(w)}if(m){r(m,l);q=u.getType(\"flash\")}else{G.params.src=\"\"}}if(q.name===\"Audio\"&&G.video.sources[0]){F=new b(\"audio\",1).attr(tinymce.extend({id:z.attr(\"id\"),width:z.attr(\"width\"),height:z.attr(\"height\"),style:B},G.video.attrs));if(G.video.attrs){l=G.video.attrs.poster}k=G.video.sources=c(G.video.sources);if(!k[0].type){F.attr(\"src\",k[0].src);k.splice(0,1)}for(A=0;A<k.length;A++){w=new b(\"source\",1).attr(k[A]);w.shortEnded=true;F.append(w)}G.params.src=\"\"}if(q.name===\"EmbeddedAudio\"){j=new b(\"embed\",1);j.shortEnded=true;j.attr({id:z.attr(\"id\"),width:z.attr(\"width\"),height:z.attr(\"height\"),style:B,type:z.attr(\"type\")});for(I in G.params){j.attr(I,G.params[I])}tinymce.each(d,function(i){if(G[i]&&i!=\"type\"){j.attr(i,G[i])}});G.params.src=\"\"}if(G.params.src){if(/\\.flv$/i.test(G.params.src)){r(G.params.src,\"\")}if(o&&o.force_absolute){G.params.src=p.documentBaseURI.toAbsolute(G.params.src)}H=new b(\"object\",1).attr({id:z.attr(\"id\"),width:z.attr(\"width\"),height:z.attr(\"height\"),style:B});tinymce.each(d,function(i){var n=G[i];if(i==\"class\"&&n){n=n.replace(/mceItem.+ ?/g,\"\")}if(n&&i!=\"type\"){H.attr(i,n)}});for(I in G.params){s=new b(\"param\",1);s.shortEnded=true;y=G.params[I];if(I===\"src\"&&q.name===\"WindowsMedia\"){I=\"url\"}s.attr({name:I,value:y});H.append(s)}if(this.editor.getParam(\"media_strict\",true)){H.attr({data:G.params.src,type:q.mimes[0]})}else{H.attr({classid:\"clsid:\"+q.clsids[0],codebase:q.codebase});j=new b(\"embed\",1);j.shortEnded=true;j.attr({id:z.attr(\"id\"),width:z.attr(\"width\"),height:z.attr(\"height\"),style:B,type:q.mimes[0]});for(I in G.params){j.attr(I,G.params[I])}tinymce.each(d,function(i){if(G[i]&&i!=\"type\"){j.attr(i,G[i])}});H.append(j)}if(G.object_html){y=new b(\"#text\",3);y.raw=true;y.value=G.object_html;H.append(y)}if(C){C.append(H)}}if(C){if(G.video_html){y=new b(\"#text\",3);y.raw=true;y.value=G.video_html;C.append(y)}}if(F){if(G.video_html){y=new b(\"#text\",3);y.raw=true;y.value=G.video_html;F.append(y)}}var v=C||F||H||j;if(v){z.replace(v)}else{z.remove()}},objectToImg:function(C){var L,k,F,s,M,N,y,A,x,G,E,t,q,I,B,l,K,o,H=this.lookup,m,z,v=this.editor.settings.url_converter,n=this.editor.settings.url_converter_scope,w,r,D,j;function u(i){return new tinymce.html.Serializer({inner:true,validate:false}).serialize(i)}function J(O,i){return H[(O.attr(i)||\"\").toLowerCase()]}function p(O){var i=O.replace(/^.*\\.([^.]+)$/,\"$1\");return H[i.toLowerCase()||\"\"]}if(!C.parent){return}if(C.name===\"script\"){if(C.firstChild){m=a.exec(C.firstChild.value)}if(!m){return}o=m[1];K={video:{},params:g.parse(m[2])};A=K.params.width;x=K.params.height}K=K||{video:{},params:{}};M=new b(\"img\",1);M.attr({src:this.editor.theme.url+\"/img/trans.gif\"});N=C.name;if(N===\"video\"||N==\"audio\"){F=C;L=C.getAll(\"object\")[0];k=C.getAll(\"embed\")[0];A=F.attr(\"width\");x=F.attr(\"height\");y=F.attr(\"id\");K.video={attrs:{},sources:[]};z=K.video.attrs;for(N in F.attributes.map){z[N]=F.attributes.map[N]}B=C.attr(\"src\");if(B){K.video.sources.push({src:v.call(n,B,\"src\",C.name)})}l=F.getAll(\"source\");for(E=0;E<l.length;E++){B=l[E].remove();K.video.sources.push({src:v.call(n,B.attr(\"src\"),\"src\",\"source\"),type:B.attr(\"type\"),media:B.attr(\"media\")})}if(z.poster){z.poster=v.call(n,z.poster,\"poster\",C.name)}}if(C.name===\"object\"){L=C;k=C.getAll(\"embed\")[0]}if(C.name===\"embed\"){k=C}if(C.name===\"iframe\"){s=C;o=\"Iframe\"}if(L){A=A||L.attr(\"width\");x=x||L.attr(\"height\");G=G||L.attr(\"style\");y=y||L.attr(\"id\");w=w||L.attr(\"hspace\");r=r||L.attr(\"vspace\");D=D||L.attr(\"align\");j=j||L.attr(\"bgcolor\");K.name=L.attr(\"name\");I=L.getAll(\"param\");for(E=0;E<I.length;E++){q=I[E];N=q.remove().attr(\"name\");if(!h[N]){K.params[N]=q.attr(\"value\")}}K.params.src=K.params.src||L.attr(\"data\")}if(k){A=A||k.attr(\"width\");x=x||k.attr(\"height\");G=G||k.attr(\"style\");y=y||k.attr(\"id\");w=w||k.attr(\"hspace\");r=r||k.attr(\"vspace\");D=D||k.attr(\"align\");j=j||k.attr(\"bgcolor\");for(N in k.attributes.map){if(!h[N]&&!K.params[N]){K.params[N]=k.attributes.map[N]}}}if(s){A=s.attr(\"width\");x=s.attr(\"height\");G=G||s.attr(\"style\");y=s.attr(\"id\");w=s.attr(\"hspace\");r=s.attr(\"vspace\");D=s.attr(\"align\");j=s.attr(\"bgcolor\");tinymce.each(d,function(i){M.attr(i,s.attr(i))});for(N in s.attributes.map){if(!h[N]&&!K.params[N]){K.params[N]=s.attributes.map[N]}}}if(K.params.movie){K.params.src=K.params.src||K.params.movie;delete K.params.movie}if(K.params.src){K.params.src=v.call(n,K.params.src,\"src\",\"object\")}if(F){if(C.name===\"video\"){o=H.video.name}else{if(C.name===\"audio\"){o=H.audio.name}}}if(L&&!o){o=(J(L,\"clsid\")||J(L,\"classid\")||J(L,\"type\")||{}).name}if(k&&!o){o=(J(k,\"type\")||p(K.params.src)||{}).name}if(k&&o==\"EmbeddedAudio\"){K.params.type=k.attr(\"type\")}C.replace(M);if(k){k.remove()}if(L){t=u(L.remove());if(t){K.object_html=t}}if(F){t=u(F.remove());if(t){K.video_html=t}}K.hspace=w;K.vspace=r;K.align=D;K.bgcolor=j;M.attr({id:y,\"class\":\"mceItemMedia mceItem\"+(o||\"Flash\"),style:G,width:A||(C.name==\"audio\"?\"300\":\"320\"),height:x||(C.name==\"audio\"?\"32\":\"240\"),hspace:w,vspace:r,align:D,bgcolor:j,\"data-mce-json\":g.serialize(K,\"'\")})}});tinymce.PluginManager.add(\"media\",tinymce.plugins.MediaPlugin)})();\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/media/editor_plugin_src.js:\n  147          if (ed && ed.plugins.contextmenu) {\n  148            ed.plugins.contextmenu.onContextMenu.add(function(plugin, menu, element) {\n  149:             if (element.nodeName === 'IMG' && element.className.indexOf('mceItemMedia') !== -1)\n  150                menu.add({title : 'media.edit', icon : 'media', cmd : 'mceMedia'});\n  151            });\n  ...\n  171              });\n  172  \n  173:             data.type = self.getType(img.className).name.toLowerCase();\n  174            }\n  175          }\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/paste/editor_plugin.js:\n    1: (function(){var c=tinymce.each,a={paste_auto_cleanup_on_paste:true,paste_enable_default_filters:true,paste_block_drop:false,paste_retain_style_properties:\"none\",paste_strip_class_attributes:\"mso\",paste_remove_spans:false,paste_remove_styles:false,paste_remove_styles_if_webkit:true,paste_convert_middot_lists:true,paste_convert_headers_to_strong:false,paste_dialog_width:\"450\",paste_dialog_height:\"400\",paste_text_use_dialog:false,paste_text_sticky:false,paste_text_sticky_default:false,paste_text_notifyalways:false,paste_text_linebreaktype:\"combined\",paste_text_replacements:[[/\\u2026/g,\"...\"],[/[\\x93\\x94\\u201c\\u201d]/g,'\"'],[/[\\x60\\x91\\x92\\u2018\\u2019]/g,\"'\"]]};function b(d,e){return d.getParam(e,a[e])}tinymce.create(\"tinymce.plugins.PastePlugin\",{init:function(d,e){var f=this;f.editor=d;f.url=e;f.onPreProcess=new tinymce.util.Dispatcher(f);f.onPostProcess=new tinymce.util.Dispatcher(f);f.onPreProcess.add(f._preProcess);f.onPostProcess.add(f._postProcess);f.onPreProcess.add(function(i,j){d.execCallback(\"paste_preprocess\",i,j)});f.onPostProcess.add(function(i,j){d.execCallback(\"paste_postprocess\",i,j)});d.onKeyDown.addToTop(function(i,j){if(((tinymce.isMac?j.metaKey:j.ctrlKey)&&j.keyCode==86)||(j.shiftKey&&j.keyCode==45)){return false}});d.pasteAsPlainText=b(d,\"paste_text_sticky_default\");function h(l,j){var k=d.dom,i;f.onPreProcess.dispatch(f,l);l.node=k.create(\"div\",0,l.content);if(tinymce.isGecko){i=d.selection.getRng(true);if(i.startContainer==i.endContainer&&i.startContainer.nodeType==3){if(l.node.childNodes.length===1&&/^(p|h[1-6]|pre)$/i.test(l.node.firstChild.nodeName)&&l.content.indexOf(\"__MCE_ITEM__\")===-1){k.remove(l.node.firstChild,true)}}}f.onPostProcess.dispatch(f,l);l.content=d.serializer.serialize(l.node,{getInner:1,forced_root_block:\"\"});if((!j)&&(d.pasteAsPlainText)){f._insertPlainText(l.content);if(!b(d,\"paste_text_sticky\")){d.pasteAsPlainText=false;d.controlManager.setActive(\"pastetext\",false)}}else{f._insert(l.content)}}d.addCommand(\"mceInsertClipboardContent\",function(i,j){h(j,true)});if(!b(d,\"paste_text_use_dialog\")){d.addCommand(\"mcePasteText\",function(j,i){var k=tinymce.util.Cookie;d.pasteAsPlainText=!d.pasteAsPlainText;d.controlManager.setActive(\"pastetext\",d.pasteAsPlainText);if((d.pasteAsPlainText)&&(!k.get(\"tinymcePasteText\"))){if(b(d,\"paste_text_sticky\")){d.windowManager.alert(d.translate(\"paste.plaintext_mode_sticky\"))}else{d.windowManager.alert(d.translate(\"paste.plaintext_mode\"))}if(!b(d,\"paste_text_notifyalways\")){k.set(\"tinymcePasteText\",\"1\",new Date(new Date().getFullYear()+1,12,31))}}})}d.addButton(\"pastetext\",{title:\"paste.paste_text_desc\",cmd:\"mcePasteText\"});d.addButton(\"selectall\",{title:\"paste.selectall_desc\",cmd:\"selectall\"});function g(s){var l,p,j,t,k=d.selection,o=d.dom,q=d.getBody(),i,r;if(s.clipboardData||o.doc.dataTransfer){r=(s.clipboardData||o.doc.dataTransfer).getData(\"Text\");if(d.pasteAsPlainText){s.preventDefault();h({content:o.encode(r).replace(/\\r?\\n/g,\"<br />\")});return}}if(o.get(\"_mcePaste\")){return}l=o.add(q,\"div\",{id:\"_mcePaste\",\"class\":\"mcePaste\",\"data-mce-bogus\":\"1\"},\"\\uFEFF\\uFEFF\");if(q!=d.getDoc().body){i=o.getPos(d.selection.getStart(),q).y}else{i=q.scrollTop+o.getViewPort(d.getWin()).y}o.setStyles(l,{position:\"absolute\",left:tinymce.isGecko?-40:0,top:i-25,width:1,height:1,overflow:\"hidden\"});if(tinymce.isIE){t=k.getRng();j=o.doc.body.createTextRange();j.moveToElementText(l);j.execCommand(\"Paste\");o.remove(l);if(l.innerHTML===\"\\uFEFF\\uFEFF\"){d.execCommand(\"mcePasteWord\");s.preventDefault();return}k.setRng(t);k.setContent(\"\");setTimeout(function(){h({content:l.innerHTML})},0);return tinymce.dom.Event.cancel(s)}else{function m(n){n.preventDefault()}o.bind(d.getDoc(),\"mousedown\",m);o.bind(d.getDoc(),\"keydown\",m);p=d.selection.getRng();l=l.firstChild;j=d.getDoc().createRange();j.setStart(l,0);j.setEnd(l,2);k.setRng(j);window.setTimeout(function(){var u=\"\",n;if(!o.select(\"div.mcePaste > div.mcePaste\").length){n=o.select(\"div.mcePaste\");c(n,function(w){var v=w.firstChild;if(v&&v.nodeName==\"DIV\"&&v.style.marginTop&&v.style.backgroundColor){o.remove(v,1)}c(o.select(\"span.Apple-style-span\",w),function(x){o.remove(x,1)});c(o.select(\"br[data-mce-bogus]\",w),function(x){o.remove(x)});if(w.parentNode.className!=\"mcePaste\"){u+=w.innerHTML}})}else{u=\"<p>\"+o.encode(r).replace(/\\r?\\n\\r?\\n/g,\"</p><p>\").replace(/\\r?\\n/g,\"<br />\")+\"</p>\"}c(o.select(\"div.mcePaste\"),function(v){o.remove(v)});if(p){k.setRng(p)}h({content:u});o.unbind(d.getDoc(),\"mousedown\",m);o.unbind(d.getDoc(),\"keydown\",m)},0)}}if(b(d,\"paste_auto_cleanup_on_paste\")){if(tinymce.isOpera||/Firefox\\/2/.test(navigator.userAgent)){d.onKeyDown.addToTop(function(i,j){if(((tinymce.isMac?j.metaKey:j.ctrlKey)&&j.keyCode==86)||(j.shiftKey&&j.keyCode==45)){g(j)}})}else{d.onPaste.addToTop(function(i,j){return g(j)})}}d.onInit.add(function(){d.controlManager.setActive(\"pastetext\",d.pasteAsPlainText);if(b(d,\"paste_block_drop\")){d.dom.bind(d.getBody(),[\"dragend\",\"dragover\",\"draggesture\",\"dragdrop\",\"drop\",\"drag\"],function(i){i.preventDefault();i.stopPropagation();return false})}});f._legacySupport()},getInfo:function(){return{longname:\"Paste text/word\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/paste\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}},_preProcess:function(g,e){var k=this.editor,j=e.content,p=tinymce.grep,n=tinymce.explode,f=tinymce.trim,l,i;function d(h){c(h,function(o){if(o.constructor==RegExp){j=j.replace(o,\"\")}else{j=j.replace(o[0],o[1])}})}if(k.settings.paste_enable_default_filters==false){return}if(tinymce.isIE&&document.documentMode>=9){d([[/(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(h[1-6r]|p|div|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|blockquote|center|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*/g,\"$1\"]]);d([[/<br><br>/g,\"<BR><BR>\"],[/<br>/g,\" \"],[/<BR><BR>/g,\"<br>\"]])}if(/class=\"?Mso|style=\"[^\"]*\\bmso-|w:WordDocument/i.test(j)||e.wordContent){e.wordContent=true;d([/^\\s*(&nbsp;)+/gi,/(&nbsp;|<br[^>]*>)+\\s*$/gi]);if(b(k,\"paste_convert_headers_to_strong\")){j=j.replace(/<p [^>]*class=\"?MsoHeading\"?[^>]*>(.*?)<\\/p>/gi,\"<p><strong>$1</strong></p>\")}if(b(k,\"paste_convert_middot_lists\")){d([[/<!--\\[if !supportLists\\]-->/gi,\"$&__MCE_ITEM__\"],[/(<span[^>]+(?:mso-list:|:\\s*symbol)[^>]+>)/gi,\"$1__MCE_ITEM__\"],[/(<p[^>]+(?:MsoListParagraph)[^>]+>)/gi,\"$1__MCE_ITEM__\"]])}d([/<!--[\\s\\S]+?-->/gi,/<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,[/<(\\/?)s>/gi,\"<$1strike>\"],[/&nbsp;/gi,\"\\u00a0\"]]);do{l=j.length;j=j.replace(/(<[a-z][^>]*\\s)(?:id|name|language|type|on\\w+|\\w+:\\w+)=(?:\"[^\"]*\"|\\w+)\\s?/gi,\"$1\")}while(l!=j.length);if(b(k,\"paste_retain_style_properties\").replace(/^none$/i,\"\").length==0){j=j.replace(/<\\/?span[^>]*>/gi,\"\")}else{d([[/<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,function(o,h){return(h.length>0)?h.replace(/./,\" \").slice(Math.floor(h.length/2)).split(\"\").join(\"\\u00a0\"):\"\"}],[/(<[a-z][^>]*)\\sstyle=\"([^\"]*)\"/gi,function(t,h,r){var u=[],o=0,q=n(f(r).replace(/&quot;/gi,\"'\"),\";\");c(q,function(s){var w,y,z=n(s,\":\");function x(A){return A+((A!==\"0\")&&(/\\d$/.test(A)))?\"px\":\"\"}if(z.length==2){w=z[0].toLowerCase();y=z[1].toLowerCase();switch(w){case\"mso-padding-alt\":case\"mso-padding-top-alt\":case\"mso-padding-right-alt\":case\"mso-padding-bottom-alt\":case\"mso-padding-left-alt\":case\"mso-margin-alt\":case\"mso-margin-top-alt\":case\"mso-margin-right-alt\":case\"mso-margin-bottom-alt\":case\"mso-margin-left-alt\":case\"mso-table-layout-alt\":case\"mso-height\":case\"mso-width\":case\"mso-vertical-align-alt\":u[o++]=w.replace(/^mso-|-alt$/g,\"\")+\":\"+x(y);return;case\"horiz-align\":u[o++]=\"text-align:\"+y;return;case\"vert-align\":u[o++]=\"vertical-align:\"+y;return;case\"font-color\":case\"mso-foreground\":u[o++]=\"color:\"+y;return;case\"mso-background\":case\"mso-highlight\":u[o++]=\"background:\"+y;return;case\"mso-default-height\":u[o++]=\"min-height:\"+x(y);return;case\"mso-default-width\":u[o++]=\"min-width:\"+x(y);return;case\"mso-padding-between-alt\":u[o++]=\"border-collapse:separate;border-spacing:\"+x(y);return;case\"text-line-through\":if((y==\"single\")||(y==\"double\")){u[o++]=\"text-decoration:line-through\"}return;case\"mso-zero-height\":if(y==\"yes\"){u[o++]=\"display:none\"}return}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?!align|decor|indent|trans)|top-bar|version|vnd|word-break)/.test(w)){return}u[o++]=w+\":\"+z[1]}});if(o>0){return h+' style=\"'+u.join(\";\")+'\"'}else{return h}}]])}}if(b(k,\"paste_convert_headers_to_strong\")){d([[/<h[1-6][^>]*>/gi,\"<p><strong>\"],[/<\\/h[1-6][^>]*>/gi,\"</strong></p>\"]])}d([[/Version:[\\d.]+\\nStartHTML:\\d+\\nEndHTML:\\d+\\nStartFragment:\\d+\\nEndFragment:\\d+/gi,\"\"]]);i=b(k,\"paste_strip_class_attributes\");if(i!==\"none\"){function m(q,o){if(i===\"all\"){return\"\"}var h=p(n(o.replace(/^([\"'])(.*)\\1$/,\"$2\"),\" \"),function(r){return(/^(?!mso)/i.test(r))});return h.length?' class=\"'+h.join(\" \")+'\"':\"\"}j=j.replace(/ class=\"([^\"]+)\"/gi,m);j=j.replace(/ class=([\\-\\w]+)/gi,m)}if(b(k,\"paste_remove_spans\")){j=j.replace(/<\\/?span[^>]*>/gi,\"\")}e.content=j},_postProcess:function(g,i){var f=this,e=f.editor,h=e.dom,d;if(e.settings.paste_enable_default_filters==false){return}if(i.wordContent){c(h.select(\"a\",i.node),function(j){if(!j.href||j.href.indexOf(\"#_Toc\")!=-1){h.remove(j,1)}});if(b(e,\"paste_convert_middot_lists\")){f._convertLists(g,i)}d=b(e,\"paste_retain_style_properties\");if((tinymce.is(d,\"string\"))&&(d!==\"all\")&&(d!==\"*\")){d=tinymce.explode(d.replace(/^none$/i,\"\"));c(h.select(\"*\",i.node),function(m){var n={},k=0,l,o,j;if(d){for(l=0;l<d.length;l++){o=d[l];j=h.getStyle(m,o);if(j){n[o]=j;k++}}}h.setAttrib(m,\"style\",\"\");if(d&&k>0){h.setStyles(m,n)}else{if(m.nodeName==\"SPAN\"&&!m.className){h.remove(m,true)}}})}}if(b(e,\"paste_remove_styles\")||(b(e,\"paste_remove_styles_if_webkit\")&&tinymce.isWebKit)){c(h.select(\"*[style]\",i.node),function(j){j.removeAttribute(\"style\");j.removeAttribute(\"data-mce-style\")})}else{if(tinymce.isWebKit){c(h.select(\"*\",i.node),function(j){j.removeAttribute(\"data-mce-style\")})}}},_convertLists:function(g,e){var i=g.editor.dom,h,l,d=-1,f,m=[],k,j;c(i.select(\"p\",e.node),function(t){var q,u=\"\",s,r,n,o;for(q=t.firstChild;q&&q.nodeType==3;q=q.nextSibling){u+=q.nodeValue}u=t.innerHTML.replace(/<\\/?\\w+[^>]*>/gi,\"\").replace(/&nbsp;/g,\"\\u00a0\");if(/^(__MCE_ITEM__)+[\\u2022\\u00b7\\u00a7\\u00d8o\\u25CF]\\s*\\u00a0*/.test(u)){s=\"ul\"}if(/^__MCE_ITEM__\\s*\\w+\\.\\s*\\u00a0+/.test(u)){s=\"ol\"}if(s){f=parseFloat(t.style.marginLeft||0);if(f>d){m.push(f)}if(!h||s!=k){h=i.create(s);i.insertAfter(h,t)}else{if(f>d){h=l.appendChild(i.create(s))}else{if(f<d){n=tinymce.inArray(m,f);o=i.getParents(h.parentNode,s);h=o[o.length-1-n]||h}}}c(i.select(\"span\",t),function(v){var p=v.innerHTML.replace(/<\\/?\\w+[^>]*>/gi,\"\");if(s==\"ul\"&&/^__MCE_ITEM__[\\u2022\\u00b7\\u00a7\\u00d8o\\u25CF]/.test(p)){i.remove(v)}else{if(/^__MCE_ITEM__[\\s\\S]*\\w+\\.(&nbsp;|\\u00a0)*\\s*/.test(p)){i.remove(v)}}});r=t.innerHTML;if(s==\"ul\"){r=t.innerHTML.replace(/__MCE_ITEM__/g,\"\").replace(/^[\\u2022\\u00b7\\u00a7\\u00d8o\\u25CF]\\s*(&nbsp;|\\u00a0)+\\s*/,\"\")}else{r=t.innerHTML.replace(/__MCE_ITEM__/g,\"\").replace(/^\\s*\\w+\\.(&nbsp;|\\u00a0)+\\s*/,\"\")}l=h.appendChild(i.create(\"li\",0,r));i.remove(t);d=f;k=s}else{h=d=0}});j=e.node.innerHTML;if(j.indexOf(\"__MCE_ITEM__\")!=-1){e.node.innerHTML=j.replace(/__MCE_ITEM__/g,\"\")}},_insert:function(f,d){var e=this.editor,g=e.selection.getRng();if(!e.selection.isCollapsed()&&g.startContainer!=g.endContainer){e.getDoc().execCommand(\"Delete\",false,null)}e.execCommand(\"mceInsertContent\",false,f,{skip_undo:d})},_insertPlainText:function(g){var d=this.editor,e=b(d,\"paste_text_linebreaktype\"),i=b(d,\"paste_text_replacements\"),f=tinymce.is;function h(j){c(j,function(k){if(k.constructor==RegExp){g=g.replace(k,\"\")}else{g=g.replace(k[0],k[1])}})}if((typeof(g)===\"string\")&&(g.length>0)){if(/<(?:p|br|h[1-6]|ul|ol|dl|table|t[rdh]|div|blockquote|fieldset|pre|address|center)[^>]*>/i.test(g)){h([/[\\n\\r]+/g])}else{h([/\\r+/g])}h([[/<\\/(?:p|h[1-6]|ul|ol|dl|table|div|blockquote|fieldset|pre|address|center)>/gi,\"\\n\\n\"],[/<br[^>]*>|<\\/tr>/gi,\"\\n\"],[/<\\/t[dh]>\\s*<t[dh][^>]*>/gi,\"\\t\"],/<[a-z!\\/?][^>]*>/gi,[/&nbsp;/gi,\" \"],[/(?:(?!\\n)\\s)*(\\n+)(?:(?!\\n)\\s)*/gi,\"$1\"],[/\\n{3,}/g,\"\\n\\n\"]]);g=d.dom.decode(tinymce.html.Entities.encodeRaw(g));if(f(i,\"array\")){h(i)}else{if(f(i,\"string\")){h(new RegExp(i,\"gi\"))}}if(e==\"none\"){h([[/\\n+/g,\" \"]])}else{if(e==\"br\"){h([[/\\n/g,\"<br />\"]])}else{if(e==\"p\"){h([[/\\n+/g,\"</p><p>\"],[/^(.*<\\/p>)(<p>)$/,\"<p>$1\"]])}else{h([[/\\n\\n/g,\"</p><p>\"],[/^(.*<\\/p>)(<p>)$/,\"<p>$1\"],[/\\n/g,\"<br />\"]])}}}d.execCommand(\"mceInsertContent\",false,g)}},_legacySupport:function(){var e=this,d=e.editor;d.addCommand(\"mcePasteWord\",function(){d.windowManager.open({file:e.url+\"/pasteword.htm\",width:parseInt(b(d,\"paste_dialog_width\")),height:parseInt(b(d,\"paste_dialog_height\")),inline:1})});if(b(d,\"paste_text_use_dialog\")){d.addCommand(\"mcePasteText\",function(){d.windowManager.open({file:e.url+\"/pastetext.htm\",width:parseInt(b(d,\"paste_dialog_width\")),height:parseInt(b(d,\"paste_dialog_height\")),inline:1})})}d.addButton(\"pasteword\",{title:\"paste.paste_word_desc\",cmd:\"mcePasteWord\"})}});tinymce.PluginManager.add(\"paste\",tinymce.plugins.PastePlugin)})();\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/paste/editor_plugin_src.js:\n  264  \n  265                  // WebKit will make a copy of the DIV for each line of plain text pasted and insert them into the DIV\n  266:                 if (n.parentNode.className != 'mcePaste')\n  267                    h += n.innerHTML;\n  268                });\n  ...\n  631                dom.setStyles(el, newStyle); // Add back the stored subset of styles\n  632              else // Remove empty span tags that do not have class attributes\n  633:               if (el.nodeName == 'SPAN' && !el.className)\n  634                  dom.remove(el, true);\n  635            });\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/table/editor_plugin.js:\n    1: (function(d){var e=d.each;function c(g,h){var j=h.ownerDocument,f=j.createRange(),k;f.setStartBefore(h);f.setEnd(g.endContainer,g.endOffset);k=j.createElement(\"body\");k.appendChild(f.cloneContents());return k.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,\"-\").replace(/<[^>]+>/g,\"\").length==0}function a(g,f){return parseInt(g.getAttribute(f)||1)}function b(H,G,K){var g,L,D,o;t();o=G.getParent(K.getStart(),\"th,td\");if(o){L=F(o);D=I();o=z(L.x,L.y)}function A(N,M){N=N.cloneNode(M);N.removeAttribute(\"id\");return N}function t(){var M=0;g=[];e([\"thead\",\"tbody\",\"tfoot\"],function(N){var O=G.select(\"> \"+N+\" tr\",H);e(O,function(P,Q){Q+=M;e(G.select(\"> td, > th\",P),function(W,R){var S,T,U,V;if(g[Q]){while(g[Q][R]){R++}}U=a(W,\"rowspan\");V=a(W,\"colspan\");for(T=Q;T<Q+U;T++){if(!g[T]){g[T]=[]}for(S=R;S<R+V;S++){g[T][S]={part:N,real:T==Q&&S==R,elm:W,rowspan:U,colspan:V}}}})});M+=O.length})}function z(M,O){var N;N=g[O];if(N){return N[M]}}function s(O,M,N){if(O){N=parseInt(N);if(N===1){O.removeAttribute(M,1)}else{O.setAttribute(M,N,1)}}}function j(M){return M&&(G.hasClass(M.elm,\"mceSelected\")||M==o)}function k(){var M=[];e(H.rows,function(N){e(N.cells,function(O){if(G.hasClass(O,\"mceSelected\")||O==o.elm){M.push(N);return false}})});return M}function r(){var M=G.createRng();M.setStartAfter(H);M.setEndAfter(H);K.setRng(M);G.remove(H)}function f(M){var N;d.walk(M,function(P){var O;if(P.nodeType==3){e(G.getParents(P.parentNode,null,M).reverse(),function(Q){Q=A(Q,false);if(!N){N=O=Q}else{if(O){O.appendChild(Q)}}O=Q});if(O){O.innerHTML=d.isIE?\"&nbsp;\":'<br data-mce-bogus=\"1\" />'}return false}},\"childNodes\");M=A(M,false);s(M,\"rowSpan\",1);s(M,\"colSpan\",1);if(N){M.appendChild(N)}else{if(!d.isIE){M.innerHTML='<br data-mce-bogus=\"1\" />'}}return M}function q(){var M=G.createRng();e(G.select(\"tr\",H),function(N){if(N.cells.length==0){G.remove(N)}});if(G.select(\"tr\",H).length==0){M.setStartAfter(H);M.setEndAfter(H);K.setRng(M);G.remove(H);return}e(G.select(\"thead,tbody,tfoot\",H),function(N){if(N.rows.length==0){G.remove(N)}});t();row=g[Math.min(g.length-1,L.y)];if(row){K.select(row[Math.min(row.length-1,L.x)].elm,true);K.collapse(true)}}function u(S,Q,U,R){var P,N,M,O,T;P=g[Q][S].elm.parentNode;for(M=1;M<=U;M++){P=G.getNext(P,\"tr\");if(P){for(N=S;N>=0;N--){T=g[Q+M][N].elm;if(T.parentNode==P){for(O=1;O<=R;O++){G.insertAfter(f(T),T)}break}}if(N==-1){for(O=1;O<=R;O++){P.insertBefore(f(P.cells[0]),P.cells[0])}}}}}function C(){e(g,function(M,N){e(M,function(P,O){var S,R,T,Q;if(j(P)){P=P.elm;S=a(P,\"colspan\");R=a(P,\"rowspan\");if(S>1||R>1){s(P,\"rowSpan\",1);s(P,\"colSpan\",1);for(Q=0;Q<S-1;Q++){G.insertAfter(f(P),P)}u(O,N,R-1,S)}}})})}function p(V,S,Y){var P,O,X,W,U,R,T,M,V,N,Q;if(V){pos=F(V);P=pos.x;O=pos.y;X=P+(S-1);W=O+(Y-1)}else{P=L.x;O=L.y;X=D.x;W=D.y}T=z(P,O);M=z(X,W);if(T&&M&&T.part==M.part){C();t();T=z(P,O).elm;s(T,\"colSpan\",(X-P)+1);s(T,\"rowSpan\",(W-O)+1);for(R=O;R<=W;R++){for(U=P;U<=X;U++){if(!g[R]||!g[R][U]){continue}V=g[R][U].elm;if(V!=T){N=d.grep(V.childNodes);e(N,function(Z){T.appendChild(Z)});if(N.length){N=d.grep(T.childNodes);Q=0;e(N,function(Z){if(Z.nodeName==\"BR\"&&G.getAttrib(Z,\"data-mce-bogus\")&&Q++<N.length-1){T.removeChild(Z)}})}G.remove(V)}}}q()}}function l(Q){var M,S,P,R,T,U,N,V,O;e(g,function(W,X){e(W,function(Z,Y){if(j(Z)){Z=Z.elm;T=Z.parentNode;U=A(T,false);M=X;if(Q){return false}}});if(Q){return !M}});for(R=0;R<g[0].length;R++){if(!g[M][R]){continue}S=g[M][R].elm;if(S!=P){if(!Q){O=a(S,\"rowspan\");if(O>1){s(S,\"rowSpan\",O+1);continue}}else{if(M>0&&g[M-1][R]){V=g[M-1][R].elm;O=a(V,\"rowSpan\");if(O>1){s(V,\"rowSpan\",O+1);continue}}}N=f(S);s(N,\"colSpan\",S.colSpan);U.appendChild(N);P=S}}if(U.hasChildNodes()){if(!Q){G.insertAfter(U,T)}else{T.parentNode.insertBefore(U,T)}}}function h(N){var O,M;e(g,function(P,Q){e(P,function(S,R){if(j(S)){O=R;if(N){return false}}});if(N){return !O}});e(g,function(S,T){var P,Q,R;if(!S[O]){return}P=S[O].elm;if(P!=M){R=a(P,\"colspan\");Q=a(P,\"rowspan\");if(R==1){if(!N){G.insertAfter(f(P),P);u(O,T,Q-1,R)}else{P.parentNode.insertBefore(f(P),P);u(O,T,Q-1,R)}}else{s(P,\"colSpan\",P.colSpan+1)}M=P}})}function n(){var M=[];e(g,function(N,O){e(N,function(Q,P){if(j(Q)&&d.inArray(M,P)===-1){e(g,function(T){var R=T[P].elm,S;S=a(R,\"colSpan\");if(S>1){s(R,\"colSpan\",S-1)}else{G.remove(R)}});M.push(P)}})});q()}function m(){var N;function M(Q){var P,R,O;P=G.getNext(Q,\"tr\");e(Q.cells,function(S){var T=a(S,\"rowSpan\");if(T>1){s(S,\"rowSpan\",T-1);R=F(S);u(R.x,R.y,1,1)}});R=F(Q.cells[0]);e(g[R.y],function(S){var T;S=S.elm;if(S!=O){T=a(S,\"rowSpan\");if(T<=1){G.remove(S)}else{s(S,\"rowSpan\",T-1)}O=S}})}N=k();e(N.reverse(),function(O){M(O)});q()}function E(){var M=k();G.remove(M);q();return M}function J(){var M=k();e(M,function(O,N){M[N]=A(O,true)});return M}function B(O,N){var P=k(),M=P[N?0:P.length-1],Q=M.cells.length;e(g,function(S){var R;Q=0;e(S,function(U,T){if(U.real){Q+=U.colspan}if(U.elm.parentNode==M){R=1}});if(R){return false}});if(!N){O.reverse()}e(O,function(T){var S=T.cells.length,R;for(i=0;i<S;i++){R=T.cells[i];s(R,\"colSpan\",1);s(R,\"rowSpan\",1)}for(i=S;i<Q;i++){T.appendChild(f(T.cells[S-1]))}for(i=Q;i<S;i++){G.remove(T.cells[i])}if(N){M.parentNode.insertBefore(T,M)}else{G.insertAfter(T,M)}})}function F(M){var N;e(g,function(O,P){e(O,function(R,Q){if(R.elm==M){N={x:Q,y:P};return false}});return !N});return N}function w(M){L=F(M)}function I(){var O,N,M;N=M=0;e(g,function(P,Q){e(P,function(S,R){var U,T;if(j(S)){S=g[Q][R];if(R>N){N=R}if(Q>M){M=Q}if(S.real){U=S.colspan-1;T=S.rowspan-1;if(U){if(R+U>N){N=R+U}}if(T){if(Q+T>M){M=Q+T}}}}})});return{x:N,y:M}}function v(S){var P,O,U,T,N,M,Q,R;D=F(S);if(L&&D){P=Math.min(L.x,D.x);O=Math.min(L.y,D.y);U=Math.max(L.x,D.x);T=Math.max(L.y,D.y);N=U;M=T;for(y=O;y<=M;y++){S=g[y][P];if(!S.real){if(P-(S.colspan-1)<P){P-=S.colspan-1}}}for(x=P;x<=N;x++){S=g[O][x];if(!S.real){if(O-(S.rowspan-1)<O){O-=S.rowspan-1}}}for(y=O;y<=T;y++){for(x=P;x<=U;x++){S=g[y][x];if(S.real){Q=S.colspan-1;R=S.rowspan-1;if(Q){if(x+Q>N){N=x+Q}}if(R){if(y+R>M){M=y+R}}}}}G.removeClass(G.select(\"td.mceSelected,th.mceSelected\"),\"mceSelected\");for(y=O;y<=M;y++){for(x=P;x<=N;x++){if(g[y][x]){G.addClass(g[y][x].elm,\"mceSelected\")}}}}}d.extend(this,{deleteTable:r,split:C,merge:p,insertRow:l,insertCol:h,deleteCols:n,deleteRows:m,cutRows:E,copyRows:J,pasteRows:B,getPos:F,setStartCell:w,setEndCell:v})}d.create(\"tinymce.plugins.TablePlugin\",{init:function(g,h){var f,m,j=true;function l(p){var o=g.selection,n=g.dom.getParent(p||o.getNode(),\"table\");if(n){return new b(n,g.dom,o)}}function k(){g.getBody().style.webkitUserSelect=\"\";if(j){g.dom.removeClass(g.dom.select(\"td.mceSelected,th.mceSelected\"),\"mceSelected\");j=false}}e([[\"table\",\"table.desc\",\"mceInsertTable\",true],[\"delete_table\",\"table.del\",\"mceTableDelete\"],[\"delete_col\",\"table.delete_col_desc\",\"mceTableDeleteCol\"],[\"delete_row\",\"table.delete_row_desc\",\"mceTableDeleteRow\"],[\"col_after\",\"table.col_after_desc\",\"mceTableInsertColAfter\"],[\"col_before\",\"table.col_before_desc\",\"mceTableInsertColBefore\"],[\"row_after\",\"table.row_after_desc\",\"mceTableInsertRowAfter\"],[\"row_before\",\"table.row_before_desc\",\"mceTableInsertRowBefore\"],[\"row_props\",\"table.row_desc\",\"mceTableRowProps\",true],[\"cell_props\",\"table.cell_desc\",\"mceTableCellProps\",true],[\"split_cells\",\"table.split_cells_desc\",\"mceTableSplitCells\",true],[\"merge_cells\",\"table.merge_cells_desc\",\"mceTableMergeCells\",true]],function(n){g.addButton(n[0],{title:n[1],cmd:n[2],ui:n[3]})});if(!d.isIE){g.onClick.add(function(n,o){o=o.target;if(o.nodeName===\"TABLE\"){n.selection.select(o);n.nodeChanged()}})}g.onPreProcess.add(function(o,p){var n,q,r,t=o.dom,s;n=t.select(\"table\",p.node);q=n.length;while(q--){r=n[q];t.setAttrib(r,\"data-mce-style\",\"\");if((s=t.getAttrib(r,\"width\"))){t.setStyle(r,\"width\",s);t.setAttrib(r,\"width\",\"\")}if((s=t.getAttrib(r,\"height\"))){t.setStyle(r,\"height\",s);t.setAttrib(r,\"height\",\"\")}}});g.onNodeChange.add(function(q,o,s){var r;s=q.selection.getStart();r=q.dom.getParent(s,\"td,th,caption\");o.setActive(\"table\",s.nodeName===\"TABLE\"||!!r);if(r&&r.nodeName===\"CAPTION\"){r=0}o.setDisabled(\"delete_table\",!r);o.setDisabled(\"delete_col\",!r);o.setDisabled(\"delete_table\",!r);o.setDisabled(\"delete_row\",!r);o.setDisabled(\"col_after\",!r);o.setDisabled(\"col_before\",!r);o.setDisabled(\"row_after\",!r);o.setDisabled(\"row_before\",!r);o.setDisabled(\"row_props\",!r);o.setDisabled(\"cell_props\",!r);o.setDisabled(\"split_cells\",!r);o.setDisabled(\"merge_cells\",!r)});g.onInit.add(function(r){var p,t,q=r.dom,u;f=r.windowManager;r.onMouseDown.add(function(w,z){if(z.button!=2){k();t=q.getParent(z.target,\"td,th\");p=q.getParent(t,\"table\")}});q.bind(r.getDoc(),\"mouseover\",function(C){var A,z,B=C.target;if(t&&(u||B!=t)&&(B.nodeName==\"TD\"||B.nodeName==\"TH\")){z=q.getParent(B,\"table\");if(z==p){if(!u){u=l(z);u.setStartCell(t);r.getBody().style.webkitUserSelect=\"none\"}u.setEndCell(B);j=true}A=r.selection.getSel();try{if(A.removeAllRanges){A.removeAllRanges()}else{A.empty()}}catch(w){}C.preventDefault()}});r.onMouseUp.add(function(F,G){var z,B=F.selection,H,I=B.getSel(),w,C,A,E;if(t){if(u){F.getBody().style.webkitUserSelect=\"\"}function D(J,L){var K=new d.dom.TreeWalker(J,J);do{if(J.nodeType==3&&d.trim(J.nodeValue).length!=0){if(L){z.setStart(J,0)}else{z.setEnd(J,J.nodeValue.length)}return}if(J.nodeName==\"BR\"){if(L){z.setStartBefore(J)}else{z.setEndBefore(J)}return}}while(J=(L?K.next():K.prev()))}H=q.select(\"td.mceSelected,th.mceSelected\");if(H.length>0){z=q.createRng();C=H[0];E=H[H.length-1];z.setStartBefore(C);z.setEndAfter(C);D(C,1);w=new d.dom.TreeWalker(C,q.getParent(H[0],\"table\"));do{if(C.nodeName==\"TD\"||C.nodeName==\"TH\"){if(!q.hasClass(C,\"mceSelected\")){break}A=C}}while(C=w.next());D(A);B.setRng(z)}F.nodeChanged();t=u=p=null}});r.onKeyUp.add(function(w,z){k()});r.onKeyDown.add(function(w,z){n(w)});r.onMouseDown.add(function(w,z){if(z.button!=2){n(w)}});function o(D,z,A,F){var B=3,G=D.dom.getParent(z.startContainer,\"TABLE\"),C,w,E;if(G){C=G.parentNode}w=z.startContainer.nodeType==B&&z.startOffset==0&&z.endOffset==0&&F&&(A.nodeName==\"TR\"||A==C);E=(A.nodeName==\"TD\"||A.nodeName==\"TH\")&&!F;return w||E}function n(A){if(!d.isWebKit){return}var z=A.selection.getRng();var C=A.selection.getNode();var B=A.dom.getParent(z.startContainer,\"TD\");if(!o(A,z,C,B)){return}if(!B){B=C}var w=B.lastChild;while(w.lastChild){w=w.lastChild}z.setEnd(w,w.nodeValue.length);A.selection.setRng(z)}r.plugins.table.fixTableCellSelection=n;if(r&&r.plugins.contextmenu){r.plugins.contextmenu.onContextMenu.add(function(A,w,C){var D,B=r.selection,z=B.getNode()||r.getBody();if(r.dom.getParent(C,\"td\")||r.dom.getParent(C,\"th\")||r.dom.select(\"td.mceSelected,th.mceSelected\").length){w.removeAll();if(z.nodeName==\"A\"&&!r.dom.getAttrib(z,\"name\")){w.add({title:\"advanced.link_desc\",icon:\"link\",cmd:r.plugins.advlink?\"mceAdvLink\":\"mceLink\",ui:true});w.add({title:\"advanced.unlink_desc\",icon:\"unlink\",cmd:\"UnLink\"});w.addSeparator()}if(z.nodeName==\"IMG\"&&z.className.indexOf(\"mceItem\")==-1){w.add({title:\"advanced.image_desc\",icon:\"image\",cmd:r.plugins.advimage?\"mceAdvImage\":\"mceImage\",ui:true});w.addSeparator()}w.add({title:\"table.desc\",icon:\"table\",cmd:\"mceInsertTable\",value:{action:\"insert\"}});w.add({title:\"table.props_desc\",icon:\"table_props\",cmd:\"mceInsertTable\"});w.add({title:\"table.del\",icon:\"delete_table\",cmd:\"mceTableDelete\"});w.addSeparator();D=w.addMenu({title:\"table.cell\"});D.add({title:\"table.cell_desc\",icon:\"cell_props\",cmd:\"mceTableCellProps\"});D.add({title:\"table.split_cells_desc\",icon:\"split_cells\",cmd:\"mceTableSplitCells\"});D.add({title:\"table.merge_cells_desc\",icon:\"merge_cells\",cmd:\"mceTableMergeCells\"});D=w.addMenu({title:\"table.row\"});D.add({title:\"table.row_desc\",icon:\"row_props\",cmd:\"mceTableRowProps\"});D.add({title:\"table.row_before_desc\",icon:\"row_before\",cmd:\"mceTableInsertRowBefore\"});D.add({title:\"table.row_after_desc\",icon:\"row_after\",cmd:\"mceTableInsertRowAfter\"});D.add({title:\"table.delete_row_desc\",icon:\"delete_row\",cmd:\"mceTableDeleteRow\"});D.addSeparator();D.add({title:\"table.cut_row_desc\",icon:\"cut\",cmd:\"mceTableCutRow\"});D.add({title:\"table.copy_row_desc\",icon:\"copy\",cmd:\"mceTableCopyRow\"});D.add({title:\"table.paste_row_before_desc\",icon:\"paste\",cmd:\"mceTablePasteRowBefore\"}).setDisabled(!m);D.add({title:\"table.paste_row_after_desc\",icon:\"paste\",cmd:\"mceTablePasteRowAfter\"}).setDisabled(!m);D=w.addMenu({title:\"table.col\"});D.add({title:\"table.col_before_desc\",icon:\"col_before\",cmd:\"mceTableInsertColBefore\"});D.add({title:\"table.col_after_desc\",icon:\"col_after\",cmd:\"mceTableInsertColAfter\"});D.add({title:\"table.delete_col_desc\",icon:\"delete_col\",cmd:\"mceTableDeleteCol\"})}else{w.add({title:\"table.desc\",icon:\"table\",cmd:\"mceInsertTable\"})}})}if(d.isWebKit){function v(B,M){function F(Q){B.selection.setCursorLocation(Q,0)}function H(R,Q){return R.keyCode==z?Q.previousSibling:Q.nextSibling}function G(R,S){var Q=H(R,S);return Q!==null&&Q.tagName===\"TR\"?Q:null}function C(Q,R){return Q.dom.getParent(R,\"table\")}function O(Q){var R=C(B,Q);return H(M,R)}function A(Q){return Q.keyCode==z||Q.keyCode==I}function D(Q){var S=Q.selection.getNode();var R=Q.dom.getParent(S,\"tr\");return R!==null}function N(R){var Q=0;var S=R;while(S.previousSibling){S=S.previousSibling;Q=Q+a(S,\"colspan\")}return Q}function E(S,Q){var T=0;var R=0;e(S.children,function(U,V){T=T+a(U,\"colspan\");R=V;if(T>Q){return false}});return R}function w(S,T,V){var U=N(S.dom.getParent(T,\"td,th\"));var R=E(V,U);var Q=V.childNodes[R];F(Q)}function L(R,T){var Q=O(R);if(Q!==null){F(Q);return d.dom.Event.cancel(T)}else{var S=T.keyCode==z?R.firstChild:R.lastChild;F(S);return true}}var z=38;var I=40;if(A(M)&&D(B)){var J=B.selection.getNode();var P=B.dom.getParent(J,\"tr\");var K=G(M,P);if(K==null){return L(P,M)}else{w(B,J,K);d.dom.Event.cancel(M);return true}}}r.onKeyDown.add(v)}if(!d.isIE){function s(){var w;for(w=r.getBody().lastChild;w&&w.nodeType==3&&!w.nodeValue.length;w=w.previousSibling){}if(w&&w.nodeName==\"TABLE\"){r.dom.add(r.getBody(),\"p\",null,'<br mce_bogus=\"1\" />')}}if(d.isGecko){r.onKeyDown.add(function(z,B){var w,A,C=z.dom;if(B.keyCode==37||B.keyCode==38){w=z.selection.getRng();A=C.getParent(w.startContainer,\"table\");if(A&&z.getBody().firstChild==A){if(c(w,A)){w=C.createRng();w.setStartBefore(A);w.setEndBefore(A);z.selection.setRng(w);B.preventDefault()}}}})}r.onKeyUp.add(s);r.onSetContent.add(s);r.onVisualAid.add(s);r.onPreProcess.add(function(w,A){var z=A.node.lastChild;if(z&&z.childNodes.length==1&&z.firstChild.nodeName==\"BR\"){w.dom.remove(z)}});s();r.startContent=r.getContent({format:\"raw\"})}});e({mceTableSplitCells:function(n){n.split()},mceTableMergeCells:function(o){var p,q,n;n=g.dom.getParent(g.selection.getNode(),\"th,td\");if(n){p=n.rowSpan;q=n.colSpan}if(!g.dom.select(\"td.mceSelected,th.mceSelected\").length){f.open({url:h+\"/merge_cells.htm\",width:240+parseInt(g.getLang(\"table.merge_cells_delta_width\",0)),height:110+parseInt(g.getLang(\"table.merge_cells_delta_height\",0)),inline:1},{rows:p,cols:q,onaction:function(r){o.merge(n,r.cols,r.rows)},plugin_url:h})}else{o.merge()}},mceTableInsertRowBefore:function(n){n.insertRow(true)},mceTableInsertRowAfter:function(n){n.insertRow()},mceTableInsertColBefore:function(n){n.insertCol(true)},mceTableInsertColAfter:function(n){n.insertCol()},mceTableDeleteCol:function(n){n.deleteCols()},mceTableDeleteRow:function(n){n.deleteRows()},mceTableCutRow:function(n){m=n.cutRows()},mceTableCopyRow:function(n){m=n.copyRows()},mceTablePasteRowBefore:function(n){n.pasteRows(m,true)},mceTablePasteRowAfter:function(n){n.pasteRows(m)},mceTableDelete:function(n){n.deleteTable()}},function(o,n){g.addCommand(n,function(){var p=l();if(p){o(p);g.execCommand(\"mceRepaint\");k()}})});e({mceInsertTable:function(n){f.open({url:h+\"/table.htm\",width:400+parseInt(g.getLang(\"table.table_delta_width\",0)),height:320+parseInt(g.getLang(\"table.table_delta_height\",0)),inline:1},{plugin_url:h,action:n?n.action:0})},mceTableRowProps:function(){f.open({url:h+\"/row.htm\",width:400+parseInt(g.getLang(\"table.rowprops_delta_width\",0)),height:295+parseInt(g.getLang(\"table.rowprops_delta_height\",0)),inline:1},{plugin_url:h})},mceTableCellProps:function(){f.open({url:h+\"/cell.htm\",width:400+parseInt(g.getLang(\"table.cellprops_delta_width\",0)),height:295+parseInt(g.getLang(\"table.cellprops_delta_height\",0)),inline:1},{plugin_url:h})}},function(o,n){g.addCommand(n,function(p,q){o(q)})})}});d.PluginManager.add(\"table\",d.plugins.TablePlugin)})(tinymce);\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/table/editor_plugin_src.js:\n 1034                }\n 1035  \n 1036:               if (el.nodeName == 'IMG' && el.className.indexOf('mceItem') == -1) {\n 1037                  m.add({title : 'advanced.image_desc', icon : 'image', cmd : ed.plugins.advimage ? 'mceAdvImage' : 'mceImage', ui : true});\n 1038                  m.addSeparator();\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/template/editor_plugin.js:\n    1: (function(){var a=tinymce.each;tinymce.create(\"tinymce.plugins.TemplatePlugin\",{init:function(b,c){var d=this;d.editor=b;b.addCommand(\"mceTemplate\",function(e){b.windowManager.open({file:c+\"/template.htm\",width:b.getParam(\"template_popup_width\",750),height:b.getParam(\"template_popup_height\",600),inline:1},{plugin_url:c})});b.addCommand(\"mceInsertTemplate\",d._insertTemplate,d);b.addButton(\"template\",{title:\"template.desc\",cmd:\"mceTemplate\"});b.onPreProcess.add(function(e,g){var f=e.dom;a(f.select(\"div\",g.node),function(h){if(f.hasClass(h,\"mceTmpl\")){a(f.select(\"*\",h),function(i){if(f.hasClass(i,e.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))){i.innerHTML=d._getDateTime(new Date(),e.getParam(\"template_mdate_format\",e.getLang(\"template.mdate_format\")))}});d._replaceVals(h)}})})},getInfo:function(){return{longname:\"Template plugin\",author:\"Moxiecode Systems AB\",authorurl:\"http://www.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/template\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}},_insertTemplate:function(i,j){var k=this,g=k.editor,f,c,d=g.dom,b=g.selection.getContent();f=j.content;a(k.editor.getParam(\"template_replace_values\"),function(l,h){if(typeof(l)!=\"function\"){f=f.replace(new RegExp(\"\\\\{\\\\$\"+h+\"\\\\}\",\"g\"),l)}});c=d.create(\"div\",null,f);n=d.select(\".mceTmpl\",c);if(n&&n.length>0){c=d.create(\"div\",null);c.appendChild(n[0].cloneNode(true))}function e(l,h){return new RegExp(\"\\\\b\"+h+\"\\\\b\",\"g\").test(l.className)}a(d.select(\"*\",c),function(h){if(e(h,g.getParam(\"template_cdate_classes\",\"cdate\").replace(/\\s+/g,\"|\"))){h.innerHTML=k._getDateTime(new Date(),g.getParam(\"template_cdate_format\",g.getLang(\"template.cdate_format\")))}if(e(h,g.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))){h.innerHTML=k._getDateTime(new Date(),g.getParam(\"template_mdate_format\",g.getLang(\"template.mdate_format\")))}if(e(h,g.getParam(\"template_selected_content_classes\",\"selcontent\").replace(/\\s+/g,\"|\"))){h.innerHTML=b}});k._replaceVals(c);g.execCommand(\"mceInsertContent\",false,c.innerHTML);g.addVisual()},_replaceVals:function(c){var d=this.editor.dom,b=this.editor.getParam(\"template_replace_values\");a(d.select(\"*\",c),function(f){a(b,function(g,e){if(d.hasClass(f,e)){if(typeof(b[e])==\"function\"){b[e](f)}}})})},_getDateTime:function(e,b){if(!b){return\"\"}function c(g,d){var f;g=\"\"+g;if(g.length<d){for(f=0;f<(d-g.length);f++){g=\"0\"+g}}return g}b=b.replace(\"%D\",\"%m/%d/%y\");b=b.replace(\"%r\",\"%I:%M:%S %p\");b=b.replace(\"%Y\",\"\"+e.getFullYear());b=b.replace(\"%y\",\"\"+e.getYear());b=b.replace(\"%m\",c(e.getMonth()+1,2));b=b.replace(\"%d\",c(e.getDate(),2));b=b.replace(\"%H\",\"\"+c(e.getHours(),2));b=b.replace(\"%M\",\"\"+c(e.getMinutes(),2));b=b.replace(\"%S\",\"\"+c(e.getSeconds(),2));b=b.replace(\"%I\",\"\"+((e.getHours()+11)%12+1));b=b.replace(\"%p\",\"\"+(e.getHours()<12?\"AM\":\"PM\"));b=b.replace(\"%B\",\"\"+this.editor.getLang(\"template_months_long\").split(\",\")[e.getMonth()]);b=b.replace(\"%b\",\"\"+this.editor.getLang(\"template_months_short\").split(\",\")[e.getMonth()]);b=b.replace(\"%A\",\"\"+this.editor.getLang(\"template_day_long\").split(\",\")[e.getDay()]);b=b.replace(\"%a\",\"\"+this.editor.getLang(\"template_day_short\").split(\",\")[e.getDay()]);b=b.replace(\"%%\",\"%\");return b}});tinymce.PluginManager.add(\"template\",tinymce.plugins.TemplatePlugin)})();\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/template/editor_plugin_src.js:\n   81  \n   82        function hasClass(n, c) {\n   83:         return new RegExp('\\\\b' + c + '\\\\b', 'g').test(n.className);\n   84        };\n   85  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/plugins/xhtmlxtras/js/element_common.js:\n  197  \n  198  SXE.containsClass = function(elm,cl) {\n  199:   return (elm.className.indexOf(cl) > -1) ? true : false;\n  200  }\n  201  \n  202  SXE.removeClass = function(elm,cl) {\n  203:   if(elm.className == null || elm.className == \"\" || !SXE.containsClass(elm,cl)) {\n  204      return true;\n  205    }\n  206:   var classNames = elm.className.split(\" \");\n  207    var newClassNames = \"\";\n  208    for (var x = 0, cnl = classNames.length; x < cnl; x++) {\n  ...\n  211      }\n  212    }\n  213:   elm.className = newClassNames.substring(0,newClassNames.length-1); //removes extra space at the end\n  214  }\n  215  \n  216  SXE.addClass = function(elm,cl) {\n  217:   if(!SXE.containsClass(elm,cl)) elm.className ? elm.className += \" \" + cl : elm.className = cl;\n  218    return true;\n  219  }\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/themes/advanced/editor_template.js:\n    1: (function(e){var d=e.DOM,b=e.dom.Event,h=e.extend,f=e.each,a=e.util.Cookie,g,c=e.explode;e.ThemeManager.requireLangPack(\"advanced\");e.create(\"tinymce.themes.AdvancedTheme\",{sizes:[8,10,12,14,18,24,36],controls:{bold:[\"bold_desc\",\"Bold\"],italic:[\"italic_desc\",\"Italic\"],underline:[\"underline_desc\",\"Underline\"],strikethrough:[\"striketrough_desc\",\"Strikethrough\"],justifyleft:[\"justifyleft_desc\",\"JustifyLeft\"],justifycenter:[\"justifycenter_desc\",\"JustifyCenter\"],justifyright:[\"justifyright_desc\",\"JustifyRight\"],justifyfull:[\"justifyfull_desc\",\"JustifyFull\"],bullist:[\"bullist_desc\",\"InsertUnorderedList\"],numlist:[\"numlist_desc\",\"InsertOrderedList\"],outdent:[\"outdent_desc\",\"Outdent\"],indent:[\"indent_desc\",\"Indent\"],cut:[\"cut_desc\",\"Cut\"],copy:[\"copy_desc\",\"Copy\"],paste:[\"paste_desc\",\"Paste\"],undo:[\"undo_desc\",\"Undo\"],redo:[\"redo_desc\",\"Redo\"],link:[\"link_desc\",\"mceLink\"],unlink:[\"unlink_desc\",\"unlink\"],image:[\"image_desc\",\"mceImage\"],cleanup:[\"cleanup_desc\",\"mceCleanup\"],help:[\"help_desc\",\"mceHelp\"],code:[\"code_desc\",\"mceCodeEditor\"],hr:[\"hr_desc\",\"InsertHorizontalRule\"],removeformat:[\"removeformat_desc\",\"RemoveFormat\"],sub:[\"sub_desc\",\"subscript\"],sup:[\"sup_desc\",\"superscript\"],forecolor:[\"forecolor_desc\",\"ForeColor\"],forecolorpicker:[\"forecolor_desc\",\"mceForeColor\"],backcolor:[\"backcolor_desc\",\"HiliteColor\"],backcolorpicker:[\"backcolor_desc\",\"mceBackColor\"],charmap:[\"charmap_desc\",\"mceCharMap\"],visualaid:[\"visualaid_desc\",\"mceToggleVisualAid\"],anchor:[\"anchor_desc\",\"mceInsertAnchor\"],newdocument:[\"newdocument_desc\",\"mceNewDocument\"],blockquote:[\"blockquote_desc\",\"mceBlockQuote\"]},stateControls:[\"bold\",\"italic\",\"underline\",\"strikethrough\",\"bullist\",\"numlist\",\"justifyleft\",\"justifycenter\",\"justifyright\",\"justifyfull\",\"sub\",\"sup\",\"blockquote\"],init:function(j,k){var l=this,m,i,n;l.editor=j;l.url=k;l.onResolveName=new e.util.Dispatcher(this);j.forcedHighContrastMode=j.settings.detect_highcontrast&&l._isHighContrast();j.settings.skin=j.forcedHighContrastMode?\"highcontrast\":j.settings.skin;l.settings=m=h({theme_advanced_path:true,theme_advanced_toolbar_location:\"bottom\",theme_advanced_buttons1:\"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect\",theme_advanced_buttons2:\"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code\",theme_advanced_buttons3:\"hr,removeformat,visualaid,|,sub,sup,|,charmap\",theme_advanced_blockformats:\"p,address,pre,h1,h2,h3,h4,h5,h6\",theme_advanced_toolbar_align:\"center\",theme_advanced_fonts:\"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats\",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:\"1,2,3,4,5,6,7\",theme_advanced_font_selector:\"span\",theme_advanced_show_current_color:0,readonly:j.settings.readonly},j.settings);if(!m.font_size_style_values){m.font_size_style_values=\"8pt,10pt,12pt,14pt,18pt,24pt,36pt\"}if(e.is(m.theme_advanced_font_sizes,\"string\")){m.font_size_style_values=e.explode(m.font_size_style_values);m.font_size_classes=e.explode(m.font_size_classes||\"\");n={};j.settings.theme_advanced_font_sizes=m.theme_advanced_font_sizes;f(j.getParam(\"theme_advanced_font_sizes\",\"\",\"hash\"),function(q,p){var o;if(p==q&&q>=1&&q<=7){p=q+\" (\"+l.sizes[q-1]+\"pt)\";o=m.font_size_classes[q-1];q=m.font_size_style_values[q-1]||(l.sizes[q-1]+\"pt\")}if(/^\\s*\\./.test(q)){o=q.replace(/\\./g,\"\")}n[p]=o?{\"class\":o}:{fontSize:q}});m.theme_advanced_font_sizes=n}if((i=m.theme_advanced_path_location)&&i!=\"none\"){m.theme_advanced_statusbar_location=m.theme_advanced_path_location}if(m.theme_advanced_statusbar_location==\"none\"){m.theme_advanced_statusbar_location=0}if(j.settings.content_css!==false){j.contentCSS.push(j.baseURI.toAbsolute(k+\"/skins/\"+j.settings.skin+\"/content.css\"))}j.onInit.add(function(){if(!j.settings.readonly){j.onNodeChange.add(l._nodeChanged,l);j.onKeyUp.add(l._updateUndoStatus,l);j.onMouseUp.add(l._updateUndoStatus,l);j.dom.bind(j.dom.getRoot(),\"dragend\",function(){l._updateUndoStatus(j)})}});j.onSetProgressState.add(function(q,o,r){var s,t=q.id,p;if(o){l.progressTimer=setTimeout(function(){s=q.getContainer();s=s.insertBefore(d.create(\"DIV\",{style:\"position:relative\"}),s.firstChild);p=d.get(q.id+\"_tbl\");d.add(s,\"div\",{id:t+\"_blocker\",\"class\":\"mceBlocker\",style:{width:p.clientWidth+2,height:p.clientHeight+2}});d.add(s,\"div\",{id:t+\"_progress\",\"class\":\"mceProgress\",style:{left:p.clientWidth/2,top:p.clientHeight/2}})},r||0)}else{d.remove(t+\"_blocker\");d.remove(t+\"_progress\");clearTimeout(l.progressTimer)}});d.loadCSS(m.editor_css?j.documentBaseURI.toAbsolute(m.editor_css):k+\"/skins/\"+j.settings.skin+\"/ui.css\");if(m.skin_variant){d.loadCSS(k+\"/skins/\"+j.settings.skin+\"/ui_\"+m.skin_variant+\".css\")}},_isHighContrast:function(){var i,j=d.add(d.getRoot(),\"div\",{style:\"background-color: rgb(171,239,86);\"});i=(d.getStyle(j,\"background-color\",true)+\"\").toLowerCase().replace(/ /g,\"\");d.remove(j);return i!=\"rgb(171,239,86)\"&&i!=\"#abef56\"},createControl:function(l,i){var j,k;if(k=i.createControl(l)){return k}switch(l){case\"styleselect\":return this._createStyleSelect();case\"formatselect\":return this._createBlockFormats();case\"fontselect\":return this._createFontSelect();case\"fontsizeselect\":return this._createFontSizeSelect();case\"forecolor\":return this._createForeColorMenu();case\"backcolor\":return this._createBackColorMenu()}if((j=this.controls[l])){return i.createButton(l,{title:\"advanced.\"+j[0],cmd:j[1],ui:j[2],value:j[3]})}},execCommand:function(k,j,l){var i=this[\"_\"+k];if(i){i.call(this,j,l);return true}return false},_importClasses:function(k){var i=this.editor,j=i.controlManager.get(\"styleselect\");if(j.getLength()==0){f(i.dom.getClasses(),function(n,l){var m=\"style_\"+l;i.formatter.register(m,{inline:\"span\",attributes:{\"class\":n[\"class\"]},selector:\"*\"});j.add(n[\"class\"],m)})}},_createStyleSelect:function(m){var k=this,i=k.editor,j=i.controlManager,l;l=j.createListBox(\"styleselect\",{title:\"advanced.style_select\",onselect:function(o){var p,n=[];f(l.items,function(q){n.push(q.value)});i.focus();i.undoManager.add();p=i.formatter.matchAll(n);if(!o||p[0]==o){if(p[0]){i.formatter.remove(p[0])}}else{i.formatter.apply(o)}i.undoManager.add();i.nodeChanged();return false}});i.onInit.add(function(){var o=0,n=i.getParam(\"style_formats\");if(n){f(n,function(p){var q,r=0;f(p,function(){r++});if(r>1){q=p.name=p.name||\"style_\"+(o++);i.formatter.register(q,p);l.add(p.title,q)}else{l.add(p.title)}})}else{f(i.getParam(\"theme_advanced_styles\",\"\",\"hash\"),function(r,q){var p;if(r){p=\"style_\"+(o++);i.formatter.register(p,{inline:\"span\",classes:r,selector:\"*\"});l.add(k.editor.translate(q),p)}})}});if(l.getLength()==0){l.onPostRender.add(function(o,p){if(!l.NativeListBox){b.add(p.id+\"_text\",\"focus\",k._importClasses,k);b.add(p.id+\"_text\",\"mousedown\",k._importClasses,k);b.add(p.id+\"_open\",\"focus\",k._importClasses,k);b.add(p.id+\"_open\",\"mousedown\",k._importClasses,k)}else{b.add(p.id,\"focus\",k._importClasses,k)}})}return l},_createFontSelect:function(){var k,j=this,i=j.editor;k=i.controlManager.createListBox(\"fontselect\",{title:\"advanced.fontdefault\",onselect:function(l){var m=k.items[k.selectedIndex];if(!l&&m){i.execCommand(\"FontName\",false,m.value);return}i.execCommand(\"FontName\",false,l);k.select(function(n){return l==n});if(m&&m.value==l){k.select(null)}return false}});if(k){f(i.getParam(\"theme_advanced_fonts\",j.settings.theme_advanced_fonts,\"hash\"),function(m,l){k.add(i.translate(l),m,{style:m.indexOf(\"dings\")==-1?\"font-family:\"+m:\"\"})})}return k},_createFontSizeSelect:function(){var m=this,k=m.editor,n,l=0,j=[];n=k.controlManager.createListBox(\"fontsizeselect\",{title:\"advanced.font_size\",onselect:function(i){var o=n.items[n.selectedIndex];if(!i&&o){o=o.value;if(o[\"class\"]){k.formatter.toggle(\"fontsize_class\",{value:o[\"class\"]});k.undoManager.add();k.nodeChanged()}else{k.execCommand(\"FontSize\",false,o.fontSize)}return}if(i[\"class\"]){k.focus();k.undoManager.add();k.formatter.toggle(\"fontsize_class\",{value:i[\"class\"]});k.undoManager.add();k.nodeChanged()}else{k.execCommand(\"FontSize\",false,i.fontSize)}n.select(function(p){return i==p});if(o&&(o.value.fontSize==i.fontSize||o.value[\"class\"]==i[\"class\"])){n.select(null)}return false}});if(n){f(m.settings.theme_advanced_font_sizes,function(o,i){var p=o.fontSize;if(p>=1&&p<=7){p=m.sizes[parseInt(p)-1]+\"pt\"}n.add(i,o,{style:\"font-size:\"+p,\"class\":\"mceFontSize\"+(l++)+(\" \"+(o[\"class\"]||\"\"))})})}return n},_createBlockFormats:function(){var k,i={p:\"advanced.paragraph\",address:\"advanced.address\",pre:\"advanced.pre\",h1:\"advanced.h1\",h2:\"advanced.h2\",h3:\"advanced.h3\",h4:\"advanced.h4\",h5:\"advanced.h5\",h6:\"advanced.h6\",div:\"advanced.div\",blockquote:\"advanced.blockquote\",code:\"advanced.code\",dt:\"advanced.dt\",dd:\"advanced.dd\",samp:\"advanced.samp\"},j=this;k=j.editor.controlManager.createListBox(\"formatselect\",{title:\"advanced.block\",onselect:function(l){j.editor.execCommand(\"FormatBlock\",false,l);return false}});if(k){f(j.editor.getParam(\"theme_advanced_blockformats\",j.settings.theme_advanced_blockformats,\"hash\"),function(m,l){k.add(j.editor.translate(l!=m?l:i[m]),m,{\"class\":\"mce_formatPreview mce_\"+m})})}return k},_createForeColorMenu:function(){var m,j=this,k=j.settings,l={},i;if(k.theme_advanced_more_colors){l.more_colors_func=function(){j._mceColorPicker(0,{color:m.value,func:function(n){m.setColor(n)}})}}if(i=k.theme_advanced_text_colors){l.colors=i}if(k.theme_advanced_default_foreground_color){l.default_color=k.theme_advanced_default_foreground_color}l.title=\"advanced.forecolor_desc\";l.cmd=\"ForeColor\";l.scope=this;m=j.editor.controlManager.createColorSplitButton(\"forecolor\",l);return m},_createBackColorMenu:function(){var m,j=this,k=j.settings,l={},i;if(k.theme_advanced_more_colors){l.more_colors_func=function(){j._mceColorPicker(0,{color:m.value,func:function(n){m.setColor(n)}})}}if(i=k.theme_advanced_background_colors){l.colors=i}if(k.theme_advanced_default_background_color){l.default_color=k.theme_advanced_default_background_color}l.title=\"advanced.backcolor_desc\";l.cmd=\"HiliteColor\";l.scope=this;m=j.editor.controlManager.createColorSplitButton(\"backcolor\",l);return m},renderUI:function(k){var m,l,q,v=this,r=v.editor,w=v.settings,u,j,i;if(r.settings){r.settings.aria_label=w.aria_label+r.getLang(\"advanced.help_shortcut\")}m=j=d.create(\"span\",{role:\"application\",\"aria-labelledby\":r.id+\"_voice\",id:r.id+\"_parent\",\"class\":\"mceEditor \"+r.settings.skin+\"Skin\"+(w.skin_variant?\" \"+r.settings.skin+\"Skin\"+v._ufirst(w.skin_variant):\"\")});d.add(m,\"span\",{\"class\":\"mceVoiceLabel\",style:\"display:none;\",id:r.id+\"_voice\"},w.aria_label);if(!d.boxModel){m=d.add(m,\"div\",{\"class\":\"mceOldBoxModel\"})}m=u=d.add(m,\"table\",{role:\"presentation\",id:r.id+\"_tbl\",\"class\":\"mceLayout\",cellSpacing:0,cellPadding:0});m=q=d.add(m,\"tbody\");switch((w.theme_advanced_layout_manager||\"\").toLowerCase()){case\"rowlayout\":l=v._rowLayout(w,q,k);break;case\"customlayout\":l=r.execCallback(\"theme_advanced_custom_layout\",w,q,k,j);break;default:l=v._simpleLayout(w,q,k,j)}m=k.targetNode;i=u.rows;d.addClass(i[0],\"mceFirst\");d.addClass(i[i.length-1],\"mceLast\");f(d.select(\"tr\",q),function(o){d.addClass(o.firstChild,\"mceFirst\");d.addClass(o.childNodes[o.childNodes.length-1],\"mceLast\")});if(d.get(w.theme_advanced_toolbar_container)){d.get(w.theme_advanced_toolbar_container).appendChild(j)}else{d.insertAfter(j,m)}b.add(r.id+\"_path_row\",\"click\",function(n){n=n.target;if(n.nodeName==\"A\"){v._sel(n.className.replace(/^.*mcePath_([0-9]+).*$/,\"$1\"));return b.cancel(n)}});if(!r.getParam(\"accessibility_focus\")){b.add(d.add(j,\"a\",{href:\"#\"},\"<!-- IE -->\"),\"focus\",function(){tinyMCE.get(r.id).focus()})}if(w.theme_advanced_toolbar_location==\"external\"){k.deltaHeight=0}v.deltaHeight=k.deltaHeight;k.targetNode=null;r.onKeyDown.add(function(p,n){var s=121,o=122;if(n.altKey){if(n.keyCode===s){window.focus();v.toolbarGroup.focus();return b.cancel(n)}else{if(n.keyCode===o){d.get(p.id+\"_path_row\").focus();return b.cancel(n)}}}});r.addShortcut(\"alt+0\",\"\",\"mceShortcuts\",v);return{iframeContainer:l,editorContainer:r.id+\"_parent\",sizeContainer:u,deltaHeight:k.deltaHeight}},getInfo:function(){return{longname:\"Advanced theme\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",version:e.majorVersion+\".\"+e.minorVersion}},resizeBy:function(i,j){var k=d.get(this.editor.id+\"_ifr\");this.resizeTo(k.clientWidth+i,k.clientHeight+j)},resizeTo:function(i,m,k){var j=this.editor,l=this.settings,n=d.get(j.id+\"_tbl\"),o=d.get(j.id+\"_ifr\");i=Math.max(l.theme_advanced_resizing_min_width||100,i);m=Math.max(l.theme_advanced_resizing_min_height||100,m);i=Math.min(l.theme_advanced_resizing_max_width||65535,i);m=Math.min(l.theme_advanced_resizing_max_height||65535,m);d.setStyle(n,\"height\",\"\");d.setStyle(o,\"height\",m);if(l.theme_advanced_resize_horizontal){d.setStyle(n,\"width\",\"\");d.setStyle(o,\"width\",i);if(i<n.clientWidth){i=n.clientWidth;d.setStyle(o,\"width\",n.clientWidth)}}if(k&&l.theme_advanced_resizing_use_cookie){a.setHash(\"TinyMCE_\"+j.id+\"_size\",{cw:i,ch:m})}},destroy:function(){var i=this.editor.id;b.clear(i+\"_resize\");b.clear(i+\"_path_row\");b.clear(i+\"_external_close\")},_simpleLayout:function(y,r,k,i){var x=this,u=x.editor,v=y.theme_advanced_toolbar_location,m=y.theme_advanced_statusbar_location,l,j,q,w;if(y.readonly){l=d.add(r,\"tr\");l=j=d.add(l,\"td\",{\"class\":\"mceIframeContainer\"});return j}if(v==\"top\"){x._addToolbars(r,k)}if(v==\"external\"){l=w=d.create(\"div\",{style:\"position:relative\"});l=d.add(l,\"div\",{id:u.id+\"_external\",\"class\":\"mceExternalToolbar\"});d.add(l,\"a\",{id:u.id+\"_external_close\",href:\"javascript:;\",\"class\":\"mceExternalClose\"});l=d.add(l,\"table\",{id:u.id+\"_tblext\",cellSpacing:0,cellPadding:0});q=d.add(l,\"tbody\");if(i.firstChild.className==\"mceOldBoxModel\"){i.firstChild.appendChild(w)}else{i.insertBefore(w,i.firstChild)}x._addToolbars(q,k);u.onMouseUp.add(function(){var o=d.get(u.id+\"_external\");d.show(o);d.hide(g);var n=b.add(u.id+\"_external_close\",\"click\",function(){d.hide(u.id+\"_external\");b.remove(u.id+\"_external_close\",\"click\",n)});d.show(o);d.setStyle(o,\"top\",0-d.getRect(u.id+\"_tblext\").h-1);d.hide(o);d.show(o);o.style.filter=\"\";g=u.id+\"_external\";o=null})}if(m==\"top\"){x._addStatusBar(r,k)}if(!y.theme_advanced_toolbar_container){l=d.add(r,\"tr\");l=j=d.add(l,\"td\",{\"class\":\"mceIframeContainer\"})}if(v==\"bottom\"){x._addToolbars(r,k)}if(m==\"bottom\"){x._addStatusBar(r,k)}return j},_rowLayout:function(w,m,k){var v=this,p=v.editor,u,x,i=p.controlManager,l,j,r,q;u=w.theme_advanced_containers_default_class||\"\";x=w.theme_advanced_containers_default_align||\"center\";f(c(w.theme_advanced_containers||\"\"),function(s,o){var n=w[\"theme_advanced_container_\"+s]||\"\";switch(s.toLowerCase()){case\"mceeditor\":l=d.add(m,\"tr\");l=j=d.add(l,\"td\",{\"class\":\"mceIframeContainer\"});break;case\"mceelementpath\":v._addStatusBar(m,k);break;default:q=(w[\"theme_advanced_container_\"+s+\"_align\"]||x).toLowerCase();q=\"mce\"+v._ufirst(q);l=d.add(d.add(m,\"tr\"),\"td\",{\"class\":\"mceToolbar \"+(w[\"theme_advanced_container_\"+s+\"_class\"]||u)+\" \"+q||x});r=i.createToolbar(\"toolbar\"+o);v._addControls(n,r);d.setHTML(l,r.renderHTML());k.deltaHeight-=w.theme_advanced_row_height}});return j},_addControls:function(j,i){var k=this,l=k.settings,m,n=k.editor.controlManager;if(l.theme_advanced_disable&&!k._disabled){m={};f(c(l.theme_advanced_disable),function(o){m[o]=1});k._disabled=m}else{m=k._disabled}f(c(j),function(p){var o;if(m&&m[p]){return}if(p==\"tablecontrols\"){f([\"table\",\"|\",\"row_props\",\"cell_props\",\"|\",\"row_before\",\"row_after\",\"delete_row\",\"|\",\"col_before\",\"col_after\",\"delete_col\",\"|\",\"split_cells\",\"merge_cells\"],function(q){q=k.createControl(q,n);if(q){i.add(q)}});return}o=k.createControl(p,n);if(o){i.add(o)}})},_addToolbars:function(x,k){var A=this,p,m,r=A.editor,B=A.settings,z,j=r.controlManager,u,l,q=[],y,w;w=j.createToolbarGroup(\"toolbargroup\",{name:r.getLang(\"advanced.toolbar\"),tab_focus_toolbar:r.getParam(\"theme_advanced_tab_focus_toolbar\")});A.toolbarGroup=w;y=B.theme_advanced_toolbar_align.toLowerCase();y=\"mce\"+A._ufirst(y);l=d.add(d.add(x,\"tr\",{role:\"presentation\"}),\"td\",{\"class\":\"mceToolbar \"+y,role:\"presentation\"});for(p=1;(z=B[\"theme_advanced_buttons\"+p]);p++){m=j.createToolbar(\"toolbar\"+p,{\"class\":\"mceToolbarRow\"+p});if(B[\"theme_advanced_buttons\"+p+\"_add\"]){z+=\",\"+B[\"theme_advanced_buttons\"+p+\"_add\"]}if(B[\"theme_advanced_buttons\"+p+\"_add_before\"]){z=B[\"theme_advanced_buttons\"+p+\"_add_before\"]+\",\"+z}A._addControls(z,m);w.add(m);k.deltaHeight-=B.theme_advanced_row_height}q.push(w.renderHTML());q.push(d.createHTML(\"a\",{href:\"#\",accesskey:\"z\",title:r.getLang(\"advanced.toolbar_focus\"),onfocus:\"tinyMCE.getInstanceById('\"+r.id+\"').focus();\"},\"<!-- IE -->\"));d.setHTML(l,q.join(\"\"))},_addStatusBar:function(m,j){var k,v=this,p=v.editor,w=v.settings,i,q,u,l;k=d.add(m,\"tr\");k=l=d.add(k,\"td\",{\"class\":\"mceStatusbar\"});k=d.add(k,\"div\",{id:p.id+\"_path_row\",role:\"group\",\"aria-labelledby\":p.id+\"_path_voice\"});if(w.theme_advanced_path){d.add(k,\"span\",{id:p.id+\"_path_voice\"},p.translate(\"advanced.path\"));d.add(k,\"span\",{},\": \")}else{d.add(k,\"span\",{},\"&#160;\")}if(w.theme_advanced_resizing){d.add(l,\"a\",{id:p.id+\"_resize\",href:\"javascript:;\",onclick:\"return false;\",\"class\":\"mceResize\",tabIndex:\"-1\"});if(w.theme_advanced_resizing_use_cookie){p.onPostRender.add(function(){var n=a.getHash(\"TinyMCE_\"+p.id+\"_size\"),r=d.get(p.id+\"_tbl\");if(!n){return}v.resizeTo(n.cw,n.ch)})}p.onPostRender.add(function(){b.add(p.id+\"_resize\",\"click\",function(n){n.preventDefault()});b.add(p.id+\"_resize\",\"mousedown\",function(D){var t,r,s,o,C,z,A,F,n,E,x;function y(G){G.preventDefault();n=A+(G.screenX-C);E=F+(G.screenY-z);v.resizeTo(n,E)}function B(G){b.remove(d.doc,\"mousemove\",t);b.remove(p.getDoc(),\"mousemove\",r);b.remove(d.doc,\"mouseup\",s);b.remove(p.getDoc(),\"mouseup\",o);n=A+(G.screenX-C);E=F+(G.screenY-z);v.resizeTo(n,E,true)}D.preventDefault();C=D.screenX;z=D.screenY;x=d.get(v.editor.id+\"_ifr\");A=n=x.clientWidth;F=E=x.clientHeight;t=b.add(d.doc,\"mousemove\",y);r=b.add(p.getDoc(),\"mousemove\",y);s=b.add(d.doc,\"mouseup\",B);o=b.add(p.getDoc(),\"mouseup\",B)})})}j.deltaHeight-=21;k=m=null},_updateUndoStatus:function(j){var i=j.controlManager,k=j.undoManager;i.setDisabled(\"undo\",!k.hasUndo()&&!k.typing);i.setDisabled(\"redo\",!k.hasRedo())},_nodeChanged:function(m,r,D,q,E){var y=this,C,F=0,x,G,z=y.settings,w,k,u,B,l,j,i;e.each(y.stateControls,function(n){r.setActive(n,m.queryCommandState(y.controls[n][1]))});function o(p){var s,n=E.parents,t=p;if(typeof(p)==\"string\"){t=function(v){return v.nodeName==p}}for(s=0;s<n.length;s++){if(t(n[s])){return n[s]}}}r.setActive(\"visualaid\",m.hasVisual);y._updateUndoStatus(m);r.setDisabled(\"outdent\",!m.queryCommandState(\"Outdent\"));C=o(\"A\");if(G=r.get(\"link\")){if(!C||!C.name){G.setDisabled(!C&&q);G.setActive(!!C)}}if(G=r.get(\"unlink\")){G.setDisabled(!C&&q);G.setActive(!!C&&!C.name)}if(G=r.get(\"anchor\")){G.setActive(!q&&!!C&&C.name)}C=o(\"IMG\");if(G=r.get(\"image\")){G.setActive(!q&&!!C&&D.className.indexOf(\"mceItem\")==-1)}if(G=r.get(\"styleselect\")){y._importClasses();j=[];f(G.items,function(n){j.push(n.value)});i=m.formatter.matchAll(j);G.select(i[0])}if(G=r.get(\"formatselect\")){C=o(d.isBlock);if(C){G.select(C.nodeName.toLowerCase())}}o(function(p){if(p.nodeName===\"SPAN\"){if(!w&&p.className){w=p.className}}if(m.dom.is(p,z.theme_advanced_font_selector)){if(!k&&p.style.fontSize){k=p.style.fontSize}if(!u&&p.style.fontFamily){u=p.style.fontFamily.replace(/[\\\"\\']+/g,\"\").replace(/^([^,]+).*/,\"$1\").toLowerCase()}if(!B&&p.style.color){B=p.style.color}if(!l&&p.style.backgroundColor){l=p.style.backgroundColor}}return false});if(G=r.get(\"fontselect\")){G.select(function(n){return n.replace(/^([^,]+).*/,\"$1\").toLowerCase()==u})}if(G=r.get(\"fontsizeselect\")){if(z.theme_advanced_runtime_fontsize&&!k&&!w){k=m.dom.getStyle(D,\"fontSize\",true)}G.select(function(n){if(n.fontSize&&n.fontSize===k){return true}if(n[\"class\"]&&n[\"class\"]===w){return true}})}if(z.theme_advanced_show_current_color){function A(p,n){if(G=r.get(p)){if(!n){n=G.settings.default_color}if(n!==G.value){G.displayColor(n)}}}A(\"forecolor\",B);A(\"backcolor\",l)}if(z.theme_advanced_show_current_color){function A(p,n){if(G=r.get(p)){if(!n){n=G.settings.default_color}if(n!==G.value){G.displayColor(n)}}}A(\"forecolor\",B);A(\"backcolor\",l)}if(z.theme_advanced_path&&z.theme_advanced_statusbar_location){C=d.get(m.id+\"_path\")||d.add(m.id+\"_path_row\",\"span\",{id:m.id+\"_path\"});if(y.statusKeyboardNavigation){y.statusKeyboardNavigation.destroy();y.statusKeyboardNavigation=null}d.setHTML(C,\"\");o(function(H){var p=H.nodeName.toLowerCase(),s,v,t=\"\";if(H.nodeType!=1||p===\"br\"||H.getAttribute(\"data-mce-bogus\")||d.hasClass(H,\"mceItemHidden\")||d.hasClass(H,\"mceItemRemoved\")){return}if(e.isIE&&H.scopeName!==\"HTML\"){p=H.scopeName+\":\"+p}p=p.replace(/mce\\:/g,\"\");switch(p){case\"b\":p=\"strong\";break;case\"i\":p=\"em\";break;case\"img\":if(x=d.getAttrib(H,\"src\")){t+=\"src: \"+x+\" \"}break;case\"a\":if(x=d.getAttrib(H,\"name\")){t+=\"name: \"+x+\" \";p+=\"#\"+x}if(x=d.getAttrib(H,\"href\")){t+=\"href: \"+x+\" \"}break;case\"font\":if(x=d.getAttrib(H,\"face\")){t+=\"font: \"+x+\" \"}if(x=d.getAttrib(H,\"size\")){t+=\"size: \"+x+\" \"}if(x=d.getAttrib(H,\"color\")){t+=\"color: \"+x+\" \"}break;case\"span\":if(x=d.getAttrib(H,\"style\")){t+=\"style: \"+x+\" \"}break}if(x=d.getAttrib(H,\"id\")){t+=\"id: \"+x+\" \"}if(x=H.className){x=x.replace(/\\b\\s*(webkit|mce|Apple-)\\w+\\s*\\b/g,\"\");if(x){t+=\"class: \"+x+\" \";if(d.isBlock(H)||p==\"img\"||p==\"span\"){p+=\".\"+x}}}p=p.replace(/(html:)/g,\"\");p={name:p,node:H,title:t};y.onResolveName.dispatch(y,p);t=p.title;p=p.name;v=d.create(\"a\",{href:\"javascript:;\",role:\"button\",onmousedown:\"return false;\",title:t,\"class\":\"mcePath_\"+(F++)},p);if(C.hasChildNodes()){C.insertBefore(d.create(\"span\",{\"aria-hidden\":\"true\"},\"\\u00a0\\u00bb \"),C.firstChild);C.insertBefore(v,C.firstChild)}else{C.appendChild(v)}},m.getBody());if(d.select(\"a\",C).length>0){y.statusKeyboardNavigation=new e.ui.KeyboardNavigation({root:m.id+\"_path_row\",items:d.select(\"a\",C),excludeFromTabOrder:true,onCancel:function(){m.focus()}},d)}}},_sel:function(i){this.editor.execCommand(\"mceSelectNodeDepth\",false,i)},_mceInsertAnchor:function(k,j){var i=this.editor;i.windowManager.open({url:this.url+\"/anchor.htm\",width:320+parseInt(i.getLang(\"advanced.anchor_delta_width\",0)),height:90+parseInt(i.getLang(\"advanced.anchor_delta_height\",0)),inline:true},{theme_url:this.url})},_mceCharMap:function(){var i=this.editor;i.windowManager.open({url:this.url+\"/charmap.htm\",width:550+parseInt(i.getLang(\"advanced.charmap_delta_width\",0)),height:250+parseInt(i.getLang(\"advanced.charmap_delta_height\",0)),inline:true},{theme_url:this.url})},_mceHelp:function(){var i=this.editor;i.windowManager.open({url:this.url+\"/about.htm\",width:480,height:380,inline:true},{theme_url:this.url})},_mceShortcuts:function(){var i=this.editor;i.windowManager.open({url:this.url+\"/shortcuts.htm\",width:480,height:380,inline:true},{theme_url:this.url})},_mceColorPicker:function(k,j){var i=this.editor;j=j||{};i.windowManager.open({url:this.url+\"/color_picker.htm\",width:375+parseInt(i.getLang(\"advanced.colorpicker_delta_width\",0)),height:250+parseInt(i.getLang(\"advanced.colorpicker_delta_height\",0)),close_previous:false,inline:true},{input_color:j.color,func:j.func,theme_url:this.url})},_mceCodeEditor:function(j,k){var i=this.editor;i.windowManager.open({url:this.url+\"/source_editor.htm\",width:parseInt(i.getParam(\"theme_advanced_source_editor_width\",720)),height:parseInt(i.getParam(\"theme_advanced_source_editor_height\",580)),inline:true,resizable:true,maximizable:true},{theme_url:this.url})},_mceImage:function(j,k){var i=this.editor;if(i.dom.getAttrib(i.selection.getNode(),\"class\").indexOf(\"mceItem\")!=-1){return}i.windowManager.open({url:this.url+\"/image.htm\",width:355+parseInt(i.getLang(\"advanced.image_delta_width\",0)),height:275+parseInt(i.getLang(\"advanced.image_delta_height\",0)),inline:true},{theme_url:this.url})},_mceLink:function(j,k){var i=this.editor;i.windowManager.open({url:this.url+\"/link.htm\",width:310+parseInt(i.getLang(\"advanced.link_delta_width\",0)),height:200+parseInt(i.getLang(\"advanced.link_delta_height\",0)),inline:true},{theme_url:this.url})},_mceNewDocument:function(){var i=this.editor;i.windowManager.confirm(\"advanced.newdocument\",function(j){if(j){i.execCommand(\"mceSetContent\",false,\"\")}})},_mceForeColor:function(){var i=this;this._mceColorPicker(0,{color:i.fgColor,func:function(j){i.fgColor=j;i.editor.execCommand(\"ForeColor\",false,j)}})},_mceBackColor:function(){var i=this;this._mceColorPicker(0,{color:i.bgColor,func:function(j){i.bgColor=j;i.editor.execCommand(\"HiliteColor\",false,j)}})},_ufirst:function(i){return i.substring(0,1).toUpperCase()+i.substring(1)}});e.ThemeManager.add(\"advanced\",e.themes.AdvancedTheme)}(tinymce));\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/themes/advanced/editor_template_src.js:\n  552  \n  553          if (e.nodeName == 'A') {\n  554:           t._sel(e.className.replace(/^.*mcePath_([0-9]+).*$/, '$1'));\n  555  \n  556            return Event.cancel(e);\n  ...\n  694          etb = DOM.add(n, 'tbody');\n  695  \n  696:         if (p.firstChild.className == 'mceOldBoxModel')\n  697            p.firstChild.appendChild(c);\n  698          else\n  ...\n  989        p = getParent('IMG');\n  990        if (c = cm.get('image'))\n  991:         c.setActive(!co && !!p && n.className.indexOf('mceItem') == -1);\n  992  \n  993        if (c = cm.get('styleselect')) {\n  ...\n 1013        getParent(function(n) {\n 1014          if (n.nodeName === 'SPAN') {\n 1015:           if (!cl && n.className)\n 1016:             cl = n.className;\n 1017          }\n 1018  \n ....\n 1157              ti += 'id: ' + v + ' ';\n 1158  \n 1159:           if (v = n.className) {\n 1160              v = v.replace(/\\b\\s*(webkit|mce|Apple-)\\w+\\s*\\b/g, '')\n 1161  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/themes/advanced/js/color_picker.js:\n  194    var el = document.getElementById('webcolors'), h = '', i;\n  195  \n  196:   if (el.className == 'generated')\n  197      return;\n  198  \n  ...\n  216  \n  217    el.innerHTML = h;\n  218:   el.className = 'generated';\n  219  \n  220    paintCanvas(el);\n  ...\n  234    var el = document.getElementById('namedcolors'), h = '', n, v, i = 0;\n  235  \n  236:   if (el.className == 'generated')\n  237      return;\n  238  \n  ...\n  249  \n  250    el.innerHTML = h;\n  251:   el.className = 'generated';\n  252  \n  253    paintCanvas(el);\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/themes/advanced/js/link.js:\n   62              title : f.linktitle.value,\n   63              target : f.target_list ? getSelectValue(f, \"target_list\") : null,\n   64:             'class' : f.class_list ? getSelectValue(f, \"class_list\") : null\n   65            });\n   66          }\n   ..\n   71          title : f.linktitle.value,\n   72          target : f.target_list ? getSelectValue(f, \"target_list\") : null,\n   73:         'class' : f.class_list ? getSelectValue(f, \"class_list\") : null\n   74        });\n   75      }\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/tiny_mce.js:\n    1: (function(d){var a=/^\\s*|\\s*$/g,e,c=\"B\".replace(/A(.)|B/,\"$1\")===\"$1\";var b={majorVersion:\"3\",minorVersion:\"4.6\",releaseDate:\"2011-09-29\",_init:function(){var s=this,q=document,o=navigator,g=o.userAgent,m,f,l,k,j,r;s.isOpera=d.opera&&opera.buildNumber;s.isWebKit=/WebKit/.test(g);s.isIE=!s.isWebKit&&!s.isOpera&&(/MSIE/gi).test(g)&&(/Explorer/gi).test(o.appName);s.isIE6=s.isIE&&/MSIE [56]/.test(g);s.isIE7=s.isIE&&/MSIE [7]/.test(g);s.isIE8=s.isIE&&/MSIE [8]/.test(g);s.isIE9=s.isIE&&/MSIE [9]/.test(g);s.isGecko=!s.isWebKit&&/Gecko/.test(g);s.isMac=g.indexOf(\"Mac\")!=-1;s.isAir=/adobeair/i.test(g);s.isIDevice=/(iPad|iPhone)/.test(g);s.isIOS5=s.isIDevice&&g.match(/AppleWebKit\\/(\\d*)/)[1]>=534;if(d.tinyMCEPreInit){s.suffix=tinyMCEPreInit.suffix;s.baseURL=tinyMCEPreInit.base;s.query=tinyMCEPreInit.query;return}s.suffix=\"\";f=q.getElementsByTagName(\"base\");for(m=0;m<f.length;m++){if(r=f[m].href){if(/^https?:\\/\\/[^\\/]+$/.test(r)){r+=\"/\"}k=r?r.match(/.*\\//)[0]:\"\"}}function h(i){if(i.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(i.src)){if(/_(src|dev)\\.js/g.test(i.src)){s.suffix=\"_src\"}if((j=i.src.indexOf(\"?\"))!=-1){s.query=i.src.substring(j+1)}s.baseURL=i.src.substring(0,i.src.lastIndexOf(\"/\"));if(k&&s.baseURL.indexOf(\"://\")==-1&&s.baseURL.indexOf(\"/\")!==0){s.baseURL=k+s.baseURL}return s.baseURL}return null}f=q.getElementsByTagName(\"script\");for(m=0;m<f.length;m++){if(h(f[m])){return}}l=q.getElementsByTagName(\"head\")[0];if(l){f=l.getElementsByTagName(\"script\");for(m=0;m<f.length;m++){if(h(f[m])){return}}}return},is:function(g,f){if(!f){return g!==e}if(f==\"array\"&&(g.hasOwnProperty&&g instanceof Array)){return true}return typeof(g)==f},makeMap:function(f,j,h){var g;f=f||[];j=j||\",\";if(typeof(f)==\"string\"){f=f.split(j)}h=h||{};g=f.length;while(g--){h[f[g]]={}}return h},each:function(i,f,h){var j,g;if(!i){return 0}h=h||i;if(i.length!==e){for(j=0,g=i.length;j<g;j++){if(f.call(h,i[j],j,i)===false){return 0}}}else{for(j in i){if(i.hasOwnProperty(j)){if(f.call(h,i[j],j,i)===false){return 0}}}}return 1},map:function(g,h){var i=[];b.each(g,function(f){i.push(h(f))});return i},grep:function(g,h){var i=[];b.each(g,function(f){if(!h||h(f)){i.push(f)}});return i},inArray:function(g,h){var j,f;if(g){for(j=0,f=g.length;j<f;j++){if(g[j]===h){return j}}}return -1},extend:function(k,j){var h,g,f=arguments;for(h=1,g=f.length;h<g;h++){j=f[h];b.each(j,function(i,l){if(i!==e){k[l]=i}})}return k},trim:function(f){return(f?\"\"+f:\"\").replace(a,\"\")},create:function(o,f,j){var n=this,g,i,k,l,h,m=0;o=/^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(o);k=o[3].match(/(^|\\.)(\\w+)$/i)[2];i=n.createNS(o[3].replace(/\\.\\w+$/,\"\"),j);if(i[k]){return}if(o[2]==\"static\"){i[k]=f;if(this.onCreate){this.onCreate(o[2],o[3],i[k])}return}if(!f[k]){f[k]=function(){};m=1}i[k]=f[k];n.extend(i[k].prototype,f);if(o[5]){g=n.resolve(o[5]).prototype;l=o[5].match(/\\.(\\w+)$/i)[1];h=i[k];if(m){i[k]=function(){return g[l].apply(this,arguments)}}else{i[k]=function(){this.parent=g[l];return h.apply(this,arguments)}}i[k].prototype[k]=i[k];n.each(g,function(p,q){i[k].prototype[q]=g[q]});n.each(f,function(p,q){if(g[q]){i[k].prototype[q]=function(){this.parent=g[q];return p.apply(this,arguments)}}else{if(q!=k){i[k].prototype[q]=p}}})}n.each(f[\"static\"],function(p,q){i[k][q]=p});if(this.onCreate){this.onCreate(o[2],o[3],i[k].prototype)}},walk:function(i,h,j,g){g=g||this;if(i){if(j){i=i[j]}b.each(i,function(k,f){if(h.call(g,k,f,j)===false){return false}b.walk(k,h,j,g)})}},createNS:function(j,h){var g,f;h=h||d;j=j.split(\".\");for(g=0;g<j.length;g++){f=j[g];if(!h[f]){h[f]={}}h=h[f]}return h},resolve:function(j,h){var g,f;h=h||d;j=j.split(\".\");for(g=0,f=j.length;g<f;g++){h=h[j[g]];if(!h){break}}return h},addUnload:function(j,i){var h=this;j={func:j,scope:i||this};if(!h.unloads){function g(){var f=h.unloads,l,m;if(f){for(m in f){l=f[m];if(l&&l.func){l.func.call(l.scope,1)}}if(d.detachEvent){d.detachEvent(\"onbeforeunload\",k);d.detachEvent(\"onunload\",g)}else{if(d.removeEventListener){d.removeEventListener(\"unload\",g,false)}}h.unloads=l=f=w=g=0;if(d.CollectGarbage){CollectGarbage()}}}function k(){var l=document;if(l.readyState==\"interactive\"){function f(){l.detachEvent(\"onstop\",f);if(g){g()}l=0}if(l){l.attachEvent(\"onstop\",f)}d.setTimeout(function(){if(l){l.detachEvent(\"onstop\",f)}},0)}}if(d.attachEvent){d.attachEvent(\"onunload\",g);d.attachEvent(\"onbeforeunload\",k)}else{if(d.addEventListener){d.addEventListener(\"unload\",g,false)}}h.unloads=[j]}else{h.unloads.push(j)}return j},removeUnload:function(i){var g=this.unloads,h=null;b.each(g,function(j,f){if(j&&j.func==i){g.splice(f,1);h=i;return false}});return h},explode:function(f,g){return f?b.map(f.split(g||\",\"),b.trim):f},_addVer:function(g){var f;if(!this.query){return g}f=(g.indexOf(\"?\")==-1?\"?\":\"&\")+this.query;if(g.indexOf(\"#\")==-1){return g+f}return g.replace(\"#\",f+\"#\")},_replace:function(h,f,g){if(c){return g.replace(h,function(){var l=f,j=arguments,k;for(k=0;k<j.length-2;k++){if(j[k]===e){l=l.replace(new RegExp(\"\\\\$\"+k,\"g\"),\"\")}else{l=l.replace(new RegExp(\"\\\\$\"+k,\"g\"),j[k])}}return l})}return g.replace(h,f)}};b._init();d.tinymce=d.tinyMCE=b})(window);tinymce.create(\"tinymce.util.Dispatcher\",{scope:null,listeners:null,Dispatcher:function(a){this.scope=a||this;this.listeners=[]},add:function(a,b){this.listeners.push({cb:a,scope:b||this.scope});return a},addToTop:function(a,b){this.listeners.unshift({cb:a,scope:b||this.scope});return a},remove:function(a){var b=this.listeners,c=null;tinymce.each(b,function(e,d){if(a==e.cb){c=a;b.splice(d,1);return false}});return c},dispatch:function(){var f,d=arguments,e,b=this.listeners,g;for(e=0;e<b.length;e++){g=b[e];f=g.cb.apply(g.scope,d);if(f===false){break}}return f}});(function(){var a=tinymce.each;tinymce.create(\"tinymce.util.URI\",{URI:function(e,g){var f=this,i,d,c,h;e=tinymce.trim(e);g=f.settings=g||{};if(/^([\\w\\-]+):([^\\/]{2})/i.test(e)||/^\\s*#/.test(e)){f.source=e;return}if(e.indexOf(\"/\")===0&&e.indexOf(\"//\")!==0){e=(g.base_uri?g.base_uri.protocol||\"http\":\"http\")+\"://mce_host\"+e}if(!/^[\\w-]*:?\\/\\//.test(e)){h=g.base_uri?g.base_uri.path:new tinymce.util.URI(location.href).directory;e=((g.base_uri&&g.base_uri.protocol)||\"http\")+\"://mce_host\"+f.toAbsPath(h,e)}e=e.replace(/@@/g,\"(mce_at)\");e=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e);a([\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],function(b,j){var k=e[j];if(k){k=k.replace(/\\(mce_at\\)/g,\"@@\")}f[b]=k});if(c=g.base_uri){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host==\"mce_host\"){f.port=c.port}if(!f.host||f.host==\"mce_host\"){f.host=c.host}f.source=\"\"}},setPath:function(c){var b=this;c=/^(.*?)\\/?(\\w+)?$/.exec(c);b.path=c[0];b.directory=c[1];b.file=c[2];b.source=\"\";b.getURI()},toRelative:function(b){var c=this,d;if(b===\"./\"){return b}b=new tinymce.util.URI(b,{base_uri:c});if((b.host!=\"mce_host\"&&c.host!=b.host&&b.host)||c.port!=b.port||c.protocol!=b.protocol){return b.getURI()}d=c.toRelPath(c.path,b.path);if(b.query){d+=\"?\"+b.query}if(b.anchor){d+=\"#\"+b.anchor}return d},toAbsolute:function(b,c){var b=new tinymce.util.URI(b,{base_uri:this});return b.getURI(this.host==b.host&&this.protocol==b.protocol?c:0)},toRelPath:function(g,h){var c,f=0,d=\"\",e,b;g=g.substring(0,g.lastIndexOf(\"/\"));g=g.split(\"/\");c=h.split(\"/\");if(g.length>=c.length){for(e=0,b=g.length;e<b;e++){if(e>=c.length||g[e]!=c[e]){f=e+1;break}}}if(g.length<c.length){for(e=0,b=c.length;e<b;e++){if(e>=g.length||g[e]!=c[e]){f=e+1;break}}}if(f==1){return h}for(e=0,b=g.length-(f-1);e<b;e++){d+=\"../\"}for(e=f-1,b=c.length;e<b;e++){if(e!=f-1){d+=\"/\"+c[e]}else{d+=c[e]}}return d},toAbsPath:function(e,f){var c,b=0,h=[],d,g;d=/\\/$/.test(f)?\"/\":\"\";e=e.split(\"/\");f=f.split(\"/\");a(e,function(i){if(i){h.push(i)}});e=h;for(c=f.length-1,h=[];c>=0;c--){if(f[c].length==0||f[c]==\".\"){continue}if(f[c]==\"..\"){b++;continue}if(b>0){b--;continue}h.push(f[c])}c=e.length-b;if(c<=0){g=h.reverse().join(\"/\")}else{g=e.slice(0,c).join(\"/\")+\"/\"+h.reverse().join(\"/\")}if(g.indexOf(\"/\")!==0){g=\"/\"+g}if(d&&g.lastIndexOf(\"/\")!==g.length-1){g+=d}return g},getURI:function(d){var c,b=this;if(!b.source||d){c=\"\";if(!d){if(b.protocol){c+=b.protocol+\"://\"}if(b.userInfo){c+=b.userInfo+\"@\"}if(b.host){c+=b.host}if(b.port){c+=\":\"+b.port}}if(b.path){c+=b.path}if(b.query){c+=\"?\"+b.query}if(b.anchor){c+=\"#\"+b.anchor}b.source=c}return b.source}})})();(function(){var a=tinymce.each;tinymce.create(\"static tinymce.util.Cookie\",{getHash:function(d){var b=this.get(d),c;if(b){a(b.split(\"&\"),function(e){e=e.split(\"=\");c=c||{};c[unescape(e[0])]=unescape(e[1])})}return c},setHash:function(j,b,g,f,i,c){var h=\"\";a(b,function(e,d){h+=(!h?\"\":\"&\")+escape(d)+\"=\"+escape(e)});this.set(j,h,g,f,i,c)},get:function(i){var h=document.cookie,g,f=i+\"=\",d;if(!h){return}d=h.indexOf(\"; \"+f);if(d==-1){d=h.indexOf(f);if(d!=0){return null}}else{d+=2}g=h.indexOf(\";\",d);if(g==-1){g=h.length}return unescape(h.substring(d+f.length,g))},set:function(i,b,g,f,h,c){document.cookie=i+\"=\"+escape(b)+((g)?\"; expires=\"+g.toGMTString():\"\")+((f)?\"; path=\"+escape(f):\"\")+((h)?\"; domain=\"+h:\"\")+((c)?\"; secure\":\"\")},remove:function(e,b){var c=new Date();c.setTime(c.getTime()-1000);this.set(e,\"\",c,b,c)}})})();(function(){function serialize(o,quote){var i,v,t;quote=quote||'\"';if(o==null){return\"null\"}t=typeof o;if(t==\"string\"){v=\"\\bb\\tt\\nn\\ff\\rr\\\"\\\"''\\\\\\\\\";return quote+o.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g,function(a,b){if(quote==='\"'&&a===\"'\"){return a}i=v.indexOf(b);if(i+1){return\"\\\\\"+v.charAt(i+1)}a=b.charCodeAt().toString(16);return\"\\\\u\"+\"0000\".substring(a.length)+a})+quote}if(t==\"object\"){if(o.hasOwnProperty&&o instanceof Array){for(i=0,v=\"[\";i<o.length;i++){v+=(i>0?\",\":\"\")+serialize(o[i],quote)}return v+\"]\"}v=\"{\";for(i in o){v+=typeof o[i]!=\"function\"?(v.length>1?\",\"+quote:quote)+i+quote+\":\"+serialize(o[i],quote):\"\"}return v+\"}\"}return\"\"+o}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval(\"(\"+s+\")\")}catch(ex){}}}})();tinymce.create(\"static tinymce.util.XHR\",{send:function(g){var a,e,b=window,h=0;g.scope=g.scope||this;g.success_scope=g.success_scope||g.scope;g.error_scope=g.error_scope||g.scope;g.async=g.async===false?false:true;g.data=g.data||\"\";function d(i){a=0;try{a=new ActiveXObject(i)}catch(c){}return a}a=b.XMLHttpRequest?new XMLHttpRequest():d(\"Microsoft.XMLHTTP\")||d(\"Msxml2.XMLHTTP\");if(a){if(a.overrideMimeType){a.overrideMimeType(g.content_type)}a.open(g.type||(g.data?\"POST\":\"GET\"),g.url,g.async);if(g.content_type){a.setRequestHeader(\"Content-Type\",g.content_type)}a.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");a.send(g.data);function f(){if(!g.async||a.readyState==4||h++>10000){if(g.success&&h<10000&&a.status==200){g.success.call(g.success_scope,\"\"+a.responseText,a,g)}else{if(g.error){g.error.call(g.error_scope,h>10000?\"TIMED_OUT\":\"GENERAL\",a,g)}}a=null}else{b.setTimeout(f,10)}}if(!g.async){return f()}e=b.setTimeout(f,10)}}});(function(){var c=tinymce.extend,b=tinymce.util.JSON,a=tinymce.util.XHR;tinymce.create(\"tinymce.util.JSONRequest\",{JSONRequest:function(d){this.settings=c({},d);this.count=0},send:function(f){var e=f.error,d=f.success;f=c(this.settings,f);f.success=function(h,g){h=b.parse(h);if(typeof(h)==\"undefined\"){h={error:\"JSON Parse error.\"}}if(h.error){e.call(f.error_scope||f.scope,h.error,g)}else{d.call(f.success_scope||f.scope,h.result)}};f.error=function(h,g){if(e){e.call(f.error_scope||f.scope,h,g)}};f.data=b.serialize({id:f.id||\"c\"+(this.count++),method:f.method,params:f.params});f.content_type=\"application/json\";a.send(f)},\"static\":{sendRPC:function(d){return new tinymce.util.JSONRequest().send(d)}}})}());(function(a){a.VK={DELETE:46,BACKSPACE:8}})(tinymce);(function(i){var g=i.VK,h=g.BACKSPACE,f=g.DELETE;function b(j){var l=j.dom,k=j.selection;j.onKeyDown.add(function(n,r){var m,s,p,q,o;o=r.keyCode==f;if(o||r.keyCode==h){r.preventDefault();m=k.getRng();s=l.getParent(m.startContainer,l.isBlock);if(o){s=l.getNext(s,l.isBlock)}if(s){p=s.firstChild;while(p.nodeType==3&&p.nodeValue.length==0){p=p.nextSibling}if(p&&p.nodeName===\"SPAN\"){q=p.cloneNode(false)}}n.getDoc().execCommand(o?\"ForwardDelete\":\"Delete\",false,null);s=l.getParent(m.startContainer,l.isBlock);i.each(l.select(\"span.Apple-style-span,font.Apple-style-span\",s),function(t){var u=k.getBookmark();if(q){l.replace(q.cloneNode(false),t,true)}else{l.remove(t,true)}k.moveToBookmark(u)})}})}function c(j){j.onKeyUp.add(function(k,m){var l=m.keyCode;if(l==f||l==h){if(k.dom.isEmpty(k.getBody())){k.setContent(\"\",{format:\"raw\"});k.nodeChanged();return}}})}function a(j){j.dom.bind(j.getDoc(),\"focusin\",function(){j.selection.setRng(j.selection.getRng())})}function e(j){if(!Range.prototype.getClientRects){j.onMouseDown.add(function(l,m){if(m.target.nodeName===\"HTML\"){var k=l.getBody();k.blur();setTimeout(function(){k.focus()},0)}})}}function d(j){j.onClick.add(function(k,l){l=l.target;if(/^(IMG|HR)$/.test(l.nodeName)){k.selection.getSel().setBaseAndExtent(l,0,l,1)}if(l.nodeName==\"A\"&&k.dom.hasClass(l,\"mceItemAnchor\")){k.selection.select(l)}k.nodeChanged()})}i.create(\"tinymce.util.Quirks\",{Quirks:function(j){if(i.isWebKit){b(j);c(j);a(j);d(j)}if(i.isIE){c(j)}if(i.isGecko){e(j)}}})})(tinymce);(function(j){var a,g,d,k=/[&<>\\\"\\u007E-\\uD7FF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,b=/[<>&\\u007E-\\uD7FF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,f=/[<>&\\\"\\']/g,c=/&(#x|#)?([\\w]+);/g,i={128:\"\\u20AC\",130:\"\\u201A\",131:\"\\u0192\",132:\"\\u201E\",133:\"\\u2026\",134:\"\\u2020\",135:\"\\u2021\",136:\"\\u02C6\",137:\"\\u2030\",138:\"\\u0160\",139:\"\\u2039\",140:\"\\u0152\",142:\"\\u017D\",145:\"\\u2018\",146:\"\\u2019\",147:\"\\u201C\",148:\"\\u201D\",149:\"\\u2022\",150:\"\\u2013\",151:\"\\u2014\",152:\"\\u02DC\",153:\"\\u2122\",154:\"\\u0161\",155:\"\\u203A\",156:\"\\u0153\",158:\"\\u017E\",159:\"\\u0178\"};g={'\"':\"&quot;\",\"'\":\"&#39;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\"};d={\"&lt;\":\"<\",\"&gt;\":\">\",\"&amp;\":\"&\",\"&quot;\":'\"',\"&apos;\":\"'\"};function h(l){var m;m=document.createElement(\"div\");m.innerHTML=l;return m.textContent||m.innerText||l}function e(m,p){var n,o,l,q={};if(m){m=m.split(\",\");p=p||10;for(n=0;n<m.length;n+=2){o=String.fromCharCode(parseInt(m[n],p));if(!g[o]){l=\"&\"+m[n+1]+\";\";q[o]=l;q[l]=o}}return q}}a=e(\"50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro\",32);j.html=j.html||{};j.html.Entities={encodeRaw:function(m,l){return m.replace(l?k:b,function(n){return g[n]||n})},encodeAllRaw:function(l){return(\"\"+l).replace(f,function(m){return g[m]||m})},encodeNumeric:function(m,l){return m.replace(l?k:b,function(n){if(n.length>1){return\"&#\"+(((n.charCodeAt(0)-55296)*1024)+(n.charCodeAt(1)-56320)+65536)+\";\"}return g[n]||\"&#\"+n.charCodeAt(0)+\";\"})},encodeNamed:function(n,l,m){m=m||a;return n.replace(l?k:b,function(o){return g[o]||m[o]||o})},getEncodeFunc:function(l,o){var p=j.html.Entities;o=e(o)||a;function m(r,q){return r.replace(q?k:b,function(s){return g[s]||o[s]||\"&#\"+s.charCodeAt(0)+\";\"||s})}function n(r,q){return p.encodeNamed(r,q,o)}l=j.makeMap(l.replace(/\\+/g,\",\"));if(l.named&&l.numeric){return m}if(l.named){if(o){return n}return p.encodeNamed}if(l.numeric){return p.encodeNumeric}return p.encodeRaw},decode:function(l){return l.replace(c,function(n,m,o){if(m){o=parseInt(o,m.length===2?16:10);if(o>65535){o-=65536;return String.fromCharCode(55296+(o>>10),56320+(o&1023))}else{return i[o]||String.fromCharCode(o)}}return d[n]||a[n]||h(n)})}}})(tinymce);tinymce.html.Styles=function(d,f){var k=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,h=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,b=/\\s*([^:]+):\\s*([^;]+);?/g,l=/\\s+$/,m=/rgb/,e,g,a={},j;d=d||{};j=\"\\\\\\\" \\\\' \\\\; \\\\: ; : \\uFEFF\".split(\" \");for(g=0;g<j.length;g++){a[j[g]]=\"\\uFEFF\"+g;a[\"\\uFEFF\"+g]=j[g]}function c(n,q,p,i){function o(r){r=parseInt(r).toString(16);return r.length>1?r:\"0\"+r}return\"#\"+o(q)+o(p)+o(i)}return{toHex:function(i){return i.replace(k,c)},parse:function(r){var y={},p,n,v,q,u=d.url_converter,x=d.url_converter_scope||this;function o(C,F){var E,B,A,D;E=y[C+\"-top\"+F];if(!E){return}B=y[C+\"-right\"+F];if(E!=B){return}A=y[C+\"-bottom\"+F];if(B!=A){return}D=y[C+\"-left\"+F];if(A!=D){return}y[C+F]=D;delete y[C+\"-top\"+F];delete y[C+\"-right\"+F];delete y[C+\"-bottom\"+F];delete y[C+\"-left\"+F]}function t(B){var C=y[B],A;if(!C||C.indexOf(\" \")<0){return}C=C.split(\" \");A=C.length;while(A--){if(C[A]!==C[0]){return false}}y[B]=C[0];return true}function z(C,B,A,D){if(!t(B)){return}if(!t(A)){return}if(!t(D)){return}y[C]=y[B]+\" \"+y[A]+\" \"+y[D];delete y[B];delete y[A];delete y[D]}function s(A){q=true;return a[A]}function i(B,A){if(q){B=B.replace(/\\uFEFF[0-9]/g,function(C){return a[C]})}if(!A){B=B.replace(/\\\\([\\'\\\";:])/g,\"$1\")}return B}if(r){r=r.replace(/\\\\[\\\"\\';:\\uFEFF]/g,s).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,function(A){return A.replace(/[;:]/g,s)});while(p=b.exec(r)){n=p[1].replace(l,\"\").toLowerCase();v=p[2].replace(l,\"\");if(n&&v.length>0){if(n===\"font-weight\"&&v===\"700\"){v=\"bold\"}else{if(n===\"color\"||n===\"background-color\"){v=v.toLowerCase()}}v=v.replace(k,c);v=v.replace(h,function(B,A,E,D,F,C){F=F||C;if(F){F=i(F);return\"'\"+F.replace(/\\'/g,\"\\\\'\")+\"'\"}A=i(A||E||D);if(u){A=u.call(x,A,\"style\")}return\"url('\"+A.replace(/\\'/g,\"\\\\'\")+\"')\"});y[n]=q?i(v,true):v}b.lastIndex=p.index+p[0].length}o(\"border\",\"\");o(\"border\",\"-width\");o(\"border\",\"-color\");o(\"border\",\"-style\");o(\"padding\",\"\");o(\"margin\",\"\");z(\"border\",\"border-width\",\"border-style\",\"border-color\");if(y.border===\"medium none\"){delete y.border}}return y},serialize:function(p,r){var o=\"\",n,q;function i(t){var x,u,s,v;x=f.styles[t];if(x){for(u=0,s=x.length;u<s;u++){t=x[u];v=p[t];if(v!==e&&v.length>0){o+=(o.length>0?\" \":\"\")+t+\": \"+v+\";\"}}}}if(r&&f&&f.styles){i(\"*\");i(r)}else{for(n in p){q=p[n];if(q!==e&&q.length>0){o+=(o.length>0?\" \":\"\")+n+\": \"+q+\";\"}}}return o}}};(function(m){var h={},j,l,g,f,c={},b,e,d=m.makeMap,k=m.each;function i(o,n){return o.split(n||\",\")}function a(r,q){var o,p={};function n(s){return s.replace(/[A-Z]+/g,function(t){return n(r[t])})}for(o in r){if(r.hasOwnProperty(o)){r[o]=n(r[o])}}n(q).replace(/#/g,\"#text\").replace(/(\\w+)\\[([^\\]]+)\\]\\[([^\\]]*)\\]/g,function(v,t,s,u){s=i(s,\"|\");p[t]={attributes:d(s),attributesOrder:s,children:d(u,\"|\",{\"#comment\":{}})}});return p}l=\"h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup\";l=d(l,\",\",d(l.toUpperCase()));h=a({Z:\"H|K|N|O|P\",Y:\"X|form|R|Q\",ZG:\"E|span|width|align|char|charoff|valign\",X:\"p|T|div|U|W|isindex|fieldset|table\",ZF:\"E|align|char|charoff|valign\",W:\"pre|hr|blockquote|address|center|noframes\",ZE:\"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height\",ZD:\"[E][S]\",U:\"ul|ol|dl|menu|dir\",ZC:\"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q\",T:\"h1|h2|h3|h4|h5|h6\",ZB:\"X|S|Q\",S:\"R|P\",ZA:\"a|G|J|M|O|P\",R:\"a|H|K|N|O\",Q:\"noscript|P\",P:\"ins|del|script\",O:\"input|select|textarea|label|button\",N:\"M|L\",M:\"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym\",L:\"sub|sup\",K:\"J|I\",J:\"tt|i|b|u|s|strike\",I:\"big|small|font|basefont\",H:\"G|F\",G:\"br|span|bdo\",F:\"object|applet|img|map|iframe\",E:\"A|B|C\",D:\"accesskey|tabindex|onfocus|onblur\",C:\"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup\",B:\"lang|xml:lang|dir\",A:\"id|class|style|title\"},\"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]\");j=d(\"checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,autoplay,loop,controls\");g=d(\"area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source\");f=m.extend(d(\"td,th,iframe,video,audio,object\"),g);b=d(\"pre,script,style,textarea\");e=d(\"colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr\");m.html.Schema=function(r){var A=this,n={},o={},y=[],q,p;r=r||{};if(r.verify_html===false){r.valid_elements=\"*[*]\"}if(r.valid_styles){q={};k(r.valid_styles,function(C,B){q[B]=m.explode(C)})}p=r.whitespace_elements?d(r.whitespace_elements):b;function z(B){return new RegExp(\"^\"+B.replace(/([?+*])/g,\".$1\")+\"$\")}function t(I){var H,D,W,S,X,C,F,R,U,N,V,Z,L,G,T,B,P,E,Y,aa,M,Q,K=/^([#+-])?([^\\[\\/]+)(?:\\/([^\\[]+))?(?:\\[([^\\]]+)\\])?$/,O=/^([!\\-])?(\\w+::\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,J=/[*?+]/;if(I){I=i(I);if(n[\"@\"]){P=n[\"@\"].attributes;E=n[\"@\"].attributesOrder}for(H=0,D=I.length;H<D;H++){C=K.exec(I[H]);if(C){T=C[1];N=C[2];B=C[3];U=C[4];L={};G=[];F={attributes:L,attributesOrder:G};if(T===\"#\"){F.paddEmpty=true}if(T===\"-\"){F.removeEmpty=true}if(P){for(aa in P){L[aa]=P[aa]}G.push.apply(G,E)}if(U){U=i(U,\"|\");for(W=0,S=U.length;W<S;W++){C=O.exec(U[W]);if(C){R={};Z=C[1];V=C[2].replace(/::/g,\":\");T=C[3];Q=C[4];if(Z===\"!\"){F.attributesRequired=F.attributesRequired||[];F.attributesRequired.push(V);R.required=true}if(Z===\"-\"){delete L[V];G.splice(m.inArray(G,V),1);continue}if(T){if(T===\"=\"){F.attributesDefault=F.attributesDefault||[];F.attributesDefault.push({name:V,value:Q});R.defaultValue=Q}if(T===\":\"){F.attributesForced=F.attributesForced||[];F.attributesForced.push({name:V,value:Q});R.forcedValue=Q}if(T===\"<\"){R.validValues=d(Q,\"?\")}}if(J.test(V)){F.attributePatterns=F.attributePatterns||[];R.pattern=z(V);F.attributePatterns.push(R)}else{if(!L[V]){G.push(V)}L[V]=R}}}}if(!P&&N==\"@\"){P=L;E=G}if(B){F.outputName=N;n[B]=F}if(J.test(N)){F.pattern=z(N);y.push(F)}else{n[N]=F}}}}}function v(B){n={};y=[];t(B);k(h,function(D,C){o[C]=D.children})}function s(C){var B=/^(~)?(.+)$/;if(C){k(i(C),function(G){var E=B.exec(G),F=E[1]===\"~\",H=F?\"span\":\"div\",D=E[2];o[D]=o[H];c[D]=H;if(!F){l[D]={}}k(o,function(I,J){if(I[H]){I[D]=I[H]}})})}}function u(C){var B=/^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;if(C){k(i(C),function(G){var F=B.exec(G),D,E;if(F){E=F[1];if(E){D=o[F[2]]}else{D=o[F[2]]={\"#comment\":{}}}D=o[F[2]];k(i(F[3],\"|\"),function(H){if(E===\"-\"){delete D[H]}else{D[H]={}}})}})}}function x(B){var D=n[B],C;if(D){return D}C=y.length;while(C--){D=y[C];if(D.pattern.test(B)){return D}}}if(!r.valid_elements){k(h,function(C,B){n[B]={attributes:C.attributes,attributesOrder:C.attributesOrder};o[B]=C.children});k(i(\"strong/b,em/i\"),function(B){B=i(B,\"/\");n[B[1]].outputName=B[0]});n.img.attributesDefault=[{name:\"alt\",value:\"\"}];k(i(\"ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr\"),function(B){n[B].removeEmpty=true});k(i(\"p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption\"),function(B){n[B].paddEmpty=true})}else{v(r.valid_elements)}s(r.custom_elements);u(r.valid_children);t(r.extended_valid_elements);u(\"+ol[ul|ol],+ul[ul|ol]\");if(!x(\"span\")){t(\"span[!data-mce-type|*]\")}if(r.invalid_elements){m.each(m.explode(r.invalid_elements),function(B){if(n[B]){delete n[B]}})}A.children=o;A.styles=q;A.getBoolAttrs=function(){return j};A.getBlockElements=function(){return l};A.getShortEndedElements=function(){return g};A.getSelfClosingElements=function(){return e};A.getNonEmptyElements=function(){return f};A.getWhiteSpaceElements=function(){return p};A.isValidChild=function(B,D){var C=o[B];return !!(C&&C[D])};A.getElementRule=x;A.getCustomElements=function(){return c};A.addValidElements=t;A.setValidElements=v;A.addCustomElements=s;A.addValidChildren=u};m.html.Schema.boolAttrMap=j;m.html.Schema.blockElementsMap=l})(tinymce);(function(a){a.html.SaxParser=function(c,e){var b=this,d=function(){};c=c||{};b.schema=e=e||new a.html.Schema();if(c.fix_self_closing!==false){c.fix_self_closing=true}a.each(\"comment cdata text start end pi doctype\".split(\" \"),function(f){if(f){b[f]=c[f]||d}});b.parse=function(D){var n=this,g,F=0,H,A,z=[],M,P,B,q,y,r,L,G,N,u,m,k,s,Q,o,O,E,R,K,f,I,l,C,J,h,v=0,j=a.html.Entities.decode,x,p;function t(S){var U,T;U=z.length;while(U--){if(z[U].name===S){break}}if(U>=0){for(T=z.length-1;T>=U;T--){S=z[T];if(S.valid){n.end(S.name)}}z.length=U}}l=new RegExp(\"<(?:(?:!--([\\\\w\\\\W]*?)-->)|(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|(?:!DOCTYPE([\\\\w\\\\W]*?)>)|(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|(?:\\\\/([^>]+)>)|(?:([^\\\\s\\\\/<>]+)\\\\s*((?:[^\\\"'>]+(?:(?:\\\"[^\\\"]*\\\")|(?:'[^']*')|[^>]*))*)>))\",\"g\");C=/([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:\\\\.|[^\\\"])*)\\\")|(?:\\'((?:\\\\.|[^\\'])*)\\')|([^>\\s]+)))?/g;J={script:/<\\/script[^>]*>/gi,style:/<\\/style[^>]*>/gi,noscript:/<\\/noscript[^>]*>/gi};L=e.getShortEndedElements();I=e.getSelfClosingElements();G=e.getBoolAttrs();u=c.validate;r=c.remove_internals;x=c.fix_self_closing;p=a.isIE;o=/^:/;while(g=l.exec(D)){if(F<g.index){n.text(j(D.substr(F,g.index-F)))}if(H=g[6]){H=H.toLowerCase();if(p&&o.test(H)){H=H.substr(1)}t(H)}else{if(H=g[7]){H=H.toLowerCase();if(p&&o.test(H)){H=H.substr(1)}N=H in L;if(x&&I[H]&&z.length>0&&z[z.length-1].name===H){t(H)}if(!u||(m=e.getElementRule(H))){k=true;if(u){O=m.attributes;E=m.attributePatterns}if(Q=g[8]){y=Q.indexOf(\"data-mce-type\")!==-1;if(y&&r){k=false}M=[];M.map={};Q.replace(C,function(T,S,X,W,V){var Y,U;S=S.toLowerCase();X=S in G?S:j(X||W||V||\"\");if(u&&!y&&S.indexOf(\"data-\")!==0){Y=O[S];if(!Y&&E){U=E.length;while(U--){Y=E[U];if(Y.pattern.test(S)){break}}if(U===-1){Y=null}}if(!Y){return}if(Y.validValues&&!(X in Y.validValues)){return}}M.map[S]=X;M.push({name:S,value:X})})}else{M=[];M.map={}}if(u&&!y){R=m.attributesRequired;K=m.attributesDefault;f=m.attributesForced;if(f){P=f.length;while(P--){s=f[P];q=s.name;h=s.value;if(h===\"{$uid}\"){h=\"mce_\"+v++}M.map[q]=h;M.push({name:q,value:h})}}if(K){P=K.length;while(P--){s=K[P];q=s.name;if(!(q in M.map)){h=s.value;if(h===\"{$uid}\"){h=\"mce_\"+v++}M.map[q]=h;M.push({name:q,value:h})}}}if(R){P=R.length;while(P--){if(R[P] in M.map){break}}if(P===-1){k=false}}if(M.map[\"data-mce-bogus\"]){k=false}}if(k){n.start(H,M,N)}}else{k=false}if(A=J[H]){A.lastIndex=F=g.index+g[0].length;if(g=A.exec(D)){if(k){B=D.substr(F,g.index-F)}F=g.index+g[0].length}else{B=D.substr(F);F=D.length}if(k&&B.length>0){n.text(B,true)}if(k){n.end(H)}l.lastIndex=F;continue}if(!N){if(!Q||Q.indexOf(\"/\")!=Q.length-1){z.push({name:H,valid:k})}else{if(k){n.end(H)}}}}else{if(H=g[1]){n.comment(H)}else{if(H=g[2]){n.cdata(H)}else{if(H=g[3]){n.doctype(H)}else{if(H=g[4]){n.pi(H,g[5])}}}}}}F=g.index+g[0].length}if(F<D.length){n.text(j(D.substr(F)))}for(P=z.length-1;P>=0;P--){H=z[P];if(H.valid){n.end(H.name)}}}}})(tinymce);(function(d){var c=/^[ \\t\\r\\n]*$/,e={\"#text\":3,\"#comment\":8,\"#cdata\":4,\"#pi\":7,\"#doctype\":10,\"#document-fragment\":11};function a(k,l,j){var i,h,f=j?\"lastChild\":\"firstChild\",g=j?\"prev\":\"next\";if(k[f]){return k[f]}if(k!==l){i=k[g];if(i){return i}for(h=k.parent;h&&h!==l;h=h.parent){i=h[g];if(i){return i}}}}function b(f,g){this.name=f;this.type=g;if(g===1){this.attributes=[];this.attributes.map={}}}d.extend(b.prototype,{replace:function(g){var f=this;if(g.parent){g.remove()}f.insert(g,f);f.remove();return f},attr:function(h,l){var f=this,g,j,k;if(typeof h!==\"string\"){for(j in h){f.attr(j,h[j])}return f}if(g=f.attributes){if(l!==k){if(l===null){if(h in g.map){delete g.map[h];j=g.length;while(j--){if(g[j].name===h){g=g.splice(j,1);return f}}}return f}if(h in g.map){j=g.length;while(j--){if(g[j].name===h){g[j].value=l;break}}}else{g.push({name:h,value:l})}g.map[h]=l;return f}else{return g.map[h]}}},clone:function(){var g=this,n=new b(g.name,g.type),h,f,m,j,k;if(m=g.attributes){k=[];k.map={};for(h=0,f=m.length;h<f;h++){j=m[h];if(j.name!==\"id\"){k[k.length]={name:j.name,value:j.value};k.map[j.name]=j.value}}n.attributes=k}n.value=g.value;n.shortEnded=g.shortEnded;return n},wrap:function(g){var f=this;f.parent.insert(g,f);g.append(f);return f},unwrap:function(){var f=this,h,g;for(h=f.firstChild;h;){g=h.next;f.insert(h,f,true);h=g}f.remove()},remove:function(){var f=this,h=f.parent,g=f.next,i=f.prev;if(h){if(h.firstChild===f){h.firstChild=g;if(g){g.prev=null}}else{i.next=g}if(h.lastChild===f){h.lastChild=i;if(i){i.next=null}}else{g.prev=i}f.parent=f.next=f.prev=null}return f},append:function(h){var f=this,g;if(h.parent){h.remove()}g=f.lastChild;if(g){g.next=h;h.prev=g;f.lastChild=h}else{f.lastChild=f.firstChild=h}h.parent=f;return h},insert:function(h,f,i){var g;if(h.parent){h.remove()}g=f.parent||this;if(i){if(f===g.firstChild){g.firstChild=h}else{f.prev.next=h}h.prev=f.prev;h.next=f;f.prev=h}else{if(f===g.lastChild){g.lastChild=h}else{f.next.prev=h}h.next=f.next;h.prev=f;f.next=h}h.parent=g;return h},getAll:function(g){var f=this,h,i=[];for(h=f.firstChild;h;h=a(h,f)){if(h.name===g){i.push(h)}}return i},empty:function(){var g=this,f,h,j;if(g.firstChild){f=[];for(j=g.firstChild;j;j=a(j,g)){f.push(j)}h=f.length;while(h--){j=f[h];j.parent=j.firstChild=j.lastChild=j.next=j.prev=null}}g.firstChild=g.lastChild=null;return g},isEmpty:function(k){var f=this,j=f.firstChild,h,g;if(j){do{if(j.type===1){if(j.attributes.map[\"data-mce-bogus\"]){continue}if(k[j.name]){return false}h=j.attributes.length;while(h--){g=j.attributes[h].name;if(g===\"name\"||g.indexOf(\"data-\")===0){return false}}}if((j.type===3&&!c.test(j.value))){return false}}while(j=a(j,f))}return true},walk:function(f){return a(this,null,f)}});d.extend(b,{create:function(g,f){var i,h;i=new b(g,e[g]||1);if(f){for(h in f){i.attr(h,f[h])}}return i}});d.html.Node=b})(tinymce);(function(b){var a=b.html.Node;b.html.DomParser=function(g,h){var f=this,e={},d=[],i={},c={};g=g||{};g.validate=\"validate\" in g?g.validate:true;g.root_name=g.root_name||\"body\";f.schema=h=h||new b.html.Schema();function j(m){var o,p,x,v,z,n,q,l,t,u,k,s,y,r;s=b.makeMap(\"tr,td,th,tbody,thead,tfoot,table\");k=h.getNonEmptyElements();for(o=0;o<m.length;o++){p=m[o];if(!p.parent){continue}v=[p];for(x=p.parent;x&&!h.isValidChild(x.name,p.name)&&!s[x.name];x=x.parent){v.push(x)}if(x&&v.length>1){v.reverse();z=n=f.filterNode(v[0].clone());for(t=0;t<v.length-1;t++){if(h.isValidChild(n.name,v[t].name)){q=f.filterNode(v[t].clone());n.append(q)}else{q=n}for(l=v[t].firstChild;l&&l!=v[t+1];){r=l.next;q.append(l);l=r}n=q}if(!z.isEmpty(k)){x.insert(z,v[0],true);x.insert(p,z)}else{x.insert(p,v[0],true)}x=v[0];if(x.isEmpty(k)||x.firstChild===x.lastChild&&x.firstChild.name===\"br\"){x.empty().remove()}}else{if(p.parent){if(p.name===\"li\"){y=p.prev;if(y&&(y.name===\"ul\"||y.name===\"ul\")){y.append(p);continue}y=p.next;if(y&&(y.name===\"ul\"||y.name===\"ul\")){y.insert(p,y.firstChild,true);continue}p.wrap(f.filterNode(new a(\"ul\",1)));continue}if(h.isValidChild(p.parent.name,\"div\")&&h.isValidChild(\"div\",p.name)){p.wrap(f.filterNode(new a(\"div\",1)))}else{if(p.name===\"style\"||p.name===\"script\"){p.empty().remove()}else{p.unwrap()}}}}}}f.filterNode=function(m){var l,k,n;if(k in e){n=i[k];if(n){n.push(m)}else{i[k]=[m]}}l=d.length;while(l--){k=d[l].name;if(k in m.attributes.map){n=c[k];if(n){n.push(m)}else{c[k]=[m]}}}return m};f.addNodeFilter=function(k,l){b.each(b.explode(k),function(m){var n=e[m];if(!n){e[m]=n=[]}n.push(l)})};f.addAttributeFilter=function(k,l){b.each(b.explode(k),function(m){var n;for(n=0;n<d.length;n++){if(d[n].name===m){d[n].callbacks.push(l);return}}d.push({name:m,callbacks:[l]})})};f.parse=function(v,m){var n,H,A,z,C,B,x,r,E,K,y,o,D,J=[],t,k,s,p,u,q;m=m||{};i={};c={};o=b.extend(b.makeMap(\"script,style,head,html,body,title,meta,param\"),h.getBlockElements());u=h.getNonEmptyElements();p=h.children;y=g.validate;q=\"forced_root_block\" in m?m.forced_root_block:g.forced_root_block;s=h.getWhiteSpaceElements();D=/^[ \\t\\r\\n]+/;t=/[ \\t\\r\\n]+$/;k=/[ \\t\\r\\n]+/g;function F(){var L=H.firstChild,l,M;while(L){l=L.next;if(L.type==3||(L.type==1&&L.name!==\"p\"&&!o[L.name]&&!L.attr(\"data-mce-type\"))){if(!M){M=I(q,1);H.insert(M,L);M.append(L)}else{M.append(L)}}else{M=null}L=l}}function I(l,L){var M=new a(l,L),N;if(l in e){N=i[l];if(N){N.push(M)}else{i[l]=[M]}}return M}function G(M){var N,l,L;for(N=M.prev;N&&N.type===3;){l=N.value.replace(t,\"\");if(l.length>0){N.value=l;N=N.prev}else{L=N.prev;N.remove();N=L}}}n=new b.html.SaxParser({validate:y,fix_self_closing:!y,cdata:function(l){A.append(I(\"#cdata\",4)).value=l},text:function(M,l){var L;if(!s[A.name]){M=M.replace(k,\" \");if(A.lastChild&&o[A.lastChild.name]){M=M.replace(D,\"\")}}if(M.length!==0){L=I(\"#text\",3);L.raw=!!l;A.append(L).value=M}},comment:function(l){A.append(I(\"#comment\",8)).value=l},pi:function(l,L){A.append(I(l,7)).value=L;G(A)},doctype:function(L){var l;l=A.append(I(\"#doctype\",10));l.value=L;G(A)},start:function(l,T,M){var R,O,N,L,P,U,S,Q;N=y?h.getElementRule(l):{};if(N){R=I(N.outputName||l,1);R.attributes=T;R.shortEnded=M;A.append(R);Q=p[A.name];if(Q&&p[R.name]&&!Q[R.name]){J.push(R)}O=d.length;while(O--){P=d[O].name;if(P in T.map){E=c[P];if(E){E.push(R)}else{c[P]=[R]}}}if(o[l]){G(R)}if(!M){A=R}}},end:function(l){var P,M,O,L,N;M=y?h.getElementRule(l):{};if(M){if(o[l]){if(!s[A.name]){for(P=A.firstChild;P&&P.type===3;){O=P.value.replace(D,\"\");if(O.length>0){P.value=O;P=P.next}else{L=P.next;P.remove();P=L}}for(P=A.lastChild;P&&P.type===3;){O=P.value.replace(t,\"\");if(O.length>0){P.value=O;P=P.prev}else{L=P.prev;P.remove();P=L}}}P=A.prev;if(P&&P.type===3){O=P.value.replace(D,\"\");if(O.length>0){P.value=O}else{P.remove()}}}if(M.removeEmpty||M.paddEmpty){if(A.isEmpty(u)){if(M.paddEmpty){A.empty().append(new a(\"#text\",\"3\")).value=\"\\u00a0\"}else{if(!A.attributes.map.name){N=A.parent;A.empty().remove();A=N;return}}}}A=A.parent}}},h);H=A=new a(m.context||g.root_name,11);n.parse(v);if(y&&J.length){if(!m.context){j(J)}else{m.invalid=true}}if(q&&H.name==\"body\"){F()}if(!m.invalid){for(K in i){E=e[K];z=i[K];x=z.length;while(x--){if(!z[x].parent){z.splice(x,1)}}for(C=0,B=E.length;C<B;C++){E[C](z,K,m)}}for(C=0,B=d.length;C<B;C++){E=d[C];if(E.name in c){z=c[E.name];x=z.length;while(x--){if(!z[x].parent){z.splice(x,1)}}for(x=0,r=E.callbacks.length;x<r;x++){E.callbacks[x](z,E.name,m)}}}}return H};if(g.remove_trailing_brs){f.addNodeFilter(\"br\",function(n,m){var r,q=n.length,o,u=h.getBlockElements(),k=h.getNonEmptyElements(),s,p,t;u.body=1;for(r=0;r<q;r++){o=n[r];s=o.parent;if(u[o.parent.name]&&o===s.lastChild){p=o.prev;while(p){t=p.name;if(t!==\"span\"||p.attr(\"data-mce-type\")!==\"bookmark\"){if(t!==\"br\"){break}if(t===\"br\"){o=null;break}}p=p.prev}if(o){o.remove();if(s.isEmpty(k)){elementRule=h.getElementRule(s.name);if(elementRule){if(elementRule.removeEmpty){s.remove()}else{if(elementRule.paddEmpty){s.empty().append(new b.html.Node(\"#text\",3)).value=\"\\u00a0\"}}}}}}}})}}})(tinymce);tinymce.html.Writer=function(e){var c=[],a,b,d,f,g;e=e||{};a=e.indent;b=tinymce.makeMap(e.indent_before||\"\");d=tinymce.makeMap(e.indent_after||\"\");f=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||\"raw\",e.entities);g=e.element_format==\"html\";return{start:function(m,k,p){var n,j,h,o;if(a&&b[m]&&c.length>0){o=c[c.length-1];if(o.length>0&&o!==\"\\n\"){c.push(\"\\n\")}}c.push(\"<\",m);if(k){for(n=0,j=k.length;n<j;n++){h=k[n];c.push(\" \",h.name,'=\"',f(h.value,true),'\"')}}if(!p||g){c[c.length]=\">\"}else{c[c.length]=\" />\"}if(p&&a&&d[m]&&c.length>0){o=c[c.length-1];if(o.length>0&&o!==\"\\n\"){c.push(\"\\n\")}}},end:function(h){var i;c.push(\"</\",h,\">\");if(a&&d[h]&&c.length>0){i=c[c.length-1];if(i.length>0&&i!==\"\\n\"){c.push(\"\\n\")}}},text:function(i,h){if(i.length>0){c[c.length]=h?i:f(i)}},cdata:function(h){c.push(\"<![CDATA[\",h,\"]]>\")},comment:function(h){c.push(\"<!--\",h,\"-->\")},pi:function(h,i){if(i){c.push(\"<?\",h,\" \",i,\"?>\")}else{c.push(\"<?\",h,\"?>\")}if(a){c.push(\"\\n\")}},doctype:function(h){c.push(\"<!DOCTYPE\",h,\">\",a?\"\\n\":\"\")},reset:function(){c.length=0},getContent:function(){return c.join(\"\").replace(/\\n$/,\"\")}}};(function(a){a.html.Serializer=function(c,d){var b=this,e=new a.html.Writer(c);c=c||{};c.validate=\"validate\" in c?c.validate:true;b.schema=d=d||new a.html.Schema();b.writer=e;b.serialize=function(h){var g,i;i=c.validate;g={3:function(k,j){e.text(k.value,k.raw)},8:function(j){e.comment(j.value)},7:function(j){e.pi(j.name,j.value)},10:function(j){e.doctype(j.value)},4:function(j){e.cdata(j.value)},11:function(j){if((j=j.firstChild)){do{f(j)}while(j=j.next)}}};e.reset();function f(k){var t=g[k.type],j,o,s,r,p,u,n,m,q;if(!t){j=k.name;o=k.shortEnded;s=k.attributes;if(i&&s&&s.length>1){u=[];u.map={};q=d.getElementRule(k.name);for(n=0,m=q.attributesOrder.length;n<m;n++){r=q.attributesOrder[n];if(r in s.map){p=s.map[r];u.map[r]=p;u.push({name:r,value:p})}}for(n=0,m=s.length;n<m;n++){r=s[n].name;if(!(r in u.map)){p=s.map[r];u.map[r]=p;u.push({name:r,value:p})}}s=u}e.start(k.name,s,o);if(!o){if((k=k.firstChild)){do{f(k)}while(k=k.next)}e.end(j)}}else{t(k)}}if(h.type==1&&!c.inner){f(h)}else{g[11](h)}return e.getContent()}}})(tinymce);(function(h){var f=h.each,e=h.is,d=h.isWebKit,b=h.isIE,c=h.html.Entities,a=/^([a-z0-9],?)+$/i,g=h.html.Schema.blockElementsMap,i=/^[ \\t\\r\\n]*$/;h.create(\"tinymce.dom.DOMUtils\",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{\"for\":\"htmlFor\",\"class\":\"className\",className:\"className\",checked:\"checked\",disabled:\"disabled\",maxlength:\"maxLength\",readonly:\"readOnly\",selected:\"selected\",value:\"value\",id:\"id\",name:\"name\",type:\"type\"},DOMUtils:function(o,m){var l=this,j,k;l.doc=o;l.win=window;l.files={};l.cssFlicker=false;l.counter=0;l.stdMode=!h.isIE||o.documentMode>=8;l.boxModel=!h.isIE||o.compatMode==\"CSS1Compat\"||l.stdMode;l.hasOuterHTML=\"outerHTML\" in o.createElement(\"a\");l.settings=m=h.extend({keep_values:false,hex_colors:1},m);l.schema=m.schema;l.styles=new h.html.Styles({url_converter:m.url_converter,url_converter_scope:m.url_converter_scope},m.schema);if(h.isIE6){try{o.execCommand(\"BackgroundImageCache\",false,true)}catch(n){l.cssFlicker=true}}if(b&&m.schema){(\"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video\").replace(/\\w+/g,function(p){o.createElement(p)});for(k in m.schema.getCustomElements()){o.createElement(k)}}h.addUnload(l.destroy,l)},getRoot:function(){var j=this,k=j.settings;return(k&&j.get(k.root_element))||j.doc.body},getViewPort:function(k){var l,j;k=!k?this.win:k;l=k.document;j=this.boxModel?l.documentElement:l.body;return{x:k.pageXOffset||j.scrollLeft,y:k.pageYOffset||j.scrollTop,w:k.innerWidth||j.clientWidth,h:k.innerHeight||j.clientHeight}},getRect:function(m){var l,j=this,k;m=j.get(m);l=j.getPos(m);k=j.getSize(m);return{x:l.x,y:l.y,w:k.w,h:k.h}},getSize:function(m){var k=this,j,l;m=k.get(m);j=k.getStyle(m,\"width\");l=k.getStyle(m,\"height\");if(j.indexOf(\"px\")===-1){j=0}if(l.indexOf(\"px\")===-1){l=0}return{w:parseInt(j)||m.offsetWidth||m.clientWidth,h:parseInt(l)||m.offsetHeight||m.clientHeight}},getParent:function(l,k,j){return this.getParents(l,k,j,false)},getParents:function(u,p,l,s){var k=this,j,m=k.settings,q=[];u=k.get(u);s=s===undefined;if(m.strict_root){l=l||k.getRoot()}if(e(p,\"string\")){j=p;if(p===\"*\"){p=function(o){return o.nodeType==1}}else{p=function(o){return k.is(o,j)}}}while(u){if(u==l||!u.nodeType||u.nodeType===9){break}if(!p||p(u)){if(s){q.push(u)}else{return u}}u=u.parentNode}return s?q:null},get:function(j){var k;if(j&&this.doc&&typeof(j)==\"string\"){k=j;j=this.doc.getElementById(j);if(j&&j.id!==k){return this.doc.getElementsByName(k)[1]}}return j},getNext:function(k,j){return this._findSib(k,j,\"nextSibling\")},getPrev:function(k,j){return this._findSib(k,j,\"previousSibling\")},select:function(l,k){var j=this;return h.dom.Sizzle(l,j.get(k)||j.get(j.settings.root_element)||j.doc,[])},is:function(l,j){var k;if(l.length===undefined){if(j===\"*\"){return l.nodeType==1}if(a.test(j)){j=j.toLowerCase().split(/,/);l=l.nodeName.toLowerCase();for(k=j.length-1;k>=0;k--){if(j[k]==l){return true}}return false}}return h.dom.Sizzle.matches(j,l.nodeType?[l]:l).length>0},add:function(m,q,j,l,o){var k=this;return this.run(m,function(s){var r,n;r=e(q,\"string\")?k.doc.createElement(q):q;k.setAttribs(r,j);if(l){if(l.nodeType){r.appendChild(l)}else{k.setHTML(r,l)}}return !o?s.appendChild(r):r})},create:function(l,j,k){return this.add(this.doc.createElement(l),l,j,k,1)},createHTML:function(r,j,p){var q=\"\",m=this,l;q+=\"<\"+r;for(l in j){if(j.hasOwnProperty(l)){q+=\" \"+l+'=\"'+m.encode(j[l])+'\"'}}if(typeof(p)!=\"undefined\"){return q+\">\"+p+\"</\"+r+\">\"}return q+\" />\"},remove:function(j,k){return this.run(j,function(m){var n,l=m.parentNode;if(!l){return null}if(k){while(n=m.firstChild){if(!h.isIE||n.nodeType!==3||n.nodeValue){l.insertBefore(n,m)}else{m.removeChild(n)}}}return l.removeChild(m)})},setStyle:function(m,j,k){var l=this;return l.run(m,function(p){var o,n;o=p.style;j=j.replace(/-(\\D)/g,function(r,q){return q.toUpperCase()});if(l.pixelStyles.test(j)&&(h.is(k,\"number\")||/^[\\-0-9\\.]+$/.test(k))){k+=\"px\"}switch(j){case\"opacity\":if(b){o.filter=k===\"\"?\"\":\"alpha(opacity=\"+(k*100)+\")\";if(!m.currentStyle||!m.currentStyle.hasLayout){o.display=\"inline-block\"}}o[j]=o[\"-moz-opacity\"]=o[\"-khtml-opacity\"]=k||\"\";break;case\"float\":b?o.styleFloat=k:o.cssFloat=k;break;default:o[j]=k||\"\"}if(l.settings.update_styles){l.setAttrib(p,\"data-mce-style\")}})},getStyle:function(m,j,l){m=this.get(m);if(!m){return}if(this.doc.defaultView&&l){j=j.replace(/[A-Z]/g,function(n){return\"-\"+n});try{return this.doc.defaultView.getComputedStyle(m,null).getPropertyValue(j)}catch(k){return null}}j=j.replace(/-(\\D)/g,function(o,n){return n.toUpperCase()});if(j==\"float\"){j=b?\"styleFloat\":\"cssFloat\"}if(m.currentStyle&&l){return m.currentStyle[j]}return m.style?m.style[j]:undefined},setStyles:function(m,n){var k=this,l=k.settings,j;j=l.update_styles;l.update_styles=0;f(n,function(o,p){k.setStyle(m,p,o)});l.update_styles=j;if(l.update_styles){k.setAttrib(m,l.cssText)}},removeAllAttribs:function(j){return this.run(j,function(m){var l,k=m.attributes;for(l=k.length-1;l>=0;l--){m.removeAttributeNode(k.item(l))}})},setAttrib:function(l,m,j){var k=this;if(!l||!m){return}if(k.settings.strict){m=m.toLowerCase()}return this.run(l,function(o){var n=k.settings;switch(m){case\"style\":if(!e(j,\"string\")){f(j,function(p,q){k.setStyle(o,q,p)});return}if(n.keep_values){if(j&&!k._isRes(j)){o.setAttribute(\"data-mce-style\",j,2)}else{o.removeAttribute(\"data-mce-style\",2)}}o.style.cssText=j;break;case\"class\":o.className=j||\"\";break;case\"src\":case\"href\":if(n.keep_values){if(n.url_converter){j=n.url_converter.call(n.url_converter_scope||k,j,m,o)}k.setAttrib(o,\"data-mce-\"+m,j,2)}break;case\"shape\":o.setAttribute(\"data-mce-style\",j);break}if(e(j)&&j!==null&&j.length!==0){o.setAttribute(m,\"\"+j,2)}else{o.removeAttribute(m,2)}})},setAttribs:function(k,l){var j=this;return this.run(k,function(m){f(l,function(o,p){j.setAttrib(m,p,o)})})},getAttrib:function(o,p,l){var j,k=this,m;o=k.get(o);if(!o||o.nodeType!==1){return l===m?false:l}if(!e(l)){l=\"\"}if(/^(src|href|style|coords|shape)$/.test(p)){j=o.getAttribute(\"data-mce-\"+p);if(j){return j}}if(b&&k.props[p]){j=o[k.props[p]];j=j&&j.nodeValue?j.nodeValue:j}if(!j){j=o.getAttribute(p,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(p)){if(o[k.props[p]]===true&&j===\"\"){return p}return j?p:\"\"}if(o.nodeName===\"FORM\"&&o.getAttributeNode(p)){return o.getAttributeNode(p).nodeValue}if(p===\"style\"){j=j||o.style.cssText;if(j){j=k.serializeStyle(k.parseStyle(j),o.nodeName);if(k.settings.keep_values&&!k._isRes(j)){o.setAttribute(\"data-mce-style\",j)}}}if(d&&p===\"class\"&&j){j=j.replace(/(apple|webkit)\\-[a-z\\-]+/gi,\"\")}if(b){switch(p){case\"rowspan\":case\"colspan\":if(j===1){j=\"\"}break;case\"size\":if(j===\"+0\"||j===20||j===0){j=\"\"}break;case\"width\":case\"height\":case\"vspace\":case\"checked\":case\"disabled\":case\"readonly\":if(j===0){j=\"\"}break;case\"hspace\":if(j===-1){j=\"\"}break;case\"maxlength\":case\"tabindex\":if(j===32768||j===2147483647||j===\"32768\"){j=\"\"}break;case\"multiple\":case\"compact\":case\"noshade\":case\"nowrap\":if(j===65535){return p}return l;case\"shape\":j=j.toLowerCase();break;default:if(p.indexOf(\"on\")===0&&j){j=h._replace(/^function\\s+\\w+\\(\\)\\s+\\{\\s+(.*)\\s+\\}$/,\"$1\",\"\"+j)}}}return(j!==m&&j!==null&&j!==\"\")?\"\"+j:l},getPos:function(s,m){var k=this,j=0,q=0,o,p=k.doc,l;s=k.get(s);m=m||p.body;if(s){if(s.getBoundingClientRect){s=s.getBoundingClientRect();o=k.boxModel?p.documentElement:p.body;j=s.left+(p.documentElement.scrollLeft||p.body.scrollLeft)-o.clientTop;q=s.top+(p.documentElement.scrollTop||p.body.scrollTop)-o.clientLeft;return{x:j,y:q}}l=s;while(l&&l!=m&&l.nodeType){j+=l.offsetLeft||0;q+=l.offsetTop||0;l=l.offsetParent}l=s.parentNode;while(l&&l!=m&&l.nodeType){j-=l.scrollLeft||0;q-=l.scrollTop||0;l=l.parentNode}}return{x:j,y:q}},parseStyle:function(j){return this.styles.parse(j)},serializeStyle:function(k,j){return this.styles.serialize(k,j)},loadCSS:function(j){var l=this,m=l.doc,k;if(!j){j=\"\"}k=l.select(\"head\")[0];f(j.split(\",\"),function(n){var o;if(l.files[n]){return}l.files[n]=true;o=l.create(\"link\",{rel:\"stylesheet\",href:h._addVer(n)});if(b&&m.documentMode&&m.recalc){o.onload=function(){if(m.recalc){m.recalc()}o.onload=null}}k.appendChild(o)})},addClass:function(j,k){return this.run(j,function(l){var m;if(!k){return 0}if(this.hasClass(l,k)){return l.className}m=this.removeClass(l,k);return l.className=(m!=\"\"?(m+\" \"):\"\")+k})},removeClass:function(l,m){var j=this,k;return j.run(l,function(o){var n;if(j.hasClass(o,m)){if(!k){k=new RegExp(\"(^|\\\\s+)\"+m+\"(\\\\s+|$)\",\"g\")}n=o.className.replace(k,\" \");n=h.trim(n!=\" \"?n:\"\");o.className=n;if(!n){o.removeAttribute(\"class\");o.removeAttribute(\"className\")}return n}return o.className})},hasClass:function(k,j){k=this.get(k);if(!k||!j){return false}return(\" \"+k.className+\" \").indexOf(\" \"+j+\" \")!==-1},show:function(j){return this.setStyle(j,\"display\",\"block\")},hide:function(j){return this.setStyle(j,\"display\",\"none\")},isHidden:function(j){j=this.get(j);return !j||j.style.display==\"none\"||this.getStyle(j,\"display\")==\"none\"},uniqueId:function(j){return(!j?\"mce_\":j)+(this.counter++)},setHTML:function(l,k){var j=this;return j.run(l,function(n){if(b){while(n.firstChild){n.removeChild(n.firstChild)}try{n.innerHTML=\"<br />\"+k;n.removeChild(n.firstChild)}catch(m){n=j.create(\"div\");n.innerHTML=\"<br />\"+k;f(n.childNodes,function(p,o){if(o){n.appendChild(p)}})}}else{n.innerHTML=k}return k})},getOuterHTML:function(l){var k,j=this;l=j.get(l);if(!l){return null}if(l.nodeType===1&&j.hasOuterHTML){return l.outerHTML}k=(l.ownerDocument||j.doc).createElement(\"body\");k.appendChild(l.cloneNode(true));return k.innerHTML},setOuterHTML:function(m,k,n){var j=this;function l(p,o,r){var s,q;q=r.createElement(\"body\");q.innerHTML=o;s=q.lastChild;while(s){j.insertAfter(s.cloneNode(true),p);s=s.previousSibling}j.remove(p)}return this.run(m,function(p){p=j.get(p);if(p.nodeType==1){n=n||p.ownerDocument||j.doc;if(b){try{if(b&&p.nodeType==1){p.outerHTML=k}else{l(p,k,n)}}catch(o){l(p,k,n)}}else{l(p,k,n)}}})},decode:c.decode,encode:c.encodeAllRaw,insertAfter:function(j,k){k=this.get(k);return this.run(j,function(m){var l,n;l=k.parentNode;n=k.nextSibling;if(n){l.insertBefore(m,n)}else{l.appendChild(m)}return m})},isBlock:function(k){var j=k.nodeType;if(j){return !!(j===1&&g[k.nodeName])}return !!g[k]},replace:function(p,m,j){var l=this;if(e(m,\"array\")){p=p.cloneNode(true)}return l.run(m,function(k){if(j){f(h.grep(k.childNodes),function(n){p.appendChild(n)})}return k.parentNode.replaceChild(p,k)})},rename:function(m,j){var l=this,k;if(m.nodeName!=j.toUpperCase()){k=l.create(j);f(l.getAttribs(m),function(n){l.setAttrib(k,n.nodeName,l.getAttrib(m,n.nodeName))});l.replace(k,m,1)}return k||m},findCommonAncestor:function(l,j){var m=l,k;while(m){k=j;while(k&&m!=k){k=k.parentNode}if(m==k){break}m=m.parentNode}if(!m&&l.ownerDocument){return l.ownerDocument.documentElement}return m},toHex:function(j){var l=/^\\s*rgb\\s*?\\(\\s*?([0-9]+)\\s*?,\\s*?([0-9]+)\\s*?,\\s*?([0-9]+)\\s*?\\)\\s*$/i.exec(j);function k(m){m=parseInt(m).toString(16);return m.length>1?m:\"0\"+m}if(l){j=\"#\"+k(l[1])+k(l[2])+k(l[3]);return j}return j},getClasses:function(){var n=this,j=[],m,o={},p=n.settings.class_filter,l;if(n.classes){return n.classes}function q(r){f(r.imports,function(s){q(s)});f(r.cssRules||r.rules,function(s){switch(s.type||1){case 1:if(s.selectorText){f(s.selectorText.split(\",\"),function(t){t=t.replace(/^\\s*|\\s*$|^\\s\\./g,\"\");if(/\\.mce/.test(t)||!/\\.[\\w\\-]+$/.test(t)){return}l=t;t=h._replace(/.*\\.([a-z0-9_\\-]+).*/i,\"$1\",t);if(p&&!(t=p(t,l))){return}if(!o[t]){j.push({\"class\":t});o[t]=1}})}break;case 3:q(s.styleSheet);break}})}try{f(n.doc.styleSheets,q)}catch(k){}if(j.length>0){n.classes=j}return j},run:function(m,l,k){var j=this,n;if(j.doc&&typeof(m)===\"string\"){m=j.get(m)}if(!m){return false}k=k||this;if(!m.nodeType&&(m.length||m.length===0)){n=[];f(m,function(p,o){if(p){if(typeof(p)==\"string\"){p=j.doc.getElementById(p)}n.push(l.call(k,p,o))}});return n}return l.call(k,m)},getAttribs:function(k){var j;k=this.get(k);if(!k){return[]}if(b){j=[];if(k.nodeName==\"OBJECT\"){return k.attributes}if(k.nodeName===\"OPTION\"&&this.getAttrib(k,\"selected\")){j.push({specified:1,nodeName:\"selected\"})}k.cloneNode(false).outerHTML.replace(/<\\/?[\\w:\\-]+ ?|=[\\\"][^\\\"]+\\\"|=\\'[^\\']+\\'|=[\\w\\-]+|>/gi,\"\").replace(/[\\w:\\-]+/gi,function(l){j.push({specified:1,nodeName:l})});return j}return k.attributes},isEmpty:function(m,k){var r=this,o,n,q,j,l,p;m=m.firstChild;if(m){j=new h.dom.TreeWalker(m);k=k||r.schema?r.schema.getNonEmptyElements():null;do{q=m.nodeType;if(q===1){if(m.getAttribute(\"data-mce-bogus\")){continue}l=m.nodeName.toLowerCase();if(k&&k[l]){p=m.parentNode;if(l===\"br\"&&r.isBlock(p)&&p.firstChild===m&&p.lastChild===m){continue}return false}n=r.getAttribs(m);o=m.attributes.length;while(o--){l=m.attributes[o].nodeName;if(l===\"name\"||l===\"data-mce-bookmark\"){return false}}}if((q===3&&!i.test(m.nodeValue))){return false}}while(m=j.next())}return true},destroy:function(k){var j=this;if(j.events){j.events.destroy()}j.win=j.doc=j.root=j.events=null;if(!k){h.removeUnload(j.destroy)}},createRng:function(){var j=this.doc;return j.createRange?j.createRange():new h.dom.Range(this)},nodeIndex:function(n,o){var j=0,l,m,k;if(n){for(l=n.nodeType,n=n.previousSibling,m=n;n;n=n.previousSibling){k=n.nodeType;if(o&&k==3){if(k==l||!n.nodeValue.length){continue}}j++;l=k}}return j},split:function(n,m,q){var s=this,j=s.createRng(),o,l,p;function k(v){var t,r=v.childNodes,u=v.nodeType;if(u==1&&v.getAttribute(\"data-mce-type\")==\"bookmark\"){return}for(t=r.length-1;t>=0;t--){k(r[t])}if(u!=9){if(u==3&&v.nodeValue.length>0){if(!s.isBlock(v.parentNode)||h.trim(v.nodeValue).length>0){return}}else{if(u==1){r=v.childNodes;if(r.length==1&&r[0]&&r[0].nodeType==1&&r[0].getAttribute(\"data-mce-type\")==\"bookmark\"){v.parentNode.insertBefore(r[0],v)}if(r.length||/^(br|hr|input|img)$/i.test(v.nodeName)){return}}}s.remove(v)}return v}if(n&&m){j.setStart(n.parentNode,s.nodeIndex(n));j.setEnd(m.parentNode,s.nodeIndex(m));o=j.extractContents();j=s.createRng();j.setStart(m.parentNode,s.nodeIndex(m)+1);j.setEnd(n.parentNode,s.nodeIndex(n)+1);l=j.extractContents();p=n.parentNode;p.insertBefore(k(o),n);if(q){p.replaceChild(q,m)}else{p.insertBefore(m,n)}p.insertBefore(k(l),n);s.remove(n);return q||m}},bind:function(n,j,m,l){var k=this;if(!k.events){k.events=new h.dom.EventUtils()}return k.events.add(n,j,m,l||this)},unbind:function(m,j,l){var k=this;if(!k.events){k.events=new h.dom.EventUtils()}return k.events.remove(m,j,l)},_findSib:function(m,j,k){var l=this,n=j;if(m){if(e(n,\"string\")){n=function(o){return l.is(o,j)}}for(m=m[k];m;m=m[k]){if(n(m)){return m}}}return null},_isRes:function(j){return/^(top|left|bottom|right|width|height)/i.test(j)||/;\\s*(top|left|bottom|right|width|height)/i.test(j)}});h.DOM=new h.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(a){function b(c){var N=this,e=c.doc,S=0,E=1,j=2,D=true,R=false,U=\"startOffset\",h=\"startContainer\",P=\"endContainer\",z=\"endOffset\",k=tinymce.extend,n=c.nodeIndex;k(N,{startContainer:e,startOffset:0,endContainer:e,endOffset:0,collapsed:D,commonAncestorContainer:e,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:q,setEnd:s,setStartBefore:g,setStartAfter:I,setEndBefore:J,setEndAfter:u,collapse:A,selectNode:x,selectNodeContents:F,compareBoundaryPoints:v,deleteContents:p,extractContents:H,cloneContents:d,insertNode:C,surroundContents:M,cloneRange:K});function q(V,t){B(D,V,t)}function s(V,t){B(R,V,t)}function g(t){q(t.parentNode,n(t))}function I(t){q(t.parentNode,n(t)+1)}function J(t){s(t.parentNode,n(t))}function u(t){s(t.parentNode,n(t)+1)}function A(t){if(t){N[P]=N[h];N[z]=N[U]}else{N[h]=N[P];N[U]=N[z]}N.collapsed=D}function x(t){g(t);u(t)}function F(t){q(t,0);s(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function v(Y,t){var ab=N[h],W=N[U],aa=N[P],V=N[z],Z=t.startContainer,ad=t.startOffset,X=t.endContainer,ac=t.endOffset;if(Y===0){return G(ab,W,Z,ad)}if(Y===1){return G(aa,V,Z,ad)}if(Y===2){return G(aa,V,X,ac)}if(Y===3){return G(ab,W,X,ac)}}function p(){m(j)}function H(){return m(S)}function d(){return m(E)}function C(Y){var V=this[h],t=this[U],X,W;if((V.nodeType===3||V.nodeType===4)&&V.nodeValue){if(!t){V.parentNode.insertBefore(Y,V)}else{if(t>=V.nodeValue.length){c.insertAfter(Y,V)}else{X=V.splitText(t);V.parentNode.insertBefore(Y,X)}}}else{if(V.childNodes.length>0){W=V.childNodes[t]}if(W){V.insertBefore(Y,W)}else{V.appendChild(Y)}}}function M(V){var t=N.extractContents();N.insertNode(V);V.appendChild(t);N.selectNode(V)}function K(){return k(new b(c),{startContainer:N[h],startOffset:N[U],endContainer:N[P],endOffset:N[z],collapsed:N.collapsed,commonAncestorContainer:N.commonAncestorContainer})}function O(t,V){var W;if(t.nodeType==3){return t}if(V<0){return t}W=t.firstChild;while(W&&V>0){--V;W=W.nextSibling}if(W){return W}return t}function l(){return(N[h]==N[P]&&N[U]==N[z])}function G(X,Z,V,Y){var aa,W,t,ab,ad,ac;if(X==V){if(Z==Y){return 0}if(Z<Y){return -1}return 1}aa=V;while(aa&&aa.parentNode!=X){aa=aa.parentNode}if(aa){W=0;t=X.firstChild;while(t!=aa&&W<Z){W++;t=t.nextSibling}if(Z<=W){return -1}return 1}aa=X;while(aa&&aa.parentNode!=V){aa=aa.parentNode}if(aa){W=0;t=V.firstChild;while(t!=aa&&W<Y){W++;t=t.nextSibling}if(W<Y){return -1}return 1}ab=c.findCommonAncestor(X,V);ad=X;while(ad&&ad.parentNode!=ab){ad=ad.parentNode}if(!ad){ad=ab}ac=V;while(ac&&ac.parentNode!=ab){ac=ac.parentNode}if(!ac){ac=ab}if(ad==ac){return 0}t=ab.firstChild;while(t){if(t==ad){return -1}if(t==ac){return 1}t=t.nextSibling}}function B(V,Y,X){var t,W;if(V){N[h]=Y;N[U]=X}else{N[P]=Y;N[z]=X}t=N[P];while(t.parentNode){t=t.parentNode}W=N[h];while(W.parentNode){W=W.parentNode}if(W==t){if(G(N[h],N[U],N[P],N[z])>0){N.collapse(V)}}else{N.collapse(V)}N.collapsed=l();N.commonAncestorContainer=c.findCommonAncestor(N[h],N[P])}function m(ab){var aa,X=0,ad=0,V,Z,W,Y,t,ac;if(N[h]==N[P]){return f(ab)}for(aa=N[P],V=aa.parentNode;V;aa=V,V=V.parentNode){if(V==N[h]){return r(aa,ab)}++X}for(aa=N[h],V=aa.parentNode;V;aa=V,V=V.parentNode){if(V==N[P]){return T(aa,ab)}++ad}Z=ad-X;W=N[h];while(Z>0){W=W.parentNode;Z--}Y=N[P];while(Z<0){Y=Y.parentNode;Z++}for(t=W.parentNode,ac=Y.parentNode;t!=ac;t=t.parentNode,ac=ac.parentNode){W=t;Y=ac}return o(W,Y,ab)}function f(Z){var ab,Y,X,aa,t,W,V;if(Z!=j){ab=e.createDocumentFragment()}if(N[U]==N[z]){return ab}if(N[h].nodeType==3){Y=N[h].nodeValue;X=Y.substring(N[U],N[z]);if(Z!=E){N[h].deleteData(N[U],N[z]-N[U]);N.collapse(D)}if(Z==j){return}ab.appendChild(e.createTextNode(X));return ab}aa=O(N[h],N[U]);t=N[z]-N[U];while(t>0){W=aa.nextSibling;V=y(aa,Z);if(ab){ab.appendChild(V)}--t;aa=W}if(Z!=E){N.collapse(D)}return ab}function r(ab,Y){var aa,Z,V,t,X,W;if(Y!=j){aa=e.createDocumentFragment()}Z=i(ab,Y);if(aa){aa.appendChild(Z)}V=n(ab);t=V-N[U];if(t<=0){if(Y!=E){N.setEndBefore(ab);N.collapse(R)}return aa}Z=ab.previousSibling;while(t>0){X=Z.previousSibling;W=y(Z,Y);if(aa){aa.insertBefore(W,aa.firstChild)}--t;Z=X}if(Y!=E){N.setEndBefore(ab);N.collapse(R)}return aa}function T(Z,Y){var ab,V,aa,t,X,W;if(Y!=j){ab=e.createDocumentFragment()}aa=Q(Z,Y);if(ab){ab.appendChild(aa)}V=n(Z);++V;t=N[z]-V;aa=Z.nextSibling;while(t>0){X=aa.nextSibling;W=y(aa,Y);if(ab){ab.appendChild(W)}--t;aa=X}if(Y!=E){N.setStartAfter(Z);N.collapse(D)}return ab}function o(Z,t,ac){var W,ae,Y,aa,ab,V,ad,X;if(ac!=j){ae=e.createDocumentFragment()}W=Q(Z,ac);if(ae){ae.appendChild(W)}Y=Z.parentNode;aa=n(Z);ab=n(t);++aa;V=ab-aa;ad=Z.nextSibling;while(V>0){X=ad.nextSibling;W=y(ad,ac);if(ae){ae.appendChild(W)}ad=X;--V}W=i(t,ac);if(ae){ae.appendChild(W)}if(ac!=E){N.setStartAfter(Z);N.collapse(D)}return ae}function i(aa,ab){var W=O(N[P],N[z]-1),ac,Z,Y,t,V,X=W!=N[P];if(W==aa){return L(W,X,R,ab)}ac=W.parentNode;Z=L(ac,R,R,ab);while(ac){while(W){Y=W.previousSibling;t=L(W,X,R,ab);if(ab!=j){Z.insertBefore(t,Z.firstChild)}X=D;W=Y}if(ac==aa){return Z}W=ac.previousSibling;ac=ac.parentNode;V=L(ac,R,R,ab);if(ab!=j){V.appendChild(Z)}Z=V}}function Q(aa,ab){var X=O(N[h],N[U]),Y=X!=N[h],ac,Z,W,t,V;if(X==aa){return L(X,Y,D,ab)}ac=X.parentNode;Z=L(ac,R,D,ab);while(ac){while(X){W=X.nextSibling;t=L(X,Y,D,ab);if(ab!=j){Z.appendChild(t)}Y=D;X=W}if(ac==aa){return Z}X=ac.nextSibling;ac=ac.parentNode;V=L(ac,R,D,ab);if(ab!=j){V.appendChild(Z)}Z=V}}function L(t,Y,ab,ac){var X,W,Z,V,aa;if(Y){return y(t,ac)}if(t.nodeType==3){X=t.nodeValue;if(ab){V=N[U];W=X.substring(V);Z=X.substring(0,V)}else{V=N[z];W=X.substring(0,V);Z=X.substring(V)}if(ac!=E){t.nodeValue=Z}if(ac==j){return}aa=t.cloneNode(R);aa.nodeValue=W;return aa}if(ac==j){return}return t.cloneNode(R)}function y(V,t){if(t!=j){return t==E?V.cloneNode(D):V}V.parentNode.removeChild(V)}}a.Range=b})(tinymce.dom);(function(){function a(d){var b=this,h=d.dom,c=true,f=false;function e(i,j){var k,t=0,q,n,m,l,o,r,p=-1,s;k=i.duplicate();k.collapse(j);s=k.parentElement();if(s.ownerDocument!==d.dom.doc){return}while(s.contentEditable===\"false\"){s=s.parentNode}if(!s.hasChildNodes()){return{node:s,inside:1}}m=s.children;q=m.length-1;while(t<=q){r=Math.floor((t+q)/2);l=m[r];k.moveToElementText(l);p=k.compareEndPoints(j?\"StartToStart\":\"EndToEnd\",i);if(p>0){q=r-1}else{if(p<0){t=r+1}else{return{node:l}}}}if(p<0){if(!l){k.moveToElementText(s);k.collapse(true);l=s;n=true}else{k.collapse(false)}k.setEndPoint(j?\"EndToStart\":\"EndToEnd\",i);if(k.compareEndPoints(j?\"StartToStart\":\"StartToEnd\",i)>0){k=i.duplicate();k.collapse(j);o=-1;while(s==k.parentElement()){if(k.move(\"character\",-1)==0){break}o++}}o=o||k.text.replace(\"\\r\\n\",\" \").length}else{k.collapse(true);k.setEndPoint(j?\"StartToStart\":\"StartToEnd\",i);o=k.text.replace(\"\\r\\n\",\" \").length}return{node:l,position:p,offset:o,inside:n}}function g(){var i=d.getRng(),r=h.createRng(),l,k,p,q,m,j;l=i.item?i.item(0):i.parentElement();if(l.ownerDocument!=h.doc){return r}k=d.isCollapsed();if(i.item){r.setStart(l.parentNode,h.nodeIndex(l));r.setEnd(r.startContainer,r.startOffset+1);return r}function o(A){var u=e(i,A),s,y,z=0,x,v,t;s=u.node;y=u.offset;if(u.inside&&!s.hasChildNodes()){r[A?\"setStart\":\"setEnd\"](s,0);return}if(y===v){r[A?\"setStartBefore\":\"setEndAfter\"](s);return}if(u.position<0){x=u.inside?s.firstChild:s.nextSibling;if(!x){r[A?\"setStartAfter\":\"setEndAfter\"](s);return}if(!y){if(x.nodeType==3){r[A?\"setStart\":\"setEnd\"](x,0)}else{r[A?\"setStartBefore\":\"setEndBefore\"](x)}return}while(x){t=x.nodeValue;z+=t.length;if(z>=y){s=x;z-=y;z=t.length-z;break}x=x.nextSibling}}else{x=s.previousSibling;if(!x){return r[A?\"setStartBefore\":\"setEndBefore\"](s)}if(!y){if(s.nodeType==3){r[A?\"setStart\":\"setEnd\"](x,s.nodeValue.length)}else{r[A?\"setStartAfter\":\"setEndAfter\"](x)}return}while(x){z+=x.nodeValue.length;if(z>=y){s=x;z-=y;break}x=x.previousSibling}}r[A?\"setStart\":\"setEnd\"](s,z)}try{o(true);if(!k){o()}}catch(n){if(n.number==-2147024809){m=b.getBookmark(2);p=i.duplicate();p.collapse(true);l=p.parentElement();if(!k){p=i.duplicate();p.collapse(false);q=p.parentElement();q.innerHTML=q.innerHTML}l.innerHTML=l.innerHTML;b.moveToBookmark(m);i=d.getRng();o(true);if(!k){o()}}else{throw n}}return r}this.getBookmark=function(m){var j=d.getRng(),o,i,l={};function n(u){var u,t,p,s,r,q=[];t=u.parentNode;p=h.getRoot().parentNode;while(t!=p){s=t.children;r=s.length;while(r--){if(u===s[r]){q.push(r);break}}u=t;t=t.parentNode}return q}function k(q){var p;p=e(j,q);if(p){return{position:p.position,offset:p.offset,indexes:n(p.node),inside:p.inside}}}if(m===2){if(!j.item){l.start=k(true);if(!d.isCollapsed()){l.end=k()}}else{l.start={ctrl:true,indexes:n(j.item(0))}}}return l};this.moveToBookmark=function(k){var j,i=h.doc.body;function m(o){var r,q,n,p;r=h.getRoot();for(q=o.length-1;q>=0;q--){p=r.children;n=o[q];if(n<=p.length-1){r=p[n]}}return r}function l(r){var n=k[r?\"start\":\"end\"],q,p,o;if(n){q=n.position>0;p=i.createTextRange();p.moveToElementText(m(n.indexes));offset=n.offset;if(offset!==o){p.collapse(n.inside||q);p.moveStart(\"character\",q?-offset:offset)}else{p.collapse(r)}j.setEndPoint(r?\"StartToStart\":\"EndToStart\",p);if(r){j.collapse(true)}}}if(k.start){if(k.start.ctrl){j=i.createControlRange();j.addElement(m(k.start.indexes));j.select()}else{j=i.createTextRange();l(true);l();j.select()}}};this.addRange=function(i){var n,l,k,p,s,q,r=d.dom.doc,m=r.body;function j(z){var u,y,t,x,v;t=h.create(\"a\");u=z?k:s;y=z?p:q;x=n.duplicate();if(u==r||u==r.documentElement){u=m;y=0}if(u.nodeType==3){u.parentNode.insertBefore(t,u);x.moveToElementText(t);x.moveStart(\"character\",y);h.remove(t);n.setEndPoint(z?\"StartToStart\":\"EndToEnd\",x)}else{v=u.childNodes;if(v.length){if(y>=v.length){h.insertAfter(t,v[v.length-1])}else{u.insertBefore(t,v[y])}x.moveToElementText(t)}else{t=r.createTextNode(\"\\uFEFF\");u.appendChild(t);x.moveToElementText(t.parentNode);x.collapse(c)}n.setEndPoint(z?\"StartToStart\":\"EndToEnd\",x);h.remove(t)}}k=i.startContainer;p=i.startOffset;s=i.endContainer;q=i.endOffset;n=m.createTextRange();if(k==s&&k.nodeType==1&&p==q-1){if(p==q-1){try{l=m.createControlRange();l.addElement(k.childNodes[p]);l.select();return}catch(o){}}}j(true);j();n.select()};this.getRangeAt=g}tinymce.dom.TridentSelection=a})();(function(){var p=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,j=0,d=Object.prototype.toString,o=false,i=true;[0,0].sort(function(){i=false;return 0});var b=function(v,e,z,A){z=z||[];e=e||document;var C=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!v||typeof v!==\"string\"){return z}var x=[],s,E,H,r,u=true,t=b.isXML(e),B=v,D,G,F,y;do{p.exec(\"\");s=p.exec(B);if(s){B=s[3];x.push(s[1]);if(s[2]){r=s[3];break}}}while(s);if(x.length>1&&k.exec(v)){if(x.length===2&&f.relative[x[0]]){E=h(x[0]+x[1],e)}else{E=f.relative[x[0]]?[e]:b(x.shift(),e);while(x.length){v=x.shift();if(f.relative[v]){v+=x.shift()}E=h(v,E)}}}else{if(!A&&x.length>1&&e.nodeType===9&&!t&&f.match.ID.test(x[0])&&!f.match.ID.test(x[x.length-1])){D=b.find(x.shift(),e,t);e=D.expr?b.filter(D.expr,D.set)[0]:D.set[0]}if(e){D=A?{expr:x.pop(),set:a(A)}:b.find(x.pop(),x.length===1&&(x[0]===\"~\"||x[0]===\"+\")&&e.parentNode?e.parentNode:e,t);E=D.expr?b.filter(D.expr,D.set):D.set;if(x.length>0){H=a(E)}else{u=false}while(x.length){G=x.pop();F=G;if(!f.relative[G]){G=\"\"}else{F=x.pop()}if(F==null){F=e}f.relative[G](H,F,t)}}else{H=x=[]}}if(!H){H=E}if(!H){b.error(G||v)}if(d.call(H)===\"[object Array]\"){if(!u){z.push.apply(z,H)}else{if(e&&e.nodeType===1){for(y=0;H[y]!=null;y++){if(H[y]&&(H[y]===true||H[y].nodeType===1&&b.contains(e,H[y]))){z.push(E[y])}}}else{for(y=0;H[y]!=null;y++){if(H[y]&&H[y].nodeType===1){z.push(E[y])}}}}}else{a(H,z)}if(r){b(r,C,z,A);b.uniqueSort(z)}return z};b.uniqueSort=function(r){if(c){o=i;r.sort(c);if(o){for(var e=1;e<r.length;e++){if(r[e]===r[e-1]){r.splice(e--,1)}}}}return r};b.matches=function(e,r){return b(e,null,null,r)};b.find=function(y,e,z){var x;if(!y){return[]}for(var t=0,s=f.order.length;t<s;t++){var v=f.order[t],u;if((u=f.leftMatch[v].exec(y))){var r=u[1];u.splice(1,1);if(r.substr(r.length-1)!==\"\\\\\"){u[1]=(u[1]||\"\").replace(/\\\\/g,\"\");x=f.find[v](u,e,z);if(x!=null){y=y.replace(f.match[v],\"\");break}}}}if(!x){x=e.getElementsByTagName(\"*\")}return{set:x,expr:y}};b.filter=function(C,B,F,u){var s=C,H=[],z=B,x,e,y=B&&B[0]&&b.isXML(B[0]);while(C&&B.length){for(var A in f.filter){if((x=f.leftMatch[A].exec(C))!=null&&x[2]){var r=f.filter[A],G,E,t=x[1];e=false;x.splice(1,1);if(t.substr(t.length-1)===\"\\\\\"){continue}if(z===H){H=[]}if(f.preFilter[A]){x=f.preFilter[A](x,z,F,H,u,y);if(!x){e=G=true}else{if(x===true){continue}}}if(x){for(var v=0;(E=z[v])!=null;v++){if(E){G=r(E,x,v,z);var D=u^!!G;if(F&&G!=null){if(D){e=true}else{z[v]=false}}else{if(D){H.push(E);e=true}}}}}if(G!==undefined){if(!F){z=H}C=C.replace(f.match[A],\"\");if(!e){return[]}break}}}if(C===s){if(e==null){b.error(C)}else{break}}s=C}return z};b.error=function(e){throw\"Syntax error, unrecognized expression: \"+e};var f=b.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(['\"]*)(.*?)\\3|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+\\-]*)\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function(e){return e.getAttribute(\"href\")}},relative:{\"+\":function(x,r){var t=typeof r===\"string\",v=t&&!/\\W/.test(r),y=t&&!v;if(v){r=r.toLowerCase()}for(var s=0,e=x.length,u;s<e;s++){if((u=x[s])){while((u=u.previousSibling)&&u.nodeType!==1){}x[s]=y||u&&u.nodeName.toLowerCase()===r?u||false:u===r}}if(y){b.filter(r,x,true)}},\">\":function(x,r){var u=typeof r===\"string\",v,s=0,e=x.length;if(u&&!/\\W/.test(r)){r=r.toLowerCase();for(;s<e;s++){v=x[s];if(v){var t=v.parentNode;x[s]=t.nodeName.toLowerCase()===r?t:false}}}else{for(;s<e;s++){v=x[s];if(v){x[s]=u?v.parentNode:v.parentNode===r}}if(u){b.filter(r,x,true)}}},\"\":function(t,r,v){var s=j++,e=q,u;if(typeof r===\"string\"&&!/\\W/.test(r)){r=r.toLowerCase();u=r;e=n}e(\"parentNode\",r,s,t,u,v)},\"~\":function(t,r,v){var s=j++,e=q,u;if(typeof r===\"string\"&&!/\\W/.test(r)){r=r.toLowerCase();u=r;e=n}e(\"previousSibling\",r,s,t,u,v)}},find:{ID:function(r,s,t){if(typeof s.getElementById!==\"undefined\"&&!t){var e=s.getElementById(r[1]);return e?[e]:[]}},NAME:function(s,v){if(typeof v.getElementsByName!==\"undefined\"){var r=[],u=v.getElementsByName(s[1]);for(var t=0,e=u.length;t<e;t++){if(u[t].getAttribute(\"name\")===s[1]){r.push(u[t])}}return r.length===0?null:r}},TAG:function(e,r){return r.getElementsByTagName(e[1])}},preFilter:{CLASS:function(t,r,s,e,x,y){t=\" \"+t[1].replace(/\\\\/g,\"\")+\" \";if(y){return t}for(var u=0,v;(v=r[u])!=null;u++){if(v){if(x^(v.className&&(\" \"+v.className+\" \").replace(/[\\t\\n]/g,\" \").indexOf(t)>=0)){if(!s){e.push(v)}}else{if(s){r[u]=false}}}}return false},ID:function(e){return e[1].replace(/\\\\/g,\"\")},TAG:function(r,e){return r[1].toLowerCase()},CHILD:function(e){if(e[1]===\"nth\"){var r=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec(e[2]===\"even\"&&\"2n\"||e[2]===\"odd\"&&\"2n+1\"||!/\\D/.test(e[2])&&\"0n+\"+e[2]||e[2]);e[2]=(r[1]+(r[2]||1))-0;e[3]=r[3]-0}e[0]=j++;return e},ATTR:function(u,r,s,e,v,x){var t=u[1].replace(/\\\\/g,\"\");if(!x&&f.attrMap[t]){u[1]=f.attrMap[t]}if(u[2]===\"~=\"){u[4]=\" \"+u[4]+\" \"}return u},PSEUDO:function(u,r,s,e,v){if(u[1]===\"not\"){if((p.exec(u[3])||\"\").length>1||/^\\w/.test(u[3])){u[3]=b(u[3],null,null,r)}else{var t=b.filter(u[3],r,s,true^v);if(!s){e.push.apply(e,t)}return false}}else{if(f.match.POS.test(u[0])||f.match.CHILD.test(u[0])){return true}}return u},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!==\"hidden\"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){e.parentNode.selectedIndex;return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(s,r,e){return !!b(e[3],s).length},header:function(e){return(/h\\d/i).test(e.nodeName)},text:function(e){return\"text\"===e.type},radio:function(e){return\"radio\"===e.type},checkbox:function(e){return\"checkbox\"===e.type},file:function(e){return\"file\"===e.type},password:function(e){return\"password\"===e.type},submit:function(e){return\"submit\"===e.type},image:function(e){return\"image\"===e.type},reset:function(e){return\"reset\"===e.type},button:function(e){return\"button\"===e.type||e.nodeName.toLowerCase()===\"button\"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)}},setFilters:{first:function(r,e){return e===0},last:function(s,r,e,t){return r===t.length-1},even:function(r,e){return e%2===0},odd:function(r,e){return e%2===1},lt:function(s,r,e){return r<e[3]-0},gt:function(s,r,e){return r>e[3]-0},nth:function(s,r,e){return e[3]-0===r},eq:function(s,r,e){return e[3]-0===r}},filter:{PSEUDO:function(s,y,x,z){var e=y[1],r=f.filters[e];if(r){return r(s,x,y,z)}else{if(e===\"contains\"){return(s.textContent||s.innerText||b.getText([s])||\"\").indexOf(y[3])>=0}else{if(e===\"not\"){var t=y[3];for(var v=0,u=t.length;v<u;v++){if(t[v]===s){return false}}return true}else{b.error(\"Syntax error, unrecognized expression: \"+e)}}}},CHILD:function(e,t){var x=t[1],r=e;switch(x){case\"only\":case\"first\":while((r=r.previousSibling)){if(r.nodeType===1){return false}}if(x===\"first\"){return true}r=e;case\"last\":while((r=r.nextSibling)){if(r.nodeType===1){return false}}return true;case\"nth\":var s=t[2],A=t[3];if(s===1&&A===0){return true}var v=t[0],z=e.parentNode;if(z&&(z.sizcache!==v||!e.nodeIndex)){var u=0;for(r=z.firstChild;r;r=r.nextSibling){if(r.nodeType===1){r.nodeIndex=++u}}z.sizcache=v}var y=e.nodeIndex-A;if(s===0){return y===0}else{return(y%s===0&&y/s>=0)}}},ID:function(r,e){return r.nodeType===1&&r.getAttribute(\"id\")===e},TAG:function(r,e){return(e===\"*\"&&r.nodeType===1)||r.nodeName.toLowerCase()===e},CLASS:function(r,e){return(\" \"+(r.className||r.getAttribute(\"class\"))+\" \").indexOf(e)>-1},ATTR:function(v,t){var s=t[1],e=f.attrHandle[s]?f.attrHandle[s](v):v[s]!=null?v[s]:v.getAttribute(s),x=e+\"\",u=t[2],r=t[4];return e==null?u===\"!=\":u===\"=\"?x===r:u===\"*=\"?x.indexOf(r)>=0:u===\"~=\"?(\" \"+x+\" \").indexOf(r)>=0:!r?x&&e!==false:u===\"!=\"?x!==r:u===\"^=\"?x.indexOf(r)===0:u===\"$=\"?x.substr(x.length-r.length)===r:u===\"|=\"?x===r||x.substr(0,r.length+1)===r+\"-\":false},POS:function(u,r,s,v){var e=r[2],t=f.setFilters[e];if(t){return t(u,s,r,v)}}}};var k=f.match.POS,g=function(r,e){return\"\\\\\"+(e-0+1)};for(var m in f.match){f.match[m]=new RegExp(f.match[m].source+(/(?![^\\[]*\\])(?![^\\(]*\\))/.source));f.leftMatch[m]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+f.match[m].source.replace(/\\\\(\\d+)/g,g))}var a=function(r,e){r=Array.prototype.slice.call(r,0);if(e){e.push.apply(e,r);return e}return r};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(l){a=function(u,t){var r=t||[],s=0;if(d.call(u)===\"[object Array]\"){Array.prototype.push.apply(r,u)}else{if(typeof u.length===\"number\"){for(var e=u.length;s<e;s++){r.push(u[s])}}else{for(;u[s];s++){r.push(u[s])}}}return r}}var c;if(document.documentElement.compareDocumentPosition){c=function(r,e){if(!r.compareDocumentPosition||!e.compareDocumentPosition){if(r==e){o=true}return r.compareDocumentPosition?-1:1}var s=r.compareDocumentPosition(e)&4?-1:r===e?0:1;if(s===0){o=true}return s}}else{if(\"sourceIndex\" in document.documentElement){c=function(r,e){if(!r.sourceIndex||!e.sourceIndex){if(r==e){o=true}return r.sourceIndex?-1:1}var s=r.sourceIndex-e.sourceIndex;if(s===0){o=true}return s}}else{if(document.createRange){c=function(t,r){if(!t.ownerDocument||!r.ownerDocument){if(t==r){o=true}return t.ownerDocument?-1:1}var s=t.ownerDocument.createRange(),e=r.ownerDocument.createRange();s.setStart(t,0);s.setEnd(t,0);e.setStart(r,0);e.setEnd(r,0);var u=s.compareBoundaryPoints(Range.START_TO_END,e);if(u===0){o=true}return u}}}}b.getText=function(e){var r=\"\",t;for(var s=0;e[s];s++){t=e[s];if(t.nodeType===3||t.nodeType===4){r+=t.nodeValue}else{if(t.nodeType!==8){r+=b.getText(t.childNodes)}}}return r};(function(){var r=document.createElement(\"div\"),s=\"script\"+(new Date()).getTime();r.innerHTML=\"<a name='\"+s+\"'/>\";var e=document.documentElement;e.insertBefore(r,e.firstChild);if(document.getElementById(s)){f.find.ID=function(u,v,x){if(typeof v.getElementById!==\"undefined\"&&!x){var t=v.getElementById(u[1]);return t?t.id===u[1]||typeof t.getAttributeNode!==\"undefined\"&&t.getAttributeNode(\"id\").nodeValue===u[1]?[t]:undefined:[]}};f.filter.ID=function(v,t){var u=typeof v.getAttributeNode!==\"undefined\"&&v.getAttributeNode(\"id\");return v.nodeType===1&&u&&u.nodeValue===t}}e.removeChild(r);e=r=null})();(function(){var e=document.createElement(\"div\");e.appendChild(document.createComment(\"\"));if(e.getElementsByTagName(\"*\").length>0){f.find.TAG=function(r,v){var u=v.getElementsByTagName(r[1]);if(r[1]===\"*\"){var t=[];for(var s=0;u[s];s++){if(u[s].nodeType===1){t.push(u[s])}}u=t}return u}}e.innerHTML=\"<a href='#'></a>\";if(e.firstChild&&typeof e.firstChild.getAttribute!==\"undefined\"&&e.firstChild.getAttribute(\"href\")!==\"#\"){f.attrHandle.href=function(r){return r.getAttribute(\"href\",2)}}e=null})();if(document.querySelectorAll){(function(){var e=b,s=document.createElement(\"div\");s.innerHTML=\"<p class='TEST'></p>\";if(s.querySelectorAll&&s.querySelectorAll(\".TEST\").length===0){return}b=function(x,v,t,u){v=v||document;if(!u&&v.nodeType===9&&!b.isXML(v)){try{return a(v.querySelectorAll(x),t)}catch(y){}}return e(x,v,t,u)};for(var r in e){b[r]=e[r]}s=null})()}(function(){var e=document.createElement(\"div\");e.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(!e.getElementsByClassName||e.getElementsByClassName(\"e\").length===0){return}e.lastChild.className=\"e\";if(e.getElementsByClassName(\"e\").length===1){return}f.order.splice(1,0,\"CLASS\");f.find.CLASS=function(r,s,t){if(typeof s.getElementsByClassName!==\"undefined\"&&!t){return s.getElementsByClassName(r[1])}};e=null})();function n(r,x,v,A,y,z){for(var t=0,s=A.length;t<s;t++){var e=A[t];if(e){e=e[r];var u=false;while(e){if(e.sizcache===v){u=A[e.sizset];break}if(e.nodeType===1&&!z){e.sizcache=v;e.sizset=t}if(e.nodeName.toLowerCase()===x){u=e;break}e=e[r]}A[t]=u}}}function q(r,x,v,A,y,z){for(var t=0,s=A.length;t<s;t++){var e=A[t];if(e){e=e[r];var u=false;while(e){if(e.sizcache===v){u=A[e.sizset];break}if(e.nodeType===1){if(!z){e.sizcache=v;e.sizset=t}if(typeof x!==\"string\"){if(e===x){u=true;break}}else{if(b.filter(x,[e]).length>0){u=e;break}}}e=e[r]}A[t]=u}}}b.contains=document.compareDocumentPosition?function(r,e){return !!(r.compareDocumentPosition(e)&16)}:function(r,e){return r!==e&&(r.contains?r.contains(e):true)};b.isXML=function(e){var r=(e?e.ownerDocument||e:0).documentElement;return r?r.nodeName!==\"HTML\":false};var h=function(e,y){var t=[],u=\"\",v,s=y.nodeType?[y]:y;while((v=f.match.PSEUDO.exec(e))){u+=v[0];e=e.replace(f.match.PSEUDO,\"\")}e=f.relative[e]?e+\"*\":e;for(var x=0,r=s.length;x<r;x++){b(e,s[x],t)}return b.filter(u,t)};window.tinymce.dom.Sizzle=b})();(function(d){var f=d.each,c=d.DOM,b=d.isIE,e=d.isWebKit,a;d.create(\"tinymce.dom.EventUtils\",{EventUtils:function(){this.inits=[];this.events=[]},add:function(m,p,l,j){var g,h=this,i=h.events,k;if(p instanceof Array){k=[];f(p,function(o){k.push(h.add(m,o,l,j))});return k}if(m&&m.hasOwnProperty&&m instanceof Array){k=[];f(m,function(n){n=c.get(n);k.push(h.add(n,p,l,j))});return k}m=c.get(m);if(!m){return}g=function(n){if(h.disabled){return}n=n||window.event;if(n&&b){if(!n.target){n.target=n.srcElement}d.extend(n,h._stoppers)}if(!j){return l(n)}return l.call(j,n)};if(p==\"unload\"){d.unloads.unshift({func:g});return g}if(p==\"init\"){if(h.domLoaded){g()}else{h.inits.push(g)}return g}i.push({obj:m,name:p,func:l,cfunc:g,scope:j});h._add(m,p,g);return l},remove:function(l,m,k){var h=this,g=h.events,i=false,j;if(l&&l.hasOwnProperty&&l instanceof Array){j=[];f(l,function(n){n=c.get(n);j.push(h.remove(n,m,k))});return j}l=c.get(l);f(g,function(o,n){if(o.obj==l&&o.name==m&&(!k||(o.func==k||o.cfunc==k))){g.splice(n,1);h._remove(l,m,o.cfunc);i=true;return false}});return i},clear:function(l){var j=this,g=j.events,h,k;if(l){l=c.get(l);for(h=g.length-1;h>=0;h--){k=g[h];if(k.obj===l){j._remove(k.obj,k.name,k.cfunc);k.obj=k.cfunc=null;g.splice(h,1)}}}},cancel:function(g){if(!g){return false}this.stop(g);return this.prevent(g)},stop:function(g){if(g.stopPropagation){g.stopPropagation()}else{g.cancelBubble=true}return false},prevent:function(g){if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}return false},destroy:function(){var g=this;f(g.events,function(j,h){g._remove(j.obj,j.name,j.cfunc);j.obj=j.cfunc=null});g.events=[];g=null},_add:function(h,i,g){if(h.attachEvent){h.attachEvent(\"on\"+i,g)}else{if(h.addEventListener){h.addEventListener(i,g,false)}else{h[\"on\"+i]=g}}},_remove:function(i,j,h){if(i){try{if(i.detachEvent){i.detachEvent(\"on\"+j,h)}else{if(i.removeEventListener){i.removeEventListener(j,h,false)}else{i[\"on\"+j]=null}}}catch(g){}}},_pageInit:function(h){var g=this;if(g.domLoaded){return}g.domLoaded=true;f(g.inits,function(i){i()});g.inits=[]},_wait:function(i){var g=this,h=i.document;if(i.tinyMCE_GZ&&tinyMCE_GZ.loaded){g.domLoaded=1;return}if(h.attachEvent){h.attachEvent(\"onreadystatechange\",function(){if(h.readyState===\"complete\"){h.detachEvent(\"onreadystatechange\",arguments.callee);g._pageInit(i)}});if(h.documentElement.doScroll&&i==i.top){(function(){if(g.domLoaded){return}try{h.documentElement.doScroll(\"left\")}catch(j){setTimeout(arguments.callee,0);return}g._pageInit(i)})()}}else{if(h.addEventListener){g._add(i,\"DOMContentLoaded\",function(){g._pageInit(i)})}}g._add(i,\"load\",function(){g._pageInit(i)})},_stoppers:{preventDefault:function(){this.returnValue=false},stopPropagation:function(){this.cancelBubble=true}}});a=d.dom.Event=new d.dom.EventUtils();a._wait(window);d.addUnload(function(){a.destroy()})})(tinymce);(function(a){a.dom.Element=function(f,d){var b=this,e,c;b.settings=d=d||{};b.id=f;b.dom=e=d.dom||a.DOM;if(!a.isIE){c=e.get(b.id)}a.each((\"getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get\").split(/,/),function(g){b[g]=function(){var h=[f],j;for(j=0;j<arguments.length;j++){h.push(arguments[j])}h=e[g].apply(e,h);b.update(g);return h}});a.extend(b,{on:function(i,h,g){return a.dom.Event.add(b.id,i,h,g)},getXY:function(){return{x:parseInt(b.getStyle(\"left\")),y:parseInt(b.getStyle(\"top\"))}},getSize:function(){var g=e.get(b.id);return{w:parseInt(b.getStyle(\"width\")||g.clientWidth),h:parseInt(b.getStyle(\"height\")||g.clientHeight)}},moveTo:function(g,h){b.setStyles({left:g,top:h})},moveBy:function(g,i){var h=b.getXY();b.moveTo(h.x+g,h.y+i)},resizeTo:function(g,i){b.setStyles({width:g,height:i})},resizeBy:function(g,j){var i=b.getSize();b.resizeTo(i.w+g,i.h+j)},update:function(h){var g;if(a.isIE6&&d.blocker){h=h||\"\";if(h.indexOf(\"get\")===0||h.indexOf(\"has\")===0||h.indexOf(\"is\")===0){return}if(h==\"remove\"){e.remove(b.blocker);return}if(!b.blocker){b.blocker=e.uniqueId();g=e.add(d.container||e.getRoot(),\"iframe\",{id:b.blocker,style:\"position:absolute;\",frameBorder:0,src:'javascript:\"\"'});e.setStyle(g,\"opacity\",0)}else{g=e.get(b.blocker)}e.setStyles(g,{left:b.getStyle(\"left\",1),top:b.getStyle(\"top\",1),width:b.getStyle(\"width\",1),height:b.getStyle(\"height\",1),display:b.getStyle(\"display\",1),zIndex:parseInt(b.getStyle(\"zIndex\",1)||0)-1})}}})}})(tinymce);(function(c){function e(f){return f.replace(/[\\n\\r]+/g,\"\")}var b=c.is,a=c.isIE,d=c.each;c.create(\"tinymce.dom.Selection\",{Selection:function(i,h,g){var f=this;f.dom=i;f.win=h;f.serializer=g;d([\"onBeforeSetContent\",\"onBeforeGetContent\",\"onSetContent\",\"onGetContent\"],function(j){f[j]=new c.util.Dispatcher(f)});if(!f.win.getSelection){f.tridentSel=new c.dom.TridentSelection(f)}if(c.isIE&&i.boxModel){this._fixIESelection()}c.addUnload(f.destroy,f)},setCursorLocation:function(h,i){var f=this;var g=f.dom.createRng();g.setStart(h,i);g.setEnd(h,i);f.setRng(g);f.collapse(false)},getContent:function(g){var f=this,h=f.getRng(),l=f.dom.create(\"body\"),j=f.getSel(),i,k,m;g=g||{};i=k=\"\";g.get=true;g.format=g.format||\"html\";g.forced_root_block=\"\";f.onBeforeGetContent.dispatch(f,g);if(g.format==\"text\"){return f.isCollapsed()?\"\":(h.text||(j.toString?j.toString():\"\"))}if(h.cloneContents){m=h.cloneContents();if(m){l.appendChild(m)}}else{if(b(h.item)||b(h.htmlText)){l.innerHTML=\"<br>\"+(h.item?h.item(0).outerHTML:h.htmlText);l.removeChild(l.firstChild)}else{l.innerHTML=h.toString()}}if(/^\\s/.test(l.innerHTML)){i=\" \"}if(/\\s+$/.test(l.innerHTML)){k=\" \"}g.getInner=true;g.content=f.isCollapsed()?\"\":i+f.serializer.serialize(l,g)+k;f.onGetContent.dispatch(f,g);return g.content},setContent:function(g,i){var n=this,f=n.getRng(),j,k=n.win.document,m,l;i=i||{format:\"html\"};i.set=true;g=i.content=g;if(!i.no_events){n.onBeforeSetContent.dispatch(n,i)}g=i.content;if(f.insertNode){g+='<span id=\"__caret\">_</span>';if(f.startContainer==k&&f.endContainer==k){k.body.innerHTML=g}else{f.deleteContents();if(k.body.childNodes.length==0){k.body.innerHTML=g}else{if(f.createContextualFragment){f.insertNode(f.createContextualFragment(g))}else{m=k.createDocumentFragment();l=k.createElement(\"div\");m.appendChild(l);l.outerHTML=g;f.insertNode(m)}}}j=n.dom.get(\"__caret\");f=k.createRange();f.setStartBefore(j);f.setEndBefore(j);n.setRng(f);n.dom.remove(\"__caret\");try{n.setRng(f)}catch(h){}}else{if(f.item){k.execCommand(\"Delete\",false,null);f=n.getRng()}if(/^\\s+/.test(g)){f.pasteHTML('<span id=\"__mce_tmp\">_</span>'+g);n.dom.remove(\"__mce_tmp\")}else{f.pasteHTML(g)}}if(!i.no_events){n.onSetContent.dispatch(n,i)}},getStart:function(){var g=this.getRng(),h,f,j,i;if(g.duplicate||g.item){if(g.item){return g.item(0)}j=g.duplicate();j.collapse(1);h=j.parentElement();f=i=g.parentElement();while(i=i.parentNode){if(i==h){h=f;break}}return h}else{h=g.startContainer;if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[Math.min(h.childNodes.length-1,g.startOffset)]}if(h&&h.nodeType==3){return h.parentNode}return h}},getEnd:function(){var g=this,h=g.getRng(),i,f;if(h.duplicate||h.item){if(h.item){return h.item(0)}h=h.duplicate();h.collapse(0);i=h.parentElement();if(i&&i.nodeName==\"BODY\"){return i.lastChild||i}return i}else{i=h.endContainer;f=h.endOffset;if(i.nodeType==1&&i.hasChildNodes()){i=i.childNodes[f>0?f-1:f]}if(i&&i.nodeType==3){return i.parentNode}return i}},getBookmark:function(r,s){var v=this,m=v.dom,g,j,i,n,h,o,p,l=\"\\uFEFF\",u;function f(x,y){var t=0;d(m.select(x),function(A,z){if(A==y){t=z}});return t}if(r==2){function k(){var x=v.getRng(true),t=m.getRoot(),y={};function z(C,H){var B=C[H?\"startContainer\":\"endContainer\"],G=C[H?\"startOffset\":\"endOffset\"],A=[],D,F,E=0;if(B.nodeType==3){if(s){for(D=B.previousSibling;D&&D.nodeType==3;D=D.previousSibling){G+=D.nodeValue.length}}A.push(G)}else{F=B.childNodes;if(G>=F.length&&F.length){E=1;G=Math.max(0,F.length-1)}A.push(v.dom.nodeIndex(F[G],s)+E)}for(;B&&B!=t;B=B.parentNode){A.push(v.dom.nodeIndex(B,s))}return A}y.start=z(x,true);if(!v.isCollapsed()){y.end=z(x)}return y}if(v.tridentSel){return v.tridentSel.getBookmark(r)}return k()}if(r){return{rng:v.getRng()}}g=v.getRng();i=m.uniqueId();n=tinyMCE.activeEditor.selection.isCollapsed();u=\"overflow:hidden;line-height:0px\";if(g.duplicate||g.item){if(!g.item){j=g.duplicate();try{g.collapse();g.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+i+'_start\" style=\"'+u+'\">'+l+\"</span>\");if(!n){j.collapse(false);g.moveToElementText(j.parentElement());if(g.compareEndPoints(\"StartToEnd\",j)==0){j.move(\"character\",-1)}j.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+i+'_end\" style=\"'+u+'\">'+l+\"</span>\")}}catch(q){return null}}else{o=g.item(0);h=o.nodeName;return{name:h,index:f(h,o)}}}else{o=v.getNode();h=o.nodeName;if(h==\"IMG\"){return{name:h,index:f(h,o)}}j=g.cloneRange();if(!n){j.collapse(false);j.insertNode(m.create(\"span\",{\"data-mce-type\":\"bookmark\",id:i+\"_end\",style:u},l))}g.collapse(true);g.insertNode(m.create(\"span\",{\"data-mce-type\":\"bookmark\",id:i+\"_start\",style:u},l))}v.moveToBookmark({id:i,keep:1});return{id:i}},moveToBookmark:function(n){var r=this,l=r.dom,i,h,f,q,j,s,o,p;if(n){if(n.start){f=l.createRng();q=l.getRoot();function g(z){var t=n[z?\"start\":\"end\"],v,x,y,u;if(t){y=t[0];for(x=q,v=t.length-1;v>=1;v--){u=x.childNodes;if(t[v]>u.length-1){return}x=u[t[v]]}if(x.nodeType===3){y=Math.min(t[0],x.nodeValue.length)}if(x.nodeType===1){y=Math.min(t[0],x.childNodes.length)}if(z){f.setStart(x,y)}else{f.setEnd(x,y)}}return true}if(r.tridentSel){return r.tridentSel.moveToBookmark(n)}if(g(true)&&g()){r.setRng(f)}}else{if(n.id){function k(A){var u=l.get(n.id+\"_\"+A),z,t,x,y,v=n.keep;if(u){z=u.parentNode;if(A==\"start\"){if(!v){t=l.nodeIndex(u)}else{z=u.firstChild;t=1}j=s=z;o=p=t}else{if(!v){t=l.nodeIndex(u)}else{z=u.firstChild;t=1}s=z;p=t}if(!v){y=u.previousSibling;x=u.nextSibling;d(c.grep(u.childNodes),function(B){if(B.nodeType==3){B.nodeValue=B.nodeValue.replace(/\\uFEFF/g,\"\")}});while(u=l.get(n.id+\"_\"+A)){l.remove(u,1)}if(y&&x&&y.nodeType==x.nodeType&&y.nodeType==3&&!c.isOpera){t=y.nodeValue.length;y.appendData(x.nodeValue);l.remove(x);if(A==\"start\"){j=s=y;o=p=t}else{s=y;p=t}}}}}function m(t){if(l.isBlock(t)&&!t.innerHTML){t.innerHTML=!a?'<br data-mce-bogus=\"1\" />':\" \"}return t}k(\"start\");k(\"end\");if(j){f=l.createRng();f.setStart(m(j),o);f.setEnd(m(s),p);r.setRng(f)}}else{if(n.name){r.select(l.select(n.name)[n.index])}else{if(n.rng){r.setRng(n.rng)}}}}}},select:function(k,j){var i=this,l=i.dom,g=l.createRng(),f;if(k){f=l.nodeIndex(k);g.setStart(k.parentNode,f);g.setEnd(k.parentNode,f+1);if(j){function h(m,o){var n=new c.dom.TreeWalker(m,m);do{if(m.nodeType==3&&c.trim(m.nodeValue).length!=0){if(o){g.setStart(m,0)}else{g.setEnd(m,m.nodeValue.length)}return}if(m.nodeName==\"BR\"){if(o){g.setStartBefore(m)}else{g.setEndBefore(m)}return}}while(m=(o?n.next():n.prev()))}h(k,1);h(k)}i.setRng(g)}return k},isCollapsed:function(){var f=this,h=f.getRng(),g=f.getSel();if(!h||h.item){return false}if(h.compareEndPoints){return h.compareEndPoints(\"StartToEnd\",h)===0}return !g||h.collapsed},collapse:function(f){var h=this,g=h.getRng(),i;if(g.item){i=g.item(0);g=h.win.document.body.createTextRange();g.moveToElementText(i)}g.collapse(!!f);h.setRng(g)},getSel:function(){var g=this,f=this.win;return f.getSelection?f.getSelection():f.document.selection},getRng:function(l){var g=this,h,i,k,j=g.win.document;if(l&&g.tridentSel){return g.tridentSel.getRangeAt(0)}try{if(h=g.getSel()){i=h.rangeCount>0?h.getRangeAt(0):(h.createRange?h.createRange():j.createRange())}}catch(f){}if(c.isIE&&i&&i.setStart&&j.selection.createRange().item){k=j.selection.createRange().item(0);i=j.createRange();i.setStartBefore(k);i.setEndAfter(k)}if(!i){i=j.createRange?j.createRange():j.body.createTextRange()}if(g.selectedRange&&g.explicitRange){if(i.compareBoundaryPoints(i.START_TO_START,g.selectedRange)===0&&i.compareBoundaryPoints(i.END_TO_END,g.selectedRange)===0){i=g.explicitRange}else{g.selectedRange=null;g.explicitRange=null}}return i},setRng:function(i){var h,g=this;if(!g.tridentSel){h=g.getSel();if(h){g.explicitRange=i;try{h.removeAllRanges()}catch(f){}h.addRange(i);g.selectedRange=h.getRangeAt(0)}}else{if(i.cloneRange){g.tridentSel.addRange(i);return}try{i.select()}catch(f){}}},setNode:function(g){var f=this;f.setContent(f.dom.getOuterHTML(g));return g},getNode:function(){var h=this,g=h.getRng(),i=h.getSel(),l,k=g.startContainer,f=g.endContainer;if(!g){return h.dom.getRoot()}if(g.setStart){l=g.commonAncestorContainer;if(!g.collapsed){if(g.startContainer==g.endContainer){if(g.endOffset-g.startOffset<2){if(g.startContainer.hasChildNodes()){l=g.startContainer.childNodes[g.startOffset]}}}if(k.nodeType===3&&f.nodeType===3){function j(p,m){var o=p;while(p&&p.nodeType===3&&p.length===0){p=m?p.nextSibling:p.previousSibling}return p||o}if(k.length===g.startOffset){k=j(k.nextSibling,true)}else{k=k.parentNode}if(g.endOffset===0){f=j(f.previousSibling,false)}else{f=f.parentNode}if(k&&k===f){return k}}}if(l&&l.nodeType==3){return l.parentNode}return l}return g.item?g.item(0):g.parentElement()},getSelectedBlocks:function(g,f){var i=this,j=i.dom,m,h,l,k=[];m=j.getParent(g||i.getStart(),j.isBlock);h=j.getParent(f||i.getEnd(),j.isBlock);if(m){k.push(m)}if(m&&h&&m!=h){l=m;while((l=l.nextSibling)&&l!=h){if(j.isBlock(l)){k.push(l)}}}if(h&&m!=h){k.push(h)}return k},normalize:function(){var g=this,f,i;if(c.isIE){return}function h(p){var k,o,n,m=g.dom,j=m.getRoot(),l;k=f[(p?\"start\":\"end\")+\"Container\"];o=f[(p?\"start\":\"end\")+\"Offset\"];if(k.nodeType===9){k=k.body;o=0}if(k===j){if(k.hasChildNodes()){k=k.childNodes[Math.min(!p&&o>0?o-1:o,k.childNodes.length-1)];o=0;if(k.hasChildNodes()){l=k;n=new c.dom.TreeWalker(k,j);do{if(l.nodeType===3){o=p?0:l.nodeValue.length-1;k=l;break}if(l.nodeName===\"BR\"){o=m.nodeIndex(l);k=l.parentNode;break}}while(l=(p?n.next():n.prev()));i=true}}}if(i){f[\"set\"+(p?\"Start\":\"End\")](k,o)}}f=g.getRng();h(true);if(f.collapsed){h()}if(i){g.setRng(f)}},destroy:function(g){var f=this;f.win=null;if(!g){c.removeUnload(f.destroy)}},_fixIESelection:function(){var g=this.dom,m=g.doc,h=m.body,j,n,f;m.documentElement.unselectable=true;function i(o,r){var p=h.createTextRange();try{p.moveToPoint(o,r)}catch(q){p=null}return p}function l(p){var o;if(p.button){o=i(p.x,p.y);if(o){if(o.compareEndPoints(\"StartToStart\",n)>0){o.setEndPoint(\"StartToStart\",n)}else{o.setEndPoint(\"EndToEnd\",n)}o.select()}}else{k()}}function k(){var o=m.selection.createRange();if(n&&!o.item&&o.compareEndPoints(\"StartToEnd\",o)===0){n.select()}g.unbind(m,\"mouseup\",k);g.unbind(m,\"mousemove\",l);n=j=0}g.bind(m,[\"mousedown\",\"contextmenu\"],function(o){if(o.target.nodeName===\"HTML\"){if(j){k()}f=m.documentElement;if(f.scrollHeight>f.clientHeight){return}j=1;n=i(o.x,o.y);if(n){g.bind(m,\"mouseup\",k);g.bind(m,\"mousemove\",l);g.win.focus();n.select()}}})}})})(tinymce);(function(a){a.dom.Serializer=function(e,i,f){var h,b,d=a.isIE,g=a.each,c;if(!e.apply_source_formatting){e.indent=false}e.remove_trailing_brs=true;i=i||a.DOM;f=f||new a.html.Schema(e);e.entity_encoding=e.entity_encoding||\"named\";h=new a.util.Dispatcher(self);b=new a.util.Dispatcher(self);c=new a.html.DomParser(e,f);c.addAttributeFilter(\"src,href,style\",function(k,j){var o=k.length,l,q,n=\"data-mce-\"+j,p=e.url_converter,r=e.url_converter_scope,m;while(o--){l=k[o];q=l.attributes.map[n];if(q!==m){l.attr(j,q.length>0?q:null);l.attr(n,null)}else{q=l.attributes.map[j];if(j===\"style\"){q=i.serializeStyle(i.parseStyle(q),l.name)}else{if(p){q=p.call(r,q,j,l.name)}}l.attr(j,q.length>0?q:null)}}});c.addAttributeFilter(\"class\",function(j,k){var l=j.length,m,n;while(l--){m=j[l];n=m.attr(\"class\").replace(/\\s*mce(Item\\w+|Selected)\\s*/g,\"\");m.attr(\"class\",n.length>0?n:null)}});c.addAttributeFilter(\"data-mce-type\",function(j,l,k){var m=j.length,n;while(m--){n=j[m];if(n.attributes.map[\"data-mce-type\"]===\"bookmark\"&&!k.cleanup){n.remove()}}});c.addNodeFilter(\"script,style\",function(k,l){var m=k.length,n,o;function j(p){return p.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,\"\\n\").replace(/^[\\r\\n]*|[\\r\\n]*$/g,\"\").replace(/^\\s*(\\/\\/\\s*<!--|\\/\\/\\s*<!\\[CDATA\\[|<!--|<!\\[CDATA\\[)[\\r\\n]*/g,\"\").replace(/\\s*(\\/\\/\\s*\\]\\]>|\\/\\/\\s*-->|\\]\\]>|-->|\\]\\]-->)\\s*$/g,\"\")}while(m--){n=k[m];o=n.firstChild?n.firstChild.value:\"\";if(l===\"script\"){n.attr(\"type\",(n.attr(\"type\")||\"text/javascript\").replace(/^mce\\-/,\"\"));if(o.length>0){n.firstChild.value=\"// <![CDATA[\\n\"+j(o)+\"\\n// ]]>\"}}else{if(o.length>0){n.firstChild.value=\"<!--\\n\"+j(o)+\"\\n-->\"}}}});c.addNodeFilter(\"#comment\",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.value.indexOf(\"[CDATA[\")===0){m.name=\"#cdata\";m.type=4;m.value=m.value.replace(/^\\[CDATA\\[|\\]\\]$/g,\"\")}else{if(m.value.indexOf(\"mce:protected \")===0){m.name=\"#text\";m.type=3;m.raw=true;m.value=unescape(m.value).substr(14)}}}});c.addNodeFilter(\"xml:namespace,input\",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.type===7){m.remove()}else{if(m.type===1){if(k===\"input\"&&!(\"type\" in m.attributes.map)){m.attr(\"type\",\"text\")}}}}});if(e.fix_list_elements){c.addNodeFilter(\"ul,ol\",function(k,l){var m=k.length,n,j;while(m--){n=k[m];j=n.parent;if(j.name===\"ul\"||j.name===\"ol\"){if(n.prev&&n.prev.name===\"li\"){n.prev.append(n)}}}})}c.addAttributeFilter(\"data-mce-src,data-mce-href,data-mce-style\",function(j,k){var l=j.length;while(l--){j[l].attr(k,null)}});return{schema:f,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,onPreProcess:h,onPostProcess:b,serialize:function(o,m){var l,p,k,j,n;if(d&&i.select(\"script,style,select,map\").length>0){n=o.innerHTML;o=o.cloneNode(false);i.setHTML(o,n)}else{o=o.cloneNode(true)}l=o.ownerDocument.implementation;if(l.createHTMLDocument){p=l.createHTMLDocument(\"\");g(o.nodeName==\"BODY\"?o.childNodes:[o],function(q){p.body.appendChild(p.importNode(q,true))});if(o.nodeName!=\"BODY\"){o=p.body.firstChild}else{o=p.body}k=i.doc;i.doc=p}m=m||{};m.format=m.format||\"html\";if(!m.no_events){m.node=o;h.dispatch(self,m)}j=new a.html.Serializer(e,f);m.content=j.serialize(c.parse(m.getInner?o.innerHTML:a.trim(i.getOuterHTML(o),m),m));if(!m.cleanup){m.content=m.content.replace(/\\uFEFF/g,\"\")}if(!m.no_events){b.dispatch(self,m)}if(k){i.doc=k}m.node=null;return m.content},addRules:function(j){f.addValidElements(j)},setRules:function(j){f.setValidElements(j)}}}})(tinymce);(function(a){a.dom.ScriptLoader=function(h){var c=0,k=1,i=2,l={},j=[],f={},d=[],g=0,e;function b(m,v){var x=this,q=a.DOM,s,o,r,n;function p(){q.remove(n);if(s){s.onreadystatechange=s.onload=s=null}v()}function u(){if(typeof(console)!==\"undefined\"&&console.log){console.log(\"Failed to load: \"+m)}}n=q.uniqueId();if(a.isIE6){o=new a.util.URI(m);r=location;if(o.host==r.hostname&&o.port==r.port&&(o.protocol+\":\")==r.protocol&&o.protocol.toLowerCase()!=\"file\"){a.util.XHR.send({url:a._addVer(o.getURI()),success:function(y){var t=q.create(\"script\",{type:\"text/javascript\"});t.text=y;document.getElementsByTagName(\"head\")[0].appendChild(t);q.remove(t);p()},error:u});return}}s=q.create(\"script\",{id:n,type:\"text/javascript\",src:a._addVer(m)});if(!a.isIE){s.onload=p}s.onerror=u;if(!a.isOpera){s.onreadystatechange=function(){var t=s.readyState;if(t==\"complete\"||t==\"loaded\"){p()}}}(document.getElementsByTagName(\"head\")[0]||document.body).appendChild(s)}this.isDone=function(m){return l[m]==i};this.markDone=function(m){l[m]=i};this.add=this.load=function(m,q,n){var o,p=l[m];if(p==e){j.push(m);l[m]=c}if(q){if(!f[m]){f[m]=[]}f[m].push({func:q,scope:n||this})}};this.loadQueue=function(n,m){this.loadScripts(j,n,m)};this.loadScripts=function(m,q,p){var o;function n(r){a.each(f[r],function(s){s.func.call(s.scope)});f[r]=e}d.push({func:q,scope:p||this});o=function(){var r=a.grep(m);m.length=0;a.each(r,function(s){if(l[s]==i){n(s);return}if(l[s]!=k){l[s]=k;g++;b(s,function(){l[s]=i;g--;n(s);o()})}});if(!g){a.each(d,function(s){s.func.call(s.scope)});d.length=0}};o()}};a.ScriptLoader=new a.dom.ScriptLoader()})(tinymce);tinymce.dom.TreeWalker=function(a,c){var b=a;function d(i,f,e,j){var h,g;if(i){if(!j&&i[f]){return i[f]}if(i!=c){h=i[e];if(h){return h}for(g=i.parentNode;g&&g!=c;g=g.parentNode){h=g[e];if(h){return h}}}}}this.current=function(){return b};this.next=function(e){return(b=d(b,\"firstChild\",\"nextSibling\",e))};this.prev=function(e){return(b=d(b,\"lastChild\",\"previousSibling\",e))}};(function(a){a.dom.RangeUtils=function(c){var b=\"\\uFEFF\";this.walk=function(d,r){var h=d.startContainer,k=d.startOffset,s=d.endContainer,l=d.endOffset,i,f,n,g,q,p,e;e=c.select(\"td.mceSelected,th.mceSelected\");if(e.length>0){a.each(e,function(t){r([t])});return}function o(v,u,t){var x=[];for(;v&&v!=t;v=v[u]){x.push(v)}return x}function m(u,t){do{if(u.parentNode==t){return u}u=u.parentNode}while(u)}function j(v,u,x){var t=x?\"nextSibling\":\"previousSibling\";for(g=v,q=g.parentNode;g&&g!=u;g=q){q=g.parentNode;p=o(g==v?g:g[t],t);if(p.length){if(!x){p.reverse()}r(p)}}}if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[k]}if(s.nodeType==1&&s.hasChildNodes()){s=s.childNodes[Math.min(l-1,s.childNodes.length-1)]}i=c.findCommonAncestor(h,s);if(h==s){return r([h])}for(g=h;g;g=g.parentNode){if(g==s){return j(h,i,true)}if(g==i){break}}for(g=s;g;g=g.parentNode){if(g==h){return j(s,i)}if(g==i){break}}f=m(h,i)||h;n=m(s,i)||s;j(h,f,true);p=o(f==h?f:f.nextSibling,\"nextSibling\",n==s?n.nextSibling:n);if(p.length){r(p)}j(s,n)}};a.dom.RangeUtils.compareRanges=function(c,b){if(c&&b){if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)){return true}if(c.isEqual&&b.isEqual&&b.isEqual(c)){return true}}else{return c.startContainer==b.startContainer&&c.startOffset==b.startOffset}}return false}})(tinymce);(function(b){var a=b.dom.Event,c=b.each;b.create(\"tinymce.ui.KeyboardNavigation\",{KeyboardNavigation:function(e,f){var p=this,m=e.root,l=e.items,n=e.enableUpDown,i=e.enableLeftRight||!e.enableUpDown,k=e.excludeFromTabOrder,j,h,o,d,g;f=f||b.DOM;j=function(q){g=q.target.id};h=function(q){f.setAttrib(q.target.id,\"tabindex\",\"-1\")};d=function(q){var r=f.get(g);f.setAttrib(r,\"tabindex\",\"0\");r.focus()};p.focus=function(){f.get(g).focus()};p.destroy=function(){c(l,function(q){f.unbind(f.get(q.id),\"focus\",j);f.unbind(f.get(q.id),\"blur\",h)});f.unbind(f.get(m),\"focus\",d);f.unbind(f.get(m),\"keydown\",o);l=f=m=p.focus=j=h=o=d=null;p.destroy=function(){}};p.moveFocus=function(u,r){var q=-1,t=p.controls,s;if(!g){return}c(l,function(x,v){if(x.id===g){q=v;return false}});q+=u;if(q<0){q=l.length-1}else{if(q>=l.length){q=0}}s=l[q];f.setAttrib(g,\"tabindex\",\"-1\");f.setAttrib(s.id,\"tabindex\",\"0\");f.get(s.id).focus();if(e.actOnFocus){e.onAction(s.id)}if(r){a.cancel(r)}};o=function(y){var u=37,t=39,x=38,z=40,q=27,s=14,r=13,v=32;switch(y.keyCode){case u:if(i){p.moveFocus(-1)}break;case t:if(i){p.moveFocus(1)}break;case x:if(n){p.moveFocus(-1)}break;case z:if(n){p.moveFocus(1)}break;case q:if(e.onCancel){e.onCancel();a.cancel(y)}break;case s:case r:case v:if(e.onAction){e.onAction(g);a.cancel(y)}break}};c(l,function(s,q){var r;if(!s.id){s.id=f.uniqueId(\"_mce_item_\")}if(k){f.bind(s.id,\"blur\",h);r=\"-1\"}else{r=(q===0?\"0\":\"-1\")}f.setAttrib(s.id,\"tabindex\",r);f.bind(f.get(s.id),\"focus\",j)});if(l[0]){g=l[0].id}f.setAttrib(m,\"tabindex\",\"-1\");f.bind(f.get(m),\"focus\",d);f.bind(f.get(m),\"keydown\",o)}})})(tinymce);(function(c){var b=c.DOM,a=c.is;c.create(\"tinymce.ui.Control\",{Control:function(f,e,d){this.id=f;this.settings=e=e||{};this.rendered=false;this.onRender=new c.util.Dispatcher(this);this.classPrefix=\"\";this.scope=e.scope||this;this.disabled=0;this.active=0;this.editor=d},setAriaProperty:function(f,e){var d=b.get(this.id+\"_aria\")||b.get(this.id);if(d){b.setAttrib(d,\"aria-\"+f,!!e)}},focus:function(){b.get(this.id).focus()},setDisabled:function(d){if(d!=this.disabled){this.setAriaProperty(\"disabled\",d);this.setState(\"Disabled\",d);this.setState(\"Enabled\",!d);this.disabled=d}},isDisabled:function(){return this.disabled},setActive:function(d){if(d!=this.active){this.setState(\"Active\",d);this.active=d;this.setAriaProperty(\"pressed\",d)}},isActive:function(){return this.active},setState:function(f,d){var e=b.get(this.id);f=this.classPrefix+f;if(d){b.addClass(e,f)}else{b.removeClass(e,f)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){b.setHTML(d,this.renderHTML())},postRender:function(){var e=this,d;if(a(e.disabled)){d=e.disabled;e.disabled=-1;e.setDisabled(d)}if(a(e.active)){d=e.active;e.active=-1;e.setActive(d)}},remove:function(){b.remove(this.id);this.destroy()},destroy:function(){c.dom.Event.clear(this.id)}})})(tinymce);tinymce.create(\"tinymce.ui.Container:tinymce.ui.Control\",{Container:function(c,b,a){this.parent(c,b,a);this.controls=[];this.lookup={}},add:function(a){this.lookup[a.id]=a;this.controls.push(a);return a},get:function(a){return this.lookup[a]}});tinymce.create(\"tinymce.ui.Separator:tinymce.ui.Control\",{Separator:function(b,a){this.parent(b,a);this.classPrefix=\"mceSeparator\";this.setDisabled(true)},renderHTML:function(){return tinymce.DOM.createHTML(\"span\",{\"class\":this.classPrefix,role:\"separator\",\"aria-orientation\":\"vertical\",tabindex:\"-1\"})}});(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create(\"tinymce.ui.MenuItem:tinymce.ui.Control\",{MenuItem:function(g,f){this.parent(g,f);this.classPrefix=\"mceMenuItem\"},setSelected:function(f){this.setState(\"Selected\",f);this.setAriaProperty(\"checked\",!!f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){var f=this;f.parent();if(c(f.selected)){f.setSelected(f.selected)}}})})(tinymce);(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create(\"tinymce.ui.Menu:tinymce.ui.MenuItem\",{Menu:function(h,g){var f=this;f.parent(h,g);f.items={};f.collapsed=false;f.menuCount=0;f.onAddItem=new d.util.Dispatcher(this)},expand:function(g){var f=this;if(g){a(f,function(h){if(h.expand){h.expand()}},\"items\",f)}f.collapsed=false},collapse:function(g){var f=this;if(g){a(f,function(h){if(h.collapse){h.collapse()}},\"items\",f)}f.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(f){if(!f.settings){f=new d.ui.MenuItem(f.id||b.uniqueId(),f)}this.onAddItem.dispatch(this,f);return this.items[f.id]=f},addSeparator:function(){return this.add({separator:true})},addMenu:function(f){if(!f.collapse){f=this.createMenu(f)}this.menuCount++;return this.add(f)},hasMenus:function(){return this.menuCount!==0},remove:function(f){delete this.items[f.id]},removeAll:function(){var f=this;a(f,function(g){if(g.removeAll){g.removeAll()}else{g.remove()}g.destroy()},\"items\",f);f.items={}},createMenu:function(g){var f=new d.ui.Menu(g.id||b.uniqueId(),g);f.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return f}})})(tinymce);(function(e){var d=e.is,c=e.DOM,f=e.each,a=e.dom.Event,b=e.dom.Element;e.create(\"tinymce.ui.DropMenu:tinymce.ui.Menu\",{DropMenu:function(h,g){g=g||{};g.container=g.container||c.doc.body;g.offset_x=g.offset_x||0;g.offset_y=g.offset_y||0;g.vp_offset_x=g.vp_offset_x||0;g.vp_offset_y=g.vp_offset_y||0;if(d(g.icons)&&!g.icons){g[\"class\"]+=\" mceNoIcons\"}this.parent(h,g);this.onShowMenu=new e.util.Dispatcher(this);this.onHideMenu=new e.util.Dispatcher(this);this.classPrefix=\"mceMenu\"},createMenu:function(j){var h=this,i=h.settings,g;j.container=j.container||i.container;j.parent=h;j.constrain=j.constrain||i.constrain;j[\"class\"]=j[\"class\"]||i[\"class\"];j.vp_offset_x=j.vp_offset_x||i.vp_offset_x;j.vp_offset_y=j.vp_offset_y||i.vp_offset_y;j.keyboard_focus=i.keyboard_focus;g=new e.ui.DropMenu(j.id||c.uniqueId(),j);g.onAddItem.add(h.onAddItem.dispatch,h.onAddItem);return g},focus:function(){var g=this;if(g.keyboardNav){g.keyboardNav.focus()}},update:function(){var i=this,j=i.settings,g=c.get(\"menu_\"+i.id+\"_tbl\"),l=c.get(\"menu_\"+i.id+\"_co\"),h,k;h=j.max_width?Math.min(g.clientWidth,j.max_width):g.clientWidth;k=j.max_height?Math.min(g.clientHeight,j.max_height):g.clientHeight;if(!c.boxModel){i.element.setStyles({width:h+2,height:k+2})}else{i.element.setStyles({width:h,height:k})}if(j.max_width){c.setStyle(l,\"width\",h)}if(j.max_height){c.setStyle(l,\"height\",k);if(g.clientHeight<j.max_height){c.setStyle(l,\"overflow\",\"hidden\")}}},showMenu:function(p,n,r){var z=this,A=z.settings,o,g=c.getViewPort(),u,l,v,q,i=2,k,j,m=z.classPrefix;z.collapse(1);if(z.isMenuVisible){return}if(!z.rendered){o=c.add(z.settings.container,z.renderNode());f(z.items,function(h){h.postRender()});z.element=new b(\"menu_\"+z.id,{blocker:1,container:A.container})}else{o=c.get(\"menu_\"+z.id)}if(!e.isOpera){c.setStyles(o,{left:-65535,top:-65535})}c.show(o);z.update();p+=A.offset_x||0;n+=A.offset_y||0;g.w-=4;g.h-=4;if(A.constrain){u=o.clientWidth-i;l=o.clientHeight-i;v=g.x+g.w;q=g.y+g.h;if((p+A.vp_offset_x+u)>v){p=r?r-u:Math.max(0,(v-A.vp_offset_x)-u)}if((n+A.vp_offset_y+l)>q){n=Math.max(0,(q-A.vp_offset_y)-l)}}c.setStyles(o,{left:p,top:n});z.element.update();z.isMenuVisible=1;z.mouseClickFunc=a.add(o,\"click\",function(s){var h;s=s.target;if(s&&(s=c.getParent(s,\"tr\"))&&!c.hasClass(s,m+\"ItemSub\")){h=z.items[s.id];if(h.isDisabled()){return}k=z;while(k){if(k.hideMenu){k.hideMenu()}k=k.settings.parent}if(h.settings.onclick){h.settings.onclick(s)}return a.cancel(s)}});if(z.hasMenus()){z.mouseOverFunc=a.add(o,\"mouseover\",function(x){var h,t,s;x=x.target;if(x&&(x=c.getParent(x,\"tr\"))){h=z.items[x.id];if(z.lastMenu){z.lastMenu.collapse(1)}if(h.isDisabled()){return}if(x&&c.hasClass(x,m+\"ItemSub\")){t=c.getRect(x);h.showMenu((t.x+t.w-i),t.y-i,t.x);z.lastMenu=h;c.addClass(c.get(h.id).firstChild,m+\"ItemActive\")}}})}a.add(o,\"keydown\",z._keyHandler,z);z.onShowMenu.dispatch(z);if(A.keyboard_focus){z._setupKeyboardNav()}},hideMenu:function(j){var g=this,i=c.get(\"menu_\"+g.id),h;if(!g.isMenuVisible){return}if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(i,\"mouseover\",g.mouseOverFunc);a.remove(i,\"click\",g.mouseClickFunc);a.remove(i,\"keydown\",g._keyHandler);c.hide(i);g.isMenuVisible=0;if(!j){g.collapse(1)}if(g.element){g.element.hide()}if(h=c.get(g.id)){c.removeClass(h.firstChild,g.classPrefix+\"ItemActive\")}g.onHideMenu.dispatch(g)},add:function(i){var g=this,h;i=g.parent(i);if(g.isRendered&&(h=c.get(\"menu_\"+g.id))){g._add(c.select(\"tbody\",h)[0],i)}return i},collapse:function(g){this.parent(g);this.hideMenu(1)},remove:function(g){c.remove(g.id);this.destroy();return this.parent(g)},destroy:function(){var g=this,h=c.get(\"menu_\"+g.id);if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(h,\"mouseover\",g.mouseOverFunc);a.remove(c.select(\"a\",h),\"focus\",g.mouseOverFunc);a.remove(h,\"click\",g.mouseClickFunc);a.remove(h,\"keydown\",g._keyHandler);if(g.element){g.element.remove()}c.remove(h)},renderNode:function(){var i=this,j=i.settings,l,h,k,g;g=c.create(\"div\",{role:\"listbox\",id:\"menu_\"+i.id,\"class\":j[\"class\"],style:\"position:absolute;left:0;top:0;z-index:200000;outline:0\"});if(i.settings.parent){c.setAttrib(g,\"aria-parent\",\"menu_\"+i.settings.parent.id)}k=c.add(g,\"div\",{role:\"presentation\",id:\"menu_\"+i.id+\"_co\",\"class\":i.classPrefix+(j[\"class\"]?\" \"+j[\"class\"]:\"\")});i.element=new b(\"menu_\"+i.id,{blocker:1,container:j.container});if(j.menu_line){c.add(k,\"span\",{\"class\":i.classPrefix+\"Line\"})}l=c.add(k,\"table\",{role:\"presentation\",id:\"menu_\"+i.id+\"_tbl\",border:0,cellPadding:0,cellSpacing:0});h=c.add(l,\"tbody\");f(i.items,function(m){i._add(h,m)});i.rendered=true;return g},_setupKeyboardNav:function(){var i,h,g=this;i=c.select(\"#menu_\"+g.id)[0];h=c.select(\"a[role=option]\",\"menu_\"+g.id);h.splice(0,0,i);g.keyboardNav=new e.ui.KeyboardNavigation({root:\"menu_\"+g.id,items:h,onCancel:function(){g.hideMenu()},enableUpDown:true});i.focus()},_keyHandler:function(g){var h=this,i;switch(g.keyCode){case 37:if(h.settings.parent){h.hideMenu();h.settings.parent.focus();a.cancel(g)}break;case 39:if(h.mouseOverFunc){h.mouseOverFunc(g)}break}},_add:function(j,h){var i,q=h.settings,p,l,k,m=this.classPrefix,g;if(q.separator){l=c.add(j,\"tr\",{id:h.id,\"class\":m+\"ItemSeparator\"});c.add(l,\"td\",{\"class\":m+\"ItemSeparator\"});if(i=l.previousSibling){c.addClass(i,\"mceLast\")}return}i=l=c.add(j,\"tr\",{id:h.id,\"class\":m+\"Item \"+m+\"ItemEnabled\"});i=k=c.add(i,q.titleItem?\"th\":\"td\");i=p=c.add(i,\"a\",{id:h.id+\"_aria\",role:q.titleItem?\"presentation\":\"option\",href:\"javascript:;\",onclick:\"return false;\",onmousedown:\"return false;\"});if(q.parent){c.setAttrib(p,\"aria-haspopup\",\"true\");c.setAttrib(p,\"aria-owns\",\"menu_\"+h.id)}c.addClass(k,q[\"class\"]);g=c.add(i,\"span\",{\"class\":\"mceIcon\"+(q.icon?\" mce_\"+q.icon:\"\")});if(q.icon_src){c.add(g,\"img\",{src:q.icon_src})}i=c.add(i,q.element||\"span\",{\"class\":\"mceText\",title:h.settings.title},h.settings.title);if(h.settings.style){c.setAttrib(i,\"style\",h.settings.style)}if(j.childNodes.length==1){c.addClass(l,\"mceFirst\")}if((i=l.previousSibling)&&c.hasClass(i,m+\"ItemSeparator\")){c.addClass(l,\"mceFirst\")}if(h.collapse){c.addClass(l,m+\"ItemSub\")}if(i=l.previousSibling){c.removeClass(i,\"mceLast\")}c.addClass(l,\"mceLast\")}})})(tinymce);(function(b){var a=b.DOM;b.create(\"tinymce.ui.Button:tinymce.ui.Control\",{Button:function(e,d,c){this.parent(e,d,c);this.classPrefix=\"mceButton\"},renderHTML:function(){var f=this.classPrefix,e=this.settings,d,c;c=a.encode(e.label||\"\");d='<a role=\"button\" id=\"'+this.id+'\" href=\"javascript:;\" class=\"'+f+\" \"+f+\"Enabled \"+e[\"class\"]+(c?\" \"+f+\"Labeled\":\"\")+'\" onmousedown=\"return false;\" onclick=\"return false;\" aria-labelledby=\"'+this.id+'_voice\" title=\"'+a.encode(e.title)+'\">';if(e.image&&!(this.editor&&this.editor.forcedHighContrastMode)){d+='<img class=\"mceIcon\" src=\"'+e.image+'\" alt=\"'+a.encode(e.title)+'\" />'+c}else{d+='<span class=\"mceIcon '+e[\"class\"]+'\"></span>'+(c?'<span class=\"'+f+'Label\">'+c+\"</span>\":\"\")}d+='<span class=\"mceVoiceLabel mceIconOnly\" style=\"display: none;\" id=\"'+this.id+'_voice\">'+e.title+\"</span>\";d+=\"</a>\";return d},postRender:function(){var c=this,d=c.settings;b.dom.Event.add(c.id,\"click\",function(f){if(!c.isDisabled()){return d.onclick.call(d.scope,f)}})}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create(\"tinymce.ui.ListBox:tinymce.ui.Control\",{ListBox:function(i,h,f){var g=this;g.parent(i,h,f);g.items=[];g.onChange=new a(g);g.onPostRender=new a(g);g.onAdd=new a(g);g.onRenderMenu=new d.util.Dispatcher(this);g.classPrefix=\"mceListBox\"},select:function(h){var g=this,j,i;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){i=h}else{i=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(k,f){if(i(k.value)){j=1;g.selectByIndex(f);return false}});if(!j){g.selectByIndex(-1)}}},selectByIndex:function(f){var h=this,i,j,g;if(f!=h.selectedIndex){i=c.get(h.id+\"_text\");g=c.get(h.id+\"_voiceDesc\");j=h.items[f];if(j){h.selectedValue=j.value;h.selectedIndex=f;c.setHTML(i,c.encode(j.title));c.setHTML(g,h.settings.title+\" - \"+j.title);c.removeClass(i,\"mceTitle\");c.setAttrib(h.id,\"aria-valuenow\",j.title)}else{c.setHTML(i,c.encode(h.settings.title));c.setHTML(g,c.encode(h.settings.title));c.addClass(i,\"mceTitle\");h.selectedValue=h.selectedIndex=null;c.setAttrib(h.id,\"aria-valuenow\",h.settings.title)}i=0}},add:function(i,f,h){var g=this;h=h||{};h=d.extend(h,{title:i,value:f});g.items.push(h);g.onAdd.dispatch(g,h)},getLength:function(){return this.items.length},renderHTML:function(){var i=\"\",f=this,g=f.settings,j=f.classPrefix;i='<span role=\"listbox\" aria-haspopup=\"true\" aria-labelledby=\"'+f.id+'_voiceDesc\" aria-describedby=\"'+f.id+'_voiceDesc\"><table role=\"presentation\" tabindex=\"0\" id=\"'+f.id+'\" cellpadding=\"0\" cellspacing=\"0\" class=\"'+j+\" \"+j+\"Enabled\"+(g[\"class\"]?(\" \"+g[\"class\"]):\"\")+'\"><tbody><tr>';i+=\"<td>\"+c.createHTML(\"span\",{id:f.id+\"_voiceDesc\",\"class\":\"voiceLabel\",style:\"display:none;\"},f.settings.title);i+=c.createHTML(\"a\",{id:f.id+\"_text\",tabindex:-1,href:\"javascript:;\",\"class\":\"mceText\",onclick:\"return false;\",onmousedown:\"return false;\"},c.encode(f.settings.title))+\"</td>\";i+=\"<td>\"+c.createHTML(\"a\",{id:f.id+\"_open\",tabindex:-1,href:\"javascript:;\",\"class\":\"mceOpen\",onclick:\"return false;\",onmousedown:\"return false;\"},'<span><span style=\"display:none;\" class=\"mceIconOnly\" aria-hidden=\"true\">\\u25BC</span></span>')+\"</td>\";i+=\"</tr></tbody></table></span>\";return i},showMenu:function(){var g=this,i,h=c.get(this.id),f;if(g.isDisabled()||g.items.length==0){return}if(g.menu&&g.menu.isMenuVisible){return g.hideMenu()}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}i=c.getPos(h);f=g.menu;f.settings.offset_x=i.x;f.settings.offset_y=i.y;f.settings.keyboard_focus=!d.isOpera;if(g.oldID){f.items[g.oldID].setSelected(0)}e(g.items,function(j){if(j.value===g.selectedValue){f.items[j.id].setSelected(1);g.oldID=j.id}});f.showMenu(0,h.clientHeight);b.add(c.doc,\"mousedown\",g.hideMenu,g);c.addClass(g.id,g.classPrefix+\"Selected\")},hideMenu:function(g){var f=this;if(f.menu&&f.menu.isMenuVisible){c.removeClass(f.id,f.classPrefix+\"Selected\");if(g&&g.type==\"mousedown\"&&(g.target.id==f.id+\"_text\"||g.target.id==f.id+\"_open\")){return}if(!g||!c.getParent(g.target,\".mceMenu\")){c.removeClass(f.id,f.classPrefix+\"Selected\");b.remove(c.doc,\"mousedown\",f.hideMenu,f);f.menu.hideMenu()}}},renderMenu:function(){var g=this,f;f=g.settings.control_manager.createDropMenu(g.id+\"_menu\",{menu_line:1,\"class\":g.classPrefix+\"Menu mceNoIcons\",max_width:150,max_height:150});f.onHideMenu.add(function(){g.hideMenu();g.focus()});f.add({title:g.settings.title,\"class\":\"mceMenuItemTitle\",onclick:function(){if(g.settings.onselect(\"\")!==false){g.select(\"\")}}});e(g.items,function(h){if(h.value===undefined){f.add({title:h.title,role:\"option\",\"class\":\"mceMenuItemTitle\",onclick:function(){if(g.settings.onselect(\"\")!==false){g.select(\"\")}}})}else{h.id=c.uniqueId();h.role=\"option\";h.onclick=function(){if(g.settings.onselect(h.value)!==false){g.select(h.value)}};f.add(h)}});g.onRenderMenu.dispatch(g,f);g.menu=f},postRender:function(){var f=this,g=f.classPrefix;b.add(f.id,\"click\",f.showMenu,f);b.add(f.id,\"keydown\",function(h){if(h.keyCode==32){f.showMenu(h);b.cancel(h)}});b.add(f.id,\"focus\",function(){if(!f._focused){f.keyDownHandler=b.add(f.id,\"keydown\",function(h){if(h.keyCode==40){f.showMenu();b.cancel(h)}});f.keyPressHandler=b.add(f.id,\"keypress\",function(i){var h;if(i.keyCode==13){h=f.selectedValue;f.selectedValue=null;b.cancel(i);f.settings.onselect(h)}})}f._focused=1});b.add(f.id,\"blur\",function(){b.remove(f.id,\"keydown\",f.keyDownHandler);b.remove(f.id,\"keypress\",f.keyPressHandler);f._focused=0});if(d.isIE6||!c.boxModel){b.add(f.id,\"mouseover\",function(){if(!c.hasClass(f.id,g+\"Disabled\")){c.addClass(f.id,g+\"Hover\")}});b.add(f.id,\"mouseout\",function(){if(!c.hasClass(f.id,g+\"Disabled\")){c.removeClass(f.id,g+\"Hover\")}})}f.onPostRender.dispatch(f,c.get(f.id))},destroy:function(){this.parent();b.clear(this.id+\"_text\");b.clear(this.id+\"_open\")}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create(\"tinymce.ui.NativeListBox:tinymce.ui.ListBox\",{NativeListBox:function(g,f){this.parent(g,f);this.classPrefix=\"mceNativeListBox\"},setDisabled:function(f){c.get(this.id).disabled=f;this.setAriaProperty(\"disabled\",f)},isDisabled:function(){return c.get(this.id).disabled},select:function(h){var g=this,j,i;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){i=h}else{i=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(k,f){if(i(k.value)){j=1;g.selectByIndex(f);return false}});if(!j){g.selectByIndex(-1)}}},selectByIndex:function(f){c.get(this.id).selectedIndex=f+1;this.selectedValue=this.items[f]?this.items[f].value:null},add:function(j,g,f){var i,h=this;f=f||{};f.value=g;if(h.isRendered()){c.add(c.get(this.id),\"option\",f,j)}i={title:j,value:g,attribs:f};h.items.push(i);h.onAdd.dispatch(h,i)},getLength:function(){return this.items.length},renderHTML:function(){var g,f=this;g=c.createHTML(\"option\",{value:\"\"},\"-- \"+f.settings.title+\" --\");e(f.items,function(h){g+=c.createHTML(\"option\",{value:h.value},h.title)});g=c.createHTML(\"select\",{id:f.id,\"class\":\"mceNativeListBox\",\"aria-labelledby\":f.id+\"_aria\"},g);g+=c.createHTML(\"span\",{id:f.id+\"_aria\",style:\"display: none\"},f.settings.title);return g},postRender:function(){var g=this,h,i=true;g.rendered=true;function f(k){var j=g.items[k.target.selectedIndex-1];if(j&&(j=j.value)){g.onChange.dispatch(g,j);if(g.settings.onselect){g.settings.onselect(j)}}}b.add(g.id,\"change\",f);b.add(g.id,\"keydown\",function(k){var j;b.remove(g.id,\"change\",h);i=false;j=b.add(g.id,\"blur\",function(){if(i){return}i=true;b.add(g.id,\"change\",f);b.remove(g.id,\"blur\",j)});if(d.isWebKit&&(k.keyCode==37||k.keyCode==39)){return b.prevent(k)}if(k.keyCode==13||k.keyCode==32){f(k);return b.cancel(k)}});g.onPostRender.dispatch(g,c.get(g.id))}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create(\"tinymce.ui.MenuButton:tinymce.ui.Button\",{MenuButton:function(g,f,e){this.parent(g,f,e);this.onRenderMenu=new c.util.Dispatcher(this);f.menu_container=f.menu_container||b.doc.body},showMenu:function(){var g=this,j,i,h=b.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}j=b.getPos(g.settings.menu_container);i=b.getPos(h);f=g.menu;f.settings.offset_x=i.x;f.settings.offset_y=i.y;f.settings.vp_offset_x=i.x;f.settings.vp_offset_y=i.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,h.clientHeight);a.add(b.doc,\"mousedown\",g.hideMenu,g);g.setState(\"Selected\",1);g.isMenuVisible=1},renderMenu:function(){var f=this,e;e=f.settings.control_manager.createDropMenu(f.id+\"_menu\",{menu_line:1,\"class\":this.classPrefix+\"Menu\",icons:f.settings.icons});e.onHideMenu.add(function(){f.hideMenu();f.focus()});f.onRenderMenu.dispatch(f,e);f.menu=e},hideMenu:function(g){var f=this;if(g&&g.type==\"mousedown\"&&b.getParent(g.target,function(h){return h.id===f.id||h.id===f.id+\"_open\"})){return}if(!g||!b.getParent(g.target,\".mceMenu\")){f.setState(\"Selected\",0);a.remove(b.doc,\"mousedown\",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var e=this,f=e.settings;a.add(e.id,\"click\",function(){if(!e.isDisabled()){if(f.onclick){f.onclick(e.value)}e.showMenu()}})}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create(\"tinymce.ui.SplitButton:tinymce.ui.MenuButton\",{SplitButton:function(g,f,e){this.parent(g,f,e);this.classPrefix=\"mceSplitButton\"},renderHTML:function(){var i,f=this,g=f.settings,e;i=\"<tbody><tr>\";if(g.image){e=b.createHTML(\"img \",{src:g.image,role:\"presentation\",\"class\":\"mceAction \"+g[\"class\"]})}else{e=b.createHTML(\"span\",{\"class\":\"mceAction \"+g[\"class\"]},\"\")}e+=b.createHTML(\"span\",{\"class\":\"mceVoiceLabel mceIconOnly\",id:f.id+\"_voice\",style:\"display:none;\"},g.title);i+=\"<td >\"+b.createHTML(\"a\",{role:\"button\",id:f.id+\"_action\",tabindex:\"-1\",href:\"javascript:;\",\"class\":\"mceAction \"+g[\"class\"],onclick:\"return false;\",onmousedown:\"return false;\",title:g.title},e)+\"</td>\";e=b.createHTML(\"span\",{\"class\":\"mceOpen \"+g[\"class\"]},'<span style=\"display:none;\" class=\"mceIconOnly\" aria-hidden=\"true\">\\u25BC</span>');i+=\"<td >\"+b.createHTML(\"a\",{role:\"button\",id:f.id+\"_open\",tabindex:\"-1\",href:\"javascript:;\",\"class\":\"mceOpen \"+g[\"class\"],onclick:\"return false;\",onmousedown:\"return false;\",title:g.title},e)+\"</td>\";i+=\"</tr></tbody>\";i=b.createHTML(\"table\",{role:\"presentation\",\"class\":\"mceSplitButton mceSplitButtonEnabled \"+g[\"class\"],cellpadding:\"0\",cellspacing:\"0\",title:g.title},i);return b.createHTML(\"div\",{id:f.id,role:\"button\",tabindex:\"0\",\"aria-labelledby\":f.id+\"_voice\",\"aria-haspopup\":\"true\"},i)},postRender:function(){var e=this,g=e.settings,f;if(g.onclick){f=function(h){if(!e.isDisabled()){g.onclick(e.value);a.cancel(h)}};a.add(e.id+\"_action\",\"click\",f);a.add(e.id,[\"click\",\"keydown\"],function(h){var k=32,m=14,i=13,j=38,l=40;if((h.keyCode===32||h.keyCode===13||h.keyCode===14)&&!h.altKey&&!h.ctrlKey&&!h.metaKey){f();a.cancel(h)}else{if(h.type===\"click\"||h.keyCode===l){e.showMenu();a.cancel(h)}}})}a.add(e.id+\"_open\",\"click\",function(h){e.showMenu();a.cancel(h)});a.add([e.id,e.id+\"_open\"],\"focus\",function(){e._focused=1});a.add([e.id,e.id+\"_open\"],\"blur\",function(){e._focused=0});if(c.isIE6||!b.boxModel){a.add(e.id,\"mouseover\",function(){if(!b.hasClass(e.id,\"mceSplitButtonDisabled\")){b.addClass(e.id,\"mceSplitButtonHover\")}});a.add(e.id,\"mouseout\",function(){if(!b.hasClass(e.id,\"mceSplitButtonDisabled\")){b.removeClass(e.id,\"mceSplitButtonHover\")}})}},destroy:function(){this.parent();a.clear(this.id+\"_action\");a.clear(this.id+\"_open\");a.clear(this.id)}})})(tinymce);(function(d){var c=d.DOM,a=d.dom.Event,b=d.is,e=d.each;d.create(\"tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton\",{ColorSplitButton:function(i,h,f){var g=this;g.parent(i,h,f);g.settings=h=d.extend({colors:\"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF\",grid_width:8,default_color:\"#888888\"},g.settings);g.onShowMenu=new d.util.Dispatcher(g);g.onHideMenu=new d.util.Dispatcher(g);g.value=h.default_color},showMenu:function(){var f=this,g,j,i,h;if(f.isDisabled()){return}if(!f.isMenuRendered){f.renderMenu();f.isMenuRendered=true}if(f.isMenuVisible){return f.hideMenu()}i=c.get(f.id);c.show(f.id+\"_menu\");c.addClass(i,\"mceSplitButtonSelected\");h=c.getPos(i);c.setStyles(f.id+\"_menu\",{left:h.x,top:h.y+i.clientHeight,zIndex:200000});i=0;a.add(c.doc,\"mousedown\",f.hideMenu,f);f.onShowMenu.dispatch(f);if(f._focused){f._keyHandler=a.add(f.id+\"_menu\",\"keydown\",function(k){if(k.keyCode==27){f.hideMenu()}});c.select(\"a\",f.id+\"_menu\")[0].focus()}f.isMenuVisible=1},hideMenu:function(g){var f=this;if(f.isMenuVisible){if(g&&g.type==\"mousedown\"&&c.getParent(g.target,function(h){return h.id===f.id+\"_open\"})){return}if(!g||!c.getParent(g.target,\".mceSplitButtonMenu\")){c.removeClass(f.id,\"mceSplitButtonSelected\");a.remove(c.doc,\"mousedown\",f.hideMenu,f);a.remove(f.id+\"_menu\",\"keydown\",f._keyHandler);c.hide(f.id+\"_menu\")}f.isMenuVisible=0;f.onHideMenu.dispatch()}},renderMenu:function(){var p=this,h,k=0,q=p.settings,g,j,l,o,f;o=c.add(q.menu_container,\"div\",{role:\"listbox\",id:p.id+\"_menu\",\"class\":q.menu_class+\" \"+q[\"class\"],style:\"position:absolute;left:0;top:-1000px;\"});h=c.add(o,\"div\",{\"class\":q[\"class\"]+\" mceSplitButtonMenu\"});c.add(h,\"span\",{\"class\":\"mceMenuLine\"});g=c.add(h,\"table\",{role:\"presentation\",\"class\":\"mceColorSplitMenu\"});j=c.add(g,\"tbody\");k=0;e(b(q.colors,\"array\")?q.colors:q.colors.split(\",\"),function(i){i=i.replace(/^#/,\"\");if(!k--){l=c.add(j,\"tr\");k=q.grid_width-1}g=c.add(l,\"td\");g=c.add(g,\"a\",{role:\"option\",href:\"javascript:;\",style:{backgroundColor:\"#\"+i},title:p.editor.getLang(\"colors.\"+i,i),\"data-mce-color\":\"#\"+i});if(p.editor.forcedHighContrastMode){g=c.add(g,\"canvas\",{width:16,height:16,\"aria-hidden\":\"true\"});if(g.getContext&&(f=g.getContext(\"2d\"))){f.fillStyle=\"#\"+i;f.fillRect(0,0,16,16)}else{c.remove(g)}}});if(q.more_colors_func){g=c.add(j,\"tr\");g=c.add(g,\"td\",{colspan:q.grid_width,\"class\":\"mceMoreColors\"});g=c.add(g,\"a\",{role:\"option\",id:p.id+\"_more\",href:\"javascript:;\",onclick:\"return false;\",\"class\":\"mceMoreColors\"},q.more_colors_title);a.add(g,\"click\",function(i){q.more_colors_func.call(q.more_colors_scope||this);return a.cancel(i)})}c.addClass(h,\"mceColorSplitMenu\");new d.ui.KeyboardNavigation({root:p.id+\"_menu\",items:c.select(\"a\",p.id+\"_menu\"),onCancel:function(){p.hideMenu();p.focus()}});a.add(p.id+\"_menu\",\"mousedown\",function(i){return a.cancel(i)});a.add(p.id+\"_menu\",\"click\",function(i){var m;i=c.getParent(i.target,\"a\",j);if(i&&i.nodeName.toLowerCase()==\"a\"&&(m=i.getAttribute(\"data-mce-color\"))){p.setColor(m)}return a.cancel(i)});return o},setColor:function(f){this.displayColor(f);this.hideMenu();this.settings.onselect(f)},displayColor:function(g){var f=this;c.setStyle(f.id+\"_preview\",\"backgroundColor\",g);f.value=g},postRender:function(){var f=this,g=f.id;f.parent();c.add(g+\"_action\",\"div\",{id:g+\"_preview\",\"class\":\"mceColorPreview\"});c.setStyle(f.id+\"_preview\",\"backgroundColor\",f.value)},destroy:function(){this.parent();a.clear(this.id+\"_menu\");a.clear(this.id+\"_more\");c.remove(this.id+\"_menu\")}})})(tinymce);(function(b){var d=b.DOM,c=b.each,a=b.dom.Event;b.create(\"tinymce.ui.ToolbarGroup:tinymce.ui.Container\",{renderHTML:function(){var f=this,i=[],e=f.controls,j=b.each,g=f.settings;i.push('<div id=\"'+f.id+'\" role=\"group\" aria-labelledby=\"'+f.id+'_voice\">');i.push(\"<span role='application'>\");i.push('<span id=\"'+f.id+'_voice\" class=\"mceVoiceLabel\" style=\"display:none;\">'+d.encode(g.name)+\"</span>\");j(e,function(h){i.push(h.renderHTML())});i.push(\"</span>\");i.push(\"</div>\");return i.join(\"\")},focus:function(){var e=this;d.get(e.id).focus()},postRender:function(){var f=this,e=[];c(f.controls,function(g){c(g.controls,function(h){if(h.id){e.push(h)}})});f.keyNav=new b.ui.KeyboardNavigation({root:f.id,items:e,onCancel:function(){if(b.isWebKit){d.get(f.editor.id+\"_ifr\").focus()}f.editor.focus()},excludeFromTabOrder:!f.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent();e.keyNav.destroy();a.clear(e.id)}})})(tinymce);(function(a){var c=a.DOM,b=a.each;a.create(\"tinymce.ui.Toolbar:tinymce.ui.Container\",{renderHTML:function(){var m=this,f=\"\",j,k,n=m.settings,e,d,g,l;l=m.controls;for(e=0;e<l.length;e++){k=l[e];d=l[e-1];g=l[e+1];if(e===0){j=\"mceToolbarStart\";if(k.Button){j+=\" mceToolbarStartButton\"}else{if(k.SplitButton){j+=\" mceToolbarStartSplitButton\"}else{if(k.ListBox){j+=\" mceToolbarStartListBox\"}}}f+=c.createHTML(\"td\",{\"class\":j},c.createHTML(\"span\",null,\"<!-- IE -->\"))}if(d&&k.ListBox){if(d.Button||d.SplitButton){f+=c.createHTML(\"td\",{\"class\":\"mceToolbarEnd\"},c.createHTML(\"span\",null,\"<!-- IE -->\"))}}if(c.stdMode){f+='<td style=\"position: relative\">'+k.renderHTML()+\"</td>\"}else{f+=\"<td>\"+k.renderHTML()+\"</td>\"}if(g&&k.ListBox){if(g.Button||g.SplitButton){f+=c.createHTML(\"td\",{\"class\":\"mceToolbarStart\"},c.createHTML(\"span\",null,\"<!-- IE -->\"))}}}j=\"mceToolbarEnd\";if(k.Button){j+=\" mceToolbarEndButton\"}else{if(k.SplitButton){j+=\" mceToolbarEndSplitButton\"}else{if(k.ListBox){j+=\" mceToolbarEndListBox\"}}}f+=c.createHTML(\"td\",{\"class\":j},c.createHTML(\"span\",null,\"<!-- IE -->\"));return c.createHTML(\"table\",{id:m.id,\"class\":\"mceToolbar\"+(n[\"class\"]?\" \"+n[\"class\"]:\"\"),cellpadding:\"0\",cellspacing:\"0\",align:m.settings.align||\"\",role:\"presentation\",tabindex:\"-1\"},\"<tbody><tr>\"+f+\"</tr></tbody>\")}})})(tinymce);(function(b){var a=b.util.Dispatcher,c=b.each;b.create(\"tinymce.AddOnManager\",{AddOnManager:function(){var d=this;d.items=[];d.urls={};d.lookup={};d.onAdd=new a(d)},get:function(d){if(this.lookup[d]){return this.lookup[d].instance}else{return undefined}},dependencies:function(e){var d;if(this.lookup[e]){d=this.lookup[e].dependencies}return d||[]},requireLangPack:function(e){var d=b.settings;if(d&&d.language&&d.language_load!==false){b.ScriptLoader.add(this.urls[e]+\"/langs/\"+d.language+\".js\")}},add:function(f,e,d){this.items.push(e);this.lookup[f]={instance:e,dependencies:d};this.onAdd.dispatch(this,f,e);return e},createUrl:function(d,e){if(typeof e===\"object\"){return e}else{return{prefix:d.prefix,resource:e,suffix:d.suffix}}},addComponents:function(f,d){var e=this.urls[f];b.each(d,function(g){b.ScriptLoader.add(e+\"/\"+g)})},load:function(j,f,d,h){var g=this,e=f;function i(){var k=g.dependencies(j);b.each(k,function(m){var l=g.createUrl(f,m);g.load(l.resource,l,undefined,undefined)});if(d){if(h){d.call(h)}else{d.call(b.ScriptLoader)}}}if(g.urls[j]){return}if(typeof f===\"object\"){e=f.prefix+f.resource+f.suffix}if(e.indexOf(\"/\")!=0&&e.indexOf(\"://\")==-1){e=b.baseURL+\"/\"+e}g.urls[j]=e.substring(0,e.lastIndexOf(\"/\"));if(g.lookup[j]){i()}else{b.ScriptLoader.add(e,i,h)}}});b.PluginManager=new b.AddOnManager();b.ThemeManager=new b.AddOnManager()}(tinymce));(function(j){var g=j.each,d=j.extend,k=j.DOM,i=j.dom.Event,f=j.ThemeManager,b=j.PluginManager,e=j.explode,h=j.util.Dispatcher,a,c=0;j.documentBaseURL=window.location.href.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\");if(!/[\\/\\\\]$/.test(j.documentBaseURL)){j.documentBaseURL+=\"/\"}j.baseURL=new j.util.URI(j.documentBaseURL).toAbsolute(j.baseURL);j.baseURI=new j.util.URI(j.baseURL);j.onBeforeUnload=new h(j);i.add(window,\"beforeunload\",function(l){j.onBeforeUnload.dispatch(j,l)});j.onAddEditor=new h(j);j.onRemoveEditor=new h(j);j.EditorManager=d(j,{editors:[],i18n:{},activeEditor:null,init:function(q){var n=this,p,l=j.ScriptLoader,u,o=[],m;function r(x,y,t){var v=x[y];if(!v){return}if(j.is(v,\"string\")){t=v.replace(/\\.\\w+$/,\"\");t=t?j.resolve(t):0;v=j.resolve(v)}return v.apply(t||this,Array.prototype.slice.call(arguments,2))}q=d({theme:\"simple\",language:\"en\"},q);n.settings=q;i.add(document,\"init\",function(){var s,v;r(q,\"onpageload\");switch(q.mode){case\"exact\":s=q.elements||\"\";if(s.length>0){g(e(s),function(x){if(k.get(x)){m=new j.Editor(x,q);o.push(m);m.render(1)}else{g(document.forms,function(y){g(y.elements,function(z){if(z.name===x){x=\"mce_editor_\"+c++;k.setAttrib(z,\"id\",x);m=new j.Editor(x,q);o.push(m);m.render(1)}})})}})}break;case\"textareas\":case\"specific_textareas\":function t(y,x){return x.constructor===RegExp?x.test(y.className):k.hasClass(y,x)}g(k.select(\"textarea\"),function(x){if(q.editor_deselector&&t(x,q.editor_deselector)){return}if(!q.editor_selector||t(x,q.editor_selector)){u=k.get(x.name);if(!x.id&&!u){x.id=x.name}if(!x.id||n.get(x.id)){x.id=k.uniqueId()}m=new j.Editor(x.id,q);o.push(m);m.render(1)}});break}if(q.oninit){s=v=0;g(o,function(x){v++;if(!x.initialized){x.onInit.add(function(){s++;if(s==v){r(q,\"oninit\")}})}else{s++}if(s==v){r(q,\"oninit\")}})}})},get:function(l){if(l===a){return this.editors}return this.editors[l]},getInstanceById:function(l){return this.get(l)},add:function(m){var l=this,n=l.editors;n[m.id]=m;n.push(m);l._setActive(m);l.onAddEditor.dispatch(l,m);return m},remove:function(n){var m=this,l,o=m.editors;if(!o[n.id]){return null}delete o[n.id];for(l=0;l<o.length;l++){if(o[l]==n){o.splice(l,1);break}}if(m.activeEditor==n){m._setActive(o[0])}n.destroy();m.onRemoveEditor.dispatch(m,n);return n},execCommand:function(r,p,o){var q=this,n=q.get(o),l;switch(r){case\"mceFocus\":n.focus();return true;case\"mceAddEditor\":case\"mceAddControl\":if(!q.get(o)){new j.Editor(o,q.settings).render()}return true;case\"mceAddFrameControl\":l=o.window;l.tinyMCE=tinyMCE;l.tinymce=j;j.DOM.doc=l.document;j.DOM.win=l;n=new j.Editor(o.element_id,o);n.render();if(j.isIE){function m(){n.destroy();l.detachEvent(\"onunload\",m);l=l.tinyMCE=l.tinymce=null}l.attachEvent(\"onunload\",m)}o.page_window=null;return true;case\"mceRemoveEditor\":case\"mceRemoveControl\":if(n){n.remove()}return true;case\"mceToggleEditor\":if(!n){q.execCommand(\"mceAddControl\",0,o);return true}if(n.isHidden()){n.show()}else{n.hide()}return true}if(q.activeEditor){return q.activeEditor.execCommand(r,p,o)}return false},execInstanceCommand:function(p,o,n,m){var l=this.get(p);if(l){return l.execCommand(o,n,m)}return false},triggerSave:function(){g(this.editors,function(l){l.save()})},addI18n:function(n,q){var l,m=this.i18n;if(!j.is(n,\"string\")){g(n,function(r,p){g(r,function(t,s){g(t,function(v,u){if(s===\"common\"){m[p+\".\"+u]=v}else{m[p+\".\"+s+\".\"+u]=v}})})})}else{g(q,function(r,p){m[n+\".\"+p]=r})}},_setActive:function(l){this.selectedInstance=this.activeEditor=l}})})(tinymce);(function(m){var n=m.DOM,j=m.dom.Event,f=m.extend,k=m.util.Dispatcher,i=m.each,a=m.isGecko,b=m.isIE,e=m.isWebKit,d=m.is,h=m.ThemeManager,c=m.PluginManager,o=m.inArray,l=m.grep,g=m.explode;m.create(\"tinymce.Editor\",{Editor:function(r,q){var p=this;p.id=p.editorId=r;p.execCommands={};p.queryStateCommands={};p.queryValueCommands={};p.isNotDirty=false;p.plugins={};i([\"onPreInit\",\"onBeforeRenderUI\",\"onPostRender\",\"onInit\",\"onRemove\",\"onActivate\",\"onDeactivate\",\"onClick\",\"onEvent\",\"onMouseUp\",\"onMouseDown\",\"onDblClick\",\"onKeyDown\",\"onKeyUp\",\"onKeyPress\",\"onContextMenu\",\"onSubmit\",\"onReset\",\"onPaste\",\"onPreProcess\",\"onPostProcess\",\"onBeforeSetContent\",\"onBeforeGetContent\",\"onSetContent\",\"onGetContent\",\"onLoadContent\",\"onSaveContent\",\"onNodeChange\",\"onChange\",\"onBeforeExecCommand\",\"onExecCommand\",\"onUndo\",\"onRedo\",\"onVisualAid\",\"onSetProgressState\"],function(s){p[s]=new k(p)});p.settings=q=f({id:r,language:\"en\",docs_language:\"en\",theme:\"simple\",skin:\"default\",delta_width:0,delta_height:0,popup_css:\"\",plugins:\"\",document_base_url:m.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:m.isIE6?'<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">':\"<!DOCTYPE>\",visual_table_class:\"mceItemTable\",visual:1,font_size_style_values:\"xx-small,x-small,small,medium,large,x-large,xx-large\",apply_source_formatting:1,directionality:\"ltr\",forced_root_block:\"p\",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:\"30px\",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:true,indent:\"simple\",indent_before:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr\",indent_after:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr\",validate:true,entity_encoding:\"named\",url_converter:p.convertURL,url_converter_scope:p,ie7_compat:true},q);p.documentBaseURI=new m.util.URI(q.document_base_url||m.documentBaseURL,{base_uri:tinyMCE.baseURI});p.baseURI=m.baseURI;p.contentCSS=[];p.execCallback(\"setup\",p)},render:function(r){var u=this,v=u.settings,x=u.id,p=m.ScriptLoader;if(!j.domLoaded){j.add(document,\"init\",function(){u.render()});return}tinyMCE.settings=v;if(!u.getElement()){return}if(m.isIDevice&&!m.isIOS5){return}if(!/TEXTAREA|INPUT/i.test(u.getElement().nodeName)&&v.hidden_input&&n.getParent(x,\"form\")){n.insertAfter(n.create(\"input\",{type:\"hidden\",name:x}),x)}if(m.WindowManager){u.windowManager=new m.WindowManager(u)}if(v.encoding==\"xml\"){u.onGetContent.add(function(s,t){if(t.save){t.content=n.encode(t.content)}})}if(v.add_form_submit_trigger){u.onSubmit.addToTop(function(){if(u.initialized){u.save();u.isNotDirty=1}})}if(v.add_unload_trigger){u._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(u.initialized&&!u.destroyed&&!u.isHidden()){u.save({format:\"raw\",no_events:true})}})}m.addUnload(u.destroy,u);if(v.submit_patch){u.onBeforeRenderUI.add(function(){var s=u.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){u.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){m.triggerSave();u.isNotDirty=1;return u.formElement._mceOldSubmit(u.formElement)}}s=null})}function q(){if(v.language&&v.language_load!==false){p.add(m.baseURL+\"/langs/\"+v.language+\".js\")}if(v.theme&&v.theme.charAt(0)!=\"-\"&&!h.urls[v.theme]){h.load(v.theme,\"themes/\"+v.theme+\"/editor_template\"+m.suffix+\".js\")}i(g(v.plugins),function(t){if(t&&!c.urls[t]){if(t.charAt(0)==\"-\"){t=t.substr(1,t.length);var s=c.dependencies(t);i(s,function(z){var y={prefix:\"plugins/\",resource:z,suffix:\"/editor_plugin\"+m.suffix+\".js\"};var z=c.createUrl(y,z);c.load(z.resource,z)})}else{if(t==\"safari\"){return}c.load(t,{prefix:\"plugins/\",resource:t,suffix:\"/editor_plugin\"+m.suffix+\".js\"})}}});p.loadQueue(function(){if(!u.removed){u.init()}})}q()},init:function(){var r,H=this,I=H.settings,E,A,D=H.getElement(),q,p,F,y,C,G,z,v=[];m.add(H);I.aria_label=I.aria_label||n.getAttrib(D,\"aria-label\",H.getLang(\"aria.rich_text_area\"));if(I.theme){I.theme=I.theme.replace(/-/,\"\");q=h.get(I.theme);H.theme=new q();if(H.theme.init&&I.init_theme){H.theme.init(H,h.urls[I.theme]||m.documentBaseURL.replace(/\\/$/,\"\"))}}function B(J){var K=c.get(J),t=c.urls[J]||m.documentBaseURL.replace(/\\/$/,\"\"),s;if(K&&m.inArray(v,J)===-1){i(c.dependencies(J),function(u){B(u)});s=new K(H,t);H.plugins[J]=s;if(s.init){s.init(H,t);v.push(J)}}}i(g(I.plugins.replace(/\\-/g,\"\")),B);if(I.popup_css!==false){if(I.popup_css){I.popup_css=H.documentBaseURI.toAbsolute(I.popup_css)}else{I.popup_css=H.baseURI.toAbsolute(\"themes/\"+I.theme+\"/skins/\"+I.skin+\"/dialog.css\")}}if(I.popup_css_add){I.popup_css+=\",\"+H.documentBaseURI.toAbsolute(I.popup_css_add)}H.controlManager=new m.ControlManager(H);if(I.custom_undo_redo){H.onBeforeExecCommand.add(function(t,J,u,K,s){if(J!=\"Undo\"&&J!=\"Redo\"&&J!=\"mceRepaint\"&&(!s||!s.skip_undo)){H.undoManager.beforeChange()}});H.onExecCommand.add(function(t,J,u,K,s){if(J!=\"Undo\"&&J!=\"Redo\"&&J!=\"mceRepaint\"&&(!s||!s.skip_undo)){H.undoManager.add()}})}H.onExecCommand.add(function(s,t){if(!/^(FontName|FontSize)$/.test(t)){H.nodeChanged()}});if(a){function x(s,t){if(!t||!t.initial){H.execCommand(\"mceRepaint\")}}H.onUndo.add(x);H.onRedo.add(x);H.onSetContent.add(x)}H.onBeforeRenderUI.dispatch(H,H.controlManager);if(I.render_ui){E=I.width||D.style.width||D.offsetWidth;A=I.height||D.style.height||D.offsetHeight;H.orgDisplay=D.style.display;G=/^[0-9\\.]+(|px)$/i;if(G.test(\"\"+E)){E=Math.max(parseInt(E)+(q.deltaWidth||0),100)}if(G.test(\"\"+A)){A=Math.max(parseInt(A)+(q.deltaHeight||0),100)}q=H.theme.renderUI({targetNode:D,width:E,height:A,deltaWidth:I.delta_width,deltaHeight:I.delta_height});H.editorContainer=q.editorContainer}if(document.domain&&location.hostname!=document.domain){m.relaxedDomain=document.domain}n.setStyles(q.sizeContainer||q.editorContainer,{width:E,height:A});if(I.content_css){m.each(g(I.content_css),function(s){H.contentCSS.push(H.documentBaseURI.toAbsolute(s))})}A=(q.iframeHeight||A)+(typeof(A)==\"number\"?(q.deltaHeight||0):\"\");if(A<100){A=100}H.iframeHTML=I.doctype+'<html><head xmlns=\"http://www.w3.org/1999/xhtml\">';if(I.document_base_url!=m.documentBaseURL){H.iframeHTML+='<base href=\"'+H.documentBaseURI.getURI()+'\" />'}if(I.ie7_compat){H.iframeHTML+='<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />'}else{H.iframeHTML+='<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />'}H.iframeHTML+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';for(z=0;z<H.contentCSS.length;z++){H.iframeHTML+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+H.contentCSS[z]+'\" />'}y=I.body_id||\"tinymce\";if(y.indexOf(\"=\")!=-1){y=H.getParam(\"body_id\",\"\",\"hash\");y=y[H.id]||y}C=I.body_class||\"\";if(C.indexOf(\"=\")!=-1){C=H.getParam(\"body_class\",\"\",\"hash\");C=C[H.id]||\"\"}H.iframeHTML+='</head><body id=\"'+y+'\" class=\"mceContentBody '+C+'\"><br></body></html>';if(m.relaxedDomain&&(b||(m.isOpera&&parseFloat(opera.version())<11))){F='javascript:(function(){document.open();document.domain=\"'+document.domain+'\";var ed = window.parent.tinyMCE.get(\"'+H.id+'\");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'}r=n.add(q.iframeContainer,\"iframe\",{id:H.id+\"_ifr\",src:F||'javascript:\"\"',frameBorder:\"0\",allowTransparency:\"true\",title:I.aria_label,style:{width:\"100%\",height:A,display:\"block\"}});H.contentAreaContainer=q.iframeContainer;n.get(q.editorContainer).style.display=H.orgDisplay;n.get(H.id).style.display=\"none\";n.setAttrib(H.id,\"aria-hidden\",true);if(!m.relaxedDomain||!F){H.setupIframe()}D=r=q=null},setupIframe:function(){var q=this,v=q.settings,x=n.get(q.id),y=q.getDoc(),u,p;if(!b||!m.relaxedDomain){y.open();y.write(q.iframeHTML);y.close();if(m.relaxedDomain){y.domain=m.relaxedDomain}}p=q.getBody();p.disabled=true;if(!v.readonly){p.contentEditable=true}p.disabled=false;q.schema=new m.html.Schema(v);q.dom=new m.dom.DOMUtils(q.getDoc(),{keep_values:true,url_converter:q.convertURL,url_converter_scope:q,hex_colors:v.force_hex_style_colors,class_filter:v.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:q.schema});q.parser=new m.html.DomParser(v,q.schema);if(!q.settings.allow_html_in_named_anchor){q.parser.addAttributeFilter(\"name\",function(s,t){var A=s.length,C,z,B,D;while(A--){D=s[A];if(D.name===\"a\"&&D.firstChild){B=D.parent;C=D.lastChild;do{z=C.prev;B.insert(C,D);C=z}while(C)}}})}q.parser.addAttributeFilter(\"src,href,style\",function(s,t){var z=s.length,B,D=q.dom,C,A;while(z--){B=s[z];C=B.attr(t);A=\"data-mce-\"+t;if(!B.attributes.map[A]){if(t===\"style\"){B.attr(A,D.serializeStyle(D.parseStyle(C),B.name))}else{B.attr(A,q.convertURL(C,t,B.name))}}}});q.parser.addNodeFilter(\"script\",function(s,t){var z=s.length;while(z--){s[z].attr(\"type\",\"mce-text/javascript\")}});q.parser.addNodeFilter(\"#cdata\",function(s,t){var z=s.length,A;while(z--){A=s[z];A.type=8;A.name=\"#comment\";A.value=\"[CDATA[\"+A.value+\"]]\"}});q.parser.addNodeFilter(\"p,h1,h2,h3,h4,h5,h6,div\",function(t,z){var A=t.length,B,s=q.schema.getNonEmptyElements();while(A--){B=t[A];if(B.isEmpty(s)){B.empty().append(new m.html.Node(\"br\",1)).shortEnded=true}}});q.serializer=new m.dom.Serializer(v,q.dom,q.schema);q.selection=new m.dom.Selection(q.dom,q.getWin(),q.serializer);q.formatter=new m.Formatter(this);q.formatter.register({alignleft:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"left\"}},{selector:\"img,table\",collapsed:false,styles:{\"float\":\"left\"}}],aligncenter:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"center\"}},{selector:\"img\",collapsed:false,styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"}},{selector:\"table\",collapsed:false,styles:{marginLeft:\"auto\",marginRight:\"auto\"}}],alignright:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"right\"}},{selector:\"img,table\",collapsed:false,styles:{\"float\":\"right\"}}],alignfull:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"justify\"}}],bold:[{inline:\"strong\",remove:\"all\"},{inline:\"span\",styles:{fontWeight:\"bold\"}},{inline:\"b\",remove:\"all\"}],italic:[{inline:\"em\",remove:\"all\"},{inline:\"span\",styles:{fontStyle:\"italic\"}},{inline:\"i\",remove:\"all\"}],underline:[{inline:\"span\",styles:{textDecoration:\"underline\"},exact:true},{inline:\"u\",remove:\"all\"}],strikethrough:[{inline:\"span\",styles:{textDecoration:\"line-through\"},exact:true},{inline:\"strike\",remove:\"all\"}],forecolor:{inline:\"span\",styles:{color:\"%value\"},wrap_links:false},hilitecolor:{inline:\"span\",styles:{backgroundColor:\"%value\"},wrap_links:false},fontname:{inline:\"span\",styles:{fontFamily:\"%value\"}},fontsize:{inline:\"span\",styles:{fontSize:\"%value\"}},fontsize_class:{inline:\"span\",attributes:{\"class\":\"%value\"}},blockquote:{block:\"blockquote\",wrapper:1,remove:\"all\"},subscript:{inline:\"sub\"},superscript:{inline:\"sup\"},link:{inline:\"a\",selector:\"a\",remove:\"all\",split:true,deep:true,onmatch:function(s){return true},onformat:function(z,s,t){i(t,function(B,A){q.dom.setAttrib(z,A,B)})}},removeformat:[{selector:\"b,strong,em,i,font,u,strike\",remove:\"all\",split:true,expand:false,block_expand:true,deep:true},{selector:\"span\",attributes:[\"style\",\"class\"],remove:\"empty\",split:true,expand:false,deep:true},{selector:\"*\",attributes:[\"style\",\"class\"],split:false,expand:false,deep:true}]});i(\"p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp\".split(/\\s/),function(s){q.formatter.register(s,{block:s,remove:\"all\"})});q.formatter.register(q.settings.formats);q.undoManager=new m.UndoManager(q);q.undoManager.onAdd.add(function(t,s){if(t.hasUndo()){return q.onChange.dispatch(q,s,t)}});q.undoManager.onUndo.add(function(t,s){return q.onUndo.dispatch(q,s,t)});q.undoManager.onRedo.add(function(t,s){return q.onRedo.dispatch(q,s,t)});q.forceBlocks=new m.ForceBlocks(q,{forced_root_block:v.forced_root_block});q.editorCommands=new m.EditorCommands(q);q.serializer.onPreProcess.add(function(s,t){return q.onPreProcess.dispatch(q,t,s)});q.serializer.onPostProcess.add(function(s,t){return q.onPostProcess.dispatch(q,t,s)});q.onPreInit.dispatch(q);if(!v.gecko_spellcheck){q.getBody().spellcheck=0}if(!v.readonly){q._addEvents()}q.controlManager.onPostRender.dispatch(q,q.controlManager);q.onPostRender.dispatch(q);q.quirks=new m.util.Quirks(this);if(v.directionality){q.getBody().dir=v.directionality}if(v.nowrap){q.getBody().style.whiteSpace=\"nowrap\"}if(v.handle_node_change_callback){q.onNodeChange.add(function(t,s,z){q.execCallback(\"handle_node_change_callback\",q.id,z,-1,-1,true,q.selection.isCollapsed())})}if(v.save_callback){q.onSaveContent.add(function(s,z){var t=q.execCallback(\"save_callback\",q.id,z.content,q.getBody());if(t){z.content=t}})}if(v.onchange_callback){q.onChange.add(function(t,s){q.execCallback(\"onchange_callback\",q,s)})}if(v.protect){q.onBeforeSetContent.add(function(s,t){if(v.protect){i(v.protect,function(z){t.content=t.content.replace(z,function(A){return\"<!--mce:protected \"+escape(A)+\"-->\"})})}})}if(v.convert_newlines_to_brs){q.onBeforeSetContent.add(function(s,t){if(t.initial){t.content=t.content.replace(/\\r?\\n/g,\"<br />\")}})}if(v.preformatted){q.onPostProcess.add(function(s,t){t.content=t.content.replace(/^\\s*<pre.*?>/,\"\");t.content=t.content.replace(/<\\/pre>\\s*$/,\"\");if(t.set){t.content='<pre class=\"mceItemHidden\">'+t.content+\"</pre>\"}})}if(v.verify_css_classes){q.serializer.attribValueFilter=function(B,z){var A,t;if(B==\"class\"){if(!q.classesRE){t=q.dom.getClasses();if(t.length>0){A=\"\";i(t,function(s){A+=(A?\"|\":\"\")+s[\"class\"]});q.classesRE=new RegExp(\"(\"+A+\")\",\"gi\")}}return !q.classesRE||/(\\bmceItem\\w+\\b|\\bmceTemp\\w+\\b)/g.test(z)||q.classesRE.test(z)?z:\"\"}return z}}if(v.cleanup_callback){q.onBeforeSetContent.add(function(s,t){t.content=q.execCallback(\"cleanup_callback\",\"insert_to_editor\",t.content,t)});q.onPreProcess.add(function(s,t){if(t.set){q.execCallback(\"cleanup_callback\",\"insert_to_editor_dom\",t.node,t)}if(t.get){q.execCallback(\"cleanup_callback\",\"get_from_editor_dom\",t.node,t)}});q.onPostProcess.add(function(s,t){if(t.set){t.content=q.execCallback(\"cleanup_callback\",\"insert_to_editor\",t.content,t)}if(t.get){t.content=q.execCallback(\"cleanup_callback\",\"get_from_editor\",t.content,t)}})}if(v.save_callback){q.onGetContent.add(function(s,t){if(t.save){t.content=q.execCallback(\"save_callback\",q.id,t.content,q.getBody())}})}if(v.handle_event_callback){q.onEvent.add(function(s,t,z){if(q.execCallback(\"handle_event_callback\",t,s,z)===false){j.cancel(t)}})}q.onSetContent.add(function(){q.addVisual(q.getBody())});if(v.padd_empty_editor){q.onPostProcess.add(function(s,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\\s|\\u00a0|)<\\/p>[\\r\\n]*|<br \\/>[\\r\\n]*)$/,\"\")})}if(a){function r(s,t){i(s.dom.select(\"a\"),function(A){var z=A.parentNode;if(s.dom.isBlock(z)&&z.lastChild===A){s.dom.add(z,\"br\",{\"data-mce-bogus\":1})}})}q.onExecCommand.add(function(s,t){if(t===\"CreateLink\"){r(s)}});q.onSetContent.add(q.selection.onSetContent.add(r))}q.load({initial:true,format:\"html\"});q.startContent=q.getContent({format:\"raw\"});q.undoManager.add();q.initialized=true;q.onInit.dispatch(q);q.execCallback(\"setupcontent_callback\",q.id,q.getBody(),q.getDoc());q.execCallback(\"init_instance_callback\",q);q.focus(true);q.nodeChanged({initial:1});i(q.contentCSS,function(s){q.dom.loadCSS(s)});if(v.auto_focus){setTimeout(function(){var s=m.get(v.auto_focus);s.selection.select(s.getBody(),1);s.selection.collapse(1);s.getBody().focus();s.getWin().focus()},100)}x=null},focus:function(u){var y,q=this,s=q.selection,x=q.settings.content_editable,r,p,v=q.getDoc();if(!u){r=s.getRng();if(r.item){p=r.item(0)}q._refreshContentEditable();s.normalize();if(!x){q.getWin().focus()}if(m.isGecko){q.getBody().focus()}if(p&&p.ownerDocument==v){r=v.body.createControlRange();r.addElement(p);r.select()}}if(m.activeEditor!=q){if((y=m.activeEditor)!=null){y.onDeactivate.dispatch(y,q)}q.onActivate.dispatch(q,y)}m._setActive(q)},execCallback:function(u){var p=this,r=p.settings[u],q;if(!r){return}if(p.callbackLookup&&(q=p.callbackLookup[u])){r=q.func;q=q.scope}if(d(r,\"string\")){q=r.replace(/\\.\\w+$/,\"\");q=q?m.resolve(q):0;r=m.resolve(r);p.callbackLookup=p.callbackLookup||{};p.callbackLookup[u]={func:r,scope:q}}return r.apply(q||p,Array.prototype.slice.call(arguments,1))},translate:function(p){var r=this.settings.language||\"en\",q=m.i18n;if(!p){return\"\"}return q[r+\".\"+p]||p.replace(/{\\#([^}]+)\\}/g,function(t,s){return q[r+\".\"+s]||\"{#\"+s+\"}\"})},getLang:function(q,p){return m.i18n[(this.settings.language||\"en\")+\".\"+q]||(d(p)?p:\"{#\"+q+\"}\")},getParam:function(u,r,p){var s=m.trim,q=d(this.settings[u])?this.settings[u]:r,t;if(p===\"hash\"){t={};if(d(q,\"string\")){i(q.indexOf(\"=\")>0?q.split(/[;,](?![^=;,]*(?:[;,]|$))/):q.split(\",\"),function(x){x=x.split(\"=\");if(x.length>1){t[s(x[0])]=s(x[1])}else{t[s(x[0])]=s(x)}})}else{t=q}return t}return q},nodeChanged:function(r){var p=this,q=p.selection,u=q.getStart()||p.getBody();if(p.initialized){r=r||{};u=b&&u.ownerDocument!=p.getDoc()?p.getBody():u;r.parents=[];p.dom.getParent(u,function(s){if(s.nodeName==\"BODY\"){return true}r.parents.push(s)});p.onNodeChange.dispatch(p,r?r.controlManager||p.controlManager:p.controlManager,u,q.isCollapsed(),r)}},addButton:function(r,q){var p=this;p.buttons=p.buttons||{};p.buttons[r]=q},addCommand:function(p,r,q){this.execCommands[p]={func:r,scope:q||this}},addQueryStateHandler:function(p,r,q){this.queryStateCommands[p]={func:r,scope:q||this}},addQueryValueHandler:function(p,r,q){this.queryValueCommands[p]={func:r,scope:q||this}},addShortcut:function(r,u,p,s){var q=this,v;if(!q.settings.custom_shortcuts){return false}q.shortcuts=q.shortcuts||{};if(d(p,\"string\")){v=p;p=function(){q.execCommand(v,false,null)}}if(d(p,\"object\")){v=p;p=function(){q.execCommand(v[0],v[1],v[2])}}i(g(r),function(t){var x={func:p,scope:s||this,desc:u,alt:false,ctrl:false,shift:false};i(g(t,\"+\"),function(y){switch(y){case\"alt\":case\"ctrl\":case\"shift\":x[y]=true;break;default:x.charCode=y.charCodeAt(0);x.keyCode=y.toUpperCase().charCodeAt(0)}});q.shortcuts[(x.ctrl?\"ctrl\":\"\")+\",\"+(x.alt?\"alt\":\"\")+\",\"+(x.shift?\"shift\":\"\")+\",\"+x.keyCode]=x});return true},execCommand:function(x,v,z,p){var r=this,u=0,y,q;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(x)&&(!p||!p.skip_focus)){r.focus()}y={};r.onBeforeExecCommand.dispatch(r,x,v,z,y);if(y.terminate){return false}if(r.execCallback(\"execcommand_callback\",r.id,r.selection.getNode(),x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}if(y=r.execCommands[x]){q=y.func.call(y.scope,v,z);if(q!==true){r.onExecCommand.dispatch(r,x,v,z,p);return q}}i(r.plugins,function(s){if(s.execCommand&&s.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);u=1;return false}});if(u){return true}if(r.theme&&r.theme.execCommand&&r.theme.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}if(r.editorCommands.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}r.getDoc().execCommand(x,v,z);r.onExecCommand.dispatch(r,x,v,z,p)},queryCommandState:function(u){var q=this,v,r;if(q._isHidden()){return}if(v=q.queryStateCommands[u]){r=v.func.call(v.scope);if(r!==true){return r}}v=q.editorCommands.queryCommandState(u);if(v!==-1){return v}try{return this.getDoc().queryCommandState(u)}catch(p){}},queryCommandValue:function(v){var q=this,u,r;if(q._isHidden()){return}if(u=q.queryValueCommands[v]){r=u.func.call(u.scope);if(r!==true){return r}}u=q.editorCommands.queryCommandValue(v);if(d(u)){return u}try{return this.getDoc().queryCommandValue(v)}catch(p){}},show:function(){var p=this;n.show(p.getContainer());n.hide(p.id);p.load()},hide:function(){var p=this,q=p.getDoc();if(b&&q){q.execCommand(\"SelectAll\")}p.save();n.hide(p.getContainer());n.setStyle(p.id,\"display\",p.orgDisplay)},isHidden:function(){return !n.isHidden(this.id)},setProgressState:function(p,q,r){this.onSetProgressState.dispatch(this,p,q,r);return p},load:function(s){var p=this,r=p.getElement(),q;if(r){s=s||{};s.load=true;q=p.setContent(d(r.value)?r.value:r.innerHTML,s);s.element=r;if(!s.no_events){p.onLoadContent.dispatch(p,s)}s.element=r=null;return q}},save:function(u){var p=this,s=p.getElement(),q,r;if(!s||!p.initialized){return}u=u||{};u.save=true;if(!u.no_events){p.undoManager.typing=false;p.undoManager.add()}u.element=s;q=u.content=p.getContent(u);if(!u.no_events){p.onSaveContent.dispatch(p,u)}q=u.content;if(!/TEXTAREA|INPUT/i.test(s.nodeName)){s.innerHTML=q;if(r=n.getParent(p.id,\"form\")){i(r.elements,function(t){if(t.name==p.id){t.value=q;return false}})}}else{s.value=q}u.element=s=null;return q},setContent:function(u,s){var r=this,q,p=r.getBody(),t;s=s||{};s.format=s.format||\"html\";s.set=true;s.content=u;if(!s.no_events){r.onBeforeSetContent.dispatch(r,s)}u=s.content;if(!m.isIE&&(u.length===0||/^\\s+$/.test(u))){t=r.settings.forced_root_block;if(t){u=\"<\"+t+'><br data-mce-bogus=\"1\"></'+t+\">\"}else{u='<br data-mce-bogus=\"1\">'}p.innerHTML=u;r.selection.select(p,true);r.selection.collapse(true);return}if(s.format!==\"raw\"){u=new m.html.Serializer({},r.schema).serialize(r.parser.parse(u))}s.content=m.trim(u);r.dom.setHTML(p,s.content);if(!s.no_events){r.onSetContent.dispatch(r,s)}r.selection.normalize();return s.content},getContent:function(q){var p=this,r;q=q||{};q.format=q.format||\"html\";q.get=true;if(!q.no_events){p.onBeforeGetContent.dispatch(p,q)}if(q.format==\"raw\"){r=p.getBody().innerHTML}else{r=p.serializer.serialize(p.getBody(),q)}q.content=m.trim(r);if(!q.no_events){p.onGetContent.dispatch(p,q)}return q.content},isDirty:function(){var p=this;return m.trim(p.startContent)!=m.trim(p.getContent({format:\"raw\",no_events:1}))&&!p.isNotDirty},getContainer:function(){var p=this;if(!p.container){p.container=n.get(p.editorContainer||p.id+\"_parent\")}return p.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return n.get(this.settings.content_element||this.id)},getWin:function(){var p=this,q;if(!p.contentWindow){q=n.get(p.id+\"_ifr\");if(q){p.contentWindow=q.contentWindow}}return p.contentWindow},getDoc:function(){var q=this,p;if(!q.contentDocument){p=q.getWin();if(p){q.contentDocument=p.document}}return q.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(p,x,v){var q=this,r=q.settings;if(r.urlconverter_callback){return q.execCallback(\"urlconverter_callback\",p,v,true,x)}if(!r.convert_urls||(v&&v.nodeName==\"LINK\")||p.indexOf(\"file:\")===0){return p}if(r.relative_urls){return q.documentBaseURI.toRelative(p)}p=q.documentBaseURI.toAbsolute(p,r.remove_script_host);return p},addVisual:function(r){var p=this,q=p.settings;r=r||p.getBody();if(!d(p.hasVisual)){p.hasVisual=q.visual}i(p.dom.select(\"table,a\",r),function(t){var s;switch(t.nodeName){case\"TABLE\":s=p.dom.getAttrib(t,\"border\");if(!s||s==\"0\"){if(p.hasVisual){p.dom.addClass(t,q.visual_table_class)}else{p.dom.removeClass(t,q.visual_table_class)}}return;case\"A\":s=p.dom.getAttrib(t,\"name\");if(s){if(p.hasVisual){p.dom.addClass(t,\"mceItemAnchor\")}else{p.dom.removeClass(t,\"mceItemAnchor\")}}return}});p.onVisualAid.dispatch(p,r,p.hasVisual)},remove:function(){var p=this,q=p.getContainer();p.removed=1;p.hide();p.execCallback(\"remove_instance_callback\",p);p.onRemove.dispatch(p);p.onExecCommand.listeners=[];m.remove(p);n.remove(q)},destroy:function(q){var p=this;if(p.destroyed){return}if(!q){m.removeUnload(p.destroy);tinyMCE.onBeforeUnload.remove(p._beforeUnload);if(p.theme&&p.theme.destroy){p.theme.destroy()}p.controlManager.destroy();p.selection.destroy();p.dom.destroy();if(!p.settings.content_editable){j.clear(p.getWin());j.clear(p.getDoc())}j.clear(p.getBody());j.clear(p.formElement)}if(p.formElement){p.formElement.submit=p.formElement._mceOldSubmit;p.formElement._mceOldSubmit=null}p.contentAreaContainer=p.formElement=p.container=p.settings.content_element=p.bodyElement=p.contentDocument=p.contentWindow=null;if(p.selection){p.selection=p.selection.win=p.selection.dom=p.selection.dom.doc=null}p.destroyed=1},_addEvents:function(){var B=this,r,C=B.settings,q=B.dom,x={mouseup:\"onMouseUp\",mousedown:\"onMouseDown\",click:\"onClick\",keyup:\"onKeyUp\",keydown:\"onKeyDown\",keypress:\"onKeyPress\",submit:\"onSubmit\",reset:\"onReset\",contextmenu:\"onContextMenu\",dblclick:\"onDblClick\",paste:\"onPaste\"};function p(t,D){var s=t.type;if(B.removed){return}if(B.onEvent.dispatch(B,t,D)!==false){B[x[t.fakeType||t.type]].dispatch(B,t,D)}}i(x,function(t,s){switch(s){case\"contextmenu\":q.bind(B.getDoc(),s,p);break;case\"paste\":q.bind(B.getBody(),s,function(D){p(D)});break;case\"submit\":case\"reset\":q.bind(B.getElement().form||n.getParent(B.id,\"form\"),s,p);break;default:q.bind(C.content_editable?B.getBody():B.getDoc(),s,p)}});q.bind(C.content_editable?B.getBody():(a?B.getDoc():B.getWin()),\"focus\",function(s){B.focus(true)});if(m.isGecko){q.bind(B.getDoc(),\"DOMNodeInserted\",function(t){var s;t=t.target;if(t.nodeType===1&&t.nodeName===\"IMG\"&&(s=t.getAttribute(\"data-mce-src\"))){t.src=B.documentBaseURI.toAbsolute(s)}})}if(a){function u(){var E=this,G=E.getDoc(),F=E.settings;if(a&&!F.readonly){E._refreshContentEditable();try{G.execCommand(\"styleWithCSS\",0,false)}catch(D){if(!E._isHidden()){try{G.execCommand(\"useCSS\",0,true)}catch(D){}}}if(!F.table_inline_editing){try{G.execCommand(\"enableInlineTableEditing\",false,false)}catch(D){}}if(!F.object_resizing){try{G.execCommand(\"enableObjectResizing\",false,false)}catch(D){}}}}B.onBeforeExecCommand.add(u);B.onMouseDown.add(u)}B.onMouseUp.add(B.nodeChanged);B.onKeyUp.add(function(s,t){var D=t.keyCode;if((D>=33&&D<=36)||(D>=37&&D<=40)||D==13||D==45||D==46||D==8||(m.isMac&&(D==91||D==93))||t.ctrlKey){B.nodeChanged()}});B.onKeyDown.add(function(t,D){if(D.keyCode!=8){return}var F=t.selection.getRng().startContainer;var E=t.selection.getRng().startOffset;while(F&&F.nodeType&&F.nodeType!=1&&F.parentNode){F=F.parentNode}if(F&&F.parentNode&&F.parentNode.tagName===\"BLOCKQUOTE\"&&F.parentNode.firstChild==F&&E==0){t.formatter.toggle(\"blockquote\",null,F.parentNode);var s=t.selection.getRng();s.setStart(F,0);s.setEnd(F,0);t.selection.setRng(s);t.selection.collapse(false)}});B.onReset.add(function(){B.setContent(B.startContent,{format:\"raw\"})});if(C.custom_shortcuts){if(C.custom_undo_redo_keyboard_shortcuts){B.addShortcut(\"ctrl+z\",B.getLang(\"undo_desc\"),\"Undo\");B.addShortcut(\"ctrl+y\",B.getLang(\"redo_desc\"),\"Redo\")}B.addShortcut(\"ctrl+b\",B.getLang(\"bold_desc\"),\"Bold\");B.addShortcut(\"ctrl+i\",B.getLang(\"italic_desc\"),\"Italic\");B.addShortcut(\"ctrl+u\",B.getLang(\"underline_desc\"),\"Underline\");for(r=1;r<=6;r++){B.addShortcut(\"ctrl+\"+r,\"\",[\"FormatBlock\",false,\"h\"+r])}B.addShortcut(\"ctrl+7\",\"\",[\"FormatBlock\",false,\"p\"]);B.addShortcut(\"ctrl+8\",\"\",[\"FormatBlock\",false,\"div\"]);B.addShortcut(\"ctrl+9\",\"\",[\"FormatBlock\",false,\"address\"]);function v(t){var s=null;if(!t.altKey&&!t.ctrlKey&&!t.metaKey){return s}i(B.shortcuts,function(D){if(m.isMac&&D.ctrl!=t.metaKey){return}else{if(!m.isMac&&D.ctrl!=t.ctrlKey){return}}if(D.alt!=t.altKey){return}if(D.shift!=t.shiftKey){return}if(t.keyCode==D.keyCode||(t.charCode&&t.charCode==D.charCode)){s=D;return false}});return s}B.onKeyUp.add(function(s,t){var D=v(t);if(D){return j.cancel(t)}});B.onKeyPress.add(function(s,t){var D=v(t);if(D){return j.cancel(t)}});B.onKeyDown.add(function(s,t){var D=v(t);if(D){D.func.call(D.scope);return j.cancel(t)}})}if(m.isIE){q.bind(B.getDoc(),\"controlselect\",function(D){var t=B.resizeInfo,s;D=D.target;if(D.nodeName!==\"IMG\"){return}if(t){q.unbind(t.node,t.ev,t.cb)}if(!q.hasClass(D,\"mceItemNoResize\")){ev=\"resizeend\";s=q.bind(D,ev,function(F){var E;F=F.target;if(E=q.getStyle(F,\"width\")){q.setAttrib(F,\"width\",E.replace(/[^0-9%]+/g,\"\"));q.setStyle(F,\"width\",\"\")}if(E=q.getStyle(F,\"height\")){q.setAttrib(F,\"height\",E.replace(/[^0-9%]+/g,\"\"));q.setStyle(F,\"height\",\"\")}})}else{ev=\"resizestart\";s=q.bind(D,\"resizestart\",j.cancel,j)}t=B.resizeInfo={node:D,ev:ev,cb:s}})}if(m.isOpera){B.onClick.add(function(s,t){j.prevent(t)})}if(C.custom_undo_redo){function y(){B.undoManager.typing=false;B.undoManager.add()}q.bind(B.getDoc(),\"focusout\",function(s){if(!B.removed&&B.undoManager.typing){y()}});B.dom.bind(B.dom.getRoot(),\"dragend\",function(s){y()});B.onKeyUp.add(function(s,D){var t=D.keyCode;if((t>=33&&t<=36)||(t>=37&&t<=40)||t==13||t==45||D.ctrlKey){y()}});B.onKeyDown.add(function(s,E){var D=E.keyCode,t;if(D==8){t=B.getDoc().selection;if(t&&t.createRange&&t.createRange().item){B.undoManager.beforeChange();s.dom.remove(t.createRange().item(0));y();return j.cancel(E)}}if((D>=33&&D<=36)||(D>=37&&D<=40)||D==13||D==45){if(m.isIE&&D==13){B.undoManager.beforeChange()}if(B.undoManager.typing){y()}return}if((D<16||D>20)&&D!=224&&D!=91&&!B.undoManager.typing){B.undoManager.beforeChange();B.undoManager.typing=true;B.undoManager.add()}});B.onMouseDown.add(function(){if(B.undoManager.typing){y()}})}if(m.isWebKit){q.bind(B.getDoc(),\"selectionchange\",function(){if(B.selectionTimer){clearTimeout(B.selectionTimer);B.selectionTimer=0}B.selectionTimer=window.setTimeout(function(){B.nodeChanged()},50)})}if(m.isGecko){function A(){var s=B.dom.getAttribs(B.selection.getStart().cloneNode(false));return function(){var t=B.selection.getStart();if(t!==B.getBody()){B.dom.removeAllAttribs(t);i(s,function(D){t.setAttributeNode(D.cloneNode(true))})}}}function z(){var t=B.selection;return !t.isCollapsed()&&t.getStart()!=t.getEnd()}B.onKeyPress.add(function(s,D){var t;if((D.keyCode==8||D.keyCode==46)&&z()){t=A();B.getDoc().execCommand(\"delete\",false,null);t();return j.cancel(D)}});B.dom.bind(B.getDoc(),\"cut\",function(t){var s;if(z()){s=A();B.onKeyUp.addToTop(j.cancel,j);setTimeout(function(){s();B.onKeyUp.remove(j.cancel,j)},0)}})}},_refreshContentEditable:function(){var q=this,p,r;if(q._isHidden()){p=q.getBody();r=p.parentNode;r.removeChild(p);r.appendChild(p);p.focus()}},_isHidden:function(){var p;if(!a){return 0}p=this.selection.getSel();return(!p||!p.rangeCount||p.rangeCount==0)}})})(tinymce);(function(c){var d=c.each,e,a=true,b=false;c.EditorCommands=function(n){var m=n.dom,p=n.selection,j={state:{},exec:{},value:{}},k=n.settings,q=n.formatter,o;function r(z,y,x){var v;z=z.toLowerCase();if(v=j.exec[z]){v(z,y,x);return a}return b}function l(x){var v;x=x.toLowerCase();if(v=j.state[x]){return v(x)}return -1}function h(x){var v;x=x.toLowerCase();if(v=j.value[x]){return v(x)}return b}function u(v,x){x=x||\"exec\";d(v,function(z,y){d(y.toLowerCase().split(\",\"),function(A){j[x][A]=z})})}c.extend(this,{execCommand:r,queryCommandState:l,queryCommandValue:h,addCommands:u});function f(y,x,v){if(x===e){x=b}if(v===e){v=null}return n.getDoc().execCommand(y,x,v)}function t(v){return q.match(v)}function s(v,x){q.toggle(v,x?{value:x}:e)}function i(v){o=p.getBookmark(v)}function g(){p.moveToBookmark(o)}u({\"mceResetDesignMode,mceBeginUndoLevel\":function(){},\"mceEndUndoLevel,mceAddUndoLevel\":function(){n.undoManager.add()},\"Cut,Copy,Paste\":function(z){var y=n.getDoc(),v;try{f(z)}catch(x){v=a}if(v||!y.queryCommandSupported(z)){if(c.isGecko){n.windowManager.confirm(n.getLang(\"clipboard_msg\"),function(A){if(A){open(\"http://www.mozilla.org/editor/midasdemo/securityprefs.html\",\"_blank\")}})}else{n.windowManager.alert(n.getLang(\"clipboard_no_support\"))}}},unlink:function(v){if(p.isCollapsed()){p.select(p.getNode())}f(v);p.collapse(b)},\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull\":function(v){var x=v.substring(7);d(\"left,center,right,full\".split(\",\"),function(y){if(x!=y){q.remove(\"align\"+y)}});s(\"align\"+x);r(\"mceRepaint\")},\"InsertUnorderedList,InsertOrderedList\":function(y){var v,x;f(y);v=m.getParent(p.getNode(),\"ol,ul\");if(v){x=v.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(x.nodeName)){i();m.split(x,v);g()}}},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(v){s(v)},\"ForeColor,HiliteColor,FontName\":function(y,x,v){s(y,v)},FontSize:function(z,y,x){var v,A;if(x>=1&&x<=7){A=c.explode(k.font_size_style_values);v=c.explode(k.font_size_classes);if(v){x=v[x-1]||x}else{x=A[x-1]||x}}s(z,x)},RemoveFormat:function(v){q.remove(v)},mceBlockQuote:function(v){s(\"blockquote\")},FormatBlock:function(y,x,v){return s(v||\"p\")},mceCleanup:function(){var v=p.getBookmark();n.setContent(n.getContent({cleanup:a}),{cleanup:a});p.moveToBookmark(v)},mceRemoveNode:function(z,y,x){var v=x||p.getNode();if(v!=n.getBody()){i();n.dom.remove(v,a);g()}},mceSelectNodeDepth:function(z,y,x){var v=0;m.getParent(p.getNode(),function(A){if(A.nodeType==1&&v++==x){p.select(A);return b}},n.getBody())},mceSelectNode:function(y,x,v){p.select(v)},mceInsertContent:function(B,I,K){var y,J,E,z,F,G,D,C,L,x,A,M,v,H;y=n.parser;J=new c.html.Serializer({},n.schema);v='<span id=\"mce_marker\" data-mce-type=\"bookmark\">\\uFEFF</span>';G={content:K,format:\"html\"};p.onBeforeSetContent.dispatch(p,G);K=G.content;if(K.indexOf(\"{$caret}\")==-1){K+=\"{$caret}\"}K=K.replace(/\\{\\$caret\\}/,v);if(!p.isCollapsed()){n.getDoc().execCommand(\"Delete\",false,null)}E=p.getNode();G={context:E.nodeName.toLowerCase()};F=y.parse(K,G);A=F.lastChild;if(A.attr(\"id\")==\"mce_marker\"){D=A;for(A=A.prev;A;A=A.walk(true)){if(A.type==3||!m.isBlock(A.name)){A.parent.insert(D,A,A.name===\"br\");break}}}if(!G.invalid){K=J.serialize(F);A=E.firstChild;M=E.lastChild;if(!A||(A===M&&A.nodeName===\"BR\")){m.setHTML(E,K)}else{p.setContent(K)}}else{p.setContent(v);E=n.selection.getNode();z=n.getBody();if(E.nodeType==9){E=A=z}else{A=E}while(A!==z){E=A;A=A.parentNode}K=E==z?z.innerHTML:m.getOuterHTML(E);K=J.serialize(y.parse(K.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i,function(){return J.serialize(F)})));if(E==z){m.setHTML(z,K)}else{m.setOuterHTML(E,K)}}D=m.get(\"mce_marker\");C=m.getRect(D);L=m.getViewPort(n.getWin());if((C.y+C.h>L.y+L.h||C.y<L.y)||(C.x>L.x+L.w||C.x<L.x)){H=c.isIE?n.getDoc().documentElement:n.getBody();H.scrollLeft=C.x;H.scrollTop=C.y-L.h+25}x=m.createRng();A=D.previousSibling;if(A&&A.nodeType==3){x.setStart(A,A.nodeValue.length)}else{x.setStartBefore(D);x.setEndBefore(D)}m.remove(D);p.setRng(x);p.onSetContent.dispatch(p,G);n.addVisual()},mceInsertRawHTML:function(y,x,v){p.setContent(\"tiny_mce_marker\");n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return v}))},mceSetContent:function(y,x,v){n.setContent(v)},\"Indent,Outdent\":function(z){var x,v,y;x=k.indentation;v=/[a-z%]+$/i.exec(x);x=parseInt(x);if(!l(\"InsertUnorderedList\")&&!l(\"InsertOrderedList\")){d(p.getSelectedBlocks(),function(A){if(z==\"outdent\"){y=Math.max(0,parseInt(A.style.paddingLeft||0)-x);m.setStyle(A,\"paddingLeft\",y?y+v:\"\")}else{m.setStyle(A,\"paddingLeft\",(parseInt(A.style.paddingLeft||0)+x)+v)}})}else{f(z)}},mceRepaint:function(){var x;if(c.isGecko){try{i(a);if(p.getSel()){p.getSel().selectAllChildren(n.getBody())}p.collapse(a);g()}catch(v){}}},mceToggleFormat:function(y,x,v){q.toggle(v)},InsertHorizontalRule:function(){n.execCommand(\"mceInsertContent\",false,\"<hr />\")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual;n.addVisual()},mceReplaceContent:function(y,x,v){n.execCommand(\"mceInsertContent\",false,v.replace(/\\{\\$selection\\}/g,p.getContent({format:\"text\"})))},mceInsertLink:function(z,y,x){var v;if(typeof(x)==\"string\"){x={href:x}}v=m.getParent(p.getNode(),\"a\");x.href=x.href.replace(\" \",\"%20\");if(!v||!x.href){q.remove(\"link\")}if(x.href){q.apply(\"link\",x,v)}},selectAll:function(){var x=m.getRoot(),v=m.createRng();v.setStart(x,0);v.setEnd(x,x.childNodes.length);n.selection.setRng(v)}});u({\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull\":function(v){return t(\"align\"+v.substring(7))},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(v){return t(v)},mceBlockQuote:function(){return t(\"blockquote\")},Outdent:function(){var v;if(k.inline_styles){if((v=m.getParent(p.getStart(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}if((v=m.getParent(p.getEnd(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}}return l(\"InsertUnorderedList\")||l(\"InsertOrderedList\")||(!k.inline_styles&&!!m.getParent(p.getNode(),\"BLOCKQUOTE\"))},\"InsertUnorderedList,InsertOrderedList\":function(v){return m.getParent(p.getNode(),v==\"insertunorderedlist\"?\"UL\":\"OL\")}},\"state\");u({\"FontSize,FontName\":function(y){var x=0,v;if(v=m.getParent(p.getNode(),\"span\")){if(y==\"fontsize\"){x=v.style.fontSize}else{x=v.style.fontFamily.replace(/, /g,\",\").replace(/[\\'\\\"]/g,\"\").toLowerCase()}}return x}},\"value\");if(k.custom_undo_redo){u({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}})(tinymce);(function(b){var a=b.util.Dispatcher;b.UndoManager=function(f){var d,e=0,h=[],c;function g(){return b.trim(f.getContent({format:\"raw\",no_events:1}))}return d={typing:false,onAdd:new a(d),onUndo:new a(d),onRedo:new a(d),beforeChange:function(){c=f.selection.getBookmark(2,true)},add:function(m){var j,k=f.settings,l;m=m||{};m.content=g();l=h[e];if(l&&l.content==m.content){return null}if(h[e]){h[e].beforeBookmark=c}if(k.custom_undo_redo_levels){if(h.length>k.custom_undo_redo_levels){for(j=0;j<h.length-1;j++){h[j]=h[j+1]}h.length--;e=h.length}}m.bookmark=f.selection.getBookmark(2,true);if(e<h.length-1){h.length=e+1}h.push(m);e=h.length-1;d.onAdd.dispatch(d,m);f.isNotDirty=0;return m},undo:function(){var k,j;if(d.typing){d.add();d.typing=false}if(e>0){k=h[--e];f.setContent(k.content,{format:\"raw\"});f.selection.moveToBookmark(k.beforeBookmark);d.onUndo.dispatch(d,k)}return k},redo:function(){var i;if(e<h.length-1){i=h[++e];f.setContent(i.content,{format:\"raw\"});f.selection.moveToBookmark(i.bookmark);d.onRedo.dispatch(d,i)}return i},clear:function(){h=[];e=0;d.typing=false},hasUndo:function(){return e>0||this.typing},hasRedo:function(){return e<h.length-1&&!this.typing}}}})(tinymce);(function(l){var j=l.dom.Event,c=l.isIE,a=l.isGecko,b=l.isOpera,i=l.each,h=l.extend,d=true,g=false;function k(o){var p,n,m;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(o.nodeName)){if(p){n=o.cloneNode(false);n.appendChild(p);p=n}else{p=m=o.cloneNode(false)}p.removeAttribute(\"id\")}}while(o=o.parentNode);if(p){return{wrapper:p,inner:m}}}function f(n,o){var m=o.ownerDocument.createRange();m.setStart(n.endContainer,n.endOffset);m.setEndAfter(o);return m.cloneContents().textContent.length==0}function e(o,q,m){var n,p;if(q.isEmpty(m)){n=q.getParent(m,\"ul,ol\");if(!q.getParent(n.parentNode,\"ul,ol\")){q.split(n,m);p=q.create(\"p\",0,'<br data-mce-bogus=\"1\" />');q.replace(p,m);o.select(p,1)}return g}return d}l.create(\"tinymce.ForceBlocks\",{ForceBlocks:function(m){var n=this,o=m.settings,p;n.editor=m;n.dom=m.dom;p=(o.forced_root_block||\"p\").toLowerCase();o.element=p.toUpperCase();m.onPreInit.add(n.setup,n)},setup:function(){var n=this,m=n.editor,p=m.settings,u=m.dom,o=m.selection,q=m.schema.getBlockElements();if(p.forced_root_block){function v(){var y=o.getStart(),t=m.getBody(),s,z,D,F,E,x,A,B=-16777215;if(!y||y.nodeType!==1){return}while(y!=t){if(q[y.nodeName]){return}y=y.parentNode}s=o.getRng();if(s.setStart){z=s.startContainer;D=s.startOffset;F=s.endContainer;E=s.endOffset}else{if(s.item){s=m.getDoc().body.createTextRange();s.moveToElementText(s.item(0))}tmpRng=s.duplicate();tmpRng.collapse(true);D=tmpRng.move(\"character\",B)*-1;if(!tmpRng.collapsed){tmpRng=s.duplicate();tmpRng.collapse(false);E=(tmpRng.move(\"character\",B)*-1)-D}}for(y=t.firstChild;y;y){if(y.nodeType===3||(y.nodeType==1&&!q[y.nodeName])){if(!x){x=u.create(p.forced_root_block);y.parentNode.insertBefore(x,y)}A=y;y=y.nextSibling;x.appendChild(A)}else{x=null;y=y.nextSibling}}if(s.setStart){s.setStart(z,D);s.setEnd(F,E);o.setRng(s)}else{try{s=m.getDoc().body.createTextRange();s.moveToElementText(t);s.collapse(true);s.moveStart(\"character\",D);if(E>0){s.moveEnd(\"character\",E)}s.select()}catch(C){}}m.nodeChanged()}m.onKeyUp.add(v);m.onClick.add(v)}if(p.force_br_newlines){if(c){m.onKeyPress.add(function(s,t){var x;if(t.keyCode==13&&o.getNode().nodeName!=\"LI\"){o.setContent('<br id=\"__\" /> ',{format:\"raw\"});x=u.get(\"__\");x.removeAttribute(\"id\");o.select(x);o.collapse();return j.cancel(t)}})}}if(p.force_p_newlines){if(!c){m.onKeyPress.add(function(s,t){if(t.keyCode==13&&!t.shiftKey&&!n.insertPara(t)){j.cancel(t)}})}else{l.addUnload(function(){n._previousFormats=0});m.onKeyPress.add(function(s,t){n._previousFormats=0;if(t.keyCode==13&&!t.shiftKey&&s.selection.isCollapsed()&&p.keep_styles){n._previousFormats=k(s.selection.getStart())}});m.onKeyUp.add(function(t,y){if(y.keyCode==13&&!y.shiftKey){var x=t.selection.getStart(),s=n._previousFormats;if(!x.hasChildNodes()&&s){x=u.getParent(x,u.isBlock);if(x&&x.nodeName!=\"LI\"){x.innerHTML=\"\";if(n._previousFormats){x.appendChild(s.wrapper);s.inner.innerHTML=\"\\uFEFF\"}else{x.innerHTML=\"\\uFEFF\"}o.select(x,1);o.collapse(true);t.getDoc().execCommand(\"Delete\",false,null);n._previousFormats=0}}}})}if(a){m.onKeyDown.add(function(s,t){if((t.keyCode==8||t.keyCode==46)&&!t.shiftKey){n.backspaceDelete(t,t.keyCode==8)}})}}if(l.isWebKit){function r(t){var s=o.getRng(),x,A=u.create(\"div\",null,\" \"),z,y=u.getViewPort(t.getWin()).h;s.insertNode(x=u.create(\"br\"));s.setStartAfter(x);s.setEndAfter(x);o.setRng(s);if(o.getSel().focusNode==x.previousSibling){o.select(u.insertAfter(u.doc.createTextNode(\"\\u00a0\"),x));o.collapse(d)}u.insertAfter(A,x);z=u.getPos(A).y;u.remove(A);if(z>y){t.getWin().scrollTo(0,z)}}m.onKeyPress.add(function(s,t){if(t.keyCode==13&&(t.shiftKey||(p.force_br_newlines&&!u.getParent(o.getNode(),\"h1,h2,h3,h4,h5,h6,ol,ul\")))){r(s);j.cancel(t)}})}if(c){if(p.element!=\"P\"){m.onKeyPress.add(function(s,t){n.lastElm=o.getNode().nodeName});m.onKeyUp.add(function(t,x){var z,y=o.getNode(),s=t.getBody();if(s.childNodes.length===1&&y.nodeName==\"P\"){y=u.rename(y,p.element);o.select(y);o.collapse();t.nodeChanged()}else{if(x.keyCode==13&&!x.shiftKey&&n.lastElm!=\"P\"){z=u.getParent(y,\"p\");if(z){u.rename(z,p.element);t.nodeChanged()}}}})}}},getParentBlock:function(o){var m=this.dom;return m.getParent(o,m.isBlock)},insertPara:function(Q){var E=this,v=E.editor,M=v.dom,R=v.getDoc(),V=v.settings,F=v.selection.getSel(),G=F.getRangeAt(0),U=R.body;var J,K,H,O,N,q,o,u,z,m,C,T,p,x,I,L=M.getViewPort(v.getWin()),B,D,A;v.undoManager.beforeChange();J=R.createRange();J.setStart(F.anchorNode,F.anchorOffset);J.collapse(d);K=R.createRange();K.setStart(F.focusNode,F.focusOffset);K.collapse(d);H=J.compareBoundaryPoints(J.START_TO_END,K)<0;O=H?F.anchorNode:F.focusNode;N=H?F.anchorOffset:F.focusOffset;q=H?F.focusNode:F.anchorNode;o=H?F.focusOffset:F.anchorOffset;if(O===q&&/^(TD|TH)$/.test(O.nodeName)){if(O.firstChild.nodeName==\"BR\"){M.remove(O.firstChild)}if(O.childNodes.length==0){v.dom.add(O,V.element,null,\"<br />\");T=v.dom.add(O,V.element,null,\"<br />\")}else{I=O.innerHTML;O.innerHTML=\"\";v.dom.add(O,V.element,null,I);T=v.dom.add(O,V.element,null,\"<br />\")}G=R.createRange();G.selectNodeContents(T);G.collapse(1);v.selection.setRng(G);return g}if(O==U&&q==U&&U.firstChild&&v.dom.isBlock(U.firstChild)){O=q=O.firstChild;N=o=0;J=R.createRange();J.setStart(O,0);K=R.createRange();K.setStart(q,0)}if(!R.body.hasChildNodes()){R.body.appendChild(M.create(\"br\"))}O=O.nodeName==\"HTML\"?R.body:O;O=O.nodeName==\"BODY\"?O.firstChild:O;q=q.nodeName==\"HTML\"?R.body:q;q=q.nodeName==\"BODY\"?q.firstChild:q;u=E.getParentBlock(O);z=E.getParentBlock(q);m=u?u.nodeName:V.element;if(I=E.dom.getParent(u,\"li,pre\")){if(I.nodeName==\"LI\"){return e(v.selection,E.dom,I)}return d}if(u&&(u.nodeName==\"CAPTION\"||/absolute|relative|fixed/gi.test(M.getStyle(u,\"position\",1)))){m=V.element;u=null}if(z&&(z.nodeName==\"CAPTION\"||/absolute|relative|fixed/gi.test(M.getStyle(u,\"position\",1)))){m=V.element;z=null}if(/(TD|TABLE|TH|CAPTION)/.test(m)||(u&&m==\"DIV\"&&/left|right/gi.test(M.getStyle(u,\"float\",1)))){m=V.element;u=z=null}C=(u&&u.nodeName==m)?u.cloneNode(0):v.dom.create(m);T=(z&&z.nodeName==m)?z.cloneNode(0):v.dom.create(m);T.removeAttribute(\"id\");if(/^(H[1-6])$/.test(m)&&f(G,u)){T=v.dom.create(V.element)}I=p=O;do{if(I==U||I.nodeType==9||E.dom.isBlock(I)||/(TD|TABLE|TH|CAPTION)/.test(I.nodeName)){break}p=I}while((I=I.previousSibling?I.previousSibling:I.parentNode));I=x=q;do{if(I==U||I.nodeType==9||E.dom.isBlock(I)||/(TD|TABLE|TH|CAPTION)/.test(I.nodeName)){break}x=I}while((I=I.nextSibling?I.nextSibling:I.parentNode));if(p.nodeName==m){J.setStart(p,0)}else{J.setStartBefore(p)}J.setEnd(O,N);C.appendChild(J.cloneContents()||R.createTextNode(\"\"));try{K.setEndAfter(x)}catch(P){}K.setStart(q,o);T.appendChild(K.cloneContents()||R.createTextNode(\"\"));G=R.createRange();if(!p.previousSibling&&p.parentNode.nodeName==m){G.setStartBefore(p.parentNode)}else{if(J.startContainer.nodeName==m&&J.startOffset==0){G.setStartBefore(J.startContainer)}else{G.setStart(J.startContainer,J.startOffset)}}if(!x.nextSibling&&x.parentNode.nodeName==m){G.setEndAfter(x.parentNode)}else{G.setEnd(K.endContainer,K.endOffset)}G.deleteContents();if(b){v.getWin().scrollTo(0,L.y)}if(C.firstChild&&C.firstChild.nodeName==m){C.innerHTML=C.firstChild.innerHTML}if(T.firstChild&&T.firstChild.nodeName==m){T.innerHTML=T.firstChild.innerHTML}function S(y,s){var r=[],X,W,t;y.innerHTML=\"\";if(V.keep_styles){W=s;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(W.nodeName)){X=W.cloneNode(g);M.setAttrib(X,\"id\",\"\");r.push(X)}}while(W=W.parentNode)}if(r.length>0){for(t=r.length-1,X=y;t>=0;t--){X=X.appendChild(r[t])}r[0].innerHTML=b?\"\\u00a0\":\"<br />\";return r[0]}else{y.innerHTML=b?\"\\u00a0\":\"<br />\"}}if(M.isEmpty(C)){S(C,O)}if(M.isEmpty(T)){A=S(T,q)}if(b&&parseFloat(opera.version())<9.5){G.insertNode(C);G.insertNode(T)}else{G.insertNode(T);G.insertNode(C)}T.normalize();C.normalize();v.selection.select(T,true);v.selection.collapse(true);B=v.dom.getPos(T).y;if(B<L.y||B+25>L.y+L.h){v.getWin().scrollTo(0,B<L.y?B:B-L.h+25)}v.undoManager.add();return g},backspaceDelete:function(u,B){var C=this,s=C.editor,y=s.getBody(),q=s.dom,p,v=s.selection,o=v.getRng(),x=o.startContainer,p,z,A,m;if(!B&&o.collapsed&&x.nodeType==1&&o.startOffset==x.childNodes.length){m=new l.dom.TreeWalker(x.lastChild,x);for(p=x.lastChild;p;p=m.prev()){if(p.nodeType==3){o.setStart(p,p.nodeValue.length);o.collapse(true);v.setRng(o);return}}}if(x&&s.dom.isBlock(x)&&!/^(TD|TH)$/.test(x.nodeName)&&B){if(x.childNodes.length==0||(x.childNodes.length==1&&x.firstChild.nodeName==\"BR\")){p=x;while((p=p.previousSibling)&&!s.dom.isBlock(p)){}if(p){if(x!=y.firstChild){z=s.dom.doc.createTreeWalker(p,NodeFilter.SHOW_TEXT,null,g);while(A=z.nextNode()){p=A}o=s.getDoc().createRange();o.setStart(p,p.nodeValue?p.nodeValue.length:0);o.setEnd(p,p.nodeValue?p.nodeValue.length:0);v.setRng(o);s.dom.remove(x)}return j.cancel(u)}}}}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each,e=c.extend;c.create(\"tinymce.ControlManager\",{ControlManager:function(f,j){var h=this,g;j=j||{};h.editor=f;h.controls={};h.onAdd=new c.util.Dispatcher(h);h.onPostRender=new c.util.Dispatcher(h);h.prefix=j.prefix||f.id+\"_\";h._cls={};h.onPostRender.add(function(){d(h.controls,function(i){i.postRender()})})},get:function(f){return this.controls[this.prefix+f]||this.controls[f]},setActive:function(h,f){var g=null;if(g=this.get(h)){g.setActive(f)}return g},setDisabled:function(h,f){var g=null;if(g=this.get(h)){g.setDisabled(f)}return g},add:function(g){var f=this;if(g){f.controls[g.id]=g;f.onAdd.dispatch(g,f)}return g},createControl:function(i){var h,g=this,f=g.editor;d(f.plugins,function(j){if(j.createControl){h=j.createControl(i,g);if(h){return false}}});switch(i){case\"|\":case\"separator\":return g.createSeparator()}if(!h&&f.buttons&&(h=f.buttons[i])){return g.createButton(i,h)}return g.add(h)},createDropMenu:function(f,n,h){var m=this,i=m.editor,j,g,k,l;n=e({\"class\":\"mceDropDown\",constrain:i.settings.constrain_menus},n);n[\"class\"]=n[\"class\"]+\" \"+i.getParam(\"skin\")+\"Skin\";if(k=i.getParam(\"skin_variant\")){n[\"class\"]+=\" \"+i.getParam(\"skin\")+\"Skin\"+k.substring(0,1).toUpperCase()+k.substring(1)}f=m.prefix+f;l=h||m._cls.dropmenu||c.ui.DropMenu;j=m.controls[f]=new l(f,n);j.onAddItem.add(function(r,q){var p=q.settings;p.title=i.getLang(p.title,p.title);if(!p.onclick){p.onclick=function(o){if(p.cmd){i.execCommand(p.cmd,p.ui||false,p.value)}}}});i.onRemove.add(function(){j.destroy()});if(c.isIE){j.onShowMenu.add(function(){i.focus();g=i.selection.getBookmark(1)});j.onHideMenu.add(function(){if(g){i.selection.moveToBookmark(g);g=0}})}return m.add(j)},createListBox:function(f,n,h){var l=this,j=l.editor,i,k,m;if(l.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=e({title:n.title,\"class\":\"mce_\"+f,scope:n.scope,control_manager:l},n);f=l.prefix+f;function g(o){return o.settings.use_accessible_selects&&!c.isGecko}if(j.settings.use_native_selects||g(j)){k=new c.ui.NativeListBox(f,n)}else{m=h||l._cls.listbox||c.ui.ListBox;k=new m(f,n,j)}l.controls[f]=k;if(c.isWebKit){k.onPostRender.add(function(p,o){a.add(o,\"mousedown\",function(){j.bookmark=j.selection.getBookmark(1)});a.add(o,\"focus\",function(){j.selection.moveToBookmark(j.bookmark);j.bookmark=null})})}if(k.hideMenu){j.onMouseDown.add(k.hideMenu,k)}return l.add(k)},createButton:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.label=g.translate(i.label);i.scope=i.scope||g;if(!i.onclick&&!i.menu_button){i.onclick=function(){g.execCommand(i.cmd,i.ui||false,i.value)}}i=e({title:i.title,\"class\":\"mce_\"+m,unavailable_prefix:g.getLang(\"unavailable\",\"\"),scope:i.scope,control_manager:h},i);m=h.prefix+m;if(i.menu_button){f=l||h._cls.menubutton||c.ui.MenuButton;k=new f(m,i,g);g.onMouseDown.add(k.hideMenu,k)}else{f=h._cls.button||c.ui.Button;k=new f(m,i,g)}return h.add(k)},createMenuButton:function(h,f,g){f=f||{};f.menu_button=1;return this.createButton(h,f,g)},createSplitButton:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.scope=i.scope||g;if(!i.onclick){i.onclick=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}if(!i.onselect){i.onselect=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}i=e({title:i.title,\"class\":\"mce_\"+m,scope:i.scope,control_manager:h},i);m=h.prefix+m;f=l||h._cls.splitbutton||c.ui.SplitButton;k=h.add(new f(m,i,g));g.onMouseDown.add(k.hideMenu,k);return k},createColorSplitButton:function(f,n,h){var l=this,j=l.editor,i,k,m,g;if(l.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onclick){n.onclick=function(o){if(c.isIE){g=j.selection.getBookmark(1)}j.execCommand(n.cmd,n.ui||false,o||n.value)}}if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=e({title:n.title,\"class\":\"mce_\"+f,menu_class:j.getParam(\"skin\")+\"Skin\",scope:n.scope,more_colors_title:j.getLang(\"more_colors\")},n);f=l.prefix+f;m=h||l._cls.colorsplitbutton||c.ui.ColorSplitButton;k=new m(f,n,j);j.onMouseDown.add(k.hideMenu,k);j.onRemove.add(function(){k.destroy()});if(c.isIE){k.onShowMenu.add(function(){j.focus();g=j.selection.getBookmark(1)});k.onHideMenu.add(function(){if(g){j.selection.moveToBookmark(g);g=0}})}return l.add(k)},createToolbar:function(k,h,j){var i,g=this,f;k=g.prefix+k;f=j||g._cls.toolbar||c.ui.Toolbar;i=new f(k,h,g.editor);if(g.get(k)){return null}return g.add(i)},createToolbarGroup:function(k,h,j){var i,g=this,f;k=g.prefix+k;f=j||this._cls.toolbarGroup||c.ui.ToolbarGroup;i=new f(k,h,g.editor);if(g.get(k)){return null}return g.add(i)},createSeparator:function(g){var f=g||this._cls.separator||c.ui.Separator;return new f()},setControlType:function(g,f){return this._cls[g.toLowerCase()]=f},destroy:function(){d(this.controls,function(f){f.destroy()});this.controls=null}})})(tinymce);(function(d){var a=d.util.Dispatcher,e=d.each,c=d.isIE,b=d.isOpera;d.create(\"tinymce.WindowManager\",{WindowManager:function(f){var g=this;g.editor=f;g.onOpen=new a(g);g.onClose=new a(g);g.params={};g.features={}},open:function(z,h){var v=this,k=\"\",n,m,i=v.editor.settings.dialog_type==\"modal\",q,o,j,g=d.DOM.getViewPort(),r;z=z||{};h=h||{};o=b?g.w:screen.width;j=b?g.h:screen.height;z.name=z.name||\"mc_\"+new Date().getTime();z.width=parseInt(z.width||320);z.height=parseInt(z.height||240);z.resizable=true;z.left=z.left||parseInt(o/2)-(z.width/2);z.top=z.top||parseInt(j/2)-(z.height/2);h.inline=false;h.mce_width=z.width;h.mce_height=z.height;h.mce_auto_focus=z.auto_focus;if(i){if(c){z.center=true;z.help=false;z.dialogWidth=z.width+\"px\";z.dialogHeight=z.height+\"px\";z.scroll=z.scrollbars||false}}e(z,function(p,f){if(d.is(p,\"boolean\")){p=p?\"yes\":\"no\"}if(!/^(name|url)$/.test(f)){if(c&&i){k+=(k?\";\":\"\")+f+\":\"+p}else{k+=(k?\",\":\"\")+f+\"=\"+p}}});v.features=z;v.params=h;v.onOpen.dispatch(v,z,h);r=z.url||z.file;r=d._addVer(r);try{if(c&&i){q=1;window.showModalDialog(r,window,k)}else{q=window.open(r,z.name,k)}}catch(l){}if(!q){alert(v.editor.getLang(\"popup_blocked\"))}},close:function(f){f.close();this.onClose.dispatch(this)},createInstance:function(i,h,g,m,l,k){var j=d.resolve(i);return new j(h,g,m,l,k)},confirm:function(h,f,i,g){g=g||window;f.call(i||this,g.confirm(this._decode(this.editor.getLang(h,h))))},alert:function(h,f,j,g){var i=this;g=g||window;g.alert(i._decode(i.editor.getLang(h,h)));if(f){f.call(j||i)}},resizeBy:function(f,g,h){h.resizeBy(f,g)},_decode:function(f){return d.DOM.decode(f).replace(/\\\\n/g,\"\\n\")}})}(tinymce));(function(a){a.Formatter=function(V){var M={},O=a.each,c=V.dom,q=V.selection,t=a.dom.TreeWalker,K=new a.dom.RangeUtils(c),d=V.schema.isValidChild,F=c.isBlock,l=V.settings.forced_root_block,s=c.nodeIndex,E=\"\\uFEFF\",e=/^(src|href|style)$/,S=false,B=true,p,P={apply:[],remove:[]};function z(W){return W instanceof Array}function m(X,W){return c.getParents(X,W,c.getRoot())}function b(W){return W.nodeType===1&&(W.face===\"mceinline\"||W.style.fontFamily===\"mceinline\")}function R(W){return W?M[W]:M}function k(W,X){if(W){if(typeof(W)!==\"string\"){O(W,function(Z,Y){k(Y,Z)})}else{X=X.length?X:[X];O(X,function(Y){if(Y.deep===p){Y.deep=!Y.selector}if(Y.split===p){Y.split=!Y.selector||Y.inline}if(Y.remove===p&&Y.selector&&!Y.inline){Y.remove=\"none\"}if(Y.selector&&Y.inline){Y.mixed=true;Y.block_expand=true}if(typeof(Y.classes)===\"string\"){Y.classes=Y.classes.split(/\\s+/)}});M[W]=X}}}var i=function(X){var W;V.dom.getParent(X,function(Y){W=V.dom.getStyle(Y,\"text-decoration\");return W&&W!==\"none\"});return W};var I=function(W){var X;if(W.nodeType===1&&W.parentNode&&W.parentNode.nodeType===1){X=i(W.parentNode);if(V.dom.getStyle(W,\"color\")&&X){V.dom.setStyle(W,\"text-decoration\",X)}else{if(V.dom.getStyle(W,\"textdecoration\")===X){V.dom.setStyle(W,\"text-decoration\",null)}}}};function T(Z,ah,ac){var ad=R(Z),ai=ad[0],ag,X,af,ae=q.isCollapsed();function aa(am){var al=am.startContainer,ap=am.startOffset,ao,an;if(al.nodeType==1||al.nodeValue===\"\"){al=al.nodeType==1?al.childNodes[ap]:al;if(al){ao=new t(al,al.parentNode);for(an=ao.current();an;an=ao.next()){if(an.nodeType==3&&!f(an)){am.setStart(an,0);break}}}}return am}function W(am,al){al=al||ai;if(am){if(al.onformat){al.onformat(am,al,ah,ac)}O(al.styles,function(ao,an){c.setStyle(am,an,r(ao,ah))});O(al.attributes,function(ao,an){c.setAttrib(am,an,r(ao,ah))});O(al.classes,function(an){an=r(an,ah);if(!c.hasClass(am,an)){c.addClass(am,an)}})}}function ab(){function an(au,ar){var at=new t(ar);for(ac=at.current();ac;ac=at.prev()){if(ac.childNodes.length>1||ac==au){return ac}}}var am=V.selection.getRng();var aq=am.startContainer;var al=am.endContainer;if(aq!=al&&am.endOffset==0){var ap=an(aq,al);var ao=ap.nodeType==3?ap.length:ap.childNodes.length;am.setEnd(ap,ao)}return am}function Y(ao,au,ar,aq,am){var al=[],an=-1,at,aw=-1,ap=-1,av;O(ao.childNodes,function(ay,ax){if(ay.nodeName===\"UL\"||ay.nodeName===\"OL\"){an=ax;at=ay;return false}});O(ao.childNodes,function(ay,ax){if(ay.nodeName===\"SPAN\"&&c.getAttrib(ay,\"data-mce-type\")==\"bookmark\"){if(ay.id==au.id+\"_start\"){aw=ax}else{if(ay.id==au.id+\"_end\"){ap=ax}}}});if(an<=0||(aw<an&&ap>an)){O(a.grep(ao.childNodes),am);return 0}else{av=ar.cloneNode(S);O(a.grep(ao.childNodes),function(ay,ax){if((aw<an&&ax<an)||(aw>an&&ax>an)){al.push(ay);ay.parentNode.removeChild(ay)}});if(aw<an){ao.insertBefore(av,at)}else{if(aw>an){ao.insertBefore(av,at.nextSibling)}}aq.push(av);O(al,function(ax){av.appendChild(ax)});return av}}function aj(am,ao){var al=[],ap,an;ap=ai.inline||ai.block;an=c.create(ap);W(an);K.walk(am,function(aq){var ar;function at(au){var ax=au.nodeName.toLowerCase(),aw=au.parentNode.nodeName.toLowerCase(),av;if(g(ax,\"br\")){ar=0;if(ai.block){c.remove(au)}return}if(ai.wrapper&&x(au,Z,ah)){ar=0;return}if(ai.block&&!ai.wrapper&&G(ax)){au=c.rename(au,ap);W(au);al.push(au);ar=0;return}if(ai.selector){O(ad,function(ay){if(\"collapsed\" in ay&&ay.collapsed!==ae){return}if(c.is(au,ay.selector)&&!b(au)){W(au,ay);av=true}});if(!ai.inline||av){ar=0;return}}if(d(ap,ax)&&d(aw,ap)&&!(au.nodeType===3&&au.nodeValue.length===1&&au.nodeValue.charCodeAt(0)===65279)){if(!ar){ar=an.cloneNode(S);au.parentNode.insertBefore(ar,au);al.push(ar)}ar.appendChild(au)}else{if(ax==\"li\"&&ao){ar=Y(au,ao,an,al,at)}else{ar=0;O(a.grep(au.childNodes),at);ar=0}}}O(aq,at)});if(ai.wrap_links===false){O(al,function(aq){function ar(aw){var av,au,at;if(aw.nodeName===\"A\"){au=an.cloneNode(S);al.push(au);at=a.grep(aw.childNodes);for(av=0;av<at.length;av++){au.appendChild(at[av])}aw.appendChild(au)}O(a.grep(aw.childNodes),ar)}ar(aq)})}O(al,function(at){var aq;function au(aw){var av=0;O(aw.childNodes,function(ax){if(!f(ax)&&!H(ax)){av++}});return av}function ar(av){var ax,aw;O(av.childNodes,function(ay){if(ay.nodeType==1&&!H(ay)&&!b(ay)){ax=ay;return S}});if(ax&&h(ax,ai)){aw=ax.cloneNode(S);W(aw);c.replace(aw,av,B);c.remove(ax,1)}return aw||av}aq=au(at);if((al.length>1||!F(at))&&aq===0){c.remove(at,1);return}if(ai.inline||ai.wrapper){if(!ai.exact&&aq===1){at=ar(at)}O(ad,function(av){O(c.select(av.inline,at),function(ax){var aw;if(av.wrap_links===false){aw=ax.parentNode;do{if(aw.nodeName===\"A\"){return}}while(aw=aw.parentNode)}U(av,ah,ax,av.exact?ax:null)})});if(x(at.parentNode,Z,ah)){c.remove(at,1);at=0;return B}if(ai.merge_with_parents){c.getParent(at.parentNode,function(av){if(x(av,Z,ah)){c.remove(at,1);at=0;return B}})}if(at&&ai.merge_siblings!==false){at=u(C(at),at);at=u(at,C(at,B))}}})}if(ai){if(ac){X=c.createRng();X.setStartBefore(ac);X.setEndAfter(ac);aj(o(X,ad))}else{if(!ae||!ai.inline||c.select(\"td.mceSelected,th.mceSelected\").length){var ak=V.selection.getNode();V.selection.setRng(ab());ag=q.getBookmark();aj(o(q.getRng(B),ad),ag);if(ai.styles&&(ai.styles.color||ai.styles.textDecoration)){a.walk(ak,I,\"childNodes\");I(ak)}q.moveToBookmark(ag);q.setRng(aa(q.getRng(B)));V.nodeChanged()}else{Q(\"apply\",Z,ah)}}}}function A(Y,ah,ab){var ac=R(Y),aj=ac[0],ag,af,X;function aa(am){var al=am.startContainer,ar=am.startOffset,aq,ap,an,ao;if(al.nodeType==3&&ar>=al.nodeValue.length-1){al=al.parentNode;ar=s(al)+1}if(al.nodeType==1){an=al.childNodes;al=an[Math.min(ar,an.length-1)];aq=new t(al);if(ar>an.length-1){aq.next()}for(ap=aq.current();ap;ap=aq.next()){if(ap.nodeType==3&&!f(ap)){ao=c.create(\"a\",null,E);ap.parentNode.insertBefore(ao,ap);am.setStart(ap,0);q.setRng(am);c.remove(ao);return}}}}function Z(ao){var an,am,al;an=a.grep(ao.childNodes);for(am=0,al=ac.length;am<al;am++){if(U(ac[am],ah,ao,ao)){break}}if(aj.deep){for(am=0,al=an.length;am<al;am++){Z(an[am])}}}function ad(al){var am;O(m(al.parentNode).reverse(),function(an){var ao;if(!am&&an.id!=\"_start\"&&an.id!=\"_end\"){ao=x(an,Y,ah);if(ao&&ao.split!==false){am=an}}});return am}function W(ao,al,aq,au){var av,at,ar,an,ap,am;if(ao){am=ao.parentNode;for(av=al.parentNode;av&&av!=am;av=av.parentNode){at=av.cloneNode(S);for(ap=0;ap<ac.length;ap++){if(U(ac[ap],ah,at,at)){at=0;break}}if(at){if(ar){at.appendChild(ar)}if(!an){an=at}ar=at}}if(au&&(!aj.mixed||!F(ao))){al=c.split(ao,al)}if(ar){aq.parentNode.insertBefore(ar,aq);an.appendChild(aq)}}return al}function ai(al){return W(ad(al),al,al,true)}function ae(an){var am=c.get(an?\"_start\":\"_end\"),al=am[an?\"firstChild\":\"lastChild\"];if(H(al)){al=al[an?\"firstChild\":\"lastChild\"]}c.remove(am,true);return al}function ak(al){var am,an;al=o(al,ac,B);if(aj.split){am=J(al,B);an=J(al);if(am!=an){am=N(am,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"});an=N(an,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"});ai(am);ai(an);am=ae(B);an=ae()}else{am=an=ai(am)}al.startContainer=am.parentNode;al.startOffset=s(am);al.endContainer=an.parentNode;al.endOffset=s(an)+1}K.walk(al,function(ao){O(ao,function(ap){Z(ap);if(ap.nodeType===1&&V.dom.getStyle(ap,\"text-decoration\")===\"underline\"&&ap.parentNode&&i(ap.parentNode)===\"underline\"){U({deep:false,exact:true,inline:\"span\",styles:{textDecoration:\"underline\"}},null,ap)}})})}if(ab){X=c.createRng();X.setStartBefore(ab);X.setEndAfter(ab);ak(X);return}if(!q.isCollapsed()||!aj.inline||c.select(\"td.mceSelected,th.mceSelected\").length){ag=q.getBookmark();ak(q.getRng(B));q.moveToBookmark(ag);if(aj.inline&&j(Y,ah,q.getStart())){aa(q.getRng(true))}V.nodeChanged()}else{Q(\"remove\",Y,ah)}}function D(X,Z,Y){var W=R(X);if(j(X,Z,Y)&&(!(\"toggle\" in W[0])||W[0][\"toggle\"])){A(X,Z,Y)}else{T(X,Z,Y)}}function x(X,W,ac,aa){var Y=R(W),ad,ab,Z;function ae(ai,ak,al){var ah,aj,af=ak[al],ag;if(ak.onmatch){return ak.onmatch(ai,ak,al)}if(af){if(af.length===p){for(ah in af){if(af.hasOwnProperty(ah)){if(al===\"attributes\"){aj=c.getAttrib(ai,ah)}else{aj=L(ai,ah)}if(aa&&!aj&&!ak.exact){return}if((!aa||ak.exact)&&!g(aj,r(af[ah],ac))){return}}}}else{for(ag=0;ag<af.length;ag++){if(al===\"attributes\"?c.getAttrib(ai,af[ag]):L(ai,af[ag])){return ak}}}}return ak}if(Y&&X){for(ab=0;ab<Y.length;ab++){ad=Y[ab];if(h(X,ad)&&ae(X,ad,\"attributes\")&&ae(X,ad,\"styles\")){if(Z=ad.classes){for(ab=0;ab<Z.length;ab++){if(!c.hasClass(X,Z[ab])){return}}}return ad}}}}function j(Y,ab,aa){var X,Z;function W(ac){ac=c.getParent(ac,function(ad){return !!x(ad,Y,ab,true)});return x(ac,Y,ab)}if(aa){return W(aa)}if(q.isCollapsed()){for(Z=P.apply.length-1;Z>=0;Z--){if(P.apply[Z].name==Y){return true}}for(Z=P.remove.length-1;Z>=0;Z--){if(P.remove[Z].name==Y){return false}}return W(q.getNode())}aa=q.getNode();if(W(aa)){return B}X=q.getStart();if(X!=aa){if(W(X)){return B}}return S}function v(ad,ac){var aa,ab=[],Z={},Y,X,W;if(q.isCollapsed()){for(X=0;X<ad.length;X++){for(Y=P.remove.length-1;Y>=0;Y--){W=ad[X];if(P.remove[Y].name==W){Z[W]=true;break}}}for(Y=P.apply.length-1;Y>=0;Y--){for(X=0;X<ad.length;X++){W=ad[X];if(!Z[W]&&P.apply[Y].name==W){Z[W]=true;ab.push(W)}}}}aa=q.getStart();c.getParent(aa,function(ag){var af,ae;for(af=0;af<ad.length;af++){ae=ad[af];if(!Z[ae]&&x(ag,ae,ac)){Z[ae]=true;ab.push(ae)}}});return ab}function y(aa){var ac=R(aa),Z,Y,ab,X,W;if(ac){Z=q.getStart();Y=m(Z);for(X=ac.length-1;X>=0;X--){W=ac[X].selector;if(!W){return B}for(ab=Y.length-1;ab>=0;ab--){if(c.is(Y[ab],W)){return B}}}}return S}a.extend(this,{get:R,register:k,apply:T,remove:A,toggle:D,match:j,matchAll:v,matchNode:x,canApply:y});function h(W,X){if(g(W,X.inline)){return B}if(g(W,X.block)){return B}if(X.selector){return c.is(W,X.selector)}}function g(X,W){X=X||\"\";W=W||\"\";X=\"\"+(X.nodeName||X);W=\"\"+(W.nodeName||W);return X.toLowerCase()==W.toLowerCase()}function L(X,W){var Y=c.getStyle(X,W);if(W==\"color\"||W==\"backgroundColor\"){Y=c.toHex(Y)}if(W==\"fontWeight\"&&Y==700){Y=\"bold\"}return\"\"+Y}function r(W,X){if(typeof(W)!=\"string\"){W=W(X)}else{if(X){W=W.replace(/%(\\w+)/g,function(Z,Y){return X[Y]||Z})}}return W}function f(W){return W&&W.nodeType===3&&/^([\\s\\r\\n]+|)$/.test(W.nodeValue)}function N(Y,X,W){var Z=c.create(X,W);Y.parentNode.insertBefore(Z,Y);Z.appendChild(Y);return Z}function o(W,ag,Z){var Y=W.startContainer,ad=W.startOffset,aj=W.endContainer,ae=W.endOffset,ai,af,ac;function ah(am,an,ak,al){var ao,ap;al=al||c.getRoot();for(;;){ao=am.parentNode;if(ao==al||(!ag[0].block_expand&&F(ao))){return am}for(ai=ao[an];ai&&ai!=am;ai=ai[ak]){if(ai.nodeType==1&&!H(ai)){return am}if(ai.nodeType==3&&!f(ai)){return am}}am=am.parentNode}return am}function ab(ak,al){if(al===p){al=ak.nodeType===3?ak.length:ak.childNodes.length}while(ak&&ak.hasChildNodes()){ak=ak.childNodes[al];if(ak){al=ak.nodeType===3?ak.length:ak.childNodes.length}}return{node:ak,offset:al}}if(Y.nodeType==1&&Y.hasChildNodes()){af=Y.childNodes.length-1;Y=Y.childNodes[ad>af?af:ad];if(Y.nodeType==3){ad=0}}if(aj.nodeType==1&&aj.hasChildNodes()){af=aj.childNodes.length-1;aj=aj.childNodes[ae>af?af:ae-1];if(aj.nodeType==3){ae=aj.nodeValue.length}}if(H(Y.parentNode)){Y=Y.parentNode}if(H(Y)){Y=Y.nextSibling||Y}if(H(aj.parentNode)){ae=c.nodeIndex(aj);aj=aj.parentNode}if(H(aj)&&aj.previousSibling){aj=aj.previousSibling;ae=aj.length}if(ag[0].inline){ac=ab(aj,ae);if(ac.node){while(ac.node&&ac.offset===0&&ac.node.previousSibling){ac=ab(ac.node.previousSibling)}if(ac.node&&ac.offset>0&&ac.node.nodeType===3&&ac.node.nodeValue.charAt(ac.offset-1)===\" \"){if(ac.offset>1){aj=ac.node;aj.splitText(ac.offset-1)}else{if(ac.node.previousSibling){aj=ac.node.previousSibling}}}}}if(ag[0].inline||ag[0].block_expand){Y=ah(Y,\"firstChild\",\"nextSibling\");aj=ah(aj,\"lastChild\",\"previousSibling\")}if(ag[0].selector&&ag[0].expand!==S&&!ag[0].inline){function aa(al,ak){var am,an,ap,ao;if(al.nodeType==3&&al.nodeValue.length==0&&al[ak]){al=al[ak]}am=m(al);for(an=0;an<am.length;an++){for(ap=0;ap<ag.length;ap++){ao=ag[ap];if(\"collapsed\" in ao&&ao.collapsed!==W.collapsed){continue}if(c.is(am[an],ao.selector)){return am[an]}}}return al}Y=aa(Y,\"previousSibling\");aj=aa(aj,\"nextSibling\")}if(ag[0].block||ag[0].selector){function X(al,ak,an){var am;if(!ag[0].wrapper){am=c.getParent(al,ag[0].block)}if(!am){am=c.getParent(al.nodeType==3?al.parentNode:al,F)}if(am&&ag[0].wrapper){am=m(am,\"ul,ol\").reverse()[0]||am}if(!am){am=al;while(am[ak]&&!F(am[ak])){am=am[ak];if(g(am,\"br\")){break}}}return am||al}Y=X(Y,\"previousSibling\");aj=X(aj,\"nextSibling\");if(ag[0].block){if(!F(Y)){Y=ah(Y,\"firstChild\",\"nextSibling\")}if(!F(aj)){aj=ah(aj,\"lastChild\",\"previousSibling\")}}}if(Y.nodeType==1){ad=s(Y);Y=Y.parentNode}if(aj.nodeType==1){ae=s(aj)+1;aj=aj.parentNode}return{startContainer:Y,startOffset:ad,endContainer:aj,endOffset:ae}}function U(ac,ab,Z,W){var Y,X,aa;if(!h(Z,ac)){return S}if(ac.remove!=\"all\"){O(ac.styles,function(ae,ad){ae=r(ae,ab);if(typeof(ad)===\"number\"){ad=ae;W=0}if(!W||g(L(W,ad),ae)){c.setStyle(Z,ad,\"\")}aa=1});if(aa&&c.getAttrib(Z,\"style\")==\"\"){Z.removeAttribute(\"style\");Z.removeAttribute(\"data-mce-style\")}O(ac.attributes,function(af,ad){var ae;af=r(af,ab);if(typeof(ad)===\"number\"){ad=af;W=0}if(!W||g(c.getAttrib(W,ad),af)){if(ad==\"class\"){af=c.getAttrib(Z,ad);if(af){ae=\"\";O(af.split(/\\s+/),function(ag){if(/mce\\w+/.test(ag)){ae+=(ae?\" \":\"\")+ag}});if(ae){c.setAttrib(Z,ad,ae);return}}}if(ad==\"class\"){Z.removeAttribute(\"className\")}if(e.test(ad)){Z.removeAttribute(\"data-mce-\"+ad)}Z.removeAttribute(ad)}});O(ac.classes,function(ad){ad=r(ad,ab);if(!W||c.hasClass(W,ad)){c.removeClass(Z,ad)}});X=c.getAttribs(Z);for(Y=0;Y<X.length;Y++){if(X[Y].nodeName.indexOf(\"_\")!==0){return S}}}if(ac.remove!=\"none\"){n(Z,ac);return B}}function n(Y,Z){var W=Y.parentNode,X;if(Z.block){if(!l){function aa(ac,ab,ad){ac=C(ac,ab,ad);return !ac||(ac.nodeName==\"BR\"||F(ac))}if(F(Y)&&!F(W)){if(!aa(Y,S)&&!aa(Y.firstChild,B,1)){Y.insertBefore(c.create(\"br\"),Y.firstChild)}if(!aa(Y,B)&&!aa(Y.lastChild,S,1)){Y.appendChild(c.create(\"br\"))}}}else{if(W==c.getRoot()){if(!Z.list_block||!g(Y,Z.list_block)){O(a.grep(Y.childNodes),function(ab){if(d(l,ab.nodeName.toLowerCase())){if(!X){X=N(ab,l)}else{X.appendChild(ab)}}else{X=0}})}}}}if(Z.selector&&Z.inline&&!g(Z.inline,Y)){return}c.remove(Y,1)}function C(X,W,Y){if(X){W=W?\"nextSibling\":\"previousSibling\";for(X=Y?X:X[W];X;X=X[W]){if(X.nodeType==1||!f(X)){return X}}}}function H(W){return W&&W.nodeType==1&&W.getAttribute(\"data-mce-type\")==\"bookmark\"}function u(aa,Z){var W,Y,X;function ac(af,ae){if(af.nodeName!=ae.nodeName){return S}function ad(ah){var ai={};O(c.getAttribs(ah),function(aj){var ak=aj.nodeName.toLowerCase();if(ak.indexOf(\"_\")!==0&&ak!==\"style\"){ai[ak]=c.getAttrib(ah,ak)}});return ai}function ag(ak,aj){var ai,ah;for(ah in ak){if(ak.hasOwnProperty(ah)){ai=aj[ah];if(ai===p){return S}if(ak[ah]!=ai){return S}delete aj[ah]}}for(ah in aj){if(aj.hasOwnProperty(ah)){return S}}return B}if(!ag(ad(af),ad(ae))){return S}if(!ag(c.parseStyle(c.getAttrib(af,\"style\")),c.parseStyle(c.getAttrib(ae,\"style\")))){return S}return B}if(aa&&Z){function ab(ae,ad){for(Y=ae;Y;Y=Y[ad]){if(Y.nodeType==3&&Y.nodeValue.length!==0){return ae}if(Y.nodeType==1&&!H(Y)){return Y}}return ae}aa=ab(aa,\"previousSibling\");Z=ab(Z,\"nextSibling\");if(ac(aa,Z)){for(Y=aa.nextSibling;Y&&Y!=Z;){X=Y;Y=Y.nextSibling;aa.appendChild(X)}c.remove(Z);O(a.grep(Z.childNodes),function(ad){aa.appendChild(ad)});return aa}}return Z}function G(W){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(W)}function J(X,aa){var W,Z,Y;W=X[aa?\"startContainer\":\"endContainer\"];Z=X[aa?\"startOffset\":\"endOffset\"];if(W.nodeType==1){Y=W.childNodes.length-1;if(!aa&&Z){Z--}W=W.childNodes[Z>Y?Y:Z]}return W}function Q(ad,Y,ac){var aa,X=P[ad],ae=P[ad==\"apply\"?\"remove\":\"apply\"];function af(){return P.apply.length||P.remove.length}function ab(){P.apply=[];P.remove=[]}function ag(ah){O(P.apply.reverse(),function(ai){T(ai.name,ai.vars,ah);if(ai.name===\"forecolor\"&&ai.vars.value){I(ah.parentNode)}});O(P.remove.reverse(),function(ai){A(ai.name,ai.vars,ah)});c.remove(ah,1);ab()}for(aa=X.length-1;aa>=0;aa--){if(X[aa].name==Y){return}}X.push({name:Y,vars:ac});for(aa=ae.length-1;aa>=0;aa--){if(ae[aa].name==Y){ae.splice(aa,1)}}if(af()){V.getDoc().execCommand(\"FontName\",false,\"mceinline\");P.lastRng=q.getRng();O(c.select(\"font,span\"),function(ai){var ah;if(b(ai)){ah=q.getBookmark();ag(ai);q.moveToBookmark(ah);V.nodeChanged()}});if(!P.isListening&&af()){P.isListening=true;function W(ai,aj){var ah=c.createRng();ag(ai);ah.setStart(aj,aj.nodeValue.length);ah.setEnd(aj,aj.nodeValue.length);q.setRng(ah);V.nodeChanged()}var Z=false;O(\"onKeyDown,onKeyUp,onKeyPress,onMouseUp\".split(\",\"),function(ah){V[ah].addToTop(function(ai,al){if(al.keyCode==13&&!al.shiftKey){Z=true;return}if(af()&&!a.dom.RangeUtils.compareRanges(P.lastRng,q.getRng())){var aj=false;O(c.select(\"font,span\"),function(ao){var ap,an;if(b(ao)){aj=true;ap=ao.firstChild;while(ap&&ap.nodeType!=3){ap=ap.firstChild}if(ap){W(ao,ap)}else{c.remove(ao)}}});if(Z&&!aj){var ak=q.getNode();var am=ak;while(am&&am.nodeType!=3){am=am.firstChild}if(am){ak=am.parentNode;while(!F(ak)){ak=ak.parentNode}W(ak,am)}}if(al.type==\"keyup\"||al.type==\"mouseup\"){ab();Z=false}}})})}}}}})(tinymce);tinymce.onAddEditor.add(function(e,a){var d,h,g,c=a.settings;if(c.inline_styles){h=e.explode(c.font_size_style_values);function b(j,i){e.each(i,function(l,k){if(l){g.setStyle(j,k,l)}});g.rename(j,\"span\")}d={font:function(j,i){b(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:h[parseInt(i.size)-1]})},u:function(j,i){b(i,{textDecoration:\"underline\"})},strike:function(j,i){b(i,{textDecoration:\"line-through\"})}};function f(i,j){g=i.dom;if(c.convert_fonts_to_spans){e.each(g.select(\"font,u,strike\",j.node),function(k){d[k.nodeName.toLowerCase()](a.dom,k)})}}a.onPreProcess.add(f);a.onSetContent.add(f);a.onInit.add(function(){a.selection.onSetContent.add(f)})}});\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/tiny_mce_jquery.js:\n    1: (function(d){var a=/^\\s*|\\s*$/g,e,c=\"B\".replace(/A(.)|B/,\"$1\")===\"$1\";var b={majorVersion:\"3\",minorVersion:\"4.6\",releaseDate:\"2011-09-29\",_init:function(){var s=this,q=document,o=navigator,g=o.userAgent,m,f,l,k,j,r;s.isOpera=d.opera&&opera.buildNumber;s.isWebKit=/WebKit/.test(g);s.isIE=!s.isWebKit&&!s.isOpera&&(/MSIE/gi).test(g)&&(/Explorer/gi).test(o.appName);s.isIE6=s.isIE&&/MSIE [56]/.test(g);s.isIE7=s.isIE&&/MSIE [7]/.test(g);s.isIE8=s.isIE&&/MSIE [8]/.test(g);s.isIE9=s.isIE&&/MSIE [9]/.test(g);s.isGecko=!s.isWebKit&&/Gecko/.test(g);s.isMac=g.indexOf(\"Mac\")!=-1;s.isAir=/adobeair/i.test(g);s.isIDevice=/(iPad|iPhone)/.test(g);s.isIOS5=s.isIDevice&&g.match(/AppleWebKit\\/(\\d*)/)[1]>=534;if(d.tinyMCEPreInit){s.suffix=tinyMCEPreInit.suffix;s.baseURL=tinyMCEPreInit.base;s.query=tinyMCEPreInit.query;return}s.suffix=\"\";f=q.getElementsByTagName(\"base\");for(m=0;m<f.length;m++){if(r=f[m].href){if(/^https?:\\/\\/[^\\/]+$/.test(r)){r+=\"/\"}k=r?r.match(/.*\\//)[0]:\"\"}}function h(i){if(i.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(i.src)){if(/_(src|dev)\\.js/g.test(i.src)){s.suffix=\"_src\"}if((j=i.src.indexOf(\"?\"))!=-1){s.query=i.src.substring(j+1)}s.baseURL=i.src.substring(0,i.src.lastIndexOf(\"/\"));if(k&&s.baseURL.indexOf(\"://\")==-1&&s.baseURL.indexOf(\"/\")!==0){s.baseURL=k+s.baseURL}return s.baseURL}return null}f=q.getElementsByTagName(\"script\");for(m=0;m<f.length;m++){if(h(f[m])){return}}l=q.getElementsByTagName(\"head\")[0];if(l){f=l.getElementsByTagName(\"script\");for(m=0;m<f.length;m++){if(h(f[m])){return}}}return},is:function(g,f){if(!f){return g!==e}if(f==\"array\"&&(g.hasOwnProperty&&g instanceof Array)){return true}return typeof(g)==f},makeMap:function(f,j,h){var g;f=f||[];j=j||\",\";if(typeof(f)==\"string\"){f=f.split(j)}h=h||{};g=f.length;while(g--){h[f[g]]={}}return h},each:function(i,f,h){var j,g;if(!i){return 0}h=h||i;if(i.length!==e){for(j=0,g=i.length;j<g;j++){if(f.call(h,i[j],j,i)===false){return 0}}}else{for(j in i){if(i.hasOwnProperty(j)){if(f.call(h,i[j],j,i)===false){return 0}}}}return 1},trim:function(f){return(f?\"\"+f:\"\").replace(a,\"\")},create:function(o,f,j){var n=this,g,i,k,l,h,m=0;o=/^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(o);k=o[3].match(/(^|\\.)(\\w+)$/i)[2];i=n.createNS(o[3].replace(/\\.\\w+$/,\"\"),j);if(i[k]){return}if(o[2]==\"static\"){i[k]=f;if(this.onCreate){this.onCreate(o[2],o[3],i[k])}return}if(!f[k]){f[k]=function(){};m=1}i[k]=f[k];n.extend(i[k].prototype,f);if(o[5]){g=n.resolve(o[5]).prototype;l=o[5].match(/\\.(\\w+)$/i)[1];h=i[k];if(m){i[k]=function(){return g[l].apply(this,arguments)}}else{i[k]=function(){this.parent=g[l];return h.apply(this,arguments)}}i[k].prototype[k]=i[k];n.each(g,function(p,q){i[k].prototype[q]=g[q]});n.each(f,function(p,q){if(g[q]){i[k].prototype[q]=function(){this.parent=g[q];return p.apply(this,arguments)}}else{if(q!=k){i[k].prototype[q]=p}}})}n.each(f[\"static\"],function(p,q){i[k][q]=p});if(this.onCreate){this.onCreate(o[2],o[3],i[k].prototype)}},walk:function(i,h,j,g){g=g||this;if(i){if(j){i=i[j]}b.each(i,function(k,f){if(h.call(g,k,f,j)===false){return false}b.walk(k,h,j,g)})}},createNS:function(j,h){var g,f;h=h||d;j=j.split(\".\");for(g=0;g<j.length;g++){f=j[g];if(!h[f]){h[f]={}}h=h[f]}return h},resolve:function(j,h){var g,f;h=h||d;j=j.split(\".\");for(g=0,f=j.length;g<f;g++){h=h[j[g]];if(!h){break}}return h},addUnload:function(j,i){var h=this;j={func:j,scope:i||this};if(!h.unloads){function g(){var f=h.unloads,l,m;if(f){for(m in f){l=f[m];if(l&&l.func){l.func.call(l.scope,1)}}if(d.detachEvent){d.detachEvent(\"onbeforeunload\",k);d.detachEvent(\"onunload\",g)}else{if(d.removeEventListener){d.removeEventListener(\"unload\",g,false)}}h.unloads=l=f=w=g=0;if(d.CollectGarbage){CollectGarbage()}}}function k(){var l=document;if(l.readyState==\"interactive\"){function f(){l.detachEvent(\"onstop\",f);if(g){g()}l=0}if(l){l.attachEvent(\"onstop\",f)}d.setTimeout(function(){if(l){l.detachEvent(\"onstop\",f)}},0)}}if(d.attachEvent){d.attachEvent(\"onunload\",g);d.attachEvent(\"onbeforeunload\",k)}else{if(d.addEventListener){d.addEventListener(\"unload\",g,false)}}h.unloads=[j]}else{h.unloads.push(j)}return j},removeUnload:function(i){var g=this.unloads,h=null;b.each(g,function(j,f){if(j&&j.func==i){g.splice(f,1);h=i;return false}});return h},explode:function(f,g){return f?b.map(f.split(g||\",\"),b.trim):f},_addVer:function(g){var f;if(!this.query){return g}f=(g.indexOf(\"?\")==-1?\"?\":\"&\")+this.query;if(g.indexOf(\"#\")==-1){return g+f}return g.replace(\"#\",f+\"#\")},_replace:function(h,f,g){if(c){return g.replace(h,function(){var l=f,j=arguments,k;for(k=0;k<j.length-2;k++){if(j[k]===e){l=l.replace(new RegExp(\"\\\\$\"+k,\"g\"),\"\")}else{l=l.replace(new RegExp(\"\\\\$\"+k,\"g\"),j[k])}}return l})}return g.replace(h,f)}};b._init();d.tinymce=d.tinyMCE=b})(window);(function(e,d){var c=d.is,b=/^(href|src|style)$/i,f;if(!e&&window.console){return console.log(\"Load jQuery first!\")}d.$=e;d.adapter={patchEditor:function(j){var i=e.fn;function h(n,o){var m=this;if(o){m.removeAttr(\"data-mce-style\")}return i.css.apply(m,arguments)}function g(n,o){var m=this;if(b.test(n)){if(o!==f){m.each(function(p,q){j.dom.setAttrib(q,n,o)});return m}else{return m.attr(\"data-mce-\"+n)}}return i.attr.apply(m,arguments)}function k(m){return function(n){if(n){n=j.dom.processHTML(n)}return m.call(this,n)}}function l(m){if(m.css!==h){m.css=h;m.attr=g;m.html=k(i.html);m.append=k(i.append);m.prepend=k(i.prepend);m.after=k(i.after);m.before=k(i.before);m.replaceWith=k(i.replaceWith);m.tinymce=j;m.pushStack=function(){return l(i.pushStack.apply(this,arguments))}}return m}j.$=function(m,n){var o=j.getDoc();return l(e(m||o,o||n))}}};d.extend=e.extend;d.extend(d,{map:e.map,grep:function(g,h){return e.grep(g,h||function(){return 1})},inArray:function(g,h){return e.inArray(h,g||[])}});var a={\"tinymce.dom.DOMUtils\":{select:function(i,h){var g=this;return e.find(i,g.get(h)||g.get(g.settings.root_element)||g.doc,[])},is:function(h,g){return e(this.get(h)).is(g)}}};d.onCreate=function(g,i,h){d.extend(h,a[i])}})(window.jQuery,tinymce);tinymce.create(\"tinymce.util.Dispatcher\",{scope:null,listeners:null,Dispatcher:function(a){this.scope=a||this;this.listeners=[]},add:function(a,b){this.listeners.push({cb:a,scope:b||this.scope});return a},addToTop:function(a,b){this.listeners.unshift({cb:a,scope:b||this.scope});return a},remove:function(a){var b=this.listeners,c=null;tinymce.each(b,function(e,d){if(a==e.cb){c=a;b.splice(d,1);return false}});return c},dispatch:function(){var f,d=arguments,e,b=this.listeners,g;for(e=0;e<b.length;e++){g=b[e];f=g.cb.apply(g.scope,d);if(f===false){break}}return f}});(function(){var a=tinymce.each;tinymce.create(\"tinymce.util.URI\",{URI:function(e,g){var f=this,i,d,c,h;e=tinymce.trim(e);g=f.settings=g||{};if(/^([\\w\\-]+):([^\\/]{2})/i.test(e)||/^\\s*#/.test(e)){f.source=e;return}if(e.indexOf(\"/\")===0&&e.indexOf(\"//\")!==0){e=(g.base_uri?g.base_uri.protocol||\"http\":\"http\")+\"://mce_host\"+e}if(!/^[\\w-]*:?\\/\\//.test(e)){h=g.base_uri?g.base_uri.path:new tinymce.util.URI(location.href).directory;e=((g.base_uri&&g.base_uri.protocol)||\"http\")+\"://mce_host\"+f.toAbsPath(h,e)}e=e.replace(/@@/g,\"(mce_at)\");e=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e);a([\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],function(b,j){var k=e[j];if(k){k=k.replace(/\\(mce_at\\)/g,\"@@\")}f[b]=k});if(c=g.base_uri){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host==\"mce_host\"){f.port=c.port}if(!f.host||f.host==\"mce_host\"){f.host=c.host}f.source=\"\"}},setPath:function(c){var b=this;c=/^(.*?)\\/?(\\w+)?$/.exec(c);b.path=c[0];b.directory=c[1];b.file=c[2];b.source=\"\";b.getURI()},toRelative:function(b){var c=this,d;if(b===\"./\"){return b}b=new tinymce.util.URI(b,{base_uri:c});if((b.host!=\"mce_host\"&&c.host!=b.host&&b.host)||c.port!=b.port||c.protocol!=b.protocol){return b.getURI()}d=c.toRelPath(c.path,b.path);if(b.query){d+=\"?\"+b.query}if(b.anchor){d+=\"#\"+b.anchor}return d},toAbsolute:function(b,c){var b=new tinymce.util.URI(b,{base_uri:this});return b.getURI(this.host==b.host&&this.protocol==b.protocol?c:0)},toRelPath:function(g,h){var c,f=0,d=\"\",e,b;g=g.substring(0,g.lastIndexOf(\"/\"));g=g.split(\"/\");c=h.split(\"/\");if(g.length>=c.length){for(e=0,b=g.length;e<b;e++){if(e>=c.length||g[e]!=c[e]){f=e+1;break}}}if(g.length<c.length){for(e=0,b=c.length;e<b;e++){if(e>=g.length||g[e]!=c[e]){f=e+1;break}}}if(f==1){return h}for(e=0,b=g.length-(f-1);e<b;e++){d+=\"../\"}for(e=f-1,b=c.length;e<b;e++){if(e!=f-1){d+=\"/\"+c[e]}else{d+=c[e]}}return d},toAbsPath:function(e,f){var c,b=0,h=[],d,g;d=/\\/$/.test(f)?\"/\":\"\";e=e.split(\"/\");f=f.split(\"/\");a(e,function(i){if(i){h.push(i)}});e=h;for(c=f.length-1,h=[];c>=0;c--){if(f[c].length==0||f[c]==\".\"){continue}if(f[c]==\"..\"){b++;continue}if(b>0){b--;continue}h.push(f[c])}c=e.length-b;if(c<=0){g=h.reverse().join(\"/\")}else{g=e.slice(0,c).join(\"/\")+\"/\"+h.reverse().join(\"/\")}if(g.indexOf(\"/\")!==0){g=\"/\"+g}if(d&&g.lastIndexOf(\"/\")!==g.length-1){g+=d}return g},getURI:function(d){var c,b=this;if(!b.source||d){c=\"\";if(!d){if(b.protocol){c+=b.protocol+\"://\"}if(b.userInfo){c+=b.userInfo+\"@\"}if(b.host){c+=b.host}if(b.port){c+=\":\"+b.port}}if(b.path){c+=b.path}if(b.query){c+=\"?\"+b.query}if(b.anchor){c+=\"#\"+b.anchor}b.source=c}return b.source}})})();(function(){var a=tinymce.each;tinymce.create(\"static tinymce.util.Cookie\",{getHash:function(d){var b=this.get(d),c;if(b){a(b.split(\"&\"),function(e){e=e.split(\"=\");c=c||{};c[unescape(e[0])]=unescape(e[1])})}return c},setHash:function(j,b,g,f,i,c){var h=\"\";a(b,function(e,d){h+=(!h?\"\":\"&\")+escape(d)+\"=\"+escape(e)});this.set(j,h,g,f,i,c)},get:function(i){var h=document.cookie,g,f=i+\"=\",d;if(!h){return}d=h.indexOf(\"; \"+f);if(d==-1){d=h.indexOf(f);if(d!=0){return null}}else{d+=2}g=h.indexOf(\";\",d);if(g==-1){g=h.length}return unescape(h.substring(d+f.length,g))},set:function(i,b,g,f,h,c){document.cookie=i+\"=\"+escape(b)+((g)?\"; expires=\"+g.toGMTString():\"\")+((f)?\"; path=\"+escape(f):\"\")+((h)?\"; domain=\"+h:\"\")+((c)?\"; secure\":\"\")},remove:function(e,b){var c=new Date();c.setTime(c.getTime()-1000);this.set(e,\"\",c,b,c)}})})();(function(){function serialize(o,quote){var i,v,t;quote=quote||'\"';if(o==null){return\"null\"}t=typeof o;if(t==\"string\"){v=\"\\bb\\tt\\nn\\ff\\rr\\\"\\\"''\\\\\\\\\";return quote+o.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g,function(a,b){if(quote==='\"'&&a===\"'\"){return a}i=v.indexOf(b);if(i+1){return\"\\\\\"+v.charAt(i+1)}a=b.charCodeAt().toString(16);return\"\\\\u\"+\"0000\".substring(a.length)+a})+quote}if(t==\"object\"){if(o.hasOwnProperty&&o instanceof Array){for(i=0,v=\"[\";i<o.length;i++){v+=(i>0?\",\":\"\")+serialize(o[i],quote)}return v+\"]\"}v=\"{\";for(i in o){v+=typeof o[i]!=\"function\"?(v.length>1?\",\"+quote:quote)+i+quote+\":\"+serialize(o[i],quote):\"\"}return v+\"}\"}return\"\"+o}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval(\"(\"+s+\")\")}catch(ex){}}}})();tinymce.create(\"static tinymce.util.XHR\",{send:function(g){var a,e,b=window,h=0;g.scope=g.scope||this;g.success_scope=g.success_scope||g.scope;g.error_scope=g.error_scope||g.scope;g.async=g.async===false?false:true;g.data=g.data||\"\";function d(i){a=0;try{a=new ActiveXObject(i)}catch(c){}return a}a=b.XMLHttpRequest?new XMLHttpRequest():d(\"Microsoft.XMLHTTP\")||d(\"Msxml2.XMLHTTP\");if(a){if(a.overrideMimeType){a.overrideMimeType(g.content_type)}a.open(g.type||(g.data?\"POST\":\"GET\"),g.url,g.async);if(g.content_type){a.setRequestHeader(\"Content-Type\",g.content_type)}a.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");a.send(g.data);function f(){if(!g.async||a.readyState==4||h++>10000){if(g.success&&h<10000&&a.status==200){g.success.call(g.success_scope,\"\"+a.responseText,a,g)}else{if(g.error){g.error.call(g.error_scope,h>10000?\"TIMED_OUT\":\"GENERAL\",a,g)}}a=null}else{b.setTimeout(f,10)}}if(!g.async){return f()}e=b.setTimeout(f,10)}}});(function(){var c=tinymce.extend,b=tinymce.util.JSON,a=tinymce.util.XHR;tinymce.create(\"tinymce.util.JSONRequest\",{JSONRequest:function(d){this.settings=c({},d);this.count=0},send:function(f){var e=f.error,d=f.success;f=c(this.settings,f);f.success=function(h,g){h=b.parse(h);if(typeof(h)==\"undefined\"){h={error:\"JSON Parse error.\"}}if(h.error){e.call(f.error_scope||f.scope,h.error,g)}else{d.call(f.success_scope||f.scope,h.result)}};f.error=function(h,g){if(e){e.call(f.error_scope||f.scope,h,g)}};f.data=b.serialize({id:f.id||\"c\"+(this.count++),method:f.method,params:f.params});f.content_type=\"application/json\";a.send(f)},\"static\":{sendRPC:function(d){return new tinymce.util.JSONRequest().send(d)}}})}());(function(a){a.VK={DELETE:46,BACKSPACE:8}})(tinymce);(function(i){var g=i.VK,h=g.BACKSPACE,f=g.DELETE;function b(j){var l=j.dom,k=j.selection;j.onKeyDown.add(function(n,r){var m,s,p,q,o;o=r.keyCode==f;if(o||r.keyCode==h){r.preventDefault();m=k.getRng();s=l.getParent(m.startContainer,l.isBlock);if(o){s=l.getNext(s,l.isBlock)}if(s){p=s.firstChild;while(p.nodeType==3&&p.nodeValue.length==0){p=p.nextSibling}if(p&&p.nodeName===\"SPAN\"){q=p.cloneNode(false)}}n.getDoc().execCommand(o?\"ForwardDelete\":\"Delete\",false,null);s=l.getParent(m.startContainer,l.isBlock);i.each(l.select(\"span.Apple-style-span,font.Apple-style-span\",s),function(t){var u=k.getBookmark();if(q){l.replace(q.cloneNode(false),t,true)}else{l.remove(t,true)}k.moveToBookmark(u)})}})}function c(j){j.onKeyUp.add(function(k,m){var l=m.keyCode;if(l==f||l==h){if(k.dom.isEmpty(k.getBody())){k.setContent(\"\",{format:\"raw\"});k.nodeChanged();return}}})}function a(j){j.dom.bind(j.getDoc(),\"focusin\",function(){j.selection.setRng(j.selection.getRng())})}function e(j){if(!Range.prototype.getClientRects){j.onMouseDown.add(function(l,m){if(m.target.nodeName===\"HTML\"){var k=l.getBody();k.blur();setTimeout(function(){k.focus()},0)}})}}function d(j){j.onClick.add(function(k,l){l=l.target;if(/^(IMG|HR)$/.test(l.nodeName)){k.selection.getSel().setBaseAndExtent(l,0,l,1)}if(l.nodeName==\"A\"&&k.dom.hasClass(l,\"mceItemAnchor\")){k.selection.select(l)}k.nodeChanged()})}i.create(\"tinymce.util.Quirks\",{Quirks:function(j){if(i.isWebKit){b(j);c(j);a(j);d(j)}if(i.isIE){c(j)}if(i.isGecko){e(j)}}})})(tinymce);(function(j){var a,g,d,k=/[&<>\\\"\\u007E-\\uD7FF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,b=/[<>&\\u007E-\\uD7FF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,f=/[<>&\\\"\\']/g,c=/&(#x|#)?([\\w]+);/g,i={128:\"\\u20AC\",130:\"\\u201A\",131:\"\\u0192\",132:\"\\u201E\",133:\"\\u2026\",134:\"\\u2020\",135:\"\\u2021\",136:\"\\u02C6\",137:\"\\u2030\",138:\"\\u0160\",139:\"\\u2039\",140:\"\\u0152\",142:\"\\u017D\",145:\"\\u2018\",146:\"\\u2019\",147:\"\\u201C\",148:\"\\u201D\",149:\"\\u2022\",150:\"\\u2013\",151:\"\\u2014\",152:\"\\u02DC\",153:\"\\u2122\",154:\"\\u0161\",155:\"\\u203A\",156:\"\\u0153\",158:\"\\u017E\",159:\"\\u0178\"};g={'\"':\"&quot;\",\"'\":\"&#39;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\"};d={\"&lt;\":\"<\",\"&gt;\":\">\",\"&amp;\":\"&\",\"&quot;\":'\"',\"&apos;\":\"'\"};function h(l){var m;m=document.createElement(\"div\");m.innerHTML=l;return m.textContent||m.innerText||l}function e(m,p){var n,o,l,q={};if(m){m=m.split(\",\");p=p||10;for(n=0;n<m.length;n+=2){o=String.fromCharCode(parseInt(m[n],p));if(!g[o]){l=\"&\"+m[n+1]+\";\";q[o]=l;q[l]=o}}return q}}a=e(\"50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro\",32);j.html=j.html||{};j.html.Entities={encodeRaw:function(m,l){return m.replace(l?k:b,function(n){return g[n]||n})},encodeAllRaw:function(l){return(\"\"+l).replace(f,function(m){return g[m]||m})},encodeNumeric:function(m,l){return m.replace(l?k:b,function(n){if(n.length>1){return\"&#\"+(((n.charCodeAt(0)-55296)*1024)+(n.charCodeAt(1)-56320)+65536)+\";\"}return g[n]||\"&#\"+n.charCodeAt(0)+\";\"})},encodeNamed:function(n,l,m){m=m||a;return n.replace(l?k:b,function(o){return g[o]||m[o]||o})},getEncodeFunc:function(l,o){var p=j.html.Entities;o=e(o)||a;function m(r,q){return r.replace(q?k:b,function(s){return g[s]||o[s]||\"&#\"+s.charCodeAt(0)+\";\"||s})}function n(r,q){return p.encodeNamed(r,q,o)}l=j.makeMap(l.replace(/\\+/g,\",\"));if(l.named&&l.numeric){return m}if(l.named){if(o){return n}return p.encodeNamed}if(l.numeric){return p.encodeNumeric}return p.encodeRaw},decode:function(l){return l.replace(c,function(n,m,o){if(m){o=parseInt(o,m.length===2?16:10);if(o>65535){o-=65536;return String.fromCharCode(55296+(o>>10),56320+(o&1023))}else{return i[o]||String.fromCharCode(o)}}return d[n]||a[n]||h(n)})}}})(tinymce);tinymce.html.Styles=function(d,f){var k=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,h=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,b=/\\s*([^:]+):\\s*([^;]+);?/g,l=/\\s+$/,m=/rgb/,e,g,a={},j;d=d||{};j=\"\\\\\\\" \\\\' \\\\; \\\\: ; : \\uFEFF\".split(\" \");for(g=0;g<j.length;g++){a[j[g]]=\"\\uFEFF\"+g;a[\"\\uFEFF\"+g]=j[g]}function c(n,q,p,i){function o(r){r=parseInt(r).toString(16);return r.length>1?r:\"0\"+r}return\"#\"+o(q)+o(p)+o(i)}return{toHex:function(i){return i.replace(k,c)},parse:function(r){var y={},p,n,v,q,u=d.url_converter,x=d.url_converter_scope||this;function o(C,F){var E,B,A,D;E=y[C+\"-top\"+F];if(!E){return}B=y[C+\"-right\"+F];if(E!=B){return}A=y[C+\"-bottom\"+F];if(B!=A){return}D=y[C+\"-left\"+F];if(A!=D){return}y[C+F]=D;delete y[C+\"-top\"+F];delete y[C+\"-right\"+F];delete y[C+\"-bottom\"+F];delete y[C+\"-left\"+F]}function t(B){var C=y[B],A;if(!C||C.indexOf(\" \")<0){return}C=C.split(\" \");A=C.length;while(A--){if(C[A]!==C[0]){return false}}y[B]=C[0];return true}function z(C,B,A,D){if(!t(B)){return}if(!t(A)){return}if(!t(D)){return}y[C]=y[B]+\" \"+y[A]+\" \"+y[D];delete y[B];delete y[A];delete y[D]}function s(A){q=true;return a[A]}function i(B,A){if(q){B=B.replace(/\\uFEFF[0-9]/g,function(C){return a[C]})}if(!A){B=B.replace(/\\\\([\\'\\\";:])/g,\"$1\")}return B}if(r){r=r.replace(/\\\\[\\\"\\';:\\uFEFF]/g,s).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,function(A){return A.replace(/[;:]/g,s)});while(p=b.exec(r)){n=p[1].replace(l,\"\").toLowerCase();v=p[2].replace(l,\"\");if(n&&v.length>0){if(n===\"font-weight\"&&v===\"700\"){v=\"bold\"}else{if(n===\"color\"||n===\"background-color\"){v=v.toLowerCase()}}v=v.replace(k,c);v=v.replace(h,function(B,A,E,D,F,C){F=F||C;if(F){F=i(F);return\"'\"+F.replace(/\\'/g,\"\\\\'\")+\"'\"}A=i(A||E||D);if(u){A=u.call(x,A,\"style\")}return\"url('\"+A.replace(/\\'/g,\"\\\\'\")+\"')\"});y[n]=q?i(v,true):v}b.lastIndex=p.index+p[0].length}o(\"border\",\"\");o(\"border\",\"-width\");o(\"border\",\"-color\");o(\"border\",\"-style\");o(\"padding\",\"\");o(\"margin\",\"\");z(\"border\",\"border-width\",\"border-style\",\"border-color\");if(y.border===\"medium none\"){delete y.border}}return y},serialize:function(p,r){var o=\"\",n,q;function i(t){var x,u,s,v;x=f.styles[t];if(x){for(u=0,s=x.length;u<s;u++){t=x[u];v=p[t];if(v!==e&&v.length>0){o+=(o.length>0?\" \":\"\")+t+\": \"+v+\";\"}}}}if(r&&f&&f.styles){i(\"*\");i(r)}else{for(n in p){q=p[n];if(q!==e&&q.length>0){o+=(o.length>0?\" \":\"\")+n+\": \"+q+\";\"}}}return o}}};(function(m){var h={},j,l,g,f,c={},b,e,d=m.makeMap,k=m.each;function i(o,n){return o.split(n||\",\")}function a(r,q){var o,p={};function n(s){return s.replace(/[A-Z]+/g,function(t){return n(r[t])})}for(o in r){if(r.hasOwnProperty(o)){r[o]=n(r[o])}}n(q).replace(/#/g,\"#text\").replace(/(\\w+)\\[([^\\]]+)\\]\\[([^\\]]*)\\]/g,function(v,t,s,u){s=i(s,\"|\");p[t]={attributes:d(s),attributesOrder:s,children:d(u,\"|\",{\"#comment\":{}})}});return p}l=\"h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup\";l=d(l,\",\",d(l.toUpperCase()));h=a({Z:\"H|K|N|O|P\",Y:\"X|form|R|Q\",ZG:\"E|span|width|align|char|charoff|valign\",X:\"p|T|div|U|W|isindex|fieldset|table\",ZF:\"E|align|char|charoff|valign\",W:\"pre|hr|blockquote|address|center|noframes\",ZE:\"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height\",ZD:\"[E][S]\",U:\"ul|ol|dl|menu|dir\",ZC:\"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q\",T:\"h1|h2|h3|h4|h5|h6\",ZB:\"X|S|Q\",S:\"R|P\",ZA:\"a|G|J|M|O|P\",R:\"a|H|K|N|O\",Q:\"noscript|P\",P:\"ins|del|script\",O:\"input|select|textarea|label|button\",N:\"M|L\",M:\"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym\",L:\"sub|sup\",K:\"J|I\",J:\"tt|i|b|u|s|strike\",I:\"big|small|font|basefont\",H:\"G|F\",G:\"br|span|bdo\",F:\"object|applet|img|map|iframe\",E:\"A|B|C\",D:\"accesskey|tabindex|onfocus|onblur\",C:\"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup\",B:\"lang|xml:lang|dir\",A:\"id|class|style|title\"},\"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]\");j=d(\"checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,autoplay,loop,controls\");g=d(\"area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source\");f=m.extend(d(\"td,th,iframe,video,audio,object\"),g);b=d(\"pre,script,style,textarea\");e=d(\"colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr\");m.html.Schema=function(r){var A=this,n={},o={},y=[],q,p;r=r||{};if(r.verify_html===false){r.valid_elements=\"*[*]\"}if(r.valid_styles){q={};k(r.valid_styles,function(C,B){q[B]=m.explode(C)})}p=r.whitespace_elements?d(r.whitespace_elements):b;function z(B){return new RegExp(\"^\"+B.replace(/([?+*])/g,\".$1\")+\"$\")}function t(I){var H,D,W,S,X,C,F,R,U,N,V,Z,L,G,T,B,P,E,Y,aa,M,Q,K=/^([#+-])?([^\\[\\/]+)(?:\\/([^\\[]+))?(?:\\[([^\\]]+)\\])?$/,O=/^([!\\-])?(\\w+::\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,J=/[*?+]/;if(I){I=i(I);if(n[\"@\"]){P=n[\"@\"].attributes;E=n[\"@\"].attributesOrder}for(H=0,D=I.length;H<D;H++){C=K.exec(I[H]);if(C){T=C[1];N=C[2];B=C[3];U=C[4];L={};G=[];F={attributes:L,attributesOrder:G};if(T===\"#\"){F.paddEmpty=true}if(T===\"-\"){F.removeEmpty=true}if(P){for(aa in P){L[aa]=P[aa]}G.push.apply(G,E)}if(U){U=i(U,\"|\");for(W=0,S=U.length;W<S;W++){C=O.exec(U[W]);if(C){R={};Z=C[1];V=C[2].replace(/::/g,\":\");T=C[3];Q=C[4];if(Z===\"!\"){F.attributesRequired=F.attributesRequired||[];F.attributesRequired.push(V);R.required=true}if(Z===\"-\"){delete L[V];G.splice(m.inArray(G,V),1);continue}if(T){if(T===\"=\"){F.attributesDefault=F.attributesDefault||[];F.attributesDefault.push({name:V,value:Q});R.defaultValue=Q}if(T===\":\"){F.attributesForced=F.attributesForced||[];F.attributesForced.push({name:V,value:Q});R.forcedValue=Q}if(T===\"<\"){R.validValues=d(Q,\"?\")}}if(J.test(V)){F.attributePatterns=F.attributePatterns||[];R.pattern=z(V);F.attributePatterns.push(R)}else{if(!L[V]){G.push(V)}L[V]=R}}}}if(!P&&N==\"@\"){P=L;E=G}if(B){F.outputName=N;n[B]=F}if(J.test(N)){F.pattern=z(N);y.push(F)}else{n[N]=F}}}}}function v(B){n={};y=[];t(B);k(h,function(D,C){o[C]=D.children})}function s(C){var B=/^(~)?(.+)$/;if(C){k(i(C),function(G){var E=B.exec(G),F=E[1]===\"~\",H=F?\"span\":\"div\",D=E[2];o[D]=o[H];c[D]=H;if(!F){l[D]={}}k(o,function(I,J){if(I[H]){I[D]=I[H]}})})}}function u(C){var B=/^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;if(C){k(i(C),function(G){var F=B.exec(G),D,E;if(F){E=F[1];if(E){D=o[F[2]]}else{D=o[F[2]]={\"#comment\":{}}}D=o[F[2]];k(i(F[3],\"|\"),function(H){if(E===\"-\"){delete D[H]}else{D[H]={}}})}})}}function x(B){var D=n[B],C;if(D){return D}C=y.length;while(C--){D=y[C];if(D.pattern.test(B)){return D}}}if(!r.valid_elements){k(h,function(C,B){n[B]={attributes:C.attributes,attributesOrder:C.attributesOrder};o[B]=C.children});k(i(\"strong/b,em/i\"),function(B){B=i(B,\"/\");n[B[1]].outputName=B[0]});n.img.attributesDefault=[{name:\"alt\",value:\"\"}];k(i(\"ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr\"),function(B){n[B].removeEmpty=true});k(i(\"p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption\"),function(B){n[B].paddEmpty=true})}else{v(r.valid_elements)}s(r.custom_elements);u(r.valid_children);t(r.extended_valid_elements);u(\"+ol[ul|ol],+ul[ul|ol]\");if(!x(\"span\")){t(\"span[!data-mce-type|*]\")}if(r.invalid_elements){m.each(m.explode(r.invalid_elements),function(B){if(n[B]){delete n[B]}})}A.children=o;A.styles=q;A.getBoolAttrs=function(){return j};A.getBlockElements=function(){return l};A.getShortEndedElements=function(){return g};A.getSelfClosingElements=function(){return e};A.getNonEmptyElements=function(){return f};A.getWhiteSpaceElements=function(){return p};A.isValidChild=function(B,D){var C=o[B];return !!(C&&C[D])};A.getElementRule=x;A.getCustomElements=function(){return c};A.addValidElements=t;A.setValidElements=v;A.addCustomElements=s;A.addValidChildren=u};m.html.Schema.boolAttrMap=j;m.html.Schema.blockElementsMap=l})(tinymce);(function(a){a.html.SaxParser=function(c,e){var b=this,d=function(){};c=c||{};b.schema=e=e||new a.html.Schema();if(c.fix_self_closing!==false){c.fix_self_closing=true}a.each(\"comment cdata text start end pi doctype\".split(\" \"),function(f){if(f){b[f]=c[f]||d}});b.parse=function(D){var n=this,g,F=0,H,A,z=[],M,P,B,q,y,r,L,G,N,u,m,k,s,Q,o,O,E,R,K,f,I,l,C,J,h,v=0,j=a.html.Entities.decode,x,p;function t(S){var U,T;U=z.length;while(U--){if(z[U].name===S){break}}if(U>=0){for(T=z.length-1;T>=U;T--){S=z[T];if(S.valid){n.end(S.name)}}z.length=U}}l=new RegExp(\"<(?:(?:!--([\\\\w\\\\W]*?)-->)|(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|(?:!DOCTYPE([\\\\w\\\\W]*?)>)|(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|(?:\\\\/([^>]+)>)|(?:([^\\\\s\\\\/<>]+)\\\\s*((?:[^\\\"'>]+(?:(?:\\\"[^\\\"]*\\\")|(?:'[^']*')|[^>]*))*)>))\",\"g\");C=/([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:\\\\.|[^\\\"])*)\\\")|(?:\\'((?:\\\\.|[^\\'])*)\\')|([^>\\s]+)))?/g;J={script:/<\\/script[^>]*>/gi,style:/<\\/style[^>]*>/gi,noscript:/<\\/noscript[^>]*>/gi};L=e.getShortEndedElements();I=e.getSelfClosingElements();G=e.getBoolAttrs();u=c.validate;r=c.remove_internals;x=c.fix_self_closing;p=a.isIE;o=/^:/;while(g=l.exec(D)){if(F<g.index){n.text(j(D.substr(F,g.index-F)))}if(H=g[6]){H=H.toLowerCase();if(p&&o.test(H)){H=H.substr(1)}t(H)}else{if(H=g[7]){H=H.toLowerCase();if(p&&o.test(H)){H=H.substr(1)}N=H in L;if(x&&I[H]&&z.length>0&&z[z.length-1].name===H){t(H)}if(!u||(m=e.getElementRule(H))){k=true;if(u){O=m.attributes;E=m.attributePatterns}if(Q=g[8]){y=Q.indexOf(\"data-mce-type\")!==-1;if(y&&r){k=false}M=[];M.map={};Q.replace(C,function(T,S,X,W,V){var Y,U;S=S.toLowerCase();X=S in G?S:j(X||W||V||\"\");if(u&&!y&&S.indexOf(\"data-\")!==0){Y=O[S];if(!Y&&E){U=E.length;while(U--){Y=E[U];if(Y.pattern.test(S)){break}}if(U===-1){Y=null}}if(!Y){return}if(Y.validValues&&!(X in Y.validValues)){return}}M.map[S]=X;M.push({name:S,value:X})})}else{M=[];M.map={}}if(u&&!y){R=m.attributesRequired;K=m.attributesDefault;f=m.attributesForced;if(f){P=f.length;while(P--){s=f[P];q=s.name;h=s.value;if(h===\"{$uid}\"){h=\"mce_\"+v++}M.map[q]=h;M.push({name:q,value:h})}}if(K){P=K.length;while(P--){s=K[P];q=s.name;if(!(q in M.map)){h=s.value;if(h===\"{$uid}\"){h=\"mce_\"+v++}M.map[q]=h;M.push({name:q,value:h})}}}if(R){P=R.length;while(P--){if(R[P] in M.map){break}}if(P===-1){k=false}}if(M.map[\"data-mce-bogus\"]){k=false}}if(k){n.start(H,M,N)}}else{k=false}if(A=J[H]){A.lastIndex=F=g.index+g[0].length;if(g=A.exec(D)){if(k){B=D.substr(F,g.index-F)}F=g.index+g[0].length}else{B=D.substr(F);F=D.length}if(k&&B.length>0){n.text(B,true)}if(k){n.end(H)}l.lastIndex=F;continue}if(!N){if(!Q||Q.indexOf(\"/\")!=Q.length-1){z.push({name:H,valid:k})}else{if(k){n.end(H)}}}}else{if(H=g[1]){n.comment(H)}else{if(H=g[2]){n.cdata(H)}else{if(H=g[3]){n.doctype(H)}else{if(H=g[4]){n.pi(H,g[5])}}}}}}F=g.index+g[0].length}if(F<D.length){n.text(j(D.substr(F)))}for(P=z.length-1;P>=0;P--){H=z[P];if(H.valid){n.end(H.name)}}}}})(tinymce);(function(d){var c=/^[ \\t\\r\\n]*$/,e={\"#text\":3,\"#comment\":8,\"#cdata\":4,\"#pi\":7,\"#doctype\":10,\"#document-fragment\":11};function a(k,l,j){var i,h,f=j?\"lastChild\":\"firstChild\",g=j?\"prev\":\"next\";if(k[f]){return k[f]}if(k!==l){i=k[g];if(i){return i}for(h=k.parent;h&&h!==l;h=h.parent){i=h[g];if(i){return i}}}}function b(f,g){this.name=f;this.type=g;if(g===1){this.attributes=[];this.attributes.map={}}}d.extend(b.prototype,{replace:function(g){var f=this;if(g.parent){g.remove()}f.insert(g,f);f.remove();return f},attr:function(h,l){var f=this,g,j,k;if(typeof h!==\"string\"){for(j in h){f.attr(j,h[j])}return f}if(g=f.attributes){if(l!==k){if(l===null){if(h in g.map){delete g.map[h];j=g.length;while(j--){if(g[j].name===h){g=g.splice(j,1);return f}}}return f}if(h in g.map){j=g.length;while(j--){if(g[j].name===h){g[j].value=l;break}}}else{g.push({name:h,value:l})}g.map[h]=l;return f}else{return g.map[h]}}},clone:function(){var g=this,n=new b(g.name,g.type),h,f,m,j,k;if(m=g.attributes){k=[];k.map={};for(h=0,f=m.length;h<f;h++){j=m[h];if(j.name!==\"id\"){k[k.length]={name:j.name,value:j.value};k.map[j.name]=j.value}}n.attributes=k}n.value=g.value;n.shortEnded=g.shortEnded;return n},wrap:function(g){var f=this;f.parent.insert(g,f);g.append(f);return f},unwrap:function(){var f=this,h,g;for(h=f.firstChild;h;){g=h.next;f.insert(h,f,true);h=g}f.remove()},remove:function(){var f=this,h=f.parent,g=f.next,i=f.prev;if(h){if(h.firstChild===f){h.firstChild=g;if(g){g.prev=null}}else{i.next=g}if(h.lastChild===f){h.lastChild=i;if(i){i.next=null}}else{g.prev=i}f.parent=f.next=f.prev=null}return f},append:function(h){var f=this,g;if(h.parent){h.remove()}g=f.lastChild;if(g){g.next=h;h.prev=g;f.lastChild=h}else{f.lastChild=f.firstChild=h}h.parent=f;return h},insert:function(h,f,i){var g;if(h.parent){h.remove()}g=f.parent||this;if(i){if(f===g.firstChild){g.firstChild=h}else{f.prev.next=h}h.prev=f.prev;h.next=f;f.prev=h}else{if(f===g.lastChild){g.lastChild=h}else{f.next.prev=h}h.next=f.next;h.prev=f;f.next=h}h.parent=g;return h},getAll:function(g){var f=this,h,i=[];for(h=f.firstChild;h;h=a(h,f)){if(h.name===g){i.push(h)}}return i},empty:function(){var g=this,f,h,j;if(g.firstChild){f=[];for(j=g.firstChild;j;j=a(j,g)){f.push(j)}h=f.length;while(h--){j=f[h];j.parent=j.firstChild=j.lastChild=j.next=j.prev=null}}g.firstChild=g.lastChild=null;return g},isEmpty:function(k){var f=this,j=f.firstChild,h,g;if(j){do{if(j.type===1){if(j.attributes.map[\"data-mce-bogus\"]){continue}if(k[j.name]){return false}h=j.attributes.length;while(h--){g=j.attributes[h].name;if(g===\"name\"||g.indexOf(\"data-\")===0){return false}}}if((j.type===3&&!c.test(j.value))){return false}}while(j=a(j,f))}return true},walk:function(f){return a(this,null,f)}});d.extend(b,{create:function(g,f){var i,h;i=new b(g,e[g]||1);if(f){for(h in f){i.attr(h,f[h])}}return i}});d.html.Node=b})(tinymce);(function(b){var a=b.html.Node;b.html.DomParser=function(g,h){var f=this,e={},d=[],i={},c={};g=g||{};g.validate=\"validate\" in g?g.validate:true;g.root_name=g.root_name||\"body\";f.schema=h=h||new b.html.Schema();function j(m){var o,p,x,v,z,n,q,l,t,u,k,s,y,r;s=b.makeMap(\"tr,td,th,tbody,thead,tfoot,table\");k=h.getNonEmptyElements();for(o=0;o<m.length;o++){p=m[o];if(!p.parent){continue}v=[p];for(x=p.parent;x&&!h.isValidChild(x.name,p.name)&&!s[x.name];x=x.parent){v.push(x)}if(x&&v.length>1){v.reverse();z=n=f.filterNode(v[0].clone());for(t=0;t<v.length-1;t++){if(h.isValidChild(n.name,v[t].name)){q=f.filterNode(v[t].clone());n.append(q)}else{q=n}for(l=v[t].firstChild;l&&l!=v[t+1];){r=l.next;q.append(l);l=r}n=q}if(!z.isEmpty(k)){x.insert(z,v[0],true);x.insert(p,z)}else{x.insert(p,v[0],true)}x=v[0];if(x.isEmpty(k)||x.firstChild===x.lastChild&&x.firstChild.name===\"br\"){x.empty().remove()}}else{if(p.parent){if(p.name===\"li\"){y=p.prev;if(y&&(y.name===\"ul\"||y.name===\"ul\")){y.append(p);continue}y=p.next;if(y&&(y.name===\"ul\"||y.name===\"ul\")){y.insert(p,y.firstChild,true);continue}p.wrap(f.filterNode(new a(\"ul\",1)));continue}if(h.isValidChild(p.parent.name,\"div\")&&h.isValidChild(\"div\",p.name)){p.wrap(f.filterNode(new a(\"div\",1)))}else{if(p.name===\"style\"||p.name===\"script\"){p.empty().remove()}else{p.unwrap()}}}}}}f.filterNode=function(m){var l,k,n;if(k in e){n=i[k];if(n){n.push(m)}else{i[k]=[m]}}l=d.length;while(l--){k=d[l].name;if(k in m.attributes.map){n=c[k];if(n){n.push(m)}else{c[k]=[m]}}}return m};f.addNodeFilter=function(k,l){b.each(b.explode(k),function(m){var n=e[m];if(!n){e[m]=n=[]}n.push(l)})};f.addAttributeFilter=function(k,l){b.each(b.explode(k),function(m){var n;for(n=0;n<d.length;n++){if(d[n].name===m){d[n].callbacks.push(l);return}}d.push({name:m,callbacks:[l]})})};f.parse=function(v,m){var n,H,A,z,C,B,x,r,E,K,y,o,D,J=[],t,k,s,p,u,q;m=m||{};i={};c={};o=b.extend(b.makeMap(\"script,style,head,html,body,title,meta,param\"),h.getBlockElements());u=h.getNonEmptyElements();p=h.children;y=g.validate;q=\"forced_root_block\" in m?m.forced_root_block:g.forced_root_block;s=h.getWhiteSpaceElements();D=/^[ \\t\\r\\n]+/;t=/[ \\t\\r\\n]+$/;k=/[ \\t\\r\\n]+/g;function F(){var L=H.firstChild,l,M;while(L){l=L.next;if(L.type==3||(L.type==1&&L.name!==\"p\"&&!o[L.name]&&!L.attr(\"data-mce-type\"))){if(!M){M=I(q,1);H.insert(M,L);M.append(L)}else{M.append(L)}}else{M=null}L=l}}function I(l,L){var M=new a(l,L),N;if(l in e){N=i[l];if(N){N.push(M)}else{i[l]=[M]}}return M}function G(M){var N,l,L;for(N=M.prev;N&&N.type===3;){l=N.value.replace(t,\"\");if(l.length>0){N.value=l;N=N.prev}else{L=N.prev;N.remove();N=L}}}n=new b.html.SaxParser({validate:y,fix_self_closing:!y,cdata:function(l){A.append(I(\"#cdata\",4)).value=l},text:function(M,l){var L;if(!s[A.name]){M=M.replace(k,\" \");if(A.lastChild&&o[A.lastChild.name]){M=M.replace(D,\"\")}}if(M.length!==0){L=I(\"#text\",3);L.raw=!!l;A.append(L).value=M}},comment:function(l){A.append(I(\"#comment\",8)).value=l},pi:function(l,L){A.append(I(l,7)).value=L;G(A)},doctype:function(L){var l;l=A.append(I(\"#doctype\",10));l.value=L;G(A)},start:function(l,T,M){var R,O,N,L,P,U,S,Q;N=y?h.getElementRule(l):{};if(N){R=I(N.outputName||l,1);R.attributes=T;R.shortEnded=M;A.append(R);Q=p[A.name];if(Q&&p[R.name]&&!Q[R.name]){J.push(R)}O=d.length;while(O--){P=d[O].name;if(P in T.map){E=c[P];if(E){E.push(R)}else{c[P]=[R]}}}if(o[l]){G(R)}if(!M){A=R}}},end:function(l){var P,M,O,L,N;M=y?h.getElementRule(l):{};if(M){if(o[l]){if(!s[A.name]){for(P=A.firstChild;P&&P.type===3;){O=P.value.replace(D,\"\");if(O.length>0){P.value=O;P=P.next}else{L=P.next;P.remove();P=L}}for(P=A.lastChild;P&&P.type===3;){O=P.value.replace(t,\"\");if(O.length>0){P.value=O;P=P.prev}else{L=P.prev;P.remove();P=L}}}P=A.prev;if(P&&P.type===3){O=P.value.replace(D,\"\");if(O.length>0){P.value=O}else{P.remove()}}}if(M.removeEmpty||M.paddEmpty){if(A.isEmpty(u)){if(M.paddEmpty){A.empty().append(new a(\"#text\",\"3\")).value=\"\\u00a0\"}else{if(!A.attributes.map.name){N=A.parent;A.empty().remove();A=N;return}}}}A=A.parent}}},h);H=A=new a(m.context||g.root_name,11);n.parse(v);if(y&&J.length){if(!m.context){j(J)}else{m.invalid=true}}if(q&&H.name==\"body\"){F()}if(!m.invalid){for(K in i){E=e[K];z=i[K];x=z.length;while(x--){if(!z[x].parent){z.splice(x,1)}}for(C=0,B=E.length;C<B;C++){E[C](z,K,m)}}for(C=0,B=d.length;C<B;C++){E=d[C];if(E.name in c){z=c[E.name];x=z.length;while(x--){if(!z[x].parent){z.splice(x,1)}}for(x=0,r=E.callbacks.length;x<r;x++){E.callbacks[x](z,E.name,m)}}}}return H};if(g.remove_trailing_brs){f.addNodeFilter(\"br\",function(n,m){var r,q=n.length,o,u=h.getBlockElements(),k=h.getNonEmptyElements(),s,p,t;u.body=1;for(r=0;r<q;r++){o=n[r];s=o.parent;if(u[o.parent.name]&&o===s.lastChild){p=o.prev;while(p){t=p.name;if(t!==\"span\"||p.attr(\"data-mce-type\")!==\"bookmark\"){if(t!==\"br\"){break}if(t===\"br\"){o=null;break}}p=p.prev}if(o){o.remove();if(s.isEmpty(k)){elementRule=h.getElementRule(s.name);if(elementRule){if(elementRule.removeEmpty){s.remove()}else{if(elementRule.paddEmpty){s.empty().append(new b.html.Node(\"#text\",3)).value=\"\\u00a0\"}}}}}}}})}}})(tinymce);tinymce.html.Writer=function(e){var c=[],a,b,d,f,g;e=e||{};a=e.indent;b=tinymce.makeMap(e.indent_before||\"\");d=tinymce.makeMap(e.indent_after||\"\");f=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||\"raw\",e.entities);g=e.element_format==\"html\";return{start:function(m,k,p){var n,j,h,o;if(a&&b[m]&&c.length>0){o=c[c.length-1];if(o.length>0&&o!==\"\\n\"){c.push(\"\\n\")}}c.push(\"<\",m);if(k){for(n=0,j=k.length;n<j;n++){h=k[n];c.push(\" \",h.name,'=\"',f(h.value,true),'\"')}}if(!p||g){c[c.length]=\">\"}else{c[c.length]=\" />\"}if(p&&a&&d[m]&&c.length>0){o=c[c.length-1];if(o.length>0&&o!==\"\\n\"){c.push(\"\\n\")}}},end:function(h){var i;c.push(\"</\",h,\">\");if(a&&d[h]&&c.length>0){i=c[c.length-1];if(i.length>0&&i!==\"\\n\"){c.push(\"\\n\")}}},text:function(i,h){if(i.length>0){c[c.length]=h?i:f(i)}},cdata:function(h){c.push(\"<![CDATA[\",h,\"]]>\")},comment:function(h){c.push(\"<!--\",h,\"-->\")},pi:function(h,i){if(i){c.push(\"<?\",h,\" \",i,\"?>\")}else{c.push(\"<?\",h,\"?>\")}if(a){c.push(\"\\n\")}},doctype:function(h){c.push(\"<!DOCTYPE\",h,\">\",a?\"\\n\":\"\")},reset:function(){c.length=0},getContent:function(){return c.join(\"\").replace(/\\n$/,\"\")}}};(function(a){a.html.Serializer=function(c,d){var b=this,e=new a.html.Writer(c);c=c||{};c.validate=\"validate\" in c?c.validate:true;b.schema=d=d||new a.html.Schema();b.writer=e;b.serialize=function(h){var g,i;i=c.validate;g={3:function(k,j){e.text(k.value,k.raw)},8:function(j){e.comment(j.value)},7:function(j){e.pi(j.name,j.value)},10:function(j){e.doctype(j.value)},4:function(j){e.cdata(j.value)},11:function(j){if((j=j.firstChild)){do{f(j)}while(j=j.next)}}};e.reset();function f(k){var t=g[k.type],j,o,s,r,p,u,n,m,q;if(!t){j=k.name;o=k.shortEnded;s=k.attributes;if(i&&s&&s.length>1){u=[];u.map={};q=d.getElementRule(k.name);for(n=0,m=q.attributesOrder.length;n<m;n++){r=q.attributesOrder[n];if(r in s.map){p=s.map[r];u.map[r]=p;u.push({name:r,value:p})}}for(n=0,m=s.length;n<m;n++){r=s[n].name;if(!(r in u.map)){p=s.map[r];u.map[r]=p;u.push({name:r,value:p})}}s=u}e.start(k.name,s,o);if(!o){if((k=k.firstChild)){do{f(k)}while(k=k.next)}e.end(j)}}else{t(k)}}if(h.type==1&&!c.inner){f(h)}else{g[11](h)}return e.getContent()}}})(tinymce);(function(h){var f=h.each,e=h.is,d=h.isWebKit,b=h.isIE,c=h.html.Entities,a=/^([a-z0-9],?)+$/i,g=h.html.Schema.blockElementsMap,i=/^[ \\t\\r\\n]*$/;h.create(\"tinymce.dom.DOMUtils\",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{\"for\":\"htmlFor\",\"class\":\"className\",className:\"className\",checked:\"checked\",disabled:\"disabled\",maxlength:\"maxLength\",readonly:\"readOnly\",selected:\"selected\",value:\"value\",id:\"id\",name:\"name\",type:\"type\"},DOMUtils:function(o,m){var l=this,j,k;l.doc=o;l.win=window;l.files={};l.cssFlicker=false;l.counter=0;l.stdMode=!h.isIE||o.documentMode>=8;l.boxModel=!h.isIE||o.compatMode==\"CSS1Compat\"||l.stdMode;l.hasOuterHTML=\"outerHTML\" in o.createElement(\"a\");l.settings=m=h.extend({keep_values:false,hex_colors:1},m);l.schema=m.schema;l.styles=new h.html.Styles({url_converter:m.url_converter,url_converter_scope:m.url_converter_scope},m.schema);if(h.isIE6){try{o.execCommand(\"BackgroundImageCache\",false,true)}catch(n){l.cssFlicker=true}}if(b&&m.schema){(\"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video\").replace(/\\w+/g,function(p){o.createElement(p)});for(k in m.schema.getCustomElements()){o.createElement(k)}}h.addUnload(l.destroy,l)},getRoot:function(){var j=this,k=j.settings;return(k&&j.get(k.root_element))||j.doc.body},getViewPort:function(k){var l,j;k=!k?this.win:k;l=k.document;j=this.boxModel?l.documentElement:l.body;return{x:k.pageXOffset||j.scrollLeft,y:k.pageYOffset||j.scrollTop,w:k.innerWidth||j.clientWidth,h:k.innerHeight||j.clientHeight}},getRect:function(m){var l,j=this,k;m=j.get(m);l=j.getPos(m);k=j.getSize(m);return{x:l.x,y:l.y,w:k.w,h:k.h}},getSize:function(m){var k=this,j,l;m=k.get(m);j=k.getStyle(m,\"width\");l=k.getStyle(m,\"height\");if(j.indexOf(\"px\")===-1){j=0}if(l.indexOf(\"px\")===-1){l=0}return{w:parseInt(j)||m.offsetWidth||m.clientWidth,h:parseInt(l)||m.offsetHeight||m.clientHeight}},getParent:function(l,k,j){return this.getParents(l,k,j,false)},getParents:function(u,p,l,s){var k=this,j,m=k.settings,q=[];u=k.get(u);s=s===undefined;if(m.strict_root){l=l||k.getRoot()}if(e(p,\"string\")){j=p;if(p===\"*\"){p=function(o){return o.nodeType==1}}else{p=function(o){return k.is(o,j)}}}while(u){if(u==l||!u.nodeType||u.nodeType===9){break}if(!p||p(u)){if(s){q.push(u)}else{return u}}u=u.parentNode}return s?q:null},get:function(j){var k;if(j&&this.doc&&typeof(j)==\"string\"){k=j;j=this.doc.getElementById(j);if(j&&j.id!==k){return this.doc.getElementsByName(k)[1]}}return j},getNext:function(k,j){return this._findSib(k,j,\"nextSibling\")},getPrev:function(k,j){return this._findSib(k,j,\"previousSibling\")},add:function(m,q,j,l,o){var k=this;return this.run(m,function(s){var r,n;r=e(q,\"string\")?k.doc.createElement(q):q;k.setAttribs(r,j);if(l){if(l.nodeType){r.appendChild(l)}else{k.setHTML(r,l)}}return !o?s.appendChild(r):r})},create:function(l,j,k){return this.add(this.doc.createElement(l),l,j,k,1)},createHTML:function(r,j,p){var q=\"\",m=this,l;q+=\"<\"+r;for(l in j){if(j.hasOwnProperty(l)){q+=\" \"+l+'=\"'+m.encode(j[l])+'\"'}}if(typeof(p)!=\"undefined\"){return q+\">\"+p+\"</\"+r+\">\"}return q+\" />\"},remove:function(j,k){return this.run(j,function(m){var n,l=m.parentNode;if(!l){return null}if(k){while(n=m.firstChild){if(!h.isIE||n.nodeType!==3||n.nodeValue){l.insertBefore(n,m)}else{m.removeChild(n)}}}return l.removeChild(m)})},setStyle:function(m,j,k){var l=this;return l.run(m,function(p){var o,n;o=p.style;j=j.replace(/-(\\D)/g,function(r,q){return q.toUpperCase()});if(l.pixelStyles.test(j)&&(h.is(k,\"number\")||/^[\\-0-9\\.]+$/.test(k))){k+=\"px\"}switch(j){case\"opacity\":if(b){o.filter=k===\"\"?\"\":\"alpha(opacity=\"+(k*100)+\")\";if(!m.currentStyle||!m.currentStyle.hasLayout){o.display=\"inline-block\"}}o[j]=o[\"-moz-opacity\"]=o[\"-khtml-opacity\"]=k||\"\";break;case\"float\":b?o.styleFloat=k:o.cssFloat=k;break;default:o[j]=k||\"\"}if(l.settings.update_styles){l.setAttrib(p,\"data-mce-style\")}})},getStyle:function(m,j,l){m=this.get(m);if(!m){return}if(this.doc.defaultView&&l){j=j.replace(/[A-Z]/g,function(n){return\"-\"+n});try{return this.doc.defaultView.getComputedStyle(m,null).getPropertyValue(j)}catch(k){return null}}j=j.replace(/-(\\D)/g,function(o,n){return n.toUpperCase()});if(j==\"float\"){j=b?\"styleFloat\":\"cssFloat\"}if(m.currentStyle&&l){return m.currentStyle[j]}return m.style?m.style[j]:undefined},setStyles:function(m,n){var k=this,l=k.settings,j;j=l.update_styles;l.update_styles=0;f(n,function(o,p){k.setStyle(m,p,o)});l.update_styles=j;if(l.update_styles){k.setAttrib(m,l.cssText)}},removeAllAttribs:function(j){return this.run(j,function(m){var l,k=m.attributes;for(l=k.length-1;l>=0;l--){m.removeAttributeNode(k.item(l))}})},setAttrib:function(l,m,j){var k=this;if(!l||!m){return}if(k.settings.strict){m=m.toLowerCase()}return this.run(l,function(o){var n=k.settings;switch(m){case\"style\":if(!e(j,\"string\")){f(j,function(p,q){k.setStyle(o,q,p)});return}if(n.keep_values){if(j&&!k._isRes(j)){o.setAttribute(\"data-mce-style\",j,2)}else{o.removeAttribute(\"data-mce-style\",2)}}o.style.cssText=j;break;case\"class\":o.className=j||\"\";break;case\"src\":case\"href\":if(n.keep_values){if(n.url_converter){j=n.url_converter.call(n.url_converter_scope||k,j,m,o)}k.setAttrib(o,\"data-mce-\"+m,j,2)}break;case\"shape\":o.setAttribute(\"data-mce-style\",j);break}if(e(j)&&j!==null&&j.length!==0){o.setAttribute(m,\"\"+j,2)}else{o.removeAttribute(m,2)}})},setAttribs:function(k,l){var j=this;return this.run(k,function(m){f(l,function(o,p){j.setAttrib(m,p,o)})})},getAttrib:function(o,p,l){var j,k=this,m;o=k.get(o);if(!o||o.nodeType!==1){return l===m?false:l}if(!e(l)){l=\"\"}if(/^(src|href|style|coords|shape)$/.test(p)){j=o.getAttribute(\"data-mce-\"+p);if(j){return j}}if(b&&k.props[p]){j=o[k.props[p]];j=j&&j.nodeValue?j.nodeValue:j}if(!j){j=o.getAttribute(p,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(p)){if(o[k.props[p]]===true&&j===\"\"){return p}return j?p:\"\"}if(o.nodeName===\"FORM\"&&o.getAttributeNode(p)){return o.getAttributeNode(p).nodeValue}if(p===\"style\"){j=j||o.style.cssText;if(j){j=k.serializeStyle(k.parseStyle(j),o.nodeName);if(k.settings.keep_values&&!k._isRes(j)){o.setAttribute(\"data-mce-style\",j)}}}if(d&&p===\"class\"&&j){j=j.replace(/(apple|webkit)\\-[a-z\\-]+/gi,\"\")}if(b){switch(p){case\"rowspan\":case\"colspan\":if(j===1){j=\"\"}break;case\"size\":if(j===\"+0\"||j===20||j===0){j=\"\"}break;case\"width\":case\"height\":case\"vspace\":case\"checked\":case\"disabled\":case\"readonly\":if(j===0){j=\"\"}break;case\"hspace\":if(j===-1){j=\"\"}break;case\"maxlength\":case\"tabindex\":if(j===32768||j===2147483647||j===\"32768\"){j=\"\"}break;case\"multiple\":case\"compact\":case\"noshade\":case\"nowrap\":if(j===65535){return p}return l;case\"shape\":j=j.toLowerCase();break;default:if(p.indexOf(\"on\")===0&&j){j=h._replace(/^function\\s+\\w+\\(\\)\\s+\\{\\s+(.*)\\s+\\}$/,\"$1\",\"\"+j)}}}return(j!==m&&j!==null&&j!==\"\")?\"\"+j:l},getPos:function(s,m){var k=this,j=0,q=0,o,p=k.doc,l;s=k.get(s);m=m||p.body;if(s){if(s.getBoundingClientRect){s=s.getBoundingClientRect();o=k.boxModel?p.documentElement:p.body;j=s.left+(p.documentElement.scrollLeft||p.body.scrollLeft)-o.clientTop;q=s.top+(p.documentElement.scrollTop||p.body.scrollTop)-o.clientLeft;return{x:j,y:q}}l=s;while(l&&l!=m&&l.nodeType){j+=l.offsetLeft||0;q+=l.offsetTop||0;l=l.offsetParent}l=s.parentNode;while(l&&l!=m&&l.nodeType){j-=l.scrollLeft||0;q-=l.scrollTop||0;l=l.parentNode}}return{x:j,y:q}},parseStyle:function(j){return this.styles.parse(j)},serializeStyle:function(k,j){return this.styles.serialize(k,j)},loadCSS:function(j){var l=this,m=l.doc,k;if(!j){j=\"\"}k=l.select(\"head\")[0];f(j.split(\",\"),function(n){var o;if(l.files[n]){return}l.files[n]=true;o=l.create(\"link\",{rel:\"stylesheet\",href:h._addVer(n)});if(b&&m.documentMode&&m.recalc){o.onload=function(){if(m.recalc){m.recalc()}o.onload=null}}k.appendChild(o)})},addClass:function(j,k){return this.run(j,function(l){var m;if(!k){return 0}if(this.hasClass(l,k)){return l.className}m=this.removeClass(l,k);return l.className=(m!=\"\"?(m+\" \"):\"\")+k})},removeClass:function(l,m){var j=this,k;return j.run(l,function(o){var n;if(j.hasClass(o,m)){if(!k){k=new RegExp(\"(^|\\\\s+)\"+m+\"(\\\\s+|$)\",\"g\")}n=o.className.replace(k,\" \");n=h.trim(n!=\" \"?n:\"\");o.className=n;if(!n){o.removeAttribute(\"class\");o.removeAttribute(\"className\")}return n}return o.className})},hasClass:function(k,j){k=this.get(k);if(!k||!j){return false}return(\" \"+k.className+\" \").indexOf(\" \"+j+\" \")!==-1},show:function(j){return this.setStyle(j,\"display\",\"block\")},hide:function(j){return this.setStyle(j,\"display\",\"none\")},isHidden:function(j){j=this.get(j);return !j||j.style.display==\"none\"||this.getStyle(j,\"display\")==\"none\"},uniqueId:function(j){return(!j?\"mce_\":j)+(this.counter++)},setHTML:function(l,k){var j=this;return j.run(l,function(n){if(b){while(n.firstChild){n.removeChild(n.firstChild)}try{n.innerHTML=\"<br />\"+k;n.removeChild(n.firstChild)}catch(m){n=j.create(\"div\");n.innerHTML=\"<br />\"+k;f(n.childNodes,function(p,o){if(o){n.appendChild(p)}})}}else{n.innerHTML=k}return k})},getOuterHTML:function(l){var k,j=this;l=j.get(l);if(!l){return null}if(l.nodeType===1&&j.hasOuterHTML){return l.outerHTML}k=(l.ownerDocument||j.doc).createElement(\"body\");k.appendChild(l.cloneNode(true));return k.innerHTML},setOuterHTML:function(m,k,n){var j=this;function l(p,o,r){var s,q;q=r.createElement(\"body\");q.innerHTML=o;s=q.lastChild;while(s){j.insertAfter(s.cloneNode(true),p);s=s.previousSibling}j.remove(p)}return this.run(m,function(p){p=j.get(p);if(p.nodeType==1){n=n||p.ownerDocument||j.doc;if(b){try{if(b&&p.nodeType==1){p.outerHTML=k}else{l(p,k,n)}}catch(o){l(p,k,n)}}else{l(p,k,n)}}})},decode:c.decode,encode:c.encodeAllRaw,insertAfter:function(j,k){k=this.get(k);return this.run(j,function(m){var l,n;l=k.parentNode;n=k.nextSibling;if(n){l.insertBefore(m,n)}else{l.appendChild(m)}return m})},isBlock:function(k){var j=k.nodeType;if(j){return !!(j===1&&g[k.nodeName])}return !!g[k]},replace:function(p,m,j){var l=this;if(e(m,\"array\")){p=p.cloneNode(true)}return l.run(m,function(k){if(j){f(h.grep(k.childNodes),function(n){p.appendChild(n)})}return k.parentNode.replaceChild(p,k)})},rename:function(m,j){var l=this,k;if(m.nodeName!=j.toUpperCase()){k=l.create(j);f(l.getAttribs(m),function(n){l.setAttrib(k,n.nodeName,l.getAttrib(m,n.nodeName))});l.replace(k,m,1)}return k||m},findCommonAncestor:function(l,j){var m=l,k;while(m){k=j;while(k&&m!=k){k=k.parentNode}if(m==k){break}m=m.parentNode}if(!m&&l.ownerDocument){return l.ownerDocument.documentElement}return m},toHex:function(j){var l=/^\\s*rgb\\s*?\\(\\s*?([0-9]+)\\s*?,\\s*?([0-9]+)\\s*?,\\s*?([0-9]+)\\s*?\\)\\s*$/i.exec(j);function k(m){m=parseInt(m).toString(16);return m.length>1?m:\"0\"+m}if(l){j=\"#\"+k(l[1])+k(l[2])+k(l[3]);return j}return j},getClasses:function(){var n=this,j=[],m,o={},p=n.settings.class_filter,l;if(n.classes){return n.classes}function q(r){f(r.imports,function(s){q(s)});f(r.cssRules||r.rules,function(s){switch(s.type||1){case 1:if(s.selectorText){f(s.selectorText.split(\",\"),function(t){t=t.replace(/^\\s*|\\s*$|^\\s\\./g,\"\");if(/\\.mce/.test(t)||!/\\.[\\w\\-]+$/.test(t)){return}l=t;t=h._replace(/.*\\.([a-z0-9_\\-]+).*/i,\"$1\",t);if(p&&!(t=p(t,l))){return}if(!o[t]){j.push({\"class\":t});o[t]=1}})}break;case 3:q(s.styleSheet);break}})}try{f(n.doc.styleSheets,q)}catch(k){}if(j.length>0){n.classes=j}return j},run:function(m,l,k){var j=this,n;if(j.doc&&typeof(m)===\"string\"){m=j.get(m)}if(!m){return false}k=k||this;if(!m.nodeType&&(m.length||m.length===0)){n=[];f(m,function(p,o){if(p){if(typeof(p)==\"string\"){p=j.doc.getElementById(p)}n.push(l.call(k,p,o))}});return n}return l.call(k,m)},getAttribs:function(k){var j;k=this.get(k);if(!k){return[]}if(b){j=[];if(k.nodeName==\"OBJECT\"){return k.attributes}if(k.nodeName===\"OPTION\"&&this.getAttrib(k,\"selected\")){j.push({specified:1,nodeName:\"selected\"})}k.cloneNode(false).outerHTML.replace(/<\\/?[\\w:\\-]+ ?|=[\\\"][^\\\"]+\\\"|=\\'[^\\']+\\'|=[\\w\\-]+|>/gi,\"\").replace(/[\\w:\\-]+/gi,function(l){j.push({specified:1,nodeName:l})});return j}return k.attributes},isEmpty:function(m,k){var r=this,o,n,q,j,l,p;m=m.firstChild;if(m){j=new h.dom.TreeWalker(m);k=k||r.schema?r.schema.getNonEmptyElements():null;do{q=m.nodeType;if(q===1){if(m.getAttribute(\"data-mce-bogus\")){continue}l=m.nodeName.toLowerCase();if(k&&k[l]){p=m.parentNode;if(l===\"br\"&&r.isBlock(p)&&p.firstChild===m&&p.lastChild===m){continue}return false}n=r.getAttribs(m);o=m.attributes.length;while(o--){l=m.attributes[o].nodeName;if(l===\"name\"||l===\"data-mce-bookmark\"){return false}}}if((q===3&&!i.test(m.nodeValue))){return false}}while(m=j.next())}return true},destroy:function(k){var j=this;if(j.events){j.events.destroy()}j.win=j.doc=j.root=j.events=null;if(!k){h.removeUnload(j.destroy)}},createRng:function(){var j=this.doc;return j.createRange?j.createRange():new h.dom.Range(this)},nodeIndex:function(n,o){var j=0,l,m,k;if(n){for(l=n.nodeType,n=n.previousSibling,m=n;n;n=n.previousSibling){k=n.nodeType;if(o&&k==3){if(k==l||!n.nodeValue.length){continue}}j++;l=k}}return j},split:function(n,m,q){var s=this,j=s.createRng(),o,l,p;function k(v){var t,r=v.childNodes,u=v.nodeType;if(u==1&&v.getAttribute(\"data-mce-type\")==\"bookmark\"){return}for(t=r.length-1;t>=0;t--){k(r[t])}if(u!=9){if(u==3&&v.nodeValue.length>0){if(!s.isBlock(v.parentNode)||h.trim(v.nodeValue).length>0){return}}else{if(u==1){r=v.childNodes;if(r.length==1&&r[0]&&r[0].nodeType==1&&r[0].getAttribute(\"data-mce-type\")==\"bookmark\"){v.parentNode.insertBefore(r[0],v)}if(r.length||/^(br|hr|input|img)$/i.test(v.nodeName)){return}}}s.remove(v)}return v}if(n&&m){j.setStart(n.parentNode,s.nodeIndex(n));j.setEnd(m.parentNode,s.nodeIndex(m));o=j.extractContents();j=s.createRng();j.setStart(m.parentNode,s.nodeIndex(m)+1);j.setEnd(n.parentNode,s.nodeIndex(n)+1);l=j.extractContents();p=n.parentNode;p.insertBefore(k(o),n);if(q){p.replaceChild(q,m)}else{p.insertBefore(m,n)}p.insertBefore(k(l),n);s.remove(n);return q||m}},bind:function(n,j,m,l){var k=this;if(!k.events){k.events=new h.dom.EventUtils()}return k.events.add(n,j,m,l||this)},unbind:function(m,j,l){var k=this;if(!k.events){k.events=new h.dom.EventUtils()}return k.events.remove(m,j,l)},_findSib:function(m,j,k){var l=this,n=j;if(m){if(e(n,\"string\")){n=function(o){return l.is(o,j)}}for(m=m[k];m;m=m[k]){if(n(m)){return m}}}return null},_isRes:function(j){return/^(top|left|bottom|right|width|height)/i.test(j)||/;\\s*(top|left|bottom|right|width|height)/i.test(j)}});h.DOM=new h.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(a){function b(c){var N=this,e=c.doc,S=0,E=1,j=2,D=true,R=false,U=\"startOffset\",h=\"startContainer\",P=\"endContainer\",z=\"endOffset\",k=tinymce.extend,n=c.nodeIndex;k(N,{startContainer:e,startOffset:0,endContainer:e,endOffset:0,collapsed:D,commonAncestorContainer:e,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:q,setEnd:s,setStartBefore:g,setStartAfter:I,setEndBefore:J,setEndAfter:u,collapse:A,selectNode:x,selectNodeContents:F,compareBoundaryPoints:v,deleteContents:p,extractContents:H,cloneContents:d,insertNode:C,surroundContents:M,cloneRange:K});function q(V,t){B(D,V,t)}function s(V,t){B(R,V,t)}function g(t){q(t.parentNode,n(t))}function I(t){q(t.parentNode,n(t)+1)}function J(t){s(t.parentNode,n(t))}function u(t){s(t.parentNode,n(t)+1)}function A(t){if(t){N[P]=N[h];N[z]=N[U]}else{N[h]=N[P];N[U]=N[z]}N.collapsed=D}function x(t){g(t);u(t)}function F(t){q(t,0);s(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function v(Y,t){var ab=N[h],W=N[U],aa=N[P],V=N[z],Z=t.startContainer,ad=t.startOffset,X=t.endContainer,ac=t.endOffset;if(Y===0){return G(ab,W,Z,ad)}if(Y===1){return G(aa,V,Z,ad)}if(Y===2){return G(aa,V,X,ac)}if(Y===3){return G(ab,W,X,ac)}}function p(){m(j)}function H(){return m(S)}function d(){return m(E)}function C(Y){var V=this[h],t=this[U],X,W;if((V.nodeType===3||V.nodeType===4)&&V.nodeValue){if(!t){V.parentNode.insertBefore(Y,V)}else{if(t>=V.nodeValue.length){c.insertAfter(Y,V)}else{X=V.splitText(t);V.parentNode.insertBefore(Y,X)}}}else{if(V.childNodes.length>0){W=V.childNodes[t]}if(W){V.insertBefore(Y,W)}else{V.appendChild(Y)}}}function M(V){var t=N.extractContents();N.insertNode(V);V.appendChild(t);N.selectNode(V)}function K(){return k(new b(c),{startContainer:N[h],startOffset:N[U],endContainer:N[P],endOffset:N[z],collapsed:N.collapsed,commonAncestorContainer:N.commonAncestorContainer})}function O(t,V){var W;if(t.nodeType==3){return t}if(V<0){return t}W=t.firstChild;while(W&&V>0){--V;W=W.nextSibling}if(W){return W}return t}function l(){return(N[h]==N[P]&&N[U]==N[z])}function G(X,Z,V,Y){var aa,W,t,ab,ad,ac;if(X==V){if(Z==Y){return 0}if(Z<Y){return -1}return 1}aa=V;while(aa&&aa.parentNode!=X){aa=aa.parentNode}if(aa){W=0;t=X.firstChild;while(t!=aa&&W<Z){W++;t=t.nextSibling}if(Z<=W){return -1}return 1}aa=X;while(aa&&aa.parentNode!=V){aa=aa.parentNode}if(aa){W=0;t=V.firstChild;while(t!=aa&&W<Y){W++;t=t.nextSibling}if(W<Y){return -1}return 1}ab=c.findCommonAncestor(X,V);ad=X;while(ad&&ad.parentNode!=ab){ad=ad.parentNode}if(!ad){ad=ab}ac=V;while(ac&&ac.parentNode!=ab){ac=ac.parentNode}if(!ac){ac=ab}if(ad==ac){return 0}t=ab.firstChild;while(t){if(t==ad){return -1}if(t==ac){return 1}t=t.nextSibling}}function B(V,Y,X){var t,W;if(V){N[h]=Y;N[U]=X}else{N[P]=Y;N[z]=X}t=N[P];while(t.parentNode){t=t.parentNode}W=N[h];while(W.parentNode){W=W.parentNode}if(W==t){if(G(N[h],N[U],N[P],N[z])>0){N.collapse(V)}}else{N.collapse(V)}N.collapsed=l();N.commonAncestorContainer=c.findCommonAncestor(N[h],N[P])}function m(ab){var aa,X=0,ad=0,V,Z,W,Y,t,ac;if(N[h]==N[P]){return f(ab)}for(aa=N[P],V=aa.parentNode;V;aa=V,V=V.parentNode){if(V==N[h]){return r(aa,ab)}++X}for(aa=N[h],V=aa.parentNode;V;aa=V,V=V.parentNode){if(V==N[P]){return T(aa,ab)}++ad}Z=ad-X;W=N[h];while(Z>0){W=W.parentNode;Z--}Y=N[P];while(Z<0){Y=Y.parentNode;Z++}for(t=W.parentNode,ac=Y.parentNode;t!=ac;t=t.parentNode,ac=ac.parentNode){W=t;Y=ac}return o(W,Y,ab)}function f(Z){var ab,Y,X,aa,t,W,V;if(Z!=j){ab=e.createDocumentFragment()}if(N[U]==N[z]){return ab}if(N[h].nodeType==3){Y=N[h].nodeValue;X=Y.substring(N[U],N[z]);if(Z!=E){N[h].deleteData(N[U],N[z]-N[U]);N.collapse(D)}if(Z==j){return}ab.appendChild(e.createTextNode(X));return ab}aa=O(N[h],N[U]);t=N[z]-N[U];while(t>0){W=aa.nextSibling;V=y(aa,Z);if(ab){ab.appendChild(V)}--t;aa=W}if(Z!=E){N.collapse(D)}return ab}function r(ab,Y){var aa,Z,V,t,X,W;if(Y!=j){aa=e.createDocumentFragment()}Z=i(ab,Y);if(aa){aa.appendChild(Z)}V=n(ab);t=V-N[U];if(t<=0){if(Y!=E){N.setEndBefore(ab);N.collapse(R)}return aa}Z=ab.previousSibling;while(t>0){X=Z.previousSibling;W=y(Z,Y);if(aa){aa.insertBefore(W,aa.firstChild)}--t;Z=X}if(Y!=E){N.setEndBefore(ab);N.collapse(R)}return aa}function T(Z,Y){var ab,V,aa,t,X,W;if(Y!=j){ab=e.createDocumentFragment()}aa=Q(Z,Y);if(ab){ab.appendChild(aa)}V=n(Z);++V;t=N[z]-V;aa=Z.nextSibling;while(t>0){X=aa.nextSibling;W=y(aa,Y);if(ab){ab.appendChild(W)}--t;aa=X}if(Y!=E){N.setStartAfter(Z);N.collapse(D)}return ab}function o(Z,t,ac){var W,ae,Y,aa,ab,V,ad,X;if(ac!=j){ae=e.createDocumentFragment()}W=Q(Z,ac);if(ae){ae.appendChild(W)}Y=Z.parentNode;aa=n(Z);ab=n(t);++aa;V=ab-aa;ad=Z.nextSibling;while(V>0){X=ad.nextSibling;W=y(ad,ac);if(ae){ae.appendChild(W)}ad=X;--V}W=i(t,ac);if(ae){ae.appendChild(W)}if(ac!=E){N.setStartAfter(Z);N.collapse(D)}return ae}function i(aa,ab){var W=O(N[P],N[z]-1),ac,Z,Y,t,V,X=W!=N[P];if(W==aa){return L(W,X,R,ab)}ac=W.parentNode;Z=L(ac,R,R,ab);while(ac){while(W){Y=W.previousSibling;t=L(W,X,R,ab);if(ab!=j){Z.insertBefore(t,Z.firstChild)}X=D;W=Y}if(ac==aa){return Z}W=ac.previousSibling;ac=ac.parentNode;V=L(ac,R,R,ab);if(ab!=j){V.appendChild(Z)}Z=V}}function Q(aa,ab){var X=O(N[h],N[U]),Y=X!=N[h],ac,Z,W,t,V;if(X==aa){return L(X,Y,D,ab)}ac=X.parentNode;Z=L(ac,R,D,ab);while(ac){while(X){W=X.nextSibling;t=L(X,Y,D,ab);if(ab!=j){Z.appendChild(t)}Y=D;X=W}if(ac==aa){return Z}X=ac.nextSibling;ac=ac.parentNode;V=L(ac,R,D,ab);if(ab!=j){V.appendChild(Z)}Z=V}}function L(t,Y,ab,ac){var X,W,Z,V,aa;if(Y){return y(t,ac)}if(t.nodeType==3){X=t.nodeValue;if(ab){V=N[U];W=X.substring(V);Z=X.substring(0,V)}else{V=N[z];W=X.substring(0,V);Z=X.substring(V)}if(ac!=E){t.nodeValue=Z}if(ac==j){return}aa=t.cloneNode(R);aa.nodeValue=W;return aa}if(ac==j){return}return t.cloneNode(R)}function y(V,t){if(t!=j){return t==E?V.cloneNode(D):V}V.parentNode.removeChild(V)}}a.Range=b})(tinymce.dom);(function(){function a(d){var b=this,h=d.dom,c=true,f=false;function e(i,j){var k,t=0,q,n,m,l,o,r,p=-1,s;k=i.duplicate();k.collapse(j);s=k.parentElement();if(s.ownerDocument!==d.dom.doc){return}while(s.contentEditable===\"false\"){s=s.parentNode}if(!s.hasChildNodes()){return{node:s,inside:1}}m=s.children;q=m.length-1;while(t<=q){r=Math.floor((t+q)/2);l=m[r];k.moveToElementText(l);p=k.compareEndPoints(j?\"StartToStart\":\"EndToEnd\",i);if(p>0){q=r-1}else{if(p<0){t=r+1}else{return{node:l}}}}if(p<0){if(!l){k.moveToElementText(s);k.collapse(true);l=s;n=true}else{k.collapse(false)}k.setEndPoint(j?\"EndToStart\":\"EndToEnd\",i);if(k.compareEndPoints(j?\"StartToStart\":\"StartToEnd\",i)>0){k=i.duplicate();k.collapse(j);o=-1;while(s==k.parentElement()){if(k.move(\"character\",-1)==0){break}o++}}o=o||k.text.replace(\"\\r\\n\",\" \").length}else{k.collapse(true);k.setEndPoint(j?\"StartToStart\":\"StartToEnd\",i);o=k.text.replace(\"\\r\\n\",\" \").length}return{node:l,position:p,offset:o,inside:n}}function g(){var i=d.getRng(),r=h.createRng(),l,k,p,q,m,j;l=i.item?i.item(0):i.parentElement();if(l.ownerDocument!=h.doc){return r}k=d.isCollapsed();if(i.item){r.setStart(l.parentNode,h.nodeIndex(l));r.setEnd(r.startContainer,r.startOffset+1);return r}function o(A){var u=e(i,A),s,y,z=0,x,v,t;s=u.node;y=u.offset;if(u.inside&&!s.hasChildNodes()){r[A?\"setStart\":\"setEnd\"](s,0);return}if(y===v){r[A?\"setStartBefore\":\"setEndAfter\"](s);return}if(u.position<0){x=u.inside?s.firstChild:s.nextSibling;if(!x){r[A?\"setStartAfter\":\"setEndAfter\"](s);return}if(!y){if(x.nodeType==3){r[A?\"setStart\":\"setEnd\"](x,0)}else{r[A?\"setStartBefore\":\"setEndBefore\"](x)}return}while(x){t=x.nodeValue;z+=t.length;if(z>=y){s=x;z-=y;z=t.length-z;break}x=x.nextSibling}}else{x=s.previousSibling;if(!x){return r[A?\"setStartBefore\":\"setEndBefore\"](s)}if(!y){if(s.nodeType==3){r[A?\"setStart\":\"setEnd\"](x,s.nodeValue.length)}else{r[A?\"setStartAfter\":\"setEndAfter\"](x)}return}while(x){z+=x.nodeValue.length;if(z>=y){s=x;z-=y;break}x=x.previousSibling}}r[A?\"setStart\":\"setEnd\"](s,z)}try{o(true);if(!k){o()}}catch(n){if(n.number==-2147024809){m=b.getBookmark(2);p=i.duplicate();p.collapse(true);l=p.parentElement();if(!k){p=i.duplicate();p.collapse(false);q=p.parentElement();q.innerHTML=q.innerHTML}l.innerHTML=l.innerHTML;b.moveToBookmark(m);i=d.getRng();o(true);if(!k){o()}}else{throw n}}return r}this.getBookmark=function(m){var j=d.getRng(),o,i,l={};function n(u){var u,t,p,s,r,q=[];t=u.parentNode;p=h.getRoot().parentNode;while(t!=p){s=t.children;r=s.length;while(r--){if(u===s[r]){q.push(r);break}}u=t;t=t.parentNode}return q}function k(q){var p;p=e(j,q);if(p){return{position:p.position,offset:p.offset,indexes:n(p.node),inside:p.inside}}}if(m===2){if(!j.item){l.start=k(true);if(!d.isCollapsed()){l.end=k()}}else{l.start={ctrl:true,indexes:n(j.item(0))}}}return l};this.moveToBookmark=function(k){var j,i=h.doc.body;function m(o){var r,q,n,p;r=h.getRoot();for(q=o.length-1;q>=0;q--){p=r.children;n=o[q];if(n<=p.length-1){r=p[n]}}return r}function l(r){var n=k[r?\"start\":\"end\"],q,p,o;if(n){q=n.position>0;p=i.createTextRange();p.moveToElementText(m(n.indexes));offset=n.offset;if(offset!==o){p.collapse(n.inside||q);p.moveStart(\"character\",q?-offset:offset)}else{p.collapse(r)}j.setEndPoint(r?\"StartToStart\":\"EndToStart\",p);if(r){j.collapse(true)}}}if(k.start){if(k.start.ctrl){j=i.createControlRange();j.addElement(m(k.start.indexes));j.select()}else{j=i.createTextRange();l(true);l();j.select()}}};this.addRange=function(i){var n,l,k,p,s,q,r=d.dom.doc,m=r.body;function j(z){var u,y,t,x,v;t=h.create(\"a\");u=z?k:s;y=z?p:q;x=n.duplicate();if(u==r||u==r.documentElement){u=m;y=0}if(u.nodeType==3){u.parentNode.insertBefore(t,u);x.moveToElementText(t);x.moveStart(\"character\",y);h.remove(t);n.setEndPoint(z?\"StartToStart\":\"EndToEnd\",x)}else{v=u.childNodes;if(v.length){if(y>=v.length){h.insertAfter(t,v[v.length-1])}else{u.insertBefore(t,v[y])}x.moveToElementText(t)}else{t=r.createTextNode(\"\\uFEFF\");u.appendChild(t);x.moveToElementText(t.parentNode);x.collapse(c)}n.setEndPoint(z?\"StartToStart\":\"EndToEnd\",x);h.remove(t)}}k=i.startContainer;p=i.startOffset;s=i.endContainer;q=i.endOffset;n=m.createTextRange();if(k==s&&k.nodeType==1&&p==q-1){if(p==q-1){try{l=m.createControlRange();l.addElement(k.childNodes[p]);l.select();return}catch(o){}}}j(true);j();n.select()};this.getRangeAt=g}tinymce.dom.TridentSelection=a})();(function(d){var f=d.each,c=d.DOM,b=d.isIE,e=d.isWebKit,a;d.create(\"tinymce.dom.EventUtils\",{EventUtils:function(){this.inits=[];this.events=[]},add:function(m,p,l,j){var g,h=this,i=h.events,k;if(p instanceof Array){k=[];f(p,function(o){k.push(h.add(m,o,l,j))});return k}if(m&&m.hasOwnProperty&&m instanceof Array){k=[];f(m,function(n){n=c.get(n);k.push(h.add(n,p,l,j))});return k}m=c.get(m);if(!m){return}g=function(n){if(h.disabled){return}n=n||window.event;if(n&&b){if(!n.target){n.target=n.srcElement}d.extend(n,h._stoppers)}if(!j){return l(n)}return l.call(j,n)};if(p==\"unload\"){d.unloads.unshift({func:g});return g}if(p==\"init\"){if(h.domLoaded){g()}else{h.inits.push(g)}return g}i.push({obj:m,name:p,func:l,cfunc:g,scope:j});h._add(m,p,g);return l},remove:function(l,m,k){var h=this,g=h.events,i=false,j;if(l&&l.hasOwnProperty&&l instanceof Array){j=[];f(l,function(n){n=c.get(n);j.push(h.remove(n,m,k))});return j}l=c.get(l);f(g,function(o,n){if(o.obj==l&&o.name==m&&(!k||(o.func==k||o.cfunc==k))){g.splice(n,1);h._remove(l,m,o.cfunc);i=true;return false}});return i},clear:function(l){var j=this,g=j.events,h,k;if(l){l=c.get(l);for(h=g.length-1;h>=0;h--){k=g[h];if(k.obj===l){j._remove(k.obj,k.name,k.cfunc);k.obj=k.cfunc=null;g.splice(h,1)}}}},cancel:function(g){if(!g){return false}this.stop(g);return this.prevent(g)},stop:function(g){if(g.stopPropagation){g.stopPropagation()}else{g.cancelBubble=true}return false},prevent:function(g){if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}return false},destroy:function(){var g=this;f(g.events,function(j,h){g._remove(j.obj,j.name,j.cfunc);j.obj=j.cfunc=null});g.events=[];g=null},_add:function(h,i,g){if(h.attachEvent){h.attachEvent(\"on\"+i,g)}else{if(h.addEventListener){h.addEventListener(i,g,false)}else{h[\"on\"+i]=g}}},_remove:function(i,j,h){if(i){try{if(i.detachEvent){i.detachEvent(\"on\"+j,h)}else{if(i.removeEventListener){i.removeEventListener(j,h,false)}else{i[\"on\"+j]=null}}}catch(g){}}},_pageInit:function(h){var g=this;if(g.domLoaded){return}g.domLoaded=true;f(g.inits,function(i){i()});g.inits=[]},_wait:function(i){var g=this,h=i.document;if(i.tinyMCE_GZ&&tinyMCE_GZ.loaded){g.domLoaded=1;return}if(h.attachEvent){h.attachEvent(\"onreadystatechange\",function(){if(h.readyState===\"complete\"){h.detachEvent(\"onreadystatechange\",arguments.callee);g._pageInit(i)}});if(h.documentElement.doScroll&&i==i.top){(function(){if(g.domLoaded){return}try{h.documentElement.doScroll(\"left\")}catch(j){setTimeout(arguments.callee,0);return}g._pageInit(i)})()}}else{if(h.addEventListener){g._add(i,\"DOMContentLoaded\",function(){g._pageInit(i)})}}g._add(i,\"load\",function(){g._pageInit(i)})},_stoppers:{preventDefault:function(){this.returnValue=false},stopPropagation:function(){this.cancelBubble=true}}});a=d.dom.Event=new d.dom.EventUtils();a._wait(window);d.addUnload(function(){a.destroy()})})(tinymce);(function(a){a.dom.Element=function(f,d){var b=this,e,c;b.settings=d=d||{};b.id=f;b.dom=e=d.dom||a.DOM;if(!a.isIE){c=e.get(b.id)}a.each((\"getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get\").split(/,/),function(g){b[g]=function(){var h=[f],j;for(j=0;j<arguments.length;j++){h.push(arguments[j])}h=e[g].apply(e,h);b.update(g);return h}});a.extend(b,{on:function(i,h,g){return a.dom.Event.add(b.id,i,h,g)},getXY:function(){return{x:parseInt(b.getStyle(\"left\")),y:parseInt(b.getStyle(\"top\"))}},getSize:function(){var g=e.get(b.id);return{w:parseInt(b.getStyle(\"width\")||g.clientWidth),h:parseInt(b.getStyle(\"height\")||g.clientHeight)}},moveTo:function(g,h){b.setStyles({left:g,top:h})},moveBy:function(g,i){var h=b.getXY();b.moveTo(h.x+g,h.y+i)},resizeTo:function(g,i){b.setStyles({width:g,height:i})},resizeBy:function(g,j){var i=b.getSize();b.resizeTo(i.w+g,i.h+j)},update:function(h){var g;if(a.isIE6&&d.blocker){h=h||\"\";if(h.indexOf(\"get\")===0||h.indexOf(\"has\")===0||h.indexOf(\"is\")===0){return}if(h==\"remove\"){e.remove(b.blocker);return}if(!b.blocker){b.blocker=e.uniqueId();g=e.add(d.container||e.getRoot(),\"iframe\",{id:b.blocker,style:\"position:absolute;\",frameBorder:0,src:'javascript:\"\"'});e.setStyle(g,\"opacity\",0)}else{g=e.get(b.blocker)}e.setStyles(g,{left:b.getStyle(\"left\",1),top:b.getStyle(\"top\",1),width:b.getStyle(\"width\",1),height:b.getStyle(\"height\",1),display:b.getStyle(\"display\",1),zIndex:parseInt(b.getStyle(\"zIndex\",1)||0)-1})}}})}})(tinymce);(function(c){function e(f){return f.replace(/[\\n\\r]+/g,\"\")}var b=c.is,a=c.isIE,d=c.each;c.create(\"tinymce.dom.Selection\",{Selection:function(i,h,g){var f=this;f.dom=i;f.win=h;f.serializer=g;d([\"onBeforeSetContent\",\"onBeforeGetContent\",\"onSetContent\",\"onGetContent\"],function(j){f[j]=new c.util.Dispatcher(f)});if(!f.win.getSelection){f.tridentSel=new c.dom.TridentSelection(f)}if(c.isIE&&i.boxModel){this._fixIESelection()}c.addUnload(f.destroy,f)},setCursorLocation:function(h,i){var f=this;var g=f.dom.createRng();g.setStart(h,i);g.setEnd(h,i);f.setRng(g);f.collapse(false)},getContent:function(g){var f=this,h=f.getRng(),l=f.dom.create(\"body\"),j=f.getSel(),i,k,m;g=g||{};i=k=\"\";g.get=true;g.format=g.format||\"html\";g.forced_root_block=\"\";f.onBeforeGetContent.dispatch(f,g);if(g.format==\"text\"){return f.isCollapsed()?\"\":(h.text||(j.toString?j.toString():\"\"))}if(h.cloneContents){m=h.cloneContents();if(m){l.appendChild(m)}}else{if(b(h.item)||b(h.htmlText)){l.innerHTML=\"<br>\"+(h.item?h.item(0).outerHTML:h.htmlText);l.removeChild(l.firstChild)}else{l.innerHTML=h.toString()}}if(/^\\s/.test(l.innerHTML)){i=\" \"}if(/\\s+$/.test(l.innerHTML)){k=\" \"}g.getInner=true;g.content=f.isCollapsed()?\"\":i+f.serializer.serialize(l,g)+k;f.onGetContent.dispatch(f,g);return g.content},setContent:function(g,i){var n=this,f=n.getRng(),j,k=n.win.document,m,l;i=i||{format:\"html\"};i.set=true;g=i.content=g;if(!i.no_events){n.onBeforeSetContent.dispatch(n,i)}g=i.content;if(f.insertNode){g+='<span id=\"__caret\">_</span>';if(f.startContainer==k&&f.endContainer==k){k.body.innerHTML=g}else{f.deleteContents();if(k.body.childNodes.length==0){k.body.innerHTML=g}else{if(f.createContextualFragment){f.insertNode(f.createContextualFragment(g))}else{m=k.createDocumentFragment();l=k.createElement(\"div\");m.appendChild(l);l.outerHTML=g;f.insertNode(m)}}}j=n.dom.get(\"__caret\");f=k.createRange();f.setStartBefore(j);f.setEndBefore(j);n.setRng(f);n.dom.remove(\"__caret\");try{n.setRng(f)}catch(h){}}else{if(f.item){k.execCommand(\"Delete\",false,null);f=n.getRng()}if(/^\\s+/.test(g)){f.pasteHTML('<span id=\"__mce_tmp\">_</span>'+g);n.dom.remove(\"__mce_tmp\")}else{f.pasteHTML(g)}}if(!i.no_events){n.onSetContent.dispatch(n,i)}},getStart:function(){var g=this.getRng(),h,f,j,i;if(g.duplicate||g.item){if(g.item){return g.item(0)}j=g.duplicate();j.collapse(1);h=j.parentElement();f=i=g.parentElement();while(i=i.parentNode){if(i==h){h=f;break}}return h}else{h=g.startContainer;if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[Math.min(h.childNodes.length-1,g.startOffset)]}if(h&&h.nodeType==3){return h.parentNode}return h}},getEnd:function(){var g=this,h=g.getRng(),i,f;if(h.duplicate||h.item){if(h.item){return h.item(0)}h=h.duplicate();h.collapse(0);i=h.parentElement();if(i&&i.nodeName==\"BODY\"){return i.lastChild||i}return i}else{i=h.endContainer;f=h.endOffset;if(i.nodeType==1&&i.hasChildNodes()){i=i.childNodes[f>0?f-1:f]}if(i&&i.nodeType==3){return i.parentNode}return i}},getBookmark:function(r,s){var v=this,m=v.dom,g,j,i,n,h,o,p,l=\"\\uFEFF\",u;function f(x,y){var t=0;d(m.select(x),function(A,z){if(A==y){t=z}});return t}if(r==2){function k(){var x=v.getRng(true),t=m.getRoot(),y={};function z(C,H){var B=C[H?\"startContainer\":\"endContainer\"],G=C[H?\"startOffset\":\"endOffset\"],A=[],D,F,E=0;if(B.nodeType==3){if(s){for(D=B.previousSibling;D&&D.nodeType==3;D=D.previousSibling){G+=D.nodeValue.length}}A.push(G)}else{F=B.childNodes;if(G>=F.length&&F.length){E=1;G=Math.max(0,F.length-1)}A.push(v.dom.nodeIndex(F[G],s)+E)}for(;B&&B!=t;B=B.parentNode){A.push(v.dom.nodeIndex(B,s))}return A}y.start=z(x,true);if(!v.isCollapsed()){y.end=z(x)}return y}if(v.tridentSel){return v.tridentSel.getBookmark(r)}return k()}if(r){return{rng:v.getRng()}}g=v.getRng();i=m.uniqueId();n=tinyMCE.activeEditor.selection.isCollapsed();u=\"overflow:hidden;line-height:0px\";if(g.duplicate||g.item){if(!g.item){j=g.duplicate();try{g.collapse();g.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+i+'_start\" style=\"'+u+'\">'+l+\"</span>\");if(!n){j.collapse(false);g.moveToElementText(j.parentElement());if(g.compareEndPoints(\"StartToEnd\",j)==0){j.move(\"character\",-1)}j.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+i+'_end\" style=\"'+u+'\">'+l+\"</span>\")}}catch(q){return null}}else{o=g.item(0);h=o.nodeName;return{name:h,index:f(h,o)}}}else{o=v.getNode();h=o.nodeName;if(h==\"IMG\"){return{name:h,index:f(h,o)}}j=g.cloneRange();if(!n){j.collapse(false);j.insertNode(m.create(\"span\",{\"data-mce-type\":\"bookmark\",id:i+\"_end\",style:u},l))}g.collapse(true);g.insertNode(m.create(\"span\",{\"data-mce-type\":\"bookmark\",id:i+\"_start\",style:u},l))}v.moveToBookmark({id:i,keep:1});return{id:i}},moveToBookmark:function(n){var r=this,l=r.dom,i,h,f,q,j,s,o,p;if(n){if(n.start){f=l.createRng();q=l.getRoot();function g(z){var t=n[z?\"start\":\"end\"],v,x,y,u;if(t){y=t[0];for(x=q,v=t.length-1;v>=1;v--){u=x.childNodes;if(t[v]>u.length-1){return}x=u[t[v]]}if(x.nodeType===3){y=Math.min(t[0],x.nodeValue.length)}if(x.nodeType===1){y=Math.min(t[0],x.childNodes.length)}if(z){f.setStart(x,y)}else{f.setEnd(x,y)}}return true}if(r.tridentSel){return r.tridentSel.moveToBookmark(n)}if(g(true)&&g()){r.setRng(f)}}else{if(n.id){function k(A){var u=l.get(n.id+\"_\"+A),z,t,x,y,v=n.keep;if(u){z=u.parentNode;if(A==\"start\"){if(!v){t=l.nodeIndex(u)}else{z=u.firstChild;t=1}j=s=z;o=p=t}else{if(!v){t=l.nodeIndex(u)}else{z=u.firstChild;t=1}s=z;p=t}if(!v){y=u.previousSibling;x=u.nextSibling;d(c.grep(u.childNodes),function(B){if(B.nodeType==3){B.nodeValue=B.nodeValue.replace(/\\uFEFF/g,\"\")}});while(u=l.get(n.id+\"_\"+A)){l.remove(u,1)}if(y&&x&&y.nodeType==x.nodeType&&y.nodeType==3&&!c.isOpera){t=y.nodeValue.length;y.appendData(x.nodeValue);l.remove(x);if(A==\"start\"){j=s=y;o=p=t}else{s=y;p=t}}}}}function m(t){if(l.isBlock(t)&&!t.innerHTML){t.innerHTML=!a?'<br data-mce-bogus=\"1\" />':\" \"}return t}k(\"start\");k(\"end\");if(j){f=l.createRng();f.setStart(m(j),o);f.setEnd(m(s),p);r.setRng(f)}}else{if(n.name){r.select(l.select(n.name)[n.index])}else{if(n.rng){r.setRng(n.rng)}}}}}},select:function(k,j){var i=this,l=i.dom,g=l.createRng(),f;if(k){f=l.nodeIndex(k);g.setStart(k.parentNode,f);g.setEnd(k.parentNode,f+1);if(j){function h(m,o){var n=new c.dom.TreeWalker(m,m);do{if(m.nodeType==3&&c.trim(m.nodeValue).length!=0){if(o){g.setStart(m,0)}else{g.setEnd(m,m.nodeValue.length)}return}if(m.nodeName==\"BR\"){if(o){g.setStartBefore(m)}else{g.setEndBefore(m)}return}}while(m=(o?n.next():n.prev()))}h(k,1);h(k)}i.setRng(g)}return k},isCollapsed:function(){var f=this,h=f.getRng(),g=f.getSel();if(!h||h.item){return false}if(h.compareEndPoints){return h.compareEndPoints(\"StartToEnd\",h)===0}return !g||h.collapsed},collapse:function(f){var h=this,g=h.getRng(),i;if(g.item){i=g.item(0);g=h.win.document.body.createTextRange();g.moveToElementText(i)}g.collapse(!!f);h.setRng(g)},getSel:function(){var g=this,f=this.win;return f.getSelection?f.getSelection():f.document.selection},getRng:function(l){var g=this,h,i,k,j=g.win.document;if(l&&g.tridentSel){return g.tridentSel.getRangeAt(0)}try{if(h=g.getSel()){i=h.rangeCount>0?h.getRangeAt(0):(h.createRange?h.createRange():j.createRange())}}catch(f){}if(c.isIE&&i&&i.setStart&&j.selection.createRange().item){k=j.selection.createRange().item(0);i=j.createRange();i.setStartBefore(k);i.setEndAfter(k)}if(!i){i=j.createRange?j.createRange():j.body.createTextRange()}if(g.selectedRange&&g.explicitRange){if(i.compareBoundaryPoints(i.START_TO_START,g.selectedRange)===0&&i.compareBoundaryPoints(i.END_TO_END,g.selectedRange)===0){i=g.explicitRange}else{g.selectedRange=null;g.explicitRange=null}}return i},setRng:function(i){var h,g=this;if(!g.tridentSel){h=g.getSel();if(h){g.explicitRange=i;try{h.removeAllRanges()}catch(f){}h.addRange(i);g.selectedRange=h.getRangeAt(0)}}else{if(i.cloneRange){g.tridentSel.addRange(i);return}try{i.select()}catch(f){}}},setNode:function(g){var f=this;f.setContent(f.dom.getOuterHTML(g));return g},getNode:function(){var h=this,g=h.getRng(),i=h.getSel(),l,k=g.startContainer,f=g.endContainer;if(!g){return h.dom.getRoot()}if(g.setStart){l=g.commonAncestorContainer;if(!g.collapsed){if(g.startContainer==g.endContainer){if(g.endOffset-g.startOffset<2){if(g.startContainer.hasChildNodes()){l=g.startContainer.childNodes[g.startOffset]}}}if(k.nodeType===3&&f.nodeType===3){function j(p,m){var o=p;while(p&&p.nodeType===3&&p.length===0){p=m?p.nextSibling:p.previousSibling}return p||o}if(k.length===g.startOffset){k=j(k.nextSibling,true)}else{k=k.parentNode}if(g.endOffset===0){f=j(f.previousSibling,false)}else{f=f.parentNode}if(k&&k===f){return k}}}if(l&&l.nodeType==3){return l.parentNode}return l}return g.item?g.item(0):g.parentElement()},getSelectedBlocks:function(g,f){var i=this,j=i.dom,m,h,l,k=[];m=j.getParent(g||i.getStart(),j.isBlock);h=j.getParent(f||i.getEnd(),j.isBlock);if(m){k.push(m)}if(m&&h&&m!=h){l=m;while((l=l.nextSibling)&&l!=h){if(j.isBlock(l)){k.push(l)}}}if(h&&m!=h){k.push(h)}return k},normalize:function(){var g=this,f,i;if(c.isIE){return}function h(p){var k,o,n,m=g.dom,j=m.getRoot(),l;k=f[(p?\"start\":\"end\")+\"Container\"];o=f[(p?\"start\":\"end\")+\"Offset\"];if(k.nodeType===9){k=k.body;o=0}if(k===j){if(k.hasChildNodes()){k=k.childNodes[Math.min(!p&&o>0?o-1:o,k.childNodes.length-1)];o=0;if(k.hasChildNodes()){l=k;n=new c.dom.TreeWalker(k,j);do{if(l.nodeType===3){o=p?0:l.nodeValue.length-1;k=l;break}if(l.nodeName===\"BR\"){o=m.nodeIndex(l);k=l.parentNode;break}}while(l=(p?n.next():n.prev()));i=true}}}if(i){f[\"set\"+(p?\"Start\":\"End\")](k,o)}}f=g.getRng();h(true);if(f.collapsed){h()}if(i){g.setRng(f)}},destroy:function(g){var f=this;f.win=null;if(!g){c.removeUnload(f.destroy)}},_fixIESelection:function(){var g=this.dom,m=g.doc,h=m.body,j,n,f;m.documentElement.unselectable=true;function i(o,r){var p=h.createTextRange();try{p.moveToPoint(o,r)}catch(q){p=null}return p}function l(p){var o;if(p.button){o=i(p.x,p.y);if(o){if(o.compareEndPoints(\"StartToStart\",n)>0){o.setEndPoint(\"StartToStart\",n)}else{o.setEndPoint(\"EndToEnd\",n)}o.select()}}else{k()}}function k(){var o=m.selection.createRange();if(n&&!o.item&&o.compareEndPoints(\"StartToEnd\",o)===0){n.select()}g.unbind(m,\"mouseup\",k);g.unbind(m,\"mousemove\",l);n=j=0}g.bind(m,[\"mousedown\",\"contextmenu\"],function(o){if(o.target.nodeName===\"HTML\"){if(j){k()}f=m.documentElement;if(f.scrollHeight>f.clientHeight){return}j=1;n=i(o.x,o.y);if(n){g.bind(m,\"mouseup\",k);g.bind(m,\"mousemove\",l);g.win.focus();n.select()}}})}})})(tinymce);(function(a){a.dom.Serializer=function(e,i,f){var h,b,d=a.isIE,g=a.each,c;if(!e.apply_source_formatting){e.indent=false}e.remove_trailing_brs=true;i=i||a.DOM;f=f||new a.html.Schema(e);e.entity_encoding=e.entity_encoding||\"named\";h=new a.util.Dispatcher(self);b=new a.util.Dispatcher(self);c=new a.html.DomParser(e,f);c.addAttributeFilter(\"src,href,style\",function(k,j){var o=k.length,l,q,n=\"data-mce-\"+j,p=e.url_converter,r=e.url_converter_scope,m;while(o--){l=k[o];q=l.attributes.map[n];if(q!==m){l.attr(j,q.length>0?q:null);l.attr(n,null)}else{q=l.attributes.map[j];if(j===\"style\"){q=i.serializeStyle(i.parseStyle(q),l.name)}else{if(p){q=p.call(r,q,j,l.name)}}l.attr(j,q.length>0?q:null)}}});c.addAttributeFilter(\"class\",function(j,k){var l=j.length,m,n;while(l--){m=j[l];n=m.attr(\"class\").replace(/\\s*mce(Item\\w+|Selected)\\s*/g,\"\");m.attr(\"class\",n.length>0?n:null)}});c.addAttributeFilter(\"data-mce-type\",function(j,l,k){var m=j.length,n;while(m--){n=j[m];if(n.attributes.map[\"data-mce-type\"]===\"bookmark\"&&!k.cleanup){n.remove()}}});c.addNodeFilter(\"script,style\",function(k,l){var m=k.length,n,o;function j(p){return p.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,\"\\n\").replace(/^[\\r\\n]*|[\\r\\n]*$/g,\"\").replace(/^\\s*(\\/\\/\\s*<!--|\\/\\/\\s*<!\\[CDATA\\[|<!--|<!\\[CDATA\\[)[\\r\\n]*/g,\"\").replace(/\\s*(\\/\\/\\s*\\]\\]>|\\/\\/\\s*-->|\\]\\]>|-->|\\]\\]-->)\\s*$/g,\"\")}while(m--){n=k[m];o=n.firstChild?n.firstChild.value:\"\";if(l===\"script\"){n.attr(\"type\",(n.attr(\"type\")||\"text/javascript\").replace(/^mce\\-/,\"\"));if(o.length>0){n.firstChild.value=\"// <![CDATA[\\n\"+j(o)+\"\\n// ]]>\"}}else{if(o.length>0){n.firstChild.value=\"<!--\\n\"+j(o)+\"\\n-->\"}}}});c.addNodeFilter(\"#comment\",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.value.indexOf(\"[CDATA[\")===0){m.name=\"#cdata\";m.type=4;m.value=m.value.replace(/^\\[CDATA\\[|\\]\\]$/g,\"\")}else{if(m.value.indexOf(\"mce:protected \")===0){m.name=\"#text\";m.type=3;m.raw=true;m.value=unescape(m.value).substr(14)}}}});c.addNodeFilter(\"xml:namespace,input\",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.type===7){m.remove()}else{if(m.type===1){if(k===\"input\"&&!(\"type\" in m.attributes.map)){m.attr(\"type\",\"text\")}}}}});if(e.fix_list_elements){c.addNodeFilter(\"ul,ol\",function(k,l){var m=k.length,n,j;while(m--){n=k[m];j=n.parent;if(j.name===\"ul\"||j.name===\"ol\"){if(n.prev&&n.prev.name===\"li\"){n.prev.append(n)}}}})}c.addAttributeFilter(\"data-mce-src,data-mce-href,data-mce-style\",function(j,k){var l=j.length;while(l--){j[l].attr(k,null)}});return{schema:f,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,onPreProcess:h,onPostProcess:b,serialize:function(o,m){var l,p,k,j,n;if(d&&i.select(\"script,style,select,map\").length>0){n=o.innerHTML;o=o.cloneNode(false);i.setHTML(o,n)}else{o=o.cloneNode(true)}l=o.ownerDocument.implementation;if(l.createHTMLDocument){p=l.createHTMLDocument(\"\");g(o.nodeName==\"BODY\"?o.childNodes:[o],function(q){p.body.appendChild(p.importNode(q,true))});if(o.nodeName!=\"BODY\"){o=p.body.firstChild}else{o=p.body}k=i.doc;i.doc=p}m=m||{};m.format=m.format||\"html\";if(!m.no_events){m.node=o;h.dispatch(self,m)}j=new a.html.Serializer(e,f);m.content=j.serialize(c.parse(m.getInner?o.innerHTML:a.trim(i.getOuterHTML(o),m),m));if(!m.cleanup){m.content=m.content.replace(/\\uFEFF/g,\"\")}if(!m.no_events){b.dispatch(self,m)}if(k){i.doc=k}m.node=null;return m.content},addRules:function(j){f.addValidElements(j)},setRules:function(j){f.setValidElements(j)}}}})(tinymce);(function(a){a.dom.ScriptLoader=function(h){var c=0,k=1,i=2,l={},j=[],f={},d=[],g=0,e;function b(m,v){var x=this,q=a.DOM,s,o,r,n;function p(){q.remove(n);if(s){s.onreadystatechange=s.onload=s=null}v()}function u(){if(typeof(console)!==\"undefined\"&&console.log){console.log(\"Failed to load: \"+m)}}n=q.uniqueId();if(a.isIE6){o=new a.util.URI(m);r=location;if(o.host==r.hostname&&o.port==r.port&&(o.protocol+\":\")==r.protocol&&o.protocol.toLowerCase()!=\"file\"){a.util.XHR.send({url:a._addVer(o.getURI()),success:function(y){var t=q.create(\"script\",{type:\"text/javascript\"});t.text=y;document.getElementsByTagName(\"head\")[0].appendChild(t);q.remove(t);p()},error:u});return}}s=q.create(\"script\",{id:n,type:\"text/javascript\",src:a._addVer(m)});if(!a.isIE){s.onload=p}s.onerror=u;if(!a.isOpera){s.onreadystatechange=function(){var t=s.readyState;if(t==\"complete\"||t==\"loaded\"){p()}}}(document.getElementsByTagName(\"head\")[0]||document.body).appendChild(s)}this.isDone=function(m){return l[m]==i};this.markDone=function(m){l[m]=i};this.add=this.load=function(m,q,n){var o,p=l[m];if(p==e){j.push(m);l[m]=c}if(q){if(!f[m]){f[m]=[]}f[m].push({func:q,scope:n||this})}};this.loadQueue=function(n,m){this.loadScripts(j,n,m)};this.loadScripts=function(m,q,p){var o;function n(r){a.each(f[r],function(s){s.func.call(s.scope)});f[r]=e}d.push({func:q,scope:p||this});o=function(){var r=a.grep(m);m.length=0;a.each(r,function(s){if(l[s]==i){n(s);return}if(l[s]!=k){l[s]=k;g++;b(s,function(){l[s]=i;g--;n(s);o()})}});if(!g){a.each(d,function(s){s.func.call(s.scope)});d.length=0}};o()}};a.ScriptLoader=new a.dom.ScriptLoader()})(tinymce);tinymce.dom.TreeWalker=function(a,c){var b=a;function d(i,f,e,j){var h,g;if(i){if(!j&&i[f]){return i[f]}if(i!=c){h=i[e];if(h){return h}for(g=i.parentNode;g&&g!=c;g=g.parentNode){h=g[e];if(h){return h}}}}}this.current=function(){return b};this.next=function(e){return(b=d(b,\"firstChild\",\"nextSibling\",e))};this.prev=function(e){return(b=d(b,\"lastChild\",\"previousSibling\",e))}};(function(a){a.dom.RangeUtils=function(c){var b=\"\\uFEFF\";this.walk=function(d,r){var h=d.startContainer,k=d.startOffset,s=d.endContainer,l=d.endOffset,i,f,n,g,q,p,e;e=c.select(\"td.mceSelected,th.mceSelected\");if(e.length>0){a.each(e,function(t){r([t])});return}function o(v,u,t){var x=[];for(;v&&v!=t;v=v[u]){x.push(v)}return x}function m(u,t){do{if(u.parentNode==t){return u}u=u.parentNode}while(u)}function j(v,u,x){var t=x?\"nextSibling\":\"previousSibling\";for(g=v,q=g.parentNode;g&&g!=u;g=q){q=g.parentNode;p=o(g==v?g:g[t],t);if(p.length){if(!x){p.reverse()}r(p)}}}if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[k]}if(s.nodeType==1&&s.hasChildNodes()){s=s.childNodes[Math.min(l-1,s.childNodes.length-1)]}i=c.findCommonAncestor(h,s);if(h==s){return r([h])}for(g=h;g;g=g.parentNode){if(g==s){return j(h,i,true)}if(g==i){break}}for(g=s;g;g=g.parentNode){if(g==h){return j(s,i)}if(g==i){break}}f=m(h,i)||h;n=m(s,i)||s;j(h,f,true);p=o(f==h?f:f.nextSibling,\"nextSibling\",n==s?n.nextSibling:n);if(p.length){r(p)}j(s,n)}};a.dom.RangeUtils.compareRanges=function(c,b){if(c&&b){if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)){return true}if(c.isEqual&&b.isEqual&&b.isEqual(c)){return true}}else{return c.startContainer==b.startContainer&&c.startOffset==b.startOffset}}return false}})(tinymce);(function(b){var a=b.dom.Event,c=b.each;b.create(\"tinymce.ui.KeyboardNavigation\",{KeyboardNavigation:function(e,f){var p=this,m=e.root,l=e.items,n=e.enableUpDown,i=e.enableLeftRight||!e.enableUpDown,k=e.excludeFromTabOrder,j,h,o,d,g;f=f||b.DOM;j=function(q){g=q.target.id};h=function(q){f.setAttrib(q.target.id,\"tabindex\",\"-1\")};d=function(q){var r=f.get(g);f.setAttrib(r,\"tabindex\",\"0\");r.focus()};p.focus=function(){f.get(g).focus()};p.destroy=function(){c(l,function(q){f.unbind(f.get(q.id),\"focus\",j);f.unbind(f.get(q.id),\"blur\",h)});f.unbind(f.get(m),\"focus\",d);f.unbind(f.get(m),\"keydown\",o);l=f=m=p.focus=j=h=o=d=null;p.destroy=function(){}};p.moveFocus=function(u,r){var q=-1,t=p.controls,s;if(!g){return}c(l,function(x,v){if(x.id===g){q=v;return false}});q+=u;if(q<0){q=l.length-1}else{if(q>=l.length){q=0}}s=l[q];f.setAttrib(g,\"tabindex\",\"-1\");f.setAttrib(s.id,\"tabindex\",\"0\");f.get(s.id).focus();if(e.actOnFocus){e.onAction(s.id)}if(r){a.cancel(r)}};o=function(y){var u=37,t=39,x=38,z=40,q=27,s=14,r=13,v=32;switch(y.keyCode){case u:if(i){p.moveFocus(-1)}break;case t:if(i){p.moveFocus(1)}break;case x:if(n){p.moveFocus(-1)}break;case z:if(n){p.moveFocus(1)}break;case q:if(e.onCancel){e.onCancel();a.cancel(y)}break;case s:case r:case v:if(e.onAction){e.onAction(g);a.cancel(y)}break}};c(l,function(s,q){var r;if(!s.id){s.id=f.uniqueId(\"_mce_item_\")}if(k){f.bind(s.id,\"blur\",h);r=\"-1\"}else{r=(q===0?\"0\":\"-1\")}f.setAttrib(s.id,\"tabindex\",r);f.bind(f.get(s.id),\"focus\",j)});if(l[0]){g=l[0].id}f.setAttrib(m,\"tabindex\",\"-1\");f.bind(f.get(m),\"focus\",d);f.bind(f.get(m),\"keydown\",o)}})})(tinymce);(function(c){var b=c.DOM,a=c.is;c.create(\"tinymce.ui.Control\",{Control:function(f,e,d){this.id=f;this.settings=e=e||{};this.rendered=false;this.onRender=new c.util.Dispatcher(this);this.classPrefix=\"\";this.scope=e.scope||this;this.disabled=0;this.active=0;this.editor=d},setAriaProperty:function(f,e){var d=b.get(this.id+\"_aria\")||b.get(this.id);if(d){b.setAttrib(d,\"aria-\"+f,!!e)}},focus:function(){b.get(this.id).focus()},setDisabled:function(d){if(d!=this.disabled){this.setAriaProperty(\"disabled\",d);this.setState(\"Disabled\",d);this.setState(\"Enabled\",!d);this.disabled=d}},isDisabled:function(){return this.disabled},setActive:function(d){if(d!=this.active){this.setState(\"Active\",d);this.active=d;this.setAriaProperty(\"pressed\",d)}},isActive:function(){return this.active},setState:function(f,d){var e=b.get(this.id);f=this.classPrefix+f;if(d){b.addClass(e,f)}else{b.removeClass(e,f)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){b.setHTML(d,this.renderHTML())},postRender:function(){var e=this,d;if(a(e.disabled)){d=e.disabled;e.disabled=-1;e.setDisabled(d)}if(a(e.active)){d=e.active;e.active=-1;e.setActive(d)}},remove:function(){b.remove(this.id);this.destroy()},destroy:function(){c.dom.Event.clear(this.id)}})})(tinymce);tinymce.create(\"tinymce.ui.Container:tinymce.ui.Control\",{Container:function(c,b,a){this.parent(c,b,a);this.controls=[];this.lookup={}},add:function(a){this.lookup[a.id]=a;this.controls.push(a);return a},get:function(a){return this.lookup[a]}});tinymce.create(\"tinymce.ui.Separator:tinymce.ui.Control\",{Separator:function(b,a){this.parent(b,a);this.classPrefix=\"mceSeparator\";this.setDisabled(true)},renderHTML:function(){return tinymce.DOM.createHTML(\"span\",{\"class\":this.classPrefix,role:\"separator\",\"aria-orientation\":\"vertical\",tabindex:\"-1\"})}});(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create(\"tinymce.ui.MenuItem:tinymce.ui.Control\",{MenuItem:function(g,f){this.parent(g,f);this.classPrefix=\"mceMenuItem\"},setSelected:function(f){this.setState(\"Selected\",f);this.setAriaProperty(\"checked\",!!f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){var f=this;f.parent();if(c(f.selected)){f.setSelected(f.selected)}}})})(tinymce);(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create(\"tinymce.ui.Menu:tinymce.ui.MenuItem\",{Menu:function(h,g){var f=this;f.parent(h,g);f.items={};f.collapsed=false;f.menuCount=0;f.onAddItem=new d.util.Dispatcher(this)},expand:function(g){var f=this;if(g){a(f,function(h){if(h.expand){h.expand()}},\"items\",f)}f.collapsed=false},collapse:function(g){var f=this;if(g){a(f,function(h){if(h.collapse){h.collapse()}},\"items\",f)}f.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(f){if(!f.settings){f=new d.ui.MenuItem(f.id||b.uniqueId(),f)}this.onAddItem.dispatch(this,f);return this.items[f.id]=f},addSeparator:function(){return this.add({separator:true})},addMenu:function(f){if(!f.collapse){f=this.createMenu(f)}this.menuCount++;return this.add(f)},hasMenus:function(){return this.menuCount!==0},remove:function(f){delete this.items[f.id]},removeAll:function(){var f=this;a(f,function(g){if(g.removeAll){g.removeAll()}else{g.remove()}g.destroy()},\"items\",f);f.items={}},createMenu:function(g){var f=new d.ui.Menu(g.id||b.uniqueId(),g);f.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return f}})})(tinymce);(function(e){var d=e.is,c=e.DOM,f=e.each,a=e.dom.Event,b=e.dom.Element;e.create(\"tinymce.ui.DropMenu:tinymce.ui.Menu\",{DropMenu:function(h,g){g=g||{};g.container=g.container||c.doc.body;g.offset_x=g.offset_x||0;g.offset_y=g.offset_y||0;g.vp_offset_x=g.vp_offset_x||0;g.vp_offset_y=g.vp_offset_y||0;if(d(g.icons)&&!g.icons){g[\"class\"]+=\" mceNoIcons\"}this.parent(h,g);this.onShowMenu=new e.util.Dispatcher(this);this.onHideMenu=new e.util.Dispatcher(this);this.classPrefix=\"mceMenu\"},createMenu:function(j){var h=this,i=h.settings,g;j.container=j.container||i.container;j.parent=h;j.constrain=j.constrain||i.constrain;j[\"class\"]=j[\"class\"]||i[\"class\"];j.vp_offset_x=j.vp_offset_x||i.vp_offset_x;j.vp_offset_y=j.vp_offset_y||i.vp_offset_y;j.keyboard_focus=i.keyboard_focus;g=new e.ui.DropMenu(j.id||c.uniqueId(),j);g.onAddItem.add(h.onAddItem.dispatch,h.onAddItem);return g},focus:function(){var g=this;if(g.keyboardNav){g.keyboardNav.focus()}},update:function(){var i=this,j=i.settings,g=c.get(\"menu_\"+i.id+\"_tbl\"),l=c.get(\"menu_\"+i.id+\"_co\"),h,k;h=j.max_width?Math.min(g.clientWidth,j.max_width):g.clientWidth;k=j.max_height?Math.min(g.clientHeight,j.max_height):g.clientHeight;if(!c.boxModel){i.element.setStyles({width:h+2,height:k+2})}else{i.element.setStyles({width:h,height:k})}if(j.max_width){c.setStyle(l,\"width\",h)}if(j.max_height){c.setStyle(l,\"height\",k);if(g.clientHeight<j.max_height){c.setStyle(l,\"overflow\",\"hidden\")}}},showMenu:function(p,n,r){var z=this,A=z.settings,o,g=c.getViewPort(),u,l,v,q,i=2,k,j,m=z.classPrefix;z.collapse(1);if(z.isMenuVisible){return}if(!z.rendered){o=c.add(z.settings.container,z.renderNode());f(z.items,function(h){h.postRender()});z.element=new b(\"menu_\"+z.id,{blocker:1,container:A.container})}else{o=c.get(\"menu_\"+z.id)}if(!e.isOpera){c.setStyles(o,{left:-65535,top:-65535})}c.show(o);z.update();p+=A.offset_x||0;n+=A.offset_y||0;g.w-=4;g.h-=4;if(A.constrain){u=o.clientWidth-i;l=o.clientHeight-i;v=g.x+g.w;q=g.y+g.h;if((p+A.vp_offset_x+u)>v){p=r?r-u:Math.max(0,(v-A.vp_offset_x)-u)}if((n+A.vp_offset_y+l)>q){n=Math.max(0,(q-A.vp_offset_y)-l)}}c.setStyles(o,{left:p,top:n});z.element.update();z.isMenuVisible=1;z.mouseClickFunc=a.add(o,\"click\",function(s){var h;s=s.target;if(s&&(s=c.getParent(s,\"tr\"))&&!c.hasClass(s,m+\"ItemSub\")){h=z.items[s.id];if(h.isDisabled()){return}k=z;while(k){if(k.hideMenu){k.hideMenu()}k=k.settings.parent}if(h.settings.onclick){h.settings.onclick(s)}return a.cancel(s)}});if(z.hasMenus()){z.mouseOverFunc=a.add(o,\"mouseover\",function(x){var h,t,s;x=x.target;if(x&&(x=c.getParent(x,\"tr\"))){h=z.items[x.id];if(z.lastMenu){z.lastMenu.collapse(1)}if(h.isDisabled()){return}if(x&&c.hasClass(x,m+\"ItemSub\")){t=c.getRect(x);h.showMenu((t.x+t.w-i),t.y-i,t.x);z.lastMenu=h;c.addClass(c.get(h.id).firstChild,m+\"ItemActive\")}}})}a.add(o,\"keydown\",z._keyHandler,z);z.onShowMenu.dispatch(z);if(A.keyboard_focus){z._setupKeyboardNav()}},hideMenu:function(j){var g=this,i=c.get(\"menu_\"+g.id),h;if(!g.isMenuVisible){return}if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(i,\"mouseover\",g.mouseOverFunc);a.remove(i,\"click\",g.mouseClickFunc);a.remove(i,\"keydown\",g._keyHandler);c.hide(i);g.isMenuVisible=0;if(!j){g.collapse(1)}if(g.element){g.element.hide()}if(h=c.get(g.id)){c.removeClass(h.firstChild,g.classPrefix+\"ItemActive\")}g.onHideMenu.dispatch(g)},add:function(i){var g=this,h;i=g.parent(i);if(g.isRendered&&(h=c.get(\"menu_\"+g.id))){g._add(c.select(\"tbody\",h)[0],i)}return i},collapse:function(g){this.parent(g);this.hideMenu(1)},remove:function(g){c.remove(g.id);this.destroy();return this.parent(g)},destroy:function(){var g=this,h=c.get(\"menu_\"+g.id);if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(h,\"mouseover\",g.mouseOverFunc);a.remove(c.select(\"a\",h),\"focus\",g.mouseOverFunc);a.remove(h,\"click\",g.mouseClickFunc);a.remove(h,\"keydown\",g._keyHandler);if(g.element){g.element.remove()}c.remove(h)},renderNode:function(){var i=this,j=i.settings,l,h,k,g;g=c.create(\"div\",{role:\"listbox\",id:\"menu_\"+i.id,\"class\":j[\"class\"],style:\"position:absolute;left:0;top:0;z-index:200000;outline:0\"});if(i.settings.parent){c.setAttrib(g,\"aria-parent\",\"menu_\"+i.settings.parent.id)}k=c.add(g,\"div\",{role:\"presentation\",id:\"menu_\"+i.id+\"_co\",\"class\":i.classPrefix+(j[\"class\"]?\" \"+j[\"class\"]:\"\")});i.element=new b(\"menu_\"+i.id,{blocker:1,container:j.container});if(j.menu_line){c.add(k,\"span\",{\"class\":i.classPrefix+\"Line\"})}l=c.add(k,\"table\",{role:\"presentation\",id:\"menu_\"+i.id+\"_tbl\",border:0,cellPadding:0,cellSpacing:0});h=c.add(l,\"tbody\");f(i.items,function(m){i._add(h,m)});i.rendered=true;return g},_setupKeyboardNav:function(){var i,h,g=this;i=c.select(\"#menu_\"+g.id)[0];h=c.select(\"a[role=option]\",\"menu_\"+g.id);h.splice(0,0,i);g.keyboardNav=new e.ui.KeyboardNavigation({root:\"menu_\"+g.id,items:h,onCancel:function(){g.hideMenu()},enableUpDown:true});i.focus()},_keyHandler:function(g){var h=this,i;switch(g.keyCode){case 37:if(h.settings.parent){h.hideMenu();h.settings.parent.focus();a.cancel(g)}break;case 39:if(h.mouseOverFunc){h.mouseOverFunc(g)}break}},_add:function(j,h){var i,q=h.settings,p,l,k,m=this.classPrefix,g;if(q.separator){l=c.add(j,\"tr\",{id:h.id,\"class\":m+\"ItemSeparator\"});c.add(l,\"td\",{\"class\":m+\"ItemSeparator\"});if(i=l.previousSibling){c.addClass(i,\"mceLast\")}return}i=l=c.add(j,\"tr\",{id:h.id,\"class\":m+\"Item \"+m+\"ItemEnabled\"});i=k=c.add(i,q.titleItem?\"th\":\"td\");i=p=c.add(i,\"a\",{id:h.id+\"_aria\",role:q.titleItem?\"presentation\":\"option\",href:\"javascript:;\",onclick:\"return false;\",onmousedown:\"return false;\"});if(q.parent){c.setAttrib(p,\"aria-haspopup\",\"true\");c.setAttrib(p,\"aria-owns\",\"menu_\"+h.id)}c.addClass(k,q[\"class\"]);g=c.add(i,\"span\",{\"class\":\"mceIcon\"+(q.icon?\" mce_\"+q.icon:\"\")});if(q.icon_src){c.add(g,\"img\",{src:q.icon_src})}i=c.add(i,q.element||\"span\",{\"class\":\"mceText\",title:h.settings.title},h.settings.title);if(h.settings.style){c.setAttrib(i,\"style\",h.settings.style)}if(j.childNodes.length==1){c.addClass(l,\"mceFirst\")}if((i=l.previousSibling)&&c.hasClass(i,m+\"ItemSeparator\")){c.addClass(l,\"mceFirst\")}if(h.collapse){c.addClass(l,m+\"ItemSub\")}if(i=l.previousSibling){c.removeClass(i,\"mceLast\")}c.addClass(l,\"mceLast\")}})})(tinymce);(function(b){var a=b.DOM;b.create(\"tinymce.ui.Button:tinymce.ui.Control\",{Button:function(e,d,c){this.parent(e,d,c);this.classPrefix=\"mceButton\"},renderHTML:function(){var f=this.classPrefix,e=this.settings,d,c;c=a.encode(e.label||\"\");d='<a role=\"button\" id=\"'+this.id+'\" href=\"javascript:;\" class=\"'+f+\" \"+f+\"Enabled \"+e[\"class\"]+(c?\" \"+f+\"Labeled\":\"\")+'\" onmousedown=\"return false;\" onclick=\"return false;\" aria-labelledby=\"'+this.id+'_voice\" title=\"'+a.encode(e.title)+'\">';if(e.image&&!(this.editor&&this.editor.forcedHighContrastMode)){d+='<img class=\"mceIcon\" src=\"'+e.image+'\" alt=\"'+a.encode(e.title)+'\" />'+c}else{d+='<span class=\"mceIcon '+e[\"class\"]+'\"></span>'+(c?'<span class=\"'+f+'Label\">'+c+\"</span>\":\"\")}d+='<span class=\"mceVoiceLabel mceIconOnly\" style=\"display: none;\" id=\"'+this.id+'_voice\">'+e.title+\"</span>\";d+=\"</a>\";return d},postRender:function(){var c=this,d=c.settings;b.dom.Event.add(c.id,\"click\",function(f){if(!c.isDisabled()){return d.onclick.call(d.scope,f)}})}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create(\"tinymce.ui.ListBox:tinymce.ui.Control\",{ListBox:function(i,h,f){var g=this;g.parent(i,h,f);g.items=[];g.onChange=new a(g);g.onPostRender=new a(g);g.onAdd=new a(g);g.onRenderMenu=new d.util.Dispatcher(this);g.classPrefix=\"mceListBox\"},select:function(h){var g=this,j,i;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){i=h}else{i=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(k,f){if(i(k.value)){j=1;g.selectByIndex(f);return false}});if(!j){g.selectByIndex(-1)}}},selectByIndex:function(f){var h=this,i,j,g;if(f!=h.selectedIndex){i=c.get(h.id+\"_text\");g=c.get(h.id+\"_voiceDesc\");j=h.items[f];if(j){h.selectedValue=j.value;h.selectedIndex=f;c.setHTML(i,c.encode(j.title));c.setHTML(g,h.settings.title+\" - \"+j.title);c.removeClass(i,\"mceTitle\");c.setAttrib(h.id,\"aria-valuenow\",j.title)}else{c.setHTML(i,c.encode(h.settings.title));c.setHTML(g,c.encode(h.settings.title));c.addClass(i,\"mceTitle\");h.selectedValue=h.selectedIndex=null;c.setAttrib(h.id,\"aria-valuenow\",h.settings.title)}i=0}},add:function(i,f,h){var g=this;h=h||{};h=d.extend(h,{title:i,value:f});g.items.push(h);g.onAdd.dispatch(g,h)},getLength:function(){return this.items.length},renderHTML:function(){var i=\"\",f=this,g=f.settings,j=f.classPrefix;i='<span role=\"listbox\" aria-haspopup=\"true\" aria-labelledby=\"'+f.id+'_voiceDesc\" aria-describedby=\"'+f.id+'_voiceDesc\"><table role=\"presentation\" tabindex=\"0\" id=\"'+f.id+'\" cellpadding=\"0\" cellspacing=\"0\" class=\"'+j+\" \"+j+\"Enabled\"+(g[\"class\"]?(\" \"+g[\"class\"]):\"\")+'\"><tbody><tr>';i+=\"<td>\"+c.createHTML(\"span\",{id:f.id+\"_voiceDesc\",\"class\":\"voiceLabel\",style:\"display:none;\"},f.settings.title);i+=c.createHTML(\"a\",{id:f.id+\"_text\",tabindex:-1,href:\"javascript:;\",\"class\":\"mceText\",onclick:\"return false;\",onmousedown:\"return false;\"},c.encode(f.settings.title))+\"</td>\";i+=\"<td>\"+c.createHTML(\"a\",{id:f.id+\"_open\",tabindex:-1,href:\"javascript:;\",\"class\":\"mceOpen\",onclick:\"return false;\",onmousedown:\"return false;\"},'<span><span style=\"display:none;\" class=\"mceIconOnly\" aria-hidden=\"true\">\\u25BC</span></span>')+\"</td>\";i+=\"</tr></tbody></table></span>\";return i},showMenu:function(){var g=this,i,h=c.get(this.id),f;if(g.isDisabled()||g.items.length==0){return}if(g.menu&&g.menu.isMenuVisible){return g.hideMenu()}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}i=c.getPos(h);f=g.menu;f.settings.offset_x=i.x;f.settings.offset_y=i.y;f.settings.keyboard_focus=!d.isOpera;if(g.oldID){f.items[g.oldID].setSelected(0)}e(g.items,function(j){if(j.value===g.selectedValue){f.items[j.id].setSelected(1);g.oldID=j.id}});f.showMenu(0,h.clientHeight);b.add(c.doc,\"mousedown\",g.hideMenu,g);c.addClass(g.id,g.classPrefix+\"Selected\")},hideMenu:function(g){var f=this;if(f.menu&&f.menu.isMenuVisible){c.removeClass(f.id,f.classPrefix+\"Selected\");if(g&&g.type==\"mousedown\"&&(g.target.id==f.id+\"_text\"||g.target.id==f.id+\"_open\")){return}if(!g||!c.getParent(g.target,\".mceMenu\")){c.removeClass(f.id,f.classPrefix+\"Selected\");b.remove(c.doc,\"mousedown\",f.hideMenu,f);f.menu.hideMenu()}}},renderMenu:function(){var g=this,f;f=g.settings.control_manager.createDropMenu(g.id+\"_menu\",{menu_line:1,\"class\":g.classPrefix+\"Menu mceNoIcons\",max_width:150,max_height:150});f.onHideMenu.add(function(){g.hideMenu();g.focus()});f.add({title:g.settings.title,\"class\":\"mceMenuItemTitle\",onclick:function(){if(g.settings.onselect(\"\")!==false){g.select(\"\")}}});e(g.items,function(h){if(h.value===undefined){f.add({title:h.title,role:\"option\",\"class\":\"mceMenuItemTitle\",onclick:function(){if(g.settings.onselect(\"\")!==false){g.select(\"\")}}})}else{h.id=c.uniqueId();h.role=\"option\";h.onclick=function(){if(g.settings.onselect(h.value)!==false){g.select(h.value)}};f.add(h)}});g.onRenderMenu.dispatch(g,f);g.menu=f},postRender:function(){var f=this,g=f.classPrefix;b.add(f.id,\"click\",f.showMenu,f);b.add(f.id,\"keydown\",function(h){if(h.keyCode==32){f.showMenu(h);b.cancel(h)}});b.add(f.id,\"focus\",function(){if(!f._focused){f.keyDownHandler=b.add(f.id,\"keydown\",function(h){if(h.keyCode==40){f.showMenu();b.cancel(h)}});f.keyPressHandler=b.add(f.id,\"keypress\",function(i){var h;if(i.keyCode==13){h=f.selectedValue;f.selectedValue=null;b.cancel(i);f.settings.onselect(h)}})}f._focused=1});b.add(f.id,\"blur\",function(){b.remove(f.id,\"keydown\",f.keyDownHandler);b.remove(f.id,\"keypress\",f.keyPressHandler);f._focused=0});if(d.isIE6||!c.boxModel){b.add(f.id,\"mouseover\",function(){if(!c.hasClass(f.id,g+\"Disabled\")){c.addClass(f.id,g+\"Hover\")}});b.add(f.id,\"mouseout\",function(){if(!c.hasClass(f.id,g+\"Disabled\")){c.removeClass(f.id,g+\"Hover\")}})}f.onPostRender.dispatch(f,c.get(f.id))},destroy:function(){this.parent();b.clear(this.id+\"_text\");b.clear(this.id+\"_open\")}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create(\"tinymce.ui.NativeListBox:tinymce.ui.ListBox\",{NativeListBox:function(g,f){this.parent(g,f);this.classPrefix=\"mceNativeListBox\"},setDisabled:function(f){c.get(this.id).disabled=f;this.setAriaProperty(\"disabled\",f)},isDisabled:function(){return c.get(this.id).disabled},select:function(h){var g=this,j,i;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){i=h}else{i=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(k,f){if(i(k.value)){j=1;g.selectByIndex(f);return false}});if(!j){g.selectByIndex(-1)}}},selectByIndex:function(f){c.get(this.id).selectedIndex=f+1;this.selectedValue=this.items[f]?this.items[f].value:null},add:function(j,g,f){var i,h=this;f=f||{};f.value=g;if(h.isRendered()){c.add(c.get(this.id),\"option\",f,j)}i={title:j,value:g,attribs:f};h.items.push(i);h.onAdd.dispatch(h,i)},getLength:function(){return this.items.length},renderHTML:function(){var g,f=this;g=c.createHTML(\"option\",{value:\"\"},\"-- \"+f.settings.title+\" --\");e(f.items,function(h){g+=c.createHTML(\"option\",{value:h.value},h.title)});g=c.createHTML(\"select\",{id:f.id,\"class\":\"mceNativeListBox\",\"aria-labelledby\":f.id+\"_aria\"},g);g+=c.createHTML(\"span\",{id:f.id+\"_aria\",style:\"display: none\"},f.settings.title);return g},postRender:function(){var g=this,h,i=true;g.rendered=true;function f(k){var j=g.items[k.target.selectedIndex-1];if(j&&(j=j.value)){g.onChange.dispatch(g,j);if(g.settings.onselect){g.settings.onselect(j)}}}b.add(g.id,\"change\",f);b.add(g.id,\"keydown\",function(k){var j;b.remove(g.id,\"change\",h);i=false;j=b.add(g.id,\"blur\",function(){if(i){return}i=true;b.add(g.id,\"change\",f);b.remove(g.id,\"blur\",j)});if(d.isWebKit&&(k.keyCode==37||k.keyCode==39)){return b.prevent(k)}if(k.keyCode==13||k.keyCode==32){f(k);return b.cancel(k)}});g.onPostRender.dispatch(g,c.get(g.id))}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create(\"tinymce.ui.MenuButton:tinymce.ui.Button\",{MenuButton:function(g,f,e){this.parent(g,f,e);this.onRenderMenu=new c.util.Dispatcher(this);f.menu_container=f.menu_container||b.doc.body},showMenu:function(){var g=this,j,i,h=b.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}j=b.getPos(g.settings.menu_container);i=b.getPos(h);f=g.menu;f.settings.offset_x=i.x;f.settings.offset_y=i.y;f.settings.vp_offset_x=i.x;f.settings.vp_offset_y=i.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,h.clientHeight);a.add(b.doc,\"mousedown\",g.hideMenu,g);g.setState(\"Selected\",1);g.isMenuVisible=1},renderMenu:function(){var f=this,e;e=f.settings.control_manager.createDropMenu(f.id+\"_menu\",{menu_line:1,\"class\":this.classPrefix+\"Menu\",icons:f.settings.icons});e.onHideMenu.add(function(){f.hideMenu();f.focus()});f.onRenderMenu.dispatch(f,e);f.menu=e},hideMenu:function(g){var f=this;if(g&&g.type==\"mousedown\"&&b.getParent(g.target,function(h){return h.id===f.id||h.id===f.id+\"_open\"})){return}if(!g||!b.getParent(g.target,\".mceMenu\")){f.setState(\"Selected\",0);a.remove(b.doc,\"mousedown\",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var e=this,f=e.settings;a.add(e.id,\"click\",function(){if(!e.isDisabled()){if(f.onclick){f.onclick(e.value)}e.showMenu()}})}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create(\"tinymce.ui.SplitButton:tinymce.ui.MenuButton\",{SplitButton:function(g,f,e){this.parent(g,f,e);this.classPrefix=\"mceSplitButton\"},renderHTML:function(){var i,f=this,g=f.settings,e;i=\"<tbody><tr>\";if(g.image){e=b.createHTML(\"img \",{src:g.image,role:\"presentation\",\"class\":\"mceAction \"+g[\"class\"]})}else{e=b.createHTML(\"span\",{\"class\":\"mceAction \"+g[\"class\"]},\"\")}e+=b.createHTML(\"span\",{\"class\":\"mceVoiceLabel mceIconOnly\",id:f.id+\"_voice\",style:\"display:none;\"},g.title);i+=\"<td >\"+b.createHTML(\"a\",{role:\"button\",id:f.id+\"_action\",tabindex:\"-1\",href:\"javascript:;\",\"class\":\"mceAction \"+g[\"class\"],onclick:\"return false;\",onmousedown:\"return false;\",title:g.title},e)+\"</td>\";e=b.createHTML(\"span\",{\"class\":\"mceOpen \"+g[\"class\"]},'<span style=\"display:none;\" class=\"mceIconOnly\" aria-hidden=\"true\">\\u25BC</span>');i+=\"<td >\"+b.createHTML(\"a\",{role:\"button\",id:f.id+\"_open\",tabindex:\"-1\",href:\"javascript:;\",\"class\":\"mceOpen \"+g[\"class\"],onclick:\"return false;\",onmousedown:\"return false;\",title:g.title},e)+\"</td>\";i+=\"</tr></tbody>\";i=b.createHTML(\"table\",{role:\"presentation\",\"class\":\"mceSplitButton mceSplitButtonEnabled \"+g[\"class\"],cellpadding:\"0\",cellspacing:\"0\",title:g.title},i);return b.createHTML(\"div\",{id:f.id,role:\"button\",tabindex:\"0\",\"aria-labelledby\":f.id+\"_voice\",\"aria-haspopup\":\"true\"},i)},postRender:function(){var e=this,g=e.settings,f;if(g.onclick){f=function(h){if(!e.isDisabled()){g.onclick(e.value);a.cancel(h)}};a.add(e.id+\"_action\",\"click\",f);a.add(e.id,[\"click\",\"keydown\"],function(h){var k=32,m=14,i=13,j=38,l=40;if((h.keyCode===32||h.keyCode===13||h.keyCode===14)&&!h.altKey&&!h.ctrlKey&&!h.metaKey){f();a.cancel(h)}else{if(h.type===\"click\"||h.keyCode===l){e.showMenu();a.cancel(h)}}})}a.add(e.id+\"_open\",\"click\",function(h){e.showMenu();a.cancel(h)});a.add([e.id,e.id+\"_open\"],\"focus\",function(){e._focused=1});a.add([e.id,e.id+\"_open\"],\"blur\",function(){e._focused=0});if(c.isIE6||!b.boxModel){a.add(e.id,\"mouseover\",function(){if(!b.hasClass(e.id,\"mceSplitButtonDisabled\")){b.addClass(e.id,\"mceSplitButtonHover\")}});a.add(e.id,\"mouseout\",function(){if(!b.hasClass(e.id,\"mceSplitButtonDisabled\")){b.removeClass(e.id,\"mceSplitButtonHover\")}})}},destroy:function(){this.parent();a.clear(this.id+\"_action\");a.clear(this.id+\"_open\");a.clear(this.id)}})})(tinymce);(function(d){var c=d.DOM,a=d.dom.Event,b=d.is,e=d.each;d.create(\"tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton\",{ColorSplitButton:function(i,h,f){var g=this;g.parent(i,h,f);g.settings=h=d.extend({colors:\"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF\",grid_width:8,default_color:\"#888888\"},g.settings);g.onShowMenu=new d.util.Dispatcher(g);g.onHideMenu=new d.util.Dispatcher(g);g.value=h.default_color},showMenu:function(){var f=this,g,j,i,h;if(f.isDisabled()){return}if(!f.isMenuRendered){f.renderMenu();f.isMenuRendered=true}if(f.isMenuVisible){return f.hideMenu()}i=c.get(f.id);c.show(f.id+\"_menu\");c.addClass(i,\"mceSplitButtonSelected\");h=c.getPos(i);c.setStyles(f.id+\"_menu\",{left:h.x,top:h.y+i.clientHeight,zIndex:200000});i=0;a.add(c.doc,\"mousedown\",f.hideMenu,f);f.onShowMenu.dispatch(f);if(f._focused){f._keyHandler=a.add(f.id+\"_menu\",\"keydown\",function(k){if(k.keyCode==27){f.hideMenu()}});c.select(\"a\",f.id+\"_menu\")[0].focus()}f.isMenuVisible=1},hideMenu:function(g){var f=this;if(f.isMenuVisible){if(g&&g.type==\"mousedown\"&&c.getParent(g.target,function(h){return h.id===f.id+\"_open\"})){return}if(!g||!c.getParent(g.target,\".mceSplitButtonMenu\")){c.removeClass(f.id,\"mceSplitButtonSelected\");a.remove(c.doc,\"mousedown\",f.hideMenu,f);a.remove(f.id+\"_menu\",\"keydown\",f._keyHandler);c.hide(f.id+\"_menu\")}f.isMenuVisible=0;f.onHideMenu.dispatch()}},renderMenu:function(){var p=this,h,k=0,q=p.settings,g,j,l,o,f;o=c.add(q.menu_container,\"div\",{role:\"listbox\",id:p.id+\"_menu\",\"class\":q.menu_class+\" \"+q[\"class\"],style:\"position:absolute;left:0;top:-1000px;\"});h=c.add(o,\"div\",{\"class\":q[\"class\"]+\" mceSplitButtonMenu\"});c.add(h,\"span\",{\"class\":\"mceMenuLine\"});g=c.add(h,\"table\",{role:\"presentation\",\"class\":\"mceColorSplitMenu\"});j=c.add(g,\"tbody\");k=0;e(b(q.colors,\"array\")?q.colors:q.colors.split(\",\"),function(i){i=i.replace(/^#/,\"\");if(!k--){l=c.add(j,\"tr\");k=q.grid_width-1}g=c.add(l,\"td\");g=c.add(g,\"a\",{role:\"option\",href:\"javascript:;\",style:{backgroundColor:\"#\"+i},title:p.editor.getLang(\"colors.\"+i,i),\"data-mce-color\":\"#\"+i});if(p.editor.forcedHighContrastMode){g=c.add(g,\"canvas\",{width:16,height:16,\"aria-hidden\":\"true\"});if(g.getContext&&(f=g.getContext(\"2d\"))){f.fillStyle=\"#\"+i;f.fillRect(0,0,16,16)}else{c.remove(g)}}});if(q.more_colors_func){g=c.add(j,\"tr\");g=c.add(g,\"td\",{colspan:q.grid_width,\"class\":\"mceMoreColors\"});g=c.add(g,\"a\",{role:\"option\",id:p.id+\"_more\",href:\"javascript:;\",onclick:\"return false;\",\"class\":\"mceMoreColors\"},q.more_colors_title);a.add(g,\"click\",function(i){q.more_colors_func.call(q.more_colors_scope||this);return a.cancel(i)})}c.addClass(h,\"mceColorSplitMenu\");new d.ui.KeyboardNavigation({root:p.id+\"_menu\",items:c.select(\"a\",p.id+\"_menu\"),onCancel:function(){p.hideMenu();p.focus()}});a.add(p.id+\"_menu\",\"mousedown\",function(i){return a.cancel(i)});a.add(p.id+\"_menu\",\"click\",function(i){var m;i=c.getParent(i.target,\"a\",j);if(i&&i.nodeName.toLowerCase()==\"a\"&&(m=i.getAttribute(\"data-mce-color\"))){p.setColor(m)}return a.cancel(i)});return o},setColor:function(f){this.displayColor(f);this.hideMenu();this.settings.onselect(f)},displayColor:function(g){var f=this;c.setStyle(f.id+\"_preview\",\"backgroundColor\",g);f.value=g},postRender:function(){var f=this,g=f.id;f.parent();c.add(g+\"_action\",\"div\",{id:g+\"_preview\",\"class\":\"mceColorPreview\"});c.setStyle(f.id+\"_preview\",\"backgroundColor\",f.value)},destroy:function(){this.parent();a.clear(this.id+\"_menu\");a.clear(this.id+\"_more\");c.remove(this.id+\"_menu\")}})})(tinymce);(function(b){var d=b.DOM,c=b.each,a=b.dom.Event;b.create(\"tinymce.ui.ToolbarGroup:tinymce.ui.Container\",{renderHTML:function(){var f=this,i=[],e=f.controls,j=b.each,g=f.settings;i.push('<div id=\"'+f.id+'\" role=\"group\" aria-labelledby=\"'+f.id+'_voice\">');i.push(\"<span role='application'>\");i.push('<span id=\"'+f.id+'_voice\" class=\"mceVoiceLabel\" style=\"display:none;\">'+d.encode(g.name)+\"</span>\");j(e,function(h){i.push(h.renderHTML())});i.push(\"</span>\");i.push(\"</div>\");return i.join(\"\")},focus:function(){var e=this;d.get(e.id).focus()},postRender:function(){var f=this,e=[];c(f.controls,function(g){c(g.controls,function(h){if(h.id){e.push(h)}})});f.keyNav=new b.ui.KeyboardNavigation({root:f.id,items:e,onCancel:function(){if(b.isWebKit){d.get(f.editor.id+\"_ifr\").focus()}f.editor.focus()},excludeFromTabOrder:!f.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent();e.keyNav.destroy();a.clear(e.id)}})})(tinymce);(function(a){var c=a.DOM,b=a.each;a.create(\"tinymce.ui.Toolbar:tinymce.ui.Container\",{renderHTML:function(){var m=this,f=\"\",j,k,n=m.settings,e,d,g,l;l=m.controls;for(e=0;e<l.length;e++){k=l[e];d=l[e-1];g=l[e+1];if(e===0){j=\"mceToolbarStart\";if(k.Button){j+=\" mceToolbarStartButton\"}else{if(k.SplitButton){j+=\" mceToolbarStartSplitButton\"}else{if(k.ListBox){j+=\" mceToolbarStartListBox\"}}}f+=c.createHTML(\"td\",{\"class\":j},c.createHTML(\"span\",null,\"<!-- IE -->\"))}if(d&&k.ListBox){if(d.Button||d.SplitButton){f+=c.createHTML(\"td\",{\"class\":\"mceToolbarEnd\"},c.createHTML(\"span\",null,\"<!-- IE -->\"))}}if(c.stdMode){f+='<td style=\"position: relative\">'+k.renderHTML()+\"</td>\"}else{f+=\"<td>\"+k.renderHTML()+\"</td>\"}if(g&&k.ListBox){if(g.Button||g.SplitButton){f+=c.createHTML(\"td\",{\"class\":\"mceToolbarStart\"},c.createHTML(\"span\",null,\"<!-- IE -->\"))}}}j=\"mceToolbarEnd\";if(k.Button){j+=\" mceToolbarEndButton\"}else{if(k.SplitButton){j+=\" mceToolbarEndSplitButton\"}else{if(k.ListBox){j+=\" mceToolbarEndListBox\"}}}f+=c.createHTML(\"td\",{\"class\":j},c.createHTML(\"span\",null,\"<!-- IE -->\"));return c.createHTML(\"table\",{id:m.id,\"class\":\"mceToolbar\"+(n[\"class\"]?\" \"+n[\"class\"]:\"\"),cellpadding:\"0\",cellspacing:\"0\",align:m.settings.align||\"\",role:\"presentation\",tabindex:\"-1\"},\"<tbody><tr>\"+f+\"</tr></tbody>\")}})})(tinymce);(function(b){var a=b.util.Dispatcher,c=b.each;b.create(\"tinymce.AddOnManager\",{AddOnManager:function(){var d=this;d.items=[];d.urls={};d.lookup={};d.onAdd=new a(d)},get:function(d){if(this.lookup[d]){return this.lookup[d].instance}else{return undefined}},dependencies:function(e){var d;if(this.lookup[e]){d=this.lookup[e].dependencies}return d||[]},requireLangPack:function(e){var d=b.settings;if(d&&d.language&&d.language_load!==false){b.ScriptLoader.add(this.urls[e]+\"/langs/\"+d.language+\".js\")}},add:function(f,e,d){this.items.push(e);this.lookup[f]={instance:e,dependencies:d};this.onAdd.dispatch(this,f,e);return e},createUrl:function(d,e){if(typeof e===\"object\"){return e}else{return{prefix:d.prefix,resource:e,suffix:d.suffix}}},addComponents:function(f,d){var e=this.urls[f];b.each(d,function(g){b.ScriptLoader.add(e+\"/\"+g)})},load:function(j,f,d,h){var g=this,e=f;function i(){var k=g.dependencies(j);b.each(k,function(m){var l=g.createUrl(f,m);g.load(l.resource,l,undefined,undefined)});if(d){if(h){d.call(h)}else{d.call(b.ScriptLoader)}}}if(g.urls[j]){return}if(typeof f===\"object\"){e=f.prefix+f.resource+f.suffix}if(e.indexOf(\"/\")!=0&&e.indexOf(\"://\")==-1){e=b.baseURL+\"/\"+e}g.urls[j]=e.substring(0,e.lastIndexOf(\"/\"));if(g.lookup[j]){i()}else{b.ScriptLoader.add(e,i,h)}}});b.PluginManager=new b.AddOnManager();b.ThemeManager=new b.AddOnManager()}(tinymce));(function(j){var g=j.each,d=j.extend,k=j.DOM,i=j.dom.Event,f=j.ThemeManager,b=j.PluginManager,e=j.explode,h=j.util.Dispatcher,a,c=0;j.documentBaseURL=window.location.href.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\");if(!/[\\/\\\\]$/.test(j.documentBaseURL)){j.documentBaseURL+=\"/\"}j.baseURL=new j.util.URI(j.documentBaseURL).toAbsolute(j.baseURL);j.baseURI=new j.util.URI(j.baseURL);j.onBeforeUnload=new h(j);i.add(window,\"beforeunload\",function(l){j.onBeforeUnload.dispatch(j,l)});j.onAddEditor=new h(j);j.onRemoveEditor=new h(j);j.EditorManager=d(j,{editors:[],i18n:{},activeEditor:null,init:function(q){var n=this,p,l=j.ScriptLoader,u,o=[],m;function r(x,y,t){var v=x[y];if(!v){return}if(j.is(v,\"string\")){t=v.replace(/\\.\\w+$/,\"\");t=t?j.resolve(t):0;v=j.resolve(v)}return v.apply(t||this,Array.prototype.slice.call(arguments,2))}q=d({theme:\"simple\",language:\"en\"},q);n.settings=q;i.add(document,\"init\",function(){var s,v;r(q,\"onpageload\");switch(q.mode){case\"exact\":s=q.elements||\"\";if(s.length>0){g(e(s),function(x){if(k.get(x)){m=new j.Editor(x,q);o.push(m);m.render(1)}else{g(document.forms,function(y){g(y.elements,function(z){if(z.name===x){x=\"mce_editor_\"+c++;k.setAttrib(z,\"id\",x);m=new j.Editor(x,q);o.push(m);m.render(1)}})})}})}break;case\"textareas\":case\"specific_textareas\":function t(y,x){return x.constructor===RegExp?x.test(y.className):k.hasClass(y,x)}g(k.select(\"textarea\"),function(x){if(q.editor_deselector&&t(x,q.editor_deselector)){return}if(!q.editor_selector||t(x,q.editor_selector)){u=k.get(x.name);if(!x.id&&!u){x.id=x.name}if(!x.id||n.get(x.id)){x.id=k.uniqueId()}m=new j.Editor(x.id,q);o.push(m);m.render(1)}});break}if(q.oninit){s=v=0;g(o,function(x){v++;if(!x.initialized){x.onInit.add(function(){s++;if(s==v){r(q,\"oninit\")}})}else{s++}if(s==v){r(q,\"oninit\")}})}})},get:function(l){if(l===a){return this.editors}return this.editors[l]},getInstanceById:function(l){return this.get(l)},add:function(m){var l=this,n=l.editors;n[m.id]=m;n.push(m);l._setActive(m);l.onAddEditor.dispatch(l,m);if(j.adapter){j.adapter.patchEditor(m)}return m},remove:function(n){var m=this,l,o=m.editors;if(!o[n.id]){return null}delete o[n.id];for(l=0;l<o.length;l++){if(o[l]==n){o.splice(l,1);break}}if(m.activeEditor==n){m._setActive(o[0])}n.destroy();m.onRemoveEditor.dispatch(m,n);return n},execCommand:function(r,p,o){var q=this,n=q.get(o),l;switch(r){case\"mceFocus\":n.focus();return true;case\"mceAddEditor\":case\"mceAddControl\":if(!q.get(o)){new j.Editor(o,q.settings).render()}return true;case\"mceAddFrameControl\":l=o.window;l.tinyMCE=tinyMCE;l.tinymce=j;j.DOM.doc=l.document;j.DOM.win=l;n=new j.Editor(o.element_id,o);n.render();if(j.isIE){function m(){n.destroy();l.detachEvent(\"onunload\",m);l=l.tinyMCE=l.tinymce=null}l.attachEvent(\"onunload\",m)}o.page_window=null;return true;case\"mceRemoveEditor\":case\"mceRemoveControl\":if(n){n.remove()}return true;case\"mceToggleEditor\":if(!n){q.execCommand(\"mceAddControl\",0,o);return true}if(n.isHidden()){n.show()}else{n.hide()}return true}if(q.activeEditor){return q.activeEditor.execCommand(r,p,o)}return false},execInstanceCommand:function(p,o,n,m){var l=this.get(p);if(l){return l.execCommand(o,n,m)}return false},triggerSave:function(){g(this.editors,function(l){l.save()})},addI18n:function(n,q){var l,m=this.i18n;if(!j.is(n,\"string\")){g(n,function(r,p){g(r,function(t,s){g(t,function(v,u){if(s===\"common\"){m[p+\".\"+u]=v}else{m[p+\".\"+s+\".\"+u]=v}})})})}else{g(q,function(r,p){m[n+\".\"+p]=r})}},_setActive:function(l){this.selectedInstance=this.activeEditor=l}})})(tinymce);(function(m){var n=m.DOM,j=m.dom.Event,f=m.extend,k=m.util.Dispatcher,i=m.each,a=m.isGecko,b=m.isIE,e=m.isWebKit,d=m.is,h=m.ThemeManager,c=m.PluginManager,o=m.inArray,l=m.grep,g=m.explode;m.create(\"tinymce.Editor\",{Editor:function(r,q){var p=this;p.id=p.editorId=r;p.execCommands={};p.queryStateCommands={};p.queryValueCommands={};p.isNotDirty=false;p.plugins={};i([\"onPreInit\",\"onBeforeRenderUI\",\"onPostRender\",\"onInit\",\"onRemove\",\"onActivate\",\"onDeactivate\",\"onClick\",\"onEvent\",\"onMouseUp\",\"onMouseDown\",\"onDblClick\",\"onKeyDown\",\"onKeyUp\",\"onKeyPress\",\"onContextMenu\",\"onSubmit\",\"onReset\",\"onPaste\",\"onPreProcess\",\"onPostProcess\",\"onBeforeSetContent\",\"onBeforeGetContent\",\"onSetContent\",\"onGetContent\",\"onLoadContent\",\"onSaveContent\",\"onNodeChange\",\"onChange\",\"onBeforeExecCommand\",\"onExecCommand\",\"onUndo\",\"onRedo\",\"onVisualAid\",\"onSetProgressState\"],function(s){p[s]=new k(p)});p.settings=q=f({id:r,language:\"en\",docs_language:\"en\",theme:\"simple\",skin:\"default\",delta_width:0,delta_height:0,popup_css:\"\",plugins:\"\",document_base_url:m.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:m.isIE6?'<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">':\"<!DOCTYPE>\",visual_table_class:\"mceItemTable\",visual:1,font_size_style_values:\"xx-small,x-small,small,medium,large,x-large,xx-large\",apply_source_formatting:1,directionality:\"ltr\",forced_root_block:\"p\",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:\"30px\",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:true,indent:\"simple\",indent_before:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr\",indent_after:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr\",validate:true,entity_encoding:\"named\",url_converter:p.convertURL,url_converter_scope:p,ie7_compat:true},q);p.documentBaseURI=new m.util.URI(q.document_base_url||m.documentBaseURL,{base_uri:tinyMCE.baseURI});p.baseURI=m.baseURI;p.contentCSS=[];p.execCallback(\"setup\",p)},render:function(r){var u=this,v=u.settings,x=u.id,p=m.ScriptLoader;if(!j.domLoaded){j.add(document,\"init\",function(){u.render()});return}tinyMCE.settings=v;if(!u.getElement()){return}if(m.isIDevice&&!m.isIOS5){return}if(!/TEXTAREA|INPUT/i.test(u.getElement().nodeName)&&v.hidden_input&&n.getParent(x,\"form\")){n.insertAfter(n.create(\"input\",{type:\"hidden\",name:x}),x)}if(m.WindowManager){u.windowManager=new m.WindowManager(u)}if(v.encoding==\"xml\"){u.onGetContent.add(function(s,t){if(t.save){t.content=n.encode(t.content)}})}if(v.add_form_submit_trigger){u.onSubmit.addToTop(function(){if(u.initialized){u.save();u.isNotDirty=1}})}if(v.add_unload_trigger){u._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(u.initialized&&!u.destroyed&&!u.isHidden()){u.save({format:\"raw\",no_events:true})}})}m.addUnload(u.destroy,u);if(v.submit_patch){u.onBeforeRenderUI.add(function(){var s=u.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){u.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){m.triggerSave();u.isNotDirty=1;return u.formElement._mceOldSubmit(u.formElement)}}s=null})}function q(){if(v.language&&v.language_load!==false){p.add(m.baseURL+\"/langs/\"+v.language+\".js\")}if(v.theme&&v.theme.charAt(0)!=\"-\"&&!h.urls[v.theme]){h.load(v.theme,\"themes/\"+v.theme+\"/editor_template\"+m.suffix+\".js\")}i(g(v.plugins),function(t){if(t&&!c.urls[t]){if(t.charAt(0)==\"-\"){t=t.substr(1,t.length);var s=c.dependencies(t);i(s,function(z){var y={prefix:\"plugins/\",resource:z,suffix:\"/editor_plugin\"+m.suffix+\".js\"};var z=c.createUrl(y,z);c.load(z.resource,z)})}else{if(t==\"safari\"){return}c.load(t,{prefix:\"plugins/\",resource:t,suffix:\"/editor_plugin\"+m.suffix+\".js\"})}}});p.loadQueue(function(){if(!u.removed){u.init()}})}q()},init:function(){var r,H=this,I=H.settings,E,A,D=H.getElement(),q,p,F,y,C,G,z,v=[];m.add(H);I.aria_label=I.aria_label||n.getAttrib(D,\"aria-label\",H.getLang(\"aria.rich_text_area\"));if(I.theme){I.theme=I.theme.replace(/-/,\"\");q=h.get(I.theme);H.theme=new q();if(H.theme.init&&I.init_theme){H.theme.init(H,h.urls[I.theme]||m.documentBaseURL.replace(/\\/$/,\"\"))}}function B(J){var K=c.get(J),t=c.urls[J]||m.documentBaseURL.replace(/\\/$/,\"\"),s;if(K&&m.inArray(v,J)===-1){i(c.dependencies(J),function(u){B(u)});s=new K(H,t);H.plugins[J]=s;if(s.init){s.init(H,t);v.push(J)}}}i(g(I.plugins.replace(/\\-/g,\"\")),B);if(I.popup_css!==false){if(I.popup_css){I.popup_css=H.documentBaseURI.toAbsolute(I.popup_css)}else{I.popup_css=H.baseURI.toAbsolute(\"themes/\"+I.theme+\"/skins/\"+I.skin+\"/dialog.css\")}}if(I.popup_css_add){I.popup_css+=\",\"+H.documentBaseURI.toAbsolute(I.popup_css_add)}H.controlManager=new m.ControlManager(H);if(I.custom_undo_redo){H.onBeforeExecCommand.add(function(t,J,u,K,s){if(J!=\"Undo\"&&J!=\"Redo\"&&J!=\"mceRepaint\"&&(!s||!s.skip_undo)){H.undoManager.beforeChange()}});H.onExecCommand.add(function(t,J,u,K,s){if(J!=\"Undo\"&&J!=\"Redo\"&&J!=\"mceRepaint\"&&(!s||!s.skip_undo)){H.undoManager.add()}})}H.onExecCommand.add(function(s,t){if(!/^(FontName|FontSize)$/.test(t)){H.nodeChanged()}});if(a){function x(s,t){if(!t||!t.initial){H.execCommand(\"mceRepaint\")}}H.onUndo.add(x);H.onRedo.add(x);H.onSetContent.add(x)}H.onBeforeRenderUI.dispatch(H,H.controlManager);if(I.render_ui){E=I.width||D.style.width||D.offsetWidth;A=I.height||D.style.height||D.offsetHeight;H.orgDisplay=D.style.display;G=/^[0-9\\.]+(|px)$/i;if(G.test(\"\"+E)){E=Math.max(parseInt(E)+(q.deltaWidth||0),100)}if(G.test(\"\"+A)){A=Math.max(parseInt(A)+(q.deltaHeight||0),100)}q=H.theme.renderUI({targetNode:D,width:E,height:A,deltaWidth:I.delta_width,deltaHeight:I.delta_height});H.editorContainer=q.editorContainer}if(document.domain&&location.hostname!=document.domain){m.relaxedDomain=document.domain}n.setStyles(q.sizeContainer||q.editorContainer,{width:E,height:A});if(I.content_css){m.each(g(I.content_css),function(s){H.contentCSS.push(H.documentBaseURI.toAbsolute(s))})}A=(q.iframeHeight||A)+(typeof(A)==\"number\"?(q.deltaHeight||0):\"\");if(A<100){A=100}H.iframeHTML=I.doctype+'<html><head xmlns=\"http://www.w3.org/1999/xhtml\">';if(I.document_base_url!=m.documentBaseURL){H.iframeHTML+='<base href=\"'+H.documentBaseURI.getURI()+'\" />'}if(I.ie7_compat){H.iframeHTML+='<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />'}else{H.iframeHTML+='<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />'}H.iframeHTML+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';for(z=0;z<H.contentCSS.length;z++){H.iframeHTML+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+H.contentCSS[z]+'\" />'}y=I.body_id||\"tinymce\";if(y.indexOf(\"=\")!=-1){y=H.getParam(\"body_id\",\"\",\"hash\");y=y[H.id]||y}C=I.body_class||\"\";if(C.indexOf(\"=\")!=-1){C=H.getParam(\"body_class\",\"\",\"hash\");C=C[H.id]||\"\"}H.iframeHTML+='</head><body id=\"'+y+'\" class=\"mceContentBody '+C+'\"><br></body></html>';if(m.relaxedDomain&&(b||(m.isOpera&&parseFloat(opera.version())<11))){F='javascript:(function(){document.open();document.domain=\"'+document.domain+'\";var ed = window.parent.tinyMCE.get(\"'+H.id+'\");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'}r=n.add(q.iframeContainer,\"iframe\",{id:H.id+\"_ifr\",src:F||'javascript:\"\"',frameBorder:\"0\",allowTransparency:\"true\",title:I.aria_label,style:{width:\"100%\",height:A,display:\"block\"}});H.contentAreaContainer=q.iframeContainer;n.get(q.editorContainer).style.display=H.orgDisplay;n.get(H.id).style.display=\"none\";n.setAttrib(H.id,\"aria-hidden\",true);if(!m.relaxedDomain||!F){H.setupIframe()}D=r=q=null},setupIframe:function(){var q=this,v=q.settings,x=n.get(q.id),y=q.getDoc(),u,p;if(!b||!m.relaxedDomain){y.open();y.write(q.iframeHTML);y.close();if(m.relaxedDomain){y.domain=m.relaxedDomain}}p=q.getBody();p.disabled=true;if(!v.readonly){p.contentEditable=true}p.disabled=false;q.schema=new m.html.Schema(v);q.dom=new m.dom.DOMUtils(q.getDoc(),{keep_values:true,url_converter:q.convertURL,url_converter_scope:q,hex_colors:v.force_hex_style_colors,class_filter:v.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:q.schema});q.parser=new m.html.DomParser(v,q.schema);if(!q.settings.allow_html_in_named_anchor){q.parser.addAttributeFilter(\"name\",function(s,t){var A=s.length,C,z,B,D;while(A--){D=s[A];if(D.name===\"a\"&&D.firstChild){B=D.parent;C=D.lastChild;do{z=C.prev;B.insert(C,D);C=z}while(C)}}})}q.parser.addAttributeFilter(\"src,href,style\",function(s,t){var z=s.length,B,D=q.dom,C,A;while(z--){B=s[z];C=B.attr(t);A=\"data-mce-\"+t;if(!B.attributes.map[A]){if(t===\"style\"){B.attr(A,D.serializeStyle(D.parseStyle(C),B.name))}else{B.attr(A,q.convertURL(C,t,B.name))}}}});q.parser.addNodeFilter(\"script\",function(s,t){var z=s.length;while(z--){s[z].attr(\"type\",\"mce-text/javascript\")}});q.parser.addNodeFilter(\"#cdata\",function(s,t){var z=s.length,A;while(z--){A=s[z];A.type=8;A.name=\"#comment\";A.value=\"[CDATA[\"+A.value+\"]]\"}});q.parser.addNodeFilter(\"p,h1,h2,h3,h4,h5,h6,div\",function(t,z){var A=t.length,B,s=q.schema.getNonEmptyElements();while(A--){B=t[A];if(B.isEmpty(s)){B.empty().append(new m.html.Node(\"br\",1)).shortEnded=true}}});q.serializer=new m.dom.Serializer(v,q.dom,q.schema);q.selection=new m.dom.Selection(q.dom,q.getWin(),q.serializer);q.formatter=new m.Formatter(this);q.formatter.register({alignleft:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"left\"}},{selector:\"img,table\",collapsed:false,styles:{\"float\":\"left\"}}],aligncenter:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"center\"}},{selector:\"img\",collapsed:false,styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"}},{selector:\"table\",collapsed:false,styles:{marginLeft:\"auto\",marginRight:\"auto\"}}],alignright:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"right\"}},{selector:\"img,table\",collapsed:false,styles:{\"float\":\"right\"}}],alignfull:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"justify\"}}],bold:[{inline:\"strong\",remove:\"all\"},{inline:\"span\",styles:{fontWeight:\"bold\"}},{inline:\"b\",remove:\"all\"}],italic:[{inline:\"em\",remove:\"all\"},{inline:\"span\",styles:{fontStyle:\"italic\"}},{inline:\"i\",remove:\"all\"}],underline:[{inline:\"span\",styles:{textDecoration:\"underline\"},exact:true},{inline:\"u\",remove:\"all\"}],strikethrough:[{inline:\"span\",styles:{textDecoration:\"line-through\"},exact:true},{inline:\"strike\",remove:\"all\"}],forecolor:{inline:\"span\",styles:{color:\"%value\"},wrap_links:false},hilitecolor:{inline:\"span\",styles:{backgroundColor:\"%value\"},wrap_links:false},fontname:{inline:\"span\",styles:{fontFamily:\"%value\"}},fontsize:{inline:\"span\",styles:{fontSize:\"%value\"}},fontsize_class:{inline:\"span\",attributes:{\"class\":\"%value\"}},blockquote:{block:\"blockquote\",wrapper:1,remove:\"all\"},subscript:{inline:\"sub\"},superscript:{inline:\"sup\"},link:{inline:\"a\",selector:\"a\",remove:\"all\",split:true,deep:true,onmatch:function(s){return true},onformat:function(z,s,t){i(t,function(B,A){q.dom.setAttrib(z,A,B)})}},removeformat:[{selector:\"b,strong,em,i,font,u,strike\",remove:\"all\",split:true,expand:false,block_expand:true,deep:true},{selector:\"span\",attributes:[\"style\",\"class\"],remove:\"empty\",split:true,expand:false,deep:true},{selector:\"*\",attributes:[\"style\",\"class\"],split:false,expand:false,deep:true}]});i(\"p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp\".split(/\\s/),function(s){q.formatter.register(s,{block:s,remove:\"all\"})});q.formatter.register(q.settings.formats);q.undoManager=new m.UndoManager(q);q.undoManager.onAdd.add(function(t,s){if(t.hasUndo()){return q.onChange.dispatch(q,s,t)}});q.undoManager.onUndo.add(function(t,s){return q.onUndo.dispatch(q,s,t)});q.undoManager.onRedo.add(function(t,s){return q.onRedo.dispatch(q,s,t)});q.forceBlocks=new m.ForceBlocks(q,{forced_root_block:v.forced_root_block});q.editorCommands=new m.EditorCommands(q);q.serializer.onPreProcess.add(function(s,t){return q.onPreProcess.dispatch(q,t,s)});q.serializer.onPostProcess.add(function(s,t){return q.onPostProcess.dispatch(q,t,s)});q.onPreInit.dispatch(q);if(!v.gecko_spellcheck){q.getBody().spellcheck=0}if(!v.readonly){q._addEvents()}q.controlManager.onPostRender.dispatch(q,q.controlManager);q.onPostRender.dispatch(q);q.quirks=new m.util.Quirks(this);if(v.directionality){q.getBody().dir=v.directionality}if(v.nowrap){q.getBody().style.whiteSpace=\"nowrap\"}if(v.handle_node_change_callback){q.onNodeChange.add(function(t,s,z){q.execCallback(\"handle_node_change_callback\",q.id,z,-1,-1,true,q.selection.isCollapsed())})}if(v.save_callback){q.onSaveContent.add(function(s,z){var t=q.execCallback(\"save_callback\",q.id,z.content,q.getBody());if(t){z.content=t}})}if(v.onchange_callback){q.onChange.add(function(t,s){q.execCallback(\"onchange_callback\",q,s)})}if(v.protect){q.onBeforeSetContent.add(function(s,t){if(v.protect){i(v.protect,function(z){t.content=t.content.replace(z,function(A){return\"<!--mce:protected \"+escape(A)+\"-->\"})})}})}if(v.convert_newlines_to_brs){q.onBeforeSetContent.add(function(s,t){if(t.initial){t.content=t.content.replace(/\\r?\\n/g,\"<br />\")}})}if(v.preformatted){q.onPostProcess.add(function(s,t){t.content=t.content.replace(/^\\s*<pre.*?>/,\"\");t.content=t.content.replace(/<\\/pre>\\s*$/,\"\");if(t.set){t.content='<pre class=\"mceItemHidden\">'+t.content+\"</pre>\"}})}if(v.verify_css_classes){q.serializer.attribValueFilter=function(B,z){var A,t;if(B==\"class\"){if(!q.classesRE){t=q.dom.getClasses();if(t.length>0){A=\"\";i(t,function(s){A+=(A?\"|\":\"\")+s[\"class\"]});q.classesRE=new RegExp(\"(\"+A+\")\",\"gi\")}}return !q.classesRE||/(\\bmceItem\\w+\\b|\\bmceTemp\\w+\\b)/g.test(z)||q.classesRE.test(z)?z:\"\"}return z}}if(v.cleanup_callback){q.onBeforeSetContent.add(function(s,t){t.content=q.execCallback(\"cleanup_callback\",\"insert_to_editor\",t.content,t)});q.onPreProcess.add(function(s,t){if(t.set){q.execCallback(\"cleanup_callback\",\"insert_to_editor_dom\",t.node,t)}if(t.get){q.execCallback(\"cleanup_callback\",\"get_from_editor_dom\",t.node,t)}});q.onPostProcess.add(function(s,t){if(t.set){t.content=q.execCallback(\"cleanup_callback\",\"insert_to_editor\",t.content,t)}if(t.get){t.content=q.execCallback(\"cleanup_callback\",\"get_from_editor\",t.content,t)}})}if(v.save_callback){q.onGetContent.add(function(s,t){if(t.save){t.content=q.execCallback(\"save_callback\",q.id,t.content,q.getBody())}})}if(v.handle_event_callback){q.onEvent.add(function(s,t,z){if(q.execCallback(\"handle_event_callback\",t,s,z)===false){j.cancel(t)}})}q.onSetContent.add(function(){q.addVisual(q.getBody())});if(v.padd_empty_editor){q.onPostProcess.add(function(s,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\\s|\\u00a0|)<\\/p>[\\r\\n]*|<br \\/>[\\r\\n]*)$/,\"\")})}if(a){function r(s,t){i(s.dom.select(\"a\"),function(A){var z=A.parentNode;if(s.dom.isBlock(z)&&z.lastChild===A){s.dom.add(z,\"br\",{\"data-mce-bogus\":1})}})}q.onExecCommand.add(function(s,t){if(t===\"CreateLink\"){r(s)}});q.onSetContent.add(q.selection.onSetContent.add(r))}q.load({initial:true,format:\"html\"});q.startContent=q.getContent({format:\"raw\"});q.undoManager.add();q.initialized=true;q.onInit.dispatch(q);q.execCallback(\"setupcontent_callback\",q.id,q.getBody(),q.getDoc());q.execCallback(\"init_instance_callback\",q);q.focus(true);q.nodeChanged({initial:1});i(q.contentCSS,function(s){q.dom.loadCSS(s)});if(v.auto_focus){setTimeout(function(){var s=m.get(v.auto_focus);s.selection.select(s.getBody(),1);s.selection.collapse(1);s.getBody().focus();s.getWin().focus()},100)}x=null},focus:function(u){var y,q=this,s=q.selection,x=q.settings.content_editable,r,p,v=q.getDoc();if(!u){r=s.getRng();if(r.item){p=r.item(0)}q._refreshContentEditable();s.normalize();if(!x){q.getWin().focus()}if(m.isGecko){q.getBody().focus()}if(p&&p.ownerDocument==v){r=v.body.createControlRange();r.addElement(p);r.select()}}if(m.activeEditor!=q){if((y=m.activeEditor)!=null){y.onDeactivate.dispatch(y,q)}q.onActivate.dispatch(q,y)}m._setActive(q)},execCallback:function(u){var p=this,r=p.settings[u],q;if(!r){return}if(p.callbackLookup&&(q=p.callbackLookup[u])){r=q.func;q=q.scope}if(d(r,\"string\")){q=r.replace(/\\.\\w+$/,\"\");q=q?m.resolve(q):0;r=m.resolve(r);p.callbackLookup=p.callbackLookup||{};p.callbackLookup[u]={func:r,scope:q}}return r.apply(q||p,Array.prototype.slice.call(arguments,1))},translate:function(p){var r=this.settings.language||\"en\",q=m.i18n;if(!p){return\"\"}return q[r+\".\"+p]||p.replace(/{\\#([^}]+)\\}/g,function(t,s){return q[r+\".\"+s]||\"{#\"+s+\"}\"})},getLang:function(q,p){return m.i18n[(this.settings.language||\"en\")+\".\"+q]||(d(p)?p:\"{#\"+q+\"}\")},getParam:function(u,r,p){var s=m.trim,q=d(this.settings[u])?this.settings[u]:r,t;if(p===\"hash\"){t={};if(d(q,\"string\")){i(q.indexOf(\"=\")>0?q.split(/[;,](?![^=;,]*(?:[;,]|$))/):q.split(\",\"),function(x){x=x.split(\"=\");if(x.length>1){t[s(x[0])]=s(x[1])}else{t[s(x[0])]=s(x)}})}else{t=q}return t}return q},nodeChanged:function(r){var p=this,q=p.selection,u=q.getStart()||p.getBody();if(p.initialized){r=r||{};u=b&&u.ownerDocument!=p.getDoc()?p.getBody():u;r.parents=[];p.dom.getParent(u,function(s){if(s.nodeName==\"BODY\"){return true}r.parents.push(s)});p.onNodeChange.dispatch(p,r?r.controlManager||p.controlManager:p.controlManager,u,q.isCollapsed(),r)}},addButton:function(r,q){var p=this;p.buttons=p.buttons||{};p.buttons[r]=q},addCommand:function(p,r,q){this.execCommands[p]={func:r,scope:q||this}},addQueryStateHandler:function(p,r,q){this.queryStateCommands[p]={func:r,scope:q||this}},addQueryValueHandler:function(p,r,q){this.queryValueCommands[p]={func:r,scope:q||this}},addShortcut:function(r,u,p,s){var q=this,v;if(!q.settings.custom_shortcuts){return false}q.shortcuts=q.shortcuts||{};if(d(p,\"string\")){v=p;p=function(){q.execCommand(v,false,null)}}if(d(p,\"object\")){v=p;p=function(){q.execCommand(v[0],v[1],v[2])}}i(g(r),function(t){var x={func:p,scope:s||this,desc:u,alt:false,ctrl:false,shift:false};i(g(t,\"+\"),function(y){switch(y){case\"alt\":case\"ctrl\":case\"shift\":x[y]=true;break;default:x.charCode=y.charCodeAt(0);x.keyCode=y.toUpperCase().charCodeAt(0)}});q.shortcuts[(x.ctrl?\"ctrl\":\"\")+\",\"+(x.alt?\"alt\":\"\")+\",\"+(x.shift?\"shift\":\"\")+\",\"+x.keyCode]=x});return true},execCommand:function(x,v,z,p){var r=this,u=0,y,q;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(x)&&(!p||!p.skip_focus)){r.focus()}y={};r.onBeforeExecCommand.dispatch(r,x,v,z,y);if(y.terminate){return false}if(r.execCallback(\"execcommand_callback\",r.id,r.selection.getNode(),x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}if(y=r.execCommands[x]){q=y.func.call(y.scope,v,z);if(q!==true){r.onExecCommand.dispatch(r,x,v,z,p);return q}}i(r.plugins,function(s){if(s.execCommand&&s.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);u=1;return false}});if(u){return true}if(r.theme&&r.theme.execCommand&&r.theme.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}if(r.editorCommands.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}r.getDoc().execCommand(x,v,z);r.onExecCommand.dispatch(r,x,v,z,p)},queryCommandState:function(u){var q=this,v,r;if(q._isHidden()){return}if(v=q.queryStateCommands[u]){r=v.func.call(v.scope);if(r!==true){return r}}v=q.editorCommands.queryCommandState(u);if(v!==-1){return v}try{return this.getDoc().queryCommandState(u)}catch(p){}},queryCommandValue:function(v){var q=this,u,r;if(q._isHidden()){return}if(u=q.queryValueCommands[v]){r=u.func.call(u.scope);if(r!==true){return r}}u=q.editorCommands.queryCommandValue(v);if(d(u)){return u}try{return this.getDoc().queryCommandValue(v)}catch(p){}},show:function(){var p=this;n.show(p.getContainer());n.hide(p.id);p.load()},hide:function(){var p=this,q=p.getDoc();if(b&&q){q.execCommand(\"SelectAll\")}p.save();n.hide(p.getContainer());n.setStyle(p.id,\"display\",p.orgDisplay)},isHidden:function(){return !n.isHidden(this.id)},setProgressState:function(p,q,r){this.onSetProgressState.dispatch(this,p,q,r);return p},load:function(s){var p=this,r=p.getElement(),q;if(r){s=s||{};s.load=true;q=p.setContent(d(r.value)?r.value:r.innerHTML,s);s.element=r;if(!s.no_events){p.onLoadContent.dispatch(p,s)}s.element=r=null;return q}},save:function(u){var p=this,s=p.getElement(),q,r;if(!s||!p.initialized){return}u=u||{};u.save=true;if(!u.no_events){p.undoManager.typing=false;p.undoManager.add()}u.element=s;q=u.content=p.getContent(u);if(!u.no_events){p.onSaveContent.dispatch(p,u)}q=u.content;if(!/TEXTAREA|INPUT/i.test(s.nodeName)){s.innerHTML=q;if(r=n.getParent(p.id,\"form\")){i(r.elements,function(t){if(t.name==p.id){t.value=q;return false}})}}else{s.value=q}u.element=s=null;return q},setContent:function(u,s){var r=this,q,p=r.getBody(),t;s=s||{};s.format=s.format||\"html\";s.set=true;s.content=u;if(!s.no_events){r.onBeforeSetContent.dispatch(r,s)}u=s.content;if(!m.isIE&&(u.length===0||/^\\s+$/.test(u))){t=r.settings.forced_root_block;if(t){u=\"<\"+t+'><br data-mce-bogus=\"1\"></'+t+\">\"}else{u='<br data-mce-bogus=\"1\">'}p.innerHTML=u;r.selection.select(p,true);r.selection.collapse(true);return}if(s.format!==\"raw\"){u=new m.html.Serializer({},r.schema).serialize(r.parser.parse(u))}s.content=m.trim(u);r.dom.setHTML(p,s.content);if(!s.no_events){r.onSetContent.dispatch(r,s)}r.selection.normalize();return s.content},getContent:function(q){var p=this,r;q=q||{};q.format=q.format||\"html\";q.get=true;if(!q.no_events){p.onBeforeGetContent.dispatch(p,q)}if(q.format==\"raw\"){r=p.getBody().innerHTML}else{r=p.serializer.serialize(p.getBody(),q)}q.content=m.trim(r);if(!q.no_events){p.onGetContent.dispatch(p,q)}return q.content},isDirty:function(){var p=this;return m.trim(p.startContent)!=m.trim(p.getContent({format:\"raw\",no_events:1}))&&!p.isNotDirty},getContainer:function(){var p=this;if(!p.container){p.container=n.get(p.editorContainer||p.id+\"_parent\")}return p.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return n.get(this.settings.content_element||this.id)},getWin:function(){var p=this,q;if(!p.contentWindow){q=n.get(p.id+\"_ifr\");if(q){p.contentWindow=q.contentWindow}}return p.contentWindow},getDoc:function(){var q=this,p;if(!q.contentDocument){p=q.getWin();if(p){q.contentDocument=p.document}}return q.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(p,x,v){var q=this,r=q.settings;if(r.urlconverter_callback){return q.execCallback(\"urlconverter_callback\",p,v,true,x)}if(!r.convert_urls||(v&&v.nodeName==\"LINK\")||p.indexOf(\"file:\")===0){return p}if(r.relative_urls){return q.documentBaseURI.toRelative(p)}p=q.documentBaseURI.toAbsolute(p,r.remove_script_host);return p},addVisual:function(r){var p=this,q=p.settings;r=r||p.getBody();if(!d(p.hasVisual)){p.hasVisual=q.visual}i(p.dom.select(\"table,a\",r),function(t){var s;switch(t.nodeName){case\"TABLE\":s=p.dom.getAttrib(t,\"border\");if(!s||s==\"0\"){if(p.hasVisual){p.dom.addClass(t,q.visual_table_class)}else{p.dom.removeClass(t,q.visual_table_class)}}return;case\"A\":s=p.dom.getAttrib(t,\"name\");if(s){if(p.hasVisual){p.dom.addClass(t,\"mceItemAnchor\")}else{p.dom.removeClass(t,\"mceItemAnchor\")}}return}});p.onVisualAid.dispatch(p,r,p.hasVisual)},remove:function(){var p=this,q=p.getContainer();p.removed=1;p.hide();p.execCallback(\"remove_instance_callback\",p);p.onRemove.dispatch(p);p.onExecCommand.listeners=[];m.remove(p);n.remove(q)},destroy:function(q){var p=this;if(p.destroyed){return}if(!q){m.removeUnload(p.destroy);tinyMCE.onBeforeUnload.remove(p._beforeUnload);if(p.theme&&p.theme.destroy){p.theme.destroy()}p.controlManager.destroy();p.selection.destroy();p.dom.destroy();if(!p.settings.content_editable){j.clear(p.getWin());j.clear(p.getDoc())}j.clear(p.getBody());j.clear(p.formElement)}if(p.formElement){p.formElement.submit=p.formElement._mceOldSubmit;p.formElement._mceOldSubmit=null}p.contentAreaContainer=p.formElement=p.container=p.settings.content_element=p.bodyElement=p.contentDocument=p.contentWindow=null;if(p.selection){p.selection=p.selection.win=p.selection.dom=p.selection.dom.doc=null}p.destroyed=1},_addEvents:function(){var B=this,r,C=B.settings,q=B.dom,x={mouseup:\"onMouseUp\",mousedown:\"onMouseDown\",click:\"onClick\",keyup:\"onKeyUp\",keydown:\"onKeyDown\",keypress:\"onKeyPress\",submit:\"onSubmit\",reset:\"onReset\",contextmenu:\"onContextMenu\",dblclick:\"onDblClick\",paste:\"onPaste\"};function p(t,D){var s=t.type;if(B.removed){return}if(B.onEvent.dispatch(B,t,D)!==false){B[x[t.fakeType||t.type]].dispatch(B,t,D)}}i(x,function(t,s){switch(s){case\"contextmenu\":q.bind(B.getDoc(),s,p);break;case\"paste\":q.bind(B.getBody(),s,function(D){p(D)});break;case\"submit\":case\"reset\":q.bind(B.getElement().form||n.getParent(B.id,\"form\"),s,p);break;default:q.bind(C.content_editable?B.getBody():B.getDoc(),s,p)}});q.bind(C.content_editable?B.getBody():(a?B.getDoc():B.getWin()),\"focus\",function(s){B.focus(true)});if(m.isGecko){q.bind(B.getDoc(),\"DOMNodeInserted\",function(t){var s;t=t.target;if(t.nodeType===1&&t.nodeName===\"IMG\"&&(s=t.getAttribute(\"data-mce-src\"))){t.src=B.documentBaseURI.toAbsolute(s)}})}if(a){function u(){var E=this,G=E.getDoc(),F=E.settings;if(a&&!F.readonly){E._refreshContentEditable();try{G.execCommand(\"styleWithCSS\",0,false)}catch(D){if(!E._isHidden()){try{G.execCommand(\"useCSS\",0,true)}catch(D){}}}if(!F.table_inline_editing){try{G.execCommand(\"enableInlineTableEditing\",false,false)}catch(D){}}if(!F.object_resizing){try{G.execCommand(\"enableObjectResizing\",false,false)}catch(D){}}}}B.onBeforeExecCommand.add(u);B.onMouseDown.add(u)}B.onMouseUp.add(B.nodeChanged);B.onKeyUp.add(function(s,t){var D=t.keyCode;if((D>=33&&D<=36)||(D>=37&&D<=40)||D==13||D==45||D==46||D==8||(m.isMac&&(D==91||D==93))||t.ctrlKey){B.nodeChanged()}});B.onKeyDown.add(function(t,D){if(D.keyCode!=8){return}var F=t.selection.getRng().startContainer;var E=t.selection.getRng().startOffset;while(F&&F.nodeType&&F.nodeType!=1&&F.parentNode){F=F.parentNode}if(F&&F.parentNode&&F.parentNode.tagName===\"BLOCKQUOTE\"&&F.parentNode.firstChild==F&&E==0){t.formatter.toggle(\"blockquote\",null,F.parentNode);var s=t.selection.getRng();s.setStart(F,0);s.setEnd(F,0);t.selection.setRng(s);t.selection.collapse(false)}});B.onReset.add(function(){B.setContent(B.startContent,{format:\"raw\"})});if(C.custom_shortcuts){if(C.custom_undo_redo_keyboard_shortcuts){B.addShortcut(\"ctrl+z\",B.getLang(\"undo_desc\"),\"Undo\");B.addShortcut(\"ctrl+y\",B.getLang(\"redo_desc\"),\"Redo\")}B.addShortcut(\"ctrl+b\",B.getLang(\"bold_desc\"),\"Bold\");B.addShortcut(\"ctrl+i\",B.getLang(\"italic_desc\"),\"Italic\");B.addShortcut(\"ctrl+u\",B.getLang(\"underline_desc\"),\"Underline\");for(r=1;r<=6;r++){B.addShortcut(\"ctrl+\"+r,\"\",[\"FormatBlock\",false,\"h\"+r])}B.addShortcut(\"ctrl+7\",\"\",[\"FormatBlock\",false,\"p\"]);B.addShortcut(\"ctrl+8\",\"\",[\"FormatBlock\",false,\"div\"]);B.addShortcut(\"ctrl+9\",\"\",[\"FormatBlock\",false,\"address\"]);function v(t){var s=null;if(!t.altKey&&!t.ctrlKey&&!t.metaKey){return s}i(B.shortcuts,function(D){if(m.isMac&&D.ctrl!=t.metaKey){return}else{if(!m.isMac&&D.ctrl!=t.ctrlKey){return}}if(D.alt!=t.altKey){return}if(D.shift!=t.shiftKey){return}if(t.keyCode==D.keyCode||(t.charCode&&t.charCode==D.charCode)){s=D;return false}});return s}B.onKeyUp.add(function(s,t){var D=v(t);if(D){return j.cancel(t)}});B.onKeyPress.add(function(s,t){var D=v(t);if(D){return j.cancel(t)}});B.onKeyDown.add(function(s,t){var D=v(t);if(D){D.func.call(D.scope);return j.cancel(t)}})}if(m.isIE){q.bind(B.getDoc(),\"controlselect\",function(D){var t=B.resizeInfo,s;D=D.target;if(D.nodeName!==\"IMG\"){return}if(t){q.unbind(t.node,t.ev,t.cb)}if(!q.hasClass(D,\"mceItemNoResize\")){ev=\"resizeend\";s=q.bind(D,ev,function(F){var E;F=F.target;if(E=q.getStyle(F,\"width\")){q.setAttrib(F,\"width\",E.replace(/[^0-9%]+/g,\"\"));q.setStyle(F,\"width\",\"\")}if(E=q.getStyle(F,\"height\")){q.setAttrib(F,\"height\",E.replace(/[^0-9%]+/g,\"\"));q.setStyle(F,\"height\",\"\")}})}else{ev=\"resizestart\";s=q.bind(D,\"resizestart\",j.cancel,j)}t=B.resizeInfo={node:D,ev:ev,cb:s}})}if(m.isOpera){B.onClick.add(function(s,t){j.prevent(t)})}if(C.custom_undo_redo){function y(){B.undoManager.typing=false;B.undoManager.add()}q.bind(B.getDoc(),\"focusout\",function(s){if(!B.removed&&B.undoManager.typing){y()}});B.dom.bind(B.dom.getRoot(),\"dragend\",function(s){y()});B.onKeyUp.add(function(s,D){var t=D.keyCode;if((t>=33&&t<=36)||(t>=37&&t<=40)||t==13||t==45||D.ctrlKey){y()}});B.onKeyDown.add(function(s,E){var D=E.keyCode,t;if(D==8){t=B.getDoc().selection;if(t&&t.createRange&&t.createRange().item){B.undoManager.beforeChange();s.dom.remove(t.createRange().item(0));y();return j.cancel(E)}}if((D>=33&&D<=36)||(D>=37&&D<=40)||D==13||D==45){if(m.isIE&&D==13){B.undoManager.beforeChange()}if(B.undoManager.typing){y()}return}if((D<16||D>20)&&D!=224&&D!=91&&!B.undoManager.typing){B.undoManager.beforeChange();B.undoManager.typing=true;B.undoManager.add()}});B.onMouseDown.add(function(){if(B.undoManager.typing){y()}})}if(m.isWebKit){q.bind(B.getDoc(),\"selectionchange\",function(){if(B.selectionTimer){clearTimeout(B.selectionTimer);B.selectionTimer=0}B.selectionTimer=window.setTimeout(function(){B.nodeChanged()},50)})}if(m.isGecko){function A(){var s=B.dom.getAttribs(B.selection.getStart().cloneNode(false));return function(){var t=B.selection.getStart();if(t!==B.getBody()){B.dom.removeAllAttribs(t);i(s,function(D){t.setAttributeNode(D.cloneNode(true))})}}}function z(){var t=B.selection;return !t.isCollapsed()&&t.getStart()!=t.getEnd()}B.onKeyPress.add(function(s,D){var t;if((D.keyCode==8||D.keyCode==46)&&z()){t=A();B.getDoc().execCommand(\"delete\",false,null);t();return j.cancel(D)}});B.dom.bind(B.getDoc(),\"cut\",function(t){var s;if(z()){s=A();B.onKeyUp.addToTop(j.cancel,j);setTimeout(function(){s();B.onKeyUp.remove(j.cancel,j)},0)}})}},_refreshContentEditable:function(){var q=this,p,r;if(q._isHidden()){p=q.getBody();r=p.parentNode;r.removeChild(p);r.appendChild(p);p.focus()}},_isHidden:function(){var p;if(!a){return 0}p=this.selection.getSel();return(!p||!p.rangeCount||p.rangeCount==0)}})})(tinymce);(function(c){var d=c.each,e,a=true,b=false;c.EditorCommands=function(n){var m=n.dom,p=n.selection,j={state:{},exec:{},value:{}},k=n.settings,q=n.formatter,o;function r(z,y,x){var v;z=z.toLowerCase();if(v=j.exec[z]){v(z,y,x);return a}return b}function l(x){var v;x=x.toLowerCase();if(v=j.state[x]){return v(x)}return -1}function h(x){var v;x=x.toLowerCase();if(v=j.value[x]){return v(x)}return b}function u(v,x){x=x||\"exec\";d(v,function(z,y){d(y.toLowerCase().split(\",\"),function(A){j[x][A]=z})})}c.extend(this,{execCommand:r,queryCommandState:l,queryCommandValue:h,addCommands:u});function f(y,x,v){if(x===e){x=b}if(v===e){v=null}return n.getDoc().execCommand(y,x,v)}function t(v){return q.match(v)}function s(v,x){q.toggle(v,x?{value:x}:e)}function i(v){o=p.getBookmark(v)}function g(){p.moveToBookmark(o)}u({\"mceResetDesignMode,mceBeginUndoLevel\":function(){},\"mceEndUndoLevel,mceAddUndoLevel\":function(){n.undoManager.add()},\"Cut,Copy,Paste\":function(z){var y=n.getDoc(),v;try{f(z)}catch(x){v=a}if(v||!y.queryCommandSupported(z)){if(c.isGecko){n.windowManager.confirm(n.getLang(\"clipboard_msg\"),function(A){if(A){open(\"http://www.mozilla.org/editor/midasdemo/securityprefs.html\",\"_blank\")}})}else{n.windowManager.alert(n.getLang(\"clipboard_no_support\"))}}},unlink:function(v){if(p.isCollapsed()){p.select(p.getNode())}f(v);p.collapse(b)},\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull\":function(v){var x=v.substring(7);d(\"left,center,right,full\".split(\",\"),function(y){if(x!=y){q.remove(\"align\"+y)}});s(\"align\"+x);r(\"mceRepaint\")},\"InsertUnorderedList,InsertOrderedList\":function(y){var v,x;f(y);v=m.getParent(p.getNode(),\"ol,ul\");if(v){x=v.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(x.nodeName)){i();m.split(x,v);g()}}},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(v){s(v)},\"ForeColor,HiliteColor,FontName\":function(y,x,v){s(y,v)},FontSize:function(z,y,x){var v,A;if(x>=1&&x<=7){A=c.explode(k.font_size_style_values);v=c.explode(k.font_size_classes);if(v){x=v[x-1]||x}else{x=A[x-1]||x}}s(z,x)},RemoveFormat:function(v){q.remove(v)},mceBlockQuote:function(v){s(\"blockquote\")},FormatBlock:function(y,x,v){return s(v||\"p\")},mceCleanup:function(){var v=p.getBookmark();n.setContent(n.getContent({cleanup:a}),{cleanup:a});p.moveToBookmark(v)},mceRemoveNode:function(z,y,x){var v=x||p.getNode();if(v!=n.getBody()){i();n.dom.remove(v,a);g()}},mceSelectNodeDepth:function(z,y,x){var v=0;m.getParent(p.getNode(),function(A){if(A.nodeType==1&&v++==x){p.select(A);return b}},n.getBody())},mceSelectNode:function(y,x,v){p.select(v)},mceInsertContent:function(B,I,K){var y,J,E,z,F,G,D,C,L,x,A,M,v,H;y=n.parser;J=new c.html.Serializer({},n.schema);v='<span id=\"mce_marker\" data-mce-type=\"bookmark\">\\uFEFF</span>';G={content:K,format:\"html\"};p.onBeforeSetContent.dispatch(p,G);K=G.content;if(K.indexOf(\"{$caret}\")==-1){K+=\"{$caret}\"}K=K.replace(/\\{\\$caret\\}/,v);if(!p.isCollapsed()){n.getDoc().execCommand(\"Delete\",false,null)}E=p.getNode();G={context:E.nodeName.toLowerCase()};F=y.parse(K,G);A=F.lastChild;if(A.attr(\"id\")==\"mce_marker\"){D=A;for(A=A.prev;A;A=A.walk(true)){if(A.type==3||!m.isBlock(A.name)){A.parent.insert(D,A,A.name===\"br\");break}}}if(!G.invalid){K=J.serialize(F);A=E.firstChild;M=E.lastChild;if(!A||(A===M&&A.nodeName===\"BR\")){m.setHTML(E,K)}else{p.setContent(K)}}else{p.setContent(v);E=n.selection.getNode();z=n.getBody();if(E.nodeType==9){E=A=z}else{A=E}while(A!==z){E=A;A=A.parentNode}K=E==z?z.innerHTML:m.getOuterHTML(E);K=J.serialize(y.parse(K.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i,function(){return J.serialize(F)})));if(E==z){m.setHTML(z,K)}else{m.setOuterHTML(E,K)}}D=m.get(\"mce_marker\");C=m.getRect(D);L=m.getViewPort(n.getWin());if((C.y+C.h>L.y+L.h||C.y<L.y)||(C.x>L.x+L.w||C.x<L.x)){H=c.isIE?n.getDoc().documentElement:n.getBody();H.scrollLeft=C.x;H.scrollTop=C.y-L.h+25}x=m.createRng();A=D.previousSibling;if(A&&A.nodeType==3){x.setStart(A,A.nodeValue.length)}else{x.setStartBefore(D);x.setEndBefore(D)}m.remove(D);p.setRng(x);p.onSetContent.dispatch(p,G);n.addVisual()},mceInsertRawHTML:function(y,x,v){p.setContent(\"tiny_mce_marker\");n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return v}))},mceSetContent:function(y,x,v){n.setContent(v)},\"Indent,Outdent\":function(z){var x,v,y;x=k.indentation;v=/[a-z%]+$/i.exec(x);x=parseInt(x);if(!l(\"InsertUnorderedList\")&&!l(\"InsertOrderedList\")){d(p.getSelectedBlocks(),function(A){if(z==\"outdent\"){y=Math.max(0,parseInt(A.style.paddingLeft||0)-x);m.setStyle(A,\"paddingLeft\",y?y+v:\"\")}else{m.setStyle(A,\"paddingLeft\",(parseInt(A.style.paddingLeft||0)+x)+v)}})}else{f(z)}},mceRepaint:function(){var x;if(c.isGecko){try{i(a);if(p.getSel()){p.getSel().selectAllChildren(n.getBody())}p.collapse(a);g()}catch(v){}}},mceToggleFormat:function(y,x,v){q.toggle(v)},InsertHorizontalRule:function(){n.execCommand(\"mceInsertContent\",false,\"<hr />\")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual;n.addVisual()},mceReplaceContent:function(y,x,v){n.execCommand(\"mceInsertContent\",false,v.replace(/\\{\\$selection\\}/g,p.getContent({format:\"text\"})))},mceInsertLink:function(z,y,x){var v;if(typeof(x)==\"string\"){x={href:x}}v=m.getParent(p.getNode(),\"a\");x.href=x.href.replace(\" \",\"%20\");if(!v||!x.href){q.remove(\"link\")}if(x.href){q.apply(\"link\",x,v)}},selectAll:function(){var x=m.getRoot(),v=m.createRng();v.setStart(x,0);v.setEnd(x,x.childNodes.length);n.selection.setRng(v)}});u({\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull\":function(v){return t(\"align\"+v.substring(7))},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(v){return t(v)},mceBlockQuote:function(){return t(\"blockquote\")},Outdent:function(){var v;if(k.inline_styles){if((v=m.getParent(p.getStart(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}if((v=m.getParent(p.getEnd(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}}return l(\"InsertUnorderedList\")||l(\"InsertOrderedList\")||(!k.inline_styles&&!!m.getParent(p.getNode(),\"BLOCKQUOTE\"))},\"InsertUnorderedList,InsertOrderedList\":function(v){return m.getParent(p.getNode(),v==\"insertunorderedlist\"?\"UL\":\"OL\")}},\"state\");u({\"FontSize,FontName\":function(y){var x=0,v;if(v=m.getParent(p.getNode(),\"span\")){if(y==\"fontsize\"){x=v.style.fontSize}else{x=v.style.fontFamily.replace(/, /g,\",\").replace(/[\\'\\\"]/g,\"\").toLowerCase()}}return x}},\"value\");if(k.custom_undo_redo){u({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}})(tinymce);(function(b){var a=b.util.Dispatcher;b.UndoManager=function(f){var d,e=0,h=[],c;function g(){return b.trim(f.getContent({format:\"raw\",no_events:1}))}return d={typing:false,onAdd:new a(d),onUndo:new a(d),onRedo:new a(d),beforeChange:function(){c=f.selection.getBookmark(2,true)},add:function(m){var j,k=f.settings,l;m=m||{};m.content=g();l=h[e];if(l&&l.content==m.content){return null}if(h[e]){h[e].beforeBookmark=c}if(k.custom_undo_redo_levels){if(h.length>k.custom_undo_redo_levels){for(j=0;j<h.length-1;j++){h[j]=h[j+1]}h.length--;e=h.length}}m.bookmark=f.selection.getBookmark(2,true);if(e<h.length-1){h.length=e+1}h.push(m);e=h.length-1;d.onAdd.dispatch(d,m);f.isNotDirty=0;return m},undo:function(){var k,j;if(d.typing){d.add();d.typing=false}if(e>0){k=h[--e];f.setContent(k.content,{format:\"raw\"});f.selection.moveToBookmark(k.beforeBookmark);d.onUndo.dispatch(d,k)}return k},redo:function(){var i;if(e<h.length-1){i=h[++e];f.setContent(i.content,{format:\"raw\"});f.selection.moveToBookmark(i.bookmark);d.onRedo.dispatch(d,i)}return i},clear:function(){h=[];e=0;d.typing=false},hasUndo:function(){return e>0||this.typing},hasRedo:function(){return e<h.length-1&&!this.typing}}}})(tinymce);(function(l){var j=l.dom.Event,c=l.isIE,a=l.isGecko,b=l.isOpera,i=l.each,h=l.extend,d=true,g=false;function k(o){var p,n,m;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(o.nodeName)){if(p){n=o.cloneNode(false);n.appendChild(p);p=n}else{p=m=o.cloneNode(false)}p.removeAttribute(\"id\")}}while(o=o.parentNode);if(p){return{wrapper:p,inner:m}}}function f(n,o){var m=o.ownerDocument.createRange();m.setStart(n.endContainer,n.endOffset);m.setEndAfter(o);return m.cloneContents().textContent.length==0}function e(o,q,m){var n,p;if(q.isEmpty(m)){n=q.getParent(m,\"ul,ol\");if(!q.getParent(n.parentNode,\"ul,ol\")){q.split(n,m);p=q.create(\"p\",0,'<br data-mce-bogus=\"1\" />');q.replace(p,m);o.select(p,1)}return g}return d}l.create(\"tinymce.ForceBlocks\",{ForceBlocks:function(m){var n=this,o=m.settings,p;n.editor=m;n.dom=m.dom;p=(o.forced_root_block||\"p\").toLowerCase();o.element=p.toUpperCase();m.onPreInit.add(n.setup,n)},setup:function(){var n=this,m=n.editor,p=m.settings,u=m.dom,o=m.selection,q=m.schema.getBlockElements();if(p.forced_root_block){function v(){var y=o.getStart(),t=m.getBody(),s,z,D,F,E,x,A,B=-16777215;if(!y||y.nodeType!==1){return}while(y!=t){if(q[y.nodeName]){return}y=y.parentNode}s=o.getRng();if(s.setStart){z=s.startContainer;D=s.startOffset;F=s.endContainer;E=s.endOffset}else{if(s.item){s=m.getDoc().body.createTextRange();s.moveToElementText(s.item(0))}tmpRng=s.duplicate();tmpRng.collapse(true);D=tmpRng.move(\"character\",B)*-1;if(!tmpRng.collapsed){tmpRng=s.duplicate();tmpRng.collapse(false);E=(tmpRng.move(\"character\",B)*-1)-D}}for(y=t.firstChild;y;y){if(y.nodeType===3||(y.nodeType==1&&!q[y.nodeName])){if(!x){x=u.create(p.forced_root_block);y.parentNode.insertBefore(x,y)}A=y;y=y.nextSibling;x.appendChild(A)}else{x=null;y=y.nextSibling}}if(s.setStart){s.setStart(z,D);s.setEnd(F,E);o.setRng(s)}else{try{s=m.getDoc().body.createTextRange();s.moveToElementText(t);s.collapse(true);s.moveStart(\"character\",D);if(E>0){s.moveEnd(\"character\",E)}s.select()}catch(C){}}m.nodeChanged()}m.onKeyUp.add(v);m.onClick.add(v)}if(p.force_br_newlines){if(c){m.onKeyPress.add(function(s,t){var x;if(t.keyCode==13&&o.getNode().nodeName!=\"LI\"){o.setContent('<br id=\"__\" /> ',{format:\"raw\"});x=u.get(\"__\");x.removeAttribute(\"id\");o.select(x);o.collapse();return j.cancel(t)}})}}if(p.force_p_newlines){if(!c){m.onKeyPress.add(function(s,t){if(t.keyCode==13&&!t.shiftKey&&!n.insertPara(t)){j.cancel(t)}})}else{l.addUnload(function(){n._previousFormats=0});m.onKeyPress.add(function(s,t){n._previousFormats=0;if(t.keyCode==13&&!t.shiftKey&&s.selection.isCollapsed()&&p.keep_styles){n._previousFormats=k(s.selection.getStart())}});m.onKeyUp.add(function(t,y){if(y.keyCode==13&&!y.shiftKey){var x=t.selection.getStart(),s=n._previousFormats;if(!x.hasChildNodes()&&s){x=u.getParent(x,u.isBlock);if(x&&x.nodeName!=\"LI\"){x.innerHTML=\"\";if(n._previousFormats){x.appendChild(s.wrapper);s.inner.innerHTML=\"\\uFEFF\"}else{x.innerHTML=\"\\uFEFF\"}o.select(x,1);o.collapse(true);t.getDoc().execCommand(\"Delete\",false,null);n._previousFormats=0}}}})}if(a){m.onKeyDown.add(function(s,t){if((t.keyCode==8||t.keyCode==46)&&!t.shiftKey){n.backspaceDelete(t,t.keyCode==8)}})}}if(l.isWebKit){function r(t){var s=o.getRng(),x,A=u.create(\"div\",null,\" \"),z,y=u.getViewPort(t.getWin()).h;s.insertNode(x=u.create(\"br\"));s.setStartAfter(x);s.setEndAfter(x);o.setRng(s);if(o.getSel().focusNode==x.previousSibling){o.select(u.insertAfter(u.doc.createTextNode(\"\\u00a0\"),x));o.collapse(d)}u.insertAfter(A,x);z=u.getPos(A).y;u.remove(A);if(z>y){t.getWin().scrollTo(0,z)}}m.onKeyPress.add(function(s,t){if(t.keyCode==13&&(t.shiftKey||(p.force_br_newlines&&!u.getParent(o.getNode(),\"h1,h2,h3,h4,h5,h6,ol,ul\")))){r(s);j.cancel(t)}})}if(c){if(p.element!=\"P\"){m.onKeyPress.add(function(s,t){n.lastElm=o.getNode().nodeName});m.onKeyUp.add(function(t,x){var z,y=o.getNode(),s=t.getBody();if(s.childNodes.length===1&&y.nodeName==\"P\"){y=u.rename(y,p.element);o.select(y);o.collapse();t.nodeChanged()}else{if(x.keyCode==13&&!x.shiftKey&&n.lastElm!=\"P\"){z=u.getParent(y,\"p\");if(z){u.rename(z,p.element);t.nodeChanged()}}}})}}},getParentBlock:function(o){var m=this.dom;return m.getParent(o,m.isBlock)},insertPara:function(Q){var E=this,v=E.editor,M=v.dom,R=v.getDoc(),V=v.settings,F=v.selection.getSel(),G=F.getRangeAt(0),U=R.body;var J,K,H,O,N,q,o,u,z,m,C,T,p,x,I,L=M.getViewPort(v.getWin()),B,D,A;v.undoManager.beforeChange();J=R.createRange();J.setStart(F.anchorNode,F.anchorOffset);J.collapse(d);K=R.createRange();K.setStart(F.focusNode,F.focusOffset);K.collapse(d);H=J.compareBoundaryPoints(J.START_TO_END,K)<0;O=H?F.anchorNode:F.focusNode;N=H?F.anchorOffset:F.focusOffset;q=H?F.focusNode:F.anchorNode;o=H?F.focusOffset:F.anchorOffset;if(O===q&&/^(TD|TH)$/.test(O.nodeName)){if(O.firstChild.nodeName==\"BR\"){M.remove(O.firstChild)}if(O.childNodes.length==0){v.dom.add(O,V.element,null,\"<br />\");T=v.dom.add(O,V.element,null,\"<br />\")}else{I=O.innerHTML;O.innerHTML=\"\";v.dom.add(O,V.element,null,I);T=v.dom.add(O,V.element,null,\"<br />\")}G=R.createRange();G.selectNodeContents(T);G.collapse(1);v.selection.setRng(G);return g}if(O==U&&q==U&&U.firstChild&&v.dom.isBlock(U.firstChild)){O=q=O.firstChild;N=o=0;J=R.createRange();J.setStart(O,0);K=R.createRange();K.setStart(q,0)}if(!R.body.hasChildNodes()){R.body.appendChild(M.create(\"br\"))}O=O.nodeName==\"HTML\"?R.body:O;O=O.nodeName==\"BODY\"?O.firstChild:O;q=q.nodeName==\"HTML\"?R.body:q;q=q.nodeName==\"BODY\"?q.firstChild:q;u=E.getParentBlock(O);z=E.getParentBlock(q);m=u?u.nodeName:V.element;if(I=E.dom.getParent(u,\"li,pre\")){if(I.nodeName==\"LI\"){return e(v.selection,E.dom,I)}return d}if(u&&(u.nodeName==\"CAPTION\"||/absolute|relative|fixed/gi.test(M.getStyle(u,\"position\",1)))){m=V.element;u=null}if(z&&(z.nodeName==\"CAPTION\"||/absolute|relative|fixed/gi.test(M.getStyle(u,\"position\",1)))){m=V.element;z=null}if(/(TD|TABLE|TH|CAPTION)/.test(m)||(u&&m==\"DIV\"&&/left|right/gi.test(M.getStyle(u,\"float\",1)))){m=V.element;u=z=null}C=(u&&u.nodeName==m)?u.cloneNode(0):v.dom.create(m);T=(z&&z.nodeName==m)?z.cloneNode(0):v.dom.create(m);T.removeAttribute(\"id\");if(/^(H[1-6])$/.test(m)&&f(G,u)){T=v.dom.create(V.element)}I=p=O;do{if(I==U||I.nodeType==9||E.dom.isBlock(I)||/(TD|TABLE|TH|CAPTION)/.test(I.nodeName)){break}p=I}while((I=I.previousSibling?I.previousSibling:I.parentNode));I=x=q;do{if(I==U||I.nodeType==9||E.dom.isBlock(I)||/(TD|TABLE|TH|CAPTION)/.test(I.nodeName)){break}x=I}while((I=I.nextSibling?I.nextSibling:I.parentNode));if(p.nodeName==m){J.setStart(p,0)}else{J.setStartBefore(p)}J.setEnd(O,N);C.appendChild(J.cloneContents()||R.createTextNode(\"\"));try{K.setEndAfter(x)}catch(P){}K.setStart(q,o);T.appendChild(K.cloneContents()||R.createTextNode(\"\"));G=R.createRange();if(!p.previousSibling&&p.parentNode.nodeName==m){G.setStartBefore(p.parentNode)}else{if(J.startContainer.nodeName==m&&J.startOffset==0){G.setStartBefore(J.startContainer)}else{G.setStart(J.startContainer,J.startOffset)}}if(!x.nextSibling&&x.parentNode.nodeName==m){G.setEndAfter(x.parentNode)}else{G.setEnd(K.endContainer,K.endOffset)}G.deleteContents();if(b){v.getWin().scrollTo(0,L.y)}if(C.firstChild&&C.firstChild.nodeName==m){C.innerHTML=C.firstChild.innerHTML}if(T.firstChild&&T.firstChild.nodeName==m){T.innerHTML=T.firstChild.innerHTML}function S(y,s){var r=[],X,W,t;y.innerHTML=\"\";if(V.keep_styles){W=s;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(W.nodeName)){X=W.cloneNode(g);M.setAttrib(X,\"id\",\"\");r.push(X)}}while(W=W.parentNode)}if(r.length>0){for(t=r.length-1,X=y;t>=0;t--){X=X.appendChild(r[t])}r[0].innerHTML=b?\"\\u00a0\":\"<br />\";return r[0]}else{y.innerHTML=b?\"\\u00a0\":\"<br />\"}}if(M.isEmpty(C)){S(C,O)}if(M.isEmpty(T)){A=S(T,q)}if(b&&parseFloat(opera.version())<9.5){G.insertNode(C);G.insertNode(T)}else{G.insertNode(T);G.insertNode(C)}T.normalize();C.normalize();v.selection.select(T,true);v.selection.collapse(true);B=v.dom.getPos(T).y;if(B<L.y||B+25>L.y+L.h){v.getWin().scrollTo(0,B<L.y?B:B-L.h+25)}v.undoManager.add();return g},backspaceDelete:function(u,B){var C=this,s=C.editor,y=s.getBody(),q=s.dom,p,v=s.selection,o=v.getRng(),x=o.startContainer,p,z,A,m;if(!B&&o.collapsed&&x.nodeType==1&&o.startOffset==x.childNodes.length){m=new l.dom.TreeWalker(x.lastChild,x);for(p=x.lastChild;p;p=m.prev()){if(p.nodeType==3){o.setStart(p,p.nodeValue.length);o.collapse(true);v.setRng(o);return}}}if(x&&s.dom.isBlock(x)&&!/^(TD|TH)$/.test(x.nodeName)&&B){if(x.childNodes.length==0||(x.childNodes.length==1&&x.firstChild.nodeName==\"BR\")){p=x;while((p=p.previousSibling)&&!s.dom.isBlock(p)){}if(p){if(x!=y.firstChild){z=s.dom.doc.createTreeWalker(p,NodeFilter.SHOW_TEXT,null,g);while(A=z.nextNode()){p=A}o=s.getDoc().createRange();o.setStart(p,p.nodeValue?p.nodeValue.length:0);o.setEnd(p,p.nodeValue?p.nodeValue.length:0);v.setRng(o);s.dom.remove(x)}return j.cancel(u)}}}}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each,e=c.extend;c.create(\"tinymce.ControlManager\",{ControlManager:function(f,j){var h=this,g;j=j||{};h.editor=f;h.controls={};h.onAdd=new c.util.Dispatcher(h);h.onPostRender=new c.util.Dispatcher(h);h.prefix=j.prefix||f.id+\"_\";h._cls={};h.onPostRender.add(function(){d(h.controls,function(i){i.postRender()})})},get:function(f){return this.controls[this.prefix+f]||this.controls[f]},setActive:function(h,f){var g=null;if(g=this.get(h)){g.setActive(f)}return g},setDisabled:function(h,f){var g=null;if(g=this.get(h)){g.setDisabled(f)}return g},add:function(g){var f=this;if(g){f.controls[g.id]=g;f.onAdd.dispatch(g,f)}return g},createControl:function(i){var h,g=this,f=g.editor;d(f.plugins,function(j){if(j.createControl){h=j.createControl(i,g);if(h){return false}}});switch(i){case\"|\":case\"separator\":return g.createSeparator()}if(!h&&f.buttons&&(h=f.buttons[i])){return g.createButton(i,h)}return g.add(h)},createDropMenu:function(f,n,h){var m=this,i=m.editor,j,g,k,l;n=e({\"class\":\"mceDropDown\",constrain:i.settings.constrain_menus},n);n[\"class\"]=n[\"class\"]+\" \"+i.getParam(\"skin\")+\"Skin\";if(k=i.getParam(\"skin_variant\")){n[\"class\"]+=\" \"+i.getParam(\"skin\")+\"Skin\"+k.substring(0,1).toUpperCase()+k.substring(1)}f=m.prefix+f;l=h||m._cls.dropmenu||c.ui.DropMenu;j=m.controls[f]=new l(f,n);j.onAddItem.add(function(r,q){var p=q.settings;p.title=i.getLang(p.title,p.title);if(!p.onclick){p.onclick=function(o){if(p.cmd){i.execCommand(p.cmd,p.ui||false,p.value)}}}});i.onRemove.add(function(){j.destroy()});if(c.isIE){j.onShowMenu.add(function(){i.focus();g=i.selection.getBookmark(1)});j.onHideMenu.add(function(){if(g){i.selection.moveToBookmark(g);g=0}})}return m.add(j)},createListBox:function(f,n,h){var l=this,j=l.editor,i,k,m;if(l.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=e({title:n.title,\"class\":\"mce_\"+f,scope:n.scope,control_manager:l},n);f=l.prefix+f;function g(o){return o.settings.use_accessible_selects&&!c.isGecko}if(j.settings.use_native_selects||g(j)){k=new c.ui.NativeListBox(f,n)}else{m=h||l._cls.listbox||c.ui.ListBox;k=new m(f,n,j)}l.controls[f]=k;if(c.isWebKit){k.onPostRender.add(function(p,o){a.add(o,\"mousedown\",function(){j.bookmark=j.selection.getBookmark(1)});a.add(o,\"focus\",function(){j.selection.moveToBookmark(j.bookmark);j.bookmark=null})})}if(k.hideMenu){j.onMouseDown.add(k.hideMenu,k)}return l.add(k)},createButton:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.label=g.translate(i.label);i.scope=i.scope||g;if(!i.onclick&&!i.menu_button){i.onclick=function(){g.execCommand(i.cmd,i.ui||false,i.value)}}i=e({title:i.title,\"class\":\"mce_\"+m,unavailable_prefix:g.getLang(\"unavailable\",\"\"),scope:i.scope,control_manager:h},i);m=h.prefix+m;if(i.menu_button){f=l||h._cls.menubutton||c.ui.MenuButton;k=new f(m,i,g);g.onMouseDown.add(k.hideMenu,k)}else{f=h._cls.button||c.ui.Button;k=new f(m,i,g)}return h.add(k)},createMenuButton:function(h,f,g){f=f||{};f.menu_button=1;return this.createButton(h,f,g)},createSplitButton:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.scope=i.scope||g;if(!i.onclick){i.onclick=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}if(!i.onselect){i.onselect=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}i=e({title:i.title,\"class\":\"mce_\"+m,scope:i.scope,control_manager:h},i);m=h.prefix+m;f=l||h._cls.splitbutton||c.ui.SplitButton;k=h.add(new f(m,i,g));g.onMouseDown.add(k.hideMenu,k);return k},createColorSplitButton:function(f,n,h){var l=this,j=l.editor,i,k,m,g;if(l.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onclick){n.onclick=function(o){if(c.isIE){g=j.selection.getBookmark(1)}j.execCommand(n.cmd,n.ui||false,o||n.value)}}if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=e({title:n.title,\"class\":\"mce_\"+f,menu_class:j.getParam(\"skin\")+\"Skin\",scope:n.scope,more_colors_title:j.getLang(\"more_colors\")},n);f=l.prefix+f;m=h||l._cls.colorsplitbutton||c.ui.ColorSplitButton;k=new m(f,n,j);j.onMouseDown.add(k.hideMenu,k);j.onRemove.add(function(){k.destroy()});if(c.isIE){k.onShowMenu.add(function(){j.focus();g=j.selection.getBookmark(1)});k.onHideMenu.add(function(){if(g){j.selection.moveToBookmark(g);g=0}})}return l.add(k)},createToolbar:function(k,h,j){var i,g=this,f;k=g.prefix+k;f=j||g._cls.toolbar||c.ui.Toolbar;i=new f(k,h,g.editor);if(g.get(k)){return null}return g.add(i)},createToolbarGroup:function(k,h,j){var i,g=this,f;k=g.prefix+k;f=j||this._cls.toolbarGroup||c.ui.ToolbarGroup;i=new f(k,h,g.editor);if(g.get(k)){return null}return g.add(i)},createSeparator:function(g){var f=g||this._cls.separator||c.ui.Separator;return new f()},setControlType:function(g,f){return this._cls[g.toLowerCase()]=f},destroy:function(){d(this.controls,function(f){f.destroy()});this.controls=null}})})(tinymce);(function(d){var a=d.util.Dispatcher,e=d.each,c=d.isIE,b=d.isOpera;d.create(\"tinymce.WindowManager\",{WindowManager:function(f){var g=this;g.editor=f;g.onOpen=new a(g);g.onClose=new a(g);g.params={};g.features={}},open:function(z,h){var v=this,k=\"\",n,m,i=v.editor.settings.dialog_type==\"modal\",q,o,j,g=d.DOM.getViewPort(),r;z=z||{};h=h||{};o=b?g.w:screen.width;j=b?g.h:screen.height;z.name=z.name||\"mc_\"+new Date().getTime();z.width=parseInt(z.width||320);z.height=parseInt(z.height||240);z.resizable=true;z.left=z.left||parseInt(o/2)-(z.width/2);z.top=z.top||parseInt(j/2)-(z.height/2);h.inline=false;h.mce_width=z.width;h.mce_height=z.height;h.mce_auto_focus=z.auto_focus;if(i){if(c){z.center=true;z.help=false;z.dialogWidth=z.width+\"px\";z.dialogHeight=z.height+\"px\";z.scroll=z.scrollbars||false}}e(z,function(p,f){if(d.is(p,\"boolean\")){p=p?\"yes\":\"no\"}if(!/^(name|url)$/.test(f)){if(c&&i){k+=(k?\";\":\"\")+f+\":\"+p}else{k+=(k?\",\":\"\")+f+\"=\"+p}}});v.features=z;v.params=h;v.onOpen.dispatch(v,z,h);r=z.url||z.file;r=d._addVer(r);try{if(c&&i){q=1;window.showModalDialog(r,window,k)}else{q=window.open(r,z.name,k)}}catch(l){}if(!q){alert(v.editor.getLang(\"popup_blocked\"))}},close:function(f){f.close();this.onClose.dispatch(this)},createInstance:function(i,h,g,m,l,k){var j=d.resolve(i);return new j(h,g,m,l,k)},confirm:function(h,f,i,g){g=g||window;f.call(i||this,g.confirm(this._decode(this.editor.getLang(h,h))))},alert:function(h,f,j,g){var i=this;g=g||window;g.alert(i._decode(i.editor.getLang(h,h)));if(f){f.call(j||i)}},resizeBy:function(f,g,h){h.resizeBy(f,g)},_decode:function(f){return d.DOM.decode(f).replace(/\\\\n/g,\"\\n\")}})}(tinymce));(function(a){a.Formatter=function(V){var M={},O=a.each,c=V.dom,q=V.selection,t=a.dom.TreeWalker,K=new a.dom.RangeUtils(c),d=V.schema.isValidChild,F=c.isBlock,l=V.settings.forced_root_block,s=c.nodeIndex,E=\"\\uFEFF\",e=/^(src|href|style)$/,S=false,B=true,p,P={apply:[],remove:[]};function z(W){return W instanceof Array}function m(X,W){return c.getParents(X,W,c.getRoot())}function b(W){return W.nodeType===1&&(W.face===\"mceinline\"||W.style.fontFamily===\"mceinline\")}function R(W){return W?M[W]:M}function k(W,X){if(W){if(typeof(W)!==\"string\"){O(W,function(Z,Y){k(Y,Z)})}else{X=X.length?X:[X];O(X,function(Y){if(Y.deep===p){Y.deep=!Y.selector}if(Y.split===p){Y.split=!Y.selector||Y.inline}if(Y.remove===p&&Y.selector&&!Y.inline){Y.remove=\"none\"}if(Y.selector&&Y.inline){Y.mixed=true;Y.block_expand=true}if(typeof(Y.classes)===\"string\"){Y.classes=Y.classes.split(/\\s+/)}});M[W]=X}}}var i=function(X){var W;V.dom.getParent(X,function(Y){W=V.dom.getStyle(Y,\"text-decoration\");return W&&W!==\"none\"});return W};var I=function(W){var X;if(W.nodeType===1&&W.parentNode&&W.parentNode.nodeType===1){X=i(W.parentNode);if(V.dom.getStyle(W,\"color\")&&X){V.dom.setStyle(W,\"text-decoration\",X)}else{if(V.dom.getStyle(W,\"textdecoration\")===X){V.dom.setStyle(W,\"text-decoration\",null)}}}};function T(Z,ah,ac){var ad=R(Z),ai=ad[0],ag,X,af,ae=q.isCollapsed();function aa(am){var al=am.startContainer,ap=am.startOffset,ao,an;if(al.nodeType==1||al.nodeValue===\"\"){al=al.nodeType==1?al.childNodes[ap]:al;if(al){ao=new t(al,al.parentNode);for(an=ao.current();an;an=ao.next()){if(an.nodeType==3&&!f(an)){am.setStart(an,0);break}}}}return am}function W(am,al){al=al||ai;if(am){if(al.onformat){al.onformat(am,al,ah,ac)}O(al.styles,function(ao,an){c.setStyle(am,an,r(ao,ah))});O(al.attributes,function(ao,an){c.setAttrib(am,an,r(ao,ah))});O(al.classes,function(an){an=r(an,ah);if(!c.hasClass(am,an)){c.addClass(am,an)}})}}function ab(){function an(au,ar){var at=new t(ar);for(ac=at.current();ac;ac=at.prev()){if(ac.childNodes.length>1||ac==au){return ac}}}var am=V.selection.getRng();var aq=am.startContainer;var al=am.endContainer;if(aq!=al&&am.endOffset==0){var ap=an(aq,al);var ao=ap.nodeType==3?ap.length:ap.childNodes.length;am.setEnd(ap,ao)}return am}function Y(ao,au,ar,aq,am){var al=[],an=-1,at,aw=-1,ap=-1,av;O(ao.childNodes,function(ay,ax){if(ay.nodeName===\"UL\"||ay.nodeName===\"OL\"){an=ax;at=ay;return false}});O(ao.childNodes,function(ay,ax){if(ay.nodeName===\"SPAN\"&&c.getAttrib(ay,\"data-mce-type\")==\"bookmark\"){if(ay.id==au.id+\"_start\"){aw=ax}else{if(ay.id==au.id+\"_end\"){ap=ax}}}});if(an<=0||(aw<an&&ap>an)){O(a.grep(ao.childNodes),am);return 0}else{av=ar.cloneNode(S);O(a.grep(ao.childNodes),function(ay,ax){if((aw<an&&ax<an)||(aw>an&&ax>an)){al.push(ay);ay.parentNode.removeChild(ay)}});if(aw<an){ao.insertBefore(av,at)}else{if(aw>an){ao.insertBefore(av,at.nextSibling)}}aq.push(av);O(al,function(ax){av.appendChild(ax)});return av}}function aj(am,ao){var al=[],ap,an;ap=ai.inline||ai.block;an=c.create(ap);W(an);K.walk(am,function(aq){var ar;function at(au){var ax=au.nodeName.toLowerCase(),aw=au.parentNode.nodeName.toLowerCase(),av;if(g(ax,\"br\")){ar=0;if(ai.block){c.remove(au)}return}if(ai.wrapper&&x(au,Z,ah)){ar=0;return}if(ai.block&&!ai.wrapper&&G(ax)){au=c.rename(au,ap);W(au);al.push(au);ar=0;return}if(ai.selector){O(ad,function(ay){if(\"collapsed\" in ay&&ay.collapsed!==ae){return}if(c.is(au,ay.selector)&&!b(au)){W(au,ay);av=true}});if(!ai.inline||av){ar=0;return}}if(d(ap,ax)&&d(aw,ap)&&!(au.nodeType===3&&au.nodeValue.length===1&&au.nodeValue.charCodeAt(0)===65279)){if(!ar){ar=an.cloneNode(S);au.parentNode.insertBefore(ar,au);al.push(ar)}ar.appendChild(au)}else{if(ax==\"li\"&&ao){ar=Y(au,ao,an,al,at)}else{ar=0;O(a.grep(au.childNodes),at);ar=0}}}O(aq,at)});if(ai.wrap_links===false){O(al,function(aq){function ar(aw){var av,au,at;if(aw.nodeName===\"A\"){au=an.cloneNode(S);al.push(au);at=a.grep(aw.childNodes);for(av=0;av<at.length;av++){au.appendChild(at[av])}aw.appendChild(au)}O(a.grep(aw.childNodes),ar)}ar(aq)})}O(al,function(at){var aq;function au(aw){var av=0;O(aw.childNodes,function(ax){if(!f(ax)&&!H(ax)){av++}});return av}function ar(av){var ax,aw;O(av.childNodes,function(ay){if(ay.nodeType==1&&!H(ay)&&!b(ay)){ax=ay;return S}});if(ax&&h(ax,ai)){aw=ax.cloneNode(S);W(aw);c.replace(aw,av,B);c.remove(ax,1)}return aw||av}aq=au(at);if((al.length>1||!F(at))&&aq===0){c.remove(at,1);return}if(ai.inline||ai.wrapper){if(!ai.exact&&aq===1){at=ar(at)}O(ad,function(av){O(c.select(av.inline,at),function(ax){var aw;if(av.wrap_links===false){aw=ax.parentNode;do{if(aw.nodeName===\"A\"){return}}while(aw=aw.parentNode)}U(av,ah,ax,av.exact?ax:null)})});if(x(at.parentNode,Z,ah)){c.remove(at,1);at=0;return B}if(ai.merge_with_parents){c.getParent(at.parentNode,function(av){if(x(av,Z,ah)){c.remove(at,1);at=0;return B}})}if(at&&ai.merge_siblings!==false){at=u(C(at),at);at=u(at,C(at,B))}}})}if(ai){if(ac){X=c.createRng();X.setStartBefore(ac);X.setEndAfter(ac);aj(o(X,ad))}else{if(!ae||!ai.inline||c.select(\"td.mceSelected,th.mceSelected\").length){var ak=V.selection.getNode();V.selection.setRng(ab());ag=q.getBookmark();aj(o(q.getRng(B),ad),ag);if(ai.styles&&(ai.styles.color||ai.styles.textDecoration)){a.walk(ak,I,\"childNodes\");I(ak)}q.moveToBookmark(ag);q.setRng(aa(q.getRng(B)));V.nodeChanged()}else{Q(\"apply\",Z,ah)}}}}function A(Y,ah,ab){var ac=R(Y),aj=ac[0],ag,af,X;function aa(am){var al=am.startContainer,ar=am.startOffset,aq,ap,an,ao;if(al.nodeType==3&&ar>=al.nodeValue.length-1){al=al.parentNode;ar=s(al)+1}if(al.nodeType==1){an=al.childNodes;al=an[Math.min(ar,an.length-1)];aq=new t(al);if(ar>an.length-1){aq.next()}for(ap=aq.current();ap;ap=aq.next()){if(ap.nodeType==3&&!f(ap)){ao=c.create(\"a\",null,E);ap.parentNode.insertBefore(ao,ap);am.setStart(ap,0);q.setRng(am);c.remove(ao);return}}}}function Z(ao){var an,am,al;an=a.grep(ao.childNodes);for(am=0,al=ac.length;am<al;am++){if(U(ac[am],ah,ao,ao)){break}}if(aj.deep){for(am=0,al=an.length;am<al;am++){Z(an[am])}}}function ad(al){var am;O(m(al.parentNode).reverse(),function(an){var ao;if(!am&&an.id!=\"_start\"&&an.id!=\"_end\"){ao=x(an,Y,ah);if(ao&&ao.split!==false){am=an}}});return am}function W(ao,al,aq,au){var av,at,ar,an,ap,am;if(ao){am=ao.parentNode;for(av=al.parentNode;av&&av!=am;av=av.parentNode){at=av.cloneNode(S);for(ap=0;ap<ac.length;ap++){if(U(ac[ap],ah,at,at)){at=0;break}}if(at){if(ar){at.appendChild(ar)}if(!an){an=at}ar=at}}if(au&&(!aj.mixed||!F(ao))){al=c.split(ao,al)}if(ar){aq.parentNode.insertBefore(ar,aq);an.appendChild(aq)}}return al}function ai(al){return W(ad(al),al,al,true)}function ae(an){var am=c.get(an?\"_start\":\"_end\"),al=am[an?\"firstChild\":\"lastChild\"];if(H(al)){al=al[an?\"firstChild\":\"lastChild\"]}c.remove(am,true);return al}function ak(al){var am,an;al=o(al,ac,B);if(aj.split){am=J(al,B);an=J(al);if(am!=an){am=N(am,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"});an=N(an,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"});ai(am);ai(an);am=ae(B);an=ae()}else{am=an=ai(am)}al.startContainer=am.parentNode;al.startOffset=s(am);al.endContainer=an.parentNode;al.endOffset=s(an)+1}K.walk(al,function(ao){O(ao,function(ap){Z(ap);if(ap.nodeType===1&&V.dom.getStyle(ap,\"text-decoration\")===\"underline\"&&ap.parentNode&&i(ap.parentNode)===\"underline\"){U({deep:false,exact:true,inline:\"span\",styles:{textDecoration:\"underline\"}},null,ap)}})})}if(ab){X=c.createRng();X.setStartBefore(ab);X.setEndAfter(ab);ak(X);return}if(!q.isCollapsed()||!aj.inline||c.select(\"td.mceSelected,th.mceSelected\").length){ag=q.getBookmark();ak(q.getRng(B));q.moveToBookmark(ag);if(aj.inline&&j(Y,ah,q.getStart())){aa(q.getRng(true))}V.nodeChanged()}else{Q(\"remove\",Y,ah)}}function D(X,Z,Y){var W=R(X);if(j(X,Z,Y)&&(!(\"toggle\" in W[0])||W[0][\"toggle\"])){A(X,Z,Y)}else{T(X,Z,Y)}}function x(X,W,ac,aa){var Y=R(W),ad,ab,Z;function ae(ai,ak,al){var ah,aj,af=ak[al],ag;if(ak.onmatch){return ak.onmatch(ai,ak,al)}if(af){if(af.length===p){for(ah in af){if(af.hasOwnProperty(ah)){if(al===\"attributes\"){aj=c.getAttrib(ai,ah)}else{aj=L(ai,ah)}if(aa&&!aj&&!ak.exact){return}if((!aa||ak.exact)&&!g(aj,r(af[ah],ac))){return}}}}else{for(ag=0;ag<af.length;ag++){if(al===\"attributes\"?c.getAttrib(ai,af[ag]):L(ai,af[ag])){return ak}}}}return ak}if(Y&&X){for(ab=0;ab<Y.length;ab++){ad=Y[ab];if(h(X,ad)&&ae(X,ad,\"attributes\")&&ae(X,ad,\"styles\")){if(Z=ad.classes){for(ab=0;ab<Z.length;ab++){if(!c.hasClass(X,Z[ab])){return}}}return ad}}}}function j(Y,ab,aa){var X,Z;function W(ac){ac=c.getParent(ac,function(ad){return !!x(ad,Y,ab,true)});return x(ac,Y,ab)}if(aa){return W(aa)}if(q.isCollapsed()){for(Z=P.apply.length-1;Z>=0;Z--){if(P.apply[Z].name==Y){return true}}for(Z=P.remove.length-1;Z>=0;Z--){if(P.remove[Z].name==Y){return false}}return W(q.getNode())}aa=q.getNode();if(W(aa)){return B}X=q.getStart();if(X!=aa){if(W(X)){return B}}return S}function v(ad,ac){var aa,ab=[],Z={},Y,X,W;if(q.isCollapsed()){for(X=0;X<ad.length;X++){for(Y=P.remove.length-1;Y>=0;Y--){W=ad[X];if(P.remove[Y].name==W){Z[W]=true;break}}}for(Y=P.apply.length-1;Y>=0;Y--){for(X=0;X<ad.length;X++){W=ad[X];if(!Z[W]&&P.apply[Y].name==W){Z[W]=true;ab.push(W)}}}}aa=q.getStart();c.getParent(aa,function(ag){var af,ae;for(af=0;af<ad.length;af++){ae=ad[af];if(!Z[ae]&&x(ag,ae,ac)){Z[ae]=true;ab.push(ae)}}});return ab}function y(aa){var ac=R(aa),Z,Y,ab,X,W;if(ac){Z=q.getStart();Y=m(Z);for(X=ac.length-1;X>=0;X--){W=ac[X].selector;if(!W){return B}for(ab=Y.length-1;ab>=0;ab--){if(c.is(Y[ab],W)){return B}}}}return S}a.extend(this,{get:R,register:k,apply:T,remove:A,toggle:D,match:j,matchAll:v,matchNode:x,canApply:y});function h(W,X){if(g(W,X.inline)){return B}if(g(W,X.block)){return B}if(X.selector){return c.is(W,X.selector)}}function g(X,W){X=X||\"\";W=W||\"\";X=\"\"+(X.nodeName||X);W=\"\"+(W.nodeName||W);return X.toLowerCase()==W.toLowerCase()}function L(X,W){var Y=c.getStyle(X,W);if(W==\"color\"||W==\"backgroundColor\"){Y=c.toHex(Y)}if(W==\"fontWeight\"&&Y==700){Y=\"bold\"}return\"\"+Y}function r(W,X){if(typeof(W)!=\"string\"){W=W(X)}else{if(X){W=W.replace(/%(\\w+)/g,function(Z,Y){return X[Y]||Z})}}return W}function f(W){return W&&W.nodeType===3&&/^([\\s\\r\\n]+|)$/.test(W.nodeValue)}function N(Y,X,W){var Z=c.create(X,W);Y.parentNode.insertBefore(Z,Y);Z.appendChild(Y);return Z}function o(W,ag,Z){var Y=W.startContainer,ad=W.startOffset,aj=W.endContainer,ae=W.endOffset,ai,af,ac;function ah(am,an,ak,al){var ao,ap;al=al||c.getRoot();for(;;){ao=am.parentNode;if(ao==al||(!ag[0].block_expand&&F(ao))){return am}for(ai=ao[an];ai&&ai!=am;ai=ai[ak]){if(ai.nodeType==1&&!H(ai)){return am}if(ai.nodeType==3&&!f(ai)){return am}}am=am.parentNode}return am}function ab(ak,al){if(al===p){al=ak.nodeType===3?ak.length:ak.childNodes.length}while(ak&&ak.hasChildNodes()){ak=ak.childNodes[al];if(ak){al=ak.nodeType===3?ak.length:ak.childNodes.length}}return{node:ak,offset:al}}if(Y.nodeType==1&&Y.hasChildNodes()){af=Y.childNodes.length-1;Y=Y.childNodes[ad>af?af:ad];if(Y.nodeType==3){ad=0}}if(aj.nodeType==1&&aj.hasChildNodes()){af=aj.childNodes.length-1;aj=aj.childNodes[ae>af?af:ae-1];if(aj.nodeType==3){ae=aj.nodeValue.length}}if(H(Y.parentNode)){Y=Y.parentNode}if(H(Y)){Y=Y.nextSibling||Y}if(H(aj.parentNode)){ae=c.nodeIndex(aj);aj=aj.parentNode}if(H(aj)&&aj.previousSibling){aj=aj.previousSibling;ae=aj.length}if(ag[0].inline){ac=ab(aj,ae);if(ac.node){while(ac.node&&ac.offset===0&&ac.node.previousSibling){ac=ab(ac.node.previousSibling)}if(ac.node&&ac.offset>0&&ac.node.nodeType===3&&ac.node.nodeValue.charAt(ac.offset-1)===\" \"){if(ac.offset>1){aj=ac.node;aj.splitText(ac.offset-1)}else{if(ac.node.previousSibling){aj=ac.node.previousSibling}}}}}if(ag[0].inline||ag[0].block_expand){Y=ah(Y,\"firstChild\",\"nextSibling\");aj=ah(aj,\"lastChild\",\"previousSibling\")}if(ag[0].selector&&ag[0].expand!==S&&!ag[0].inline){function aa(al,ak){var am,an,ap,ao;if(al.nodeType==3&&al.nodeValue.length==0&&al[ak]){al=al[ak]}am=m(al);for(an=0;an<am.length;an++){for(ap=0;ap<ag.length;ap++){ao=ag[ap];if(\"collapsed\" in ao&&ao.collapsed!==W.collapsed){continue}if(c.is(am[an],ao.selector)){return am[an]}}}return al}Y=aa(Y,\"previousSibling\");aj=aa(aj,\"nextSibling\")}if(ag[0].block||ag[0].selector){function X(al,ak,an){var am;if(!ag[0].wrapper){am=c.getParent(al,ag[0].block)}if(!am){am=c.getParent(al.nodeType==3?al.parentNode:al,F)}if(am&&ag[0].wrapper){am=m(am,\"ul,ol\").reverse()[0]||am}if(!am){am=al;while(am[ak]&&!F(am[ak])){am=am[ak];if(g(am,\"br\")){break}}}return am||al}Y=X(Y,\"previousSibling\");aj=X(aj,\"nextSibling\");if(ag[0].block){if(!F(Y)){Y=ah(Y,\"firstChild\",\"nextSibling\")}if(!F(aj)){aj=ah(aj,\"lastChild\",\"previousSibling\")}}}if(Y.nodeType==1){ad=s(Y);Y=Y.parentNode}if(aj.nodeType==1){ae=s(aj)+1;aj=aj.parentNode}return{startContainer:Y,startOffset:ad,endContainer:aj,endOffset:ae}}function U(ac,ab,Z,W){var Y,X,aa;if(!h(Z,ac)){return S}if(ac.remove!=\"all\"){O(ac.styles,function(ae,ad){ae=r(ae,ab);if(typeof(ad)===\"number\"){ad=ae;W=0}if(!W||g(L(W,ad),ae)){c.setStyle(Z,ad,\"\")}aa=1});if(aa&&c.getAttrib(Z,\"style\")==\"\"){Z.removeAttribute(\"style\");Z.removeAttribute(\"data-mce-style\")}O(ac.attributes,function(af,ad){var ae;af=r(af,ab);if(typeof(ad)===\"number\"){ad=af;W=0}if(!W||g(c.getAttrib(W,ad),af)){if(ad==\"class\"){af=c.getAttrib(Z,ad);if(af){ae=\"\";O(af.split(/\\s+/),function(ag){if(/mce\\w+/.test(ag)){ae+=(ae?\" \":\"\")+ag}});if(ae){c.setAttrib(Z,ad,ae);return}}}if(ad==\"class\"){Z.removeAttribute(\"className\")}if(e.test(ad)){Z.removeAttribute(\"data-mce-\"+ad)}Z.removeAttribute(ad)}});O(ac.classes,function(ad){ad=r(ad,ab);if(!W||c.hasClass(W,ad)){c.removeClass(Z,ad)}});X=c.getAttribs(Z);for(Y=0;Y<X.length;Y++){if(X[Y].nodeName.indexOf(\"_\")!==0){return S}}}if(ac.remove!=\"none\"){n(Z,ac);return B}}function n(Y,Z){var W=Y.parentNode,X;if(Z.block){if(!l){function aa(ac,ab,ad){ac=C(ac,ab,ad);return !ac||(ac.nodeName==\"BR\"||F(ac))}if(F(Y)&&!F(W)){if(!aa(Y,S)&&!aa(Y.firstChild,B,1)){Y.insertBefore(c.create(\"br\"),Y.firstChild)}if(!aa(Y,B)&&!aa(Y.lastChild,S,1)){Y.appendChild(c.create(\"br\"))}}}else{if(W==c.getRoot()){if(!Z.list_block||!g(Y,Z.list_block)){O(a.grep(Y.childNodes),function(ab){if(d(l,ab.nodeName.toLowerCase())){if(!X){X=N(ab,l)}else{X.appendChild(ab)}}else{X=0}})}}}}if(Z.selector&&Z.inline&&!g(Z.inline,Y)){return}c.remove(Y,1)}function C(X,W,Y){if(X){W=W?\"nextSibling\":\"previousSibling\";for(X=Y?X:X[W];X;X=X[W]){if(X.nodeType==1||!f(X)){return X}}}}function H(W){return W&&W.nodeType==1&&W.getAttribute(\"data-mce-type\")==\"bookmark\"}function u(aa,Z){var W,Y,X;function ac(af,ae){if(af.nodeName!=ae.nodeName){return S}function ad(ah){var ai={};O(c.getAttribs(ah),function(aj){var ak=aj.nodeName.toLowerCase();if(ak.indexOf(\"_\")!==0&&ak!==\"style\"){ai[ak]=c.getAttrib(ah,ak)}});return ai}function ag(ak,aj){var ai,ah;for(ah in ak){if(ak.hasOwnProperty(ah)){ai=aj[ah];if(ai===p){return S}if(ak[ah]!=ai){return S}delete aj[ah]}}for(ah in aj){if(aj.hasOwnProperty(ah)){return S}}return B}if(!ag(ad(af),ad(ae))){return S}if(!ag(c.parseStyle(c.getAttrib(af,\"style\")),c.parseStyle(c.getAttrib(ae,\"style\")))){return S}return B}if(aa&&Z){function ab(ae,ad){for(Y=ae;Y;Y=Y[ad]){if(Y.nodeType==3&&Y.nodeValue.length!==0){return ae}if(Y.nodeType==1&&!H(Y)){return Y}}return ae}aa=ab(aa,\"previousSibling\");Z=ab(Z,\"nextSibling\");if(ac(aa,Z)){for(Y=aa.nextSibling;Y&&Y!=Z;){X=Y;Y=Y.nextSibling;aa.appendChild(X)}c.remove(Z);O(a.grep(Z.childNodes),function(ad){aa.appendChild(ad)});return aa}}return Z}function G(W){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(W)}function J(X,aa){var W,Z,Y;W=X[aa?\"startContainer\":\"endContainer\"];Z=X[aa?\"startOffset\":\"endOffset\"];if(W.nodeType==1){Y=W.childNodes.length-1;if(!aa&&Z){Z--}W=W.childNodes[Z>Y?Y:Z]}return W}function Q(ad,Y,ac){var aa,X=P[ad],ae=P[ad==\"apply\"?\"remove\":\"apply\"];function af(){return P.apply.length||P.remove.length}function ab(){P.apply=[];P.remove=[]}function ag(ah){O(P.apply.reverse(),function(ai){T(ai.name,ai.vars,ah);if(ai.name===\"forecolor\"&&ai.vars.value){I(ah.parentNode)}});O(P.remove.reverse(),function(ai){A(ai.name,ai.vars,ah)});c.remove(ah,1);ab()}for(aa=X.length-1;aa>=0;aa--){if(X[aa].name==Y){return}}X.push({name:Y,vars:ac});for(aa=ae.length-1;aa>=0;aa--){if(ae[aa].name==Y){ae.splice(aa,1)}}if(af()){V.getDoc().execCommand(\"FontName\",false,\"mceinline\");P.lastRng=q.getRng();O(c.select(\"font,span\"),function(ai){var ah;if(b(ai)){ah=q.getBookmark();ag(ai);q.moveToBookmark(ah);V.nodeChanged()}});if(!P.isListening&&af()){P.isListening=true;function W(ai,aj){var ah=c.createRng();ag(ai);ah.setStart(aj,aj.nodeValue.length);ah.setEnd(aj,aj.nodeValue.length);q.setRng(ah);V.nodeChanged()}var Z=false;O(\"onKeyDown,onKeyUp,onKeyPress,onMouseUp\".split(\",\"),function(ah){V[ah].addToTop(function(ai,al){if(al.keyCode==13&&!al.shiftKey){Z=true;return}if(af()&&!a.dom.RangeUtils.compareRanges(P.lastRng,q.getRng())){var aj=false;O(c.select(\"font,span\"),function(ao){var ap,an;if(b(ao)){aj=true;ap=ao.firstChild;while(ap&&ap.nodeType!=3){ap=ap.firstChild}if(ap){W(ao,ap)}else{c.remove(ao)}}});if(Z&&!aj){var ak=q.getNode();var am=ak;while(am&&am.nodeType!=3){am=am.firstChild}if(am){ak=am.parentNode;while(!F(ak)){ak=ak.parentNode}W(ak,am)}}if(al.type==\"keyup\"||al.type==\"mouseup\"){ab();Z=false}}})})}}}}})(tinymce);tinymce.onAddEditor.add(function(e,a){var d,h,g,c=a.settings;if(c.inline_styles){h=e.explode(c.font_size_style_values);function b(j,i){e.each(i,function(l,k){if(l){g.setStyle(j,k,l)}});g.rename(j,\"span\")}d={font:function(j,i){b(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:h[parseInt(i.size)-1]})},u:function(j,i){b(i,{textDecoration:\"underline\"})},strike:function(j,i){b(i,{textDecoration:\"line-through\"})}};function f(i,j){g=i.dom;if(c.convert_fonts_to_spans){e.each(g.select(\"font,u,strike\",j.node),function(k){d[k.nodeName.toLowerCase()](a.dom,k)})}}a.onPreProcess.add(f);a.onSetContent.add(f);a.onInit.add(function(){a.selection.onSetContent.add(f)})}});\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/tiny_mce_jquery_src.js:\n  594            .removeClass(c)\n  595            .each(function(){\n  596:             r.push(this.className);\n  597            });\n  598  \n  ...\n  680            case \"class\":\n  681              e.each(function(){\n  682:               this.className = v;\n  683              });\n  684              break;\n  ...\n 4139  \n 4140            case \"class\":\n 4141:             e.className = v || ''; // Fix IE null bug\n 4142              break;\n 4143  \n ....\n 4383  \n 4384          if (this.hasClass(e, c))\n 4385:           return e.className;\n 4386  \n 4387          o = this.removeClass(e, c);\n 4388  \n 4389:         return e.className = (o != '' ? (o + ' ') : '') + c;\n 4390        });\n 4391      },\n ....\n 4401              re = new RegExp(\"(^|\\\\s+)\" + c + \"(\\\\s+|$)\", \"g\");\n 4402  \n 4403:           v = e.className.replace(re, ' ');\n 4404            v = tinymce.trim(v != ' ' ? v : '');\n 4405  \n 4406:           e.className = v;\n 4407  \n 4408            // Empty class attr\n ....\n 4415          }\n 4416  \n 4417:         return e.className;\n 4418        });\n 4419      },\n ....\n 4425          return false;\n 4426  \n 4427:       return (' ' + n.className + ' ').indexOf(' ' + c + ' ') !== -1;\n 4428      },\n 4429  \n ....\n 4649  \n 4650      getClasses : function() {\n 4651:       var t = this, cl = [], i, lo = {}, f = t.settings.class_filter, ov;\n 4652  \n 4653:       if (t.classes)\n 4654:         return t.classes;\n 4655  \n 4656        function addClasses(s) {\n ....\n 4704  \n 4705        if (cl.length > 0)\n 4706:         t.classes = cl;\n 4707  \n 4708        return cl;\n ....\n 8259        this.rendered = false;\n 8260        this.onRender = new tinymce.util.Dispatcher(this);\n 8261:       this.classPrefix = '';\n 8262        this.scope = s.scope || this;\n 8263        this.disabled = 0;\n ....\n 8306        var n = DOM.get(this.id);\n 8307  \n 8308:       c = this.classPrefix + c;\n 8309  \n 8310        if (s)\n ....\n 8377    Separator : function(id, s) {\n 8378      this.parent(id, s);\n 8379:     this.classPrefix = 'mceSeparator';\n 8380      this.setDisabled(true);\n 8381    },\n 8382  \n 8383    renderHTML : function() {\n 8384:     return tinymce.DOM.createHTML('span', {'class' : this.classPrefix, role : 'separator', 'aria-orientation' : 'vertical', tabindex : '-1'});\n 8385    }\n 8386  });\n ....\n 8392      MenuItem : function(id, s) {\n 8393        this.parent(id, s);\n 8394:       this.classPrefix = 'mceMenuItem';\n 8395      },\n 8396  \n ....\n 8533        this.onShowMenu = new tinymce.util.Dispatcher(this);\n 8534        this.onHideMenu = new tinymce.util.Dispatcher(this);\n 8535:       this.classPrefix = 'mceMenu';\n 8536      },\n 8537  \n ....\n 8583  \n 8584      showMenu : function(x, y, px) {\n 8585:       var t = this, s = t.settings, co, vp = DOM.getViewPort(), w, h, mx, my, ot = 2, dm, tb, cp = t.classPrefix;\n 8586  \n 8587        t.collapse(1);\n ....\n 8712  \n 8713        if (e = DOM.get(t.id))\n 8714:         DOM.removeClass(e.firstChild, t.classPrefix + 'ItemActive');\n 8715  \n 8716        t.onHideMenu.dispatch(t);\n ....\n 8762          DOM.setAttrib(w, 'aria-parent', 'menu_' + t.settings.parent.id);\n 8763        }\n 8764:       co = DOM.add(w, 'div', {role: 'presentation', id : 'menu_' + t.id + '_co', 'class' : t.classPrefix + (s['class'] ? ' ' + s['class'] : '')});\n 8765        t.element = new Element('menu_' + t.id, {blocker : 1, container : s.container});\n 8766  \n 8767        if (s.menu_line)\n 8768:         DOM.add(co, 'span', {'class' : t.classPrefix + 'Line'});\n 8769  \n 8770  //      n = DOM.add(co, 'div', {id : 'menu_' + t.id + '_co', 'class' : 'mceMenuContainer'});\n ....\n 8816  \n 8817      _add : function(tb, o) {\n 8818:       var n, s = o.settings, a, ro, it, cp = this.classPrefix, ic;\n 8819  \n 8820        if (s.separator) {\n ....\n 8872      Button : function(id, s, ed) {\n 8873        this.parent(id, s, ed);\n 8874:       this.classPrefix = 'mceButton';\n 8875      },\n 8876  \n 8877      renderHTML : function() {\n 8878:       var cp = this.classPrefix, s = this.settings, h, l;\n 8879  \n 8880        l = DOM.encode(s.label || '');\n ....\n 8920        t.onRenderMenu = new tinymce.util.Dispatcher(this);\n 8921  \n 8922:       t.classPrefix = 'mceListBox';\n 8923      },\n 8924  \n ....\n 8998  \n 8999      renderHTML : function() {\n 9000:       var h = '', t = this, s = t.settings, cp = t.classPrefix;\n 9001  \n 9002        h = '<span role=\"listbox\" aria-haspopup=\"true\" aria-labelledby=\"' + t.id +'_voiceDesc\" aria-describedby=\"' + t.id + '_voiceDesc\"><table role=\"presentation\" tabindex=\"0\" id=\"' + t.id + '\" cellpadding=\"0\" cellspacing=\"0\" class=\"' + cp + ' ' + cp + 'Enabled' + (s['class'] ? (' ' + s['class']) : '') + '\"><tbody><tr>';\n ....\n 9044  \n 9045        Event.add(DOM.doc, 'mousedown', t.hideMenu, t);\n 9046:       DOM.addClass(t.id, t.classPrefix + 'Selected');\n 9047  \n 9048        //DOM.get(t.id + '_text').focus();\n ....\n 9053  \n 9054        if (t.menu && t.menu.isMenuVisible) {\n 9055:         DOM.removeClass(t.id, t.classPrefix + 'Selected');\n 9056  \n 9057          // Prevent double toogles by canceling the mouse click event to the button\n ....\n 9060  \n 9061          if (!e || !DOM.getParent(e.target, '.mceMenu')) {\n 9062:           DOM.removeClass(t.id, t.classPrefix + 'Selected');\n 9063            Event.remove(DOM.doc, 'mousedown', t.hideMenu, t);\n 9064            t.menu.hideMenu();\n ....\n 9072        m = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n 9073          menu_line : 1,\n 9074:         'class' : t.classPrefix + 'Menu mceNoIcons',\n 9075          max_width : 150,\n 9076          max_height : 150\n ....\n 9120  \n 9121      postRender : function() {\n 9122:       var t = this, cp = t.classPrefix;\n 9123  \n 9124        Event.add(t.id, 'click', t.showMenu, t);\n ....\n 9188      NativeListBox : function(id, s) {\n 9189        this.parent(id, s);\n 9190:       this.classPrefix = 'mceNativeListBox';\n 9191      },\n 9192  \n ....\n 9369        m = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n 9370          menu_line : 1,\n 9371:         'class' : this.classPrefix + 'Menu',\n 9372          icons : t.settings.icons\n 9373        });\n ....\n 9420      SplitButton : function(id, s, ed) {\n 9421        this.parent(id, s, ed);\n 9422:       this.classPrefix = 'mceSplitButton';\n 9423      },\n 9424  \n ....\n 10020            case \"specific_textareas\":\n 10021              function hasClass(n, c) {\n 10022:               return c.constructor === RegExp ? c.test(n.className) : DOM.hasClass(n, c);\n 10023              };\n 10024  \n .....\n 10750          url_converter_scope : t,\n 10751          hex_colors : s.force_hex_style_colors,\n 10752:         class_filter : s.class_filter,\n 10753          update_styles : 1,\n 10754          fix_ie_paragraphs : 1,\n .....\n 11021            if (n == 'class') {\n 11022              // Build regexp for classes\n 11023:             if (!t.classesRE) {\n 11024                cl = t.dom.getClasses();\n 11025  \n .....\n 11031                  });\n 11032  \n 11033:                 t.classesRE = new RegExp('(' + s + ')', 'gi');\n 11034                }\n 11035              }\n 11036  \n 11037:             return !t.classesRE || /(\\bmceItem\\w+\\b|\\bmceTemp\\w+\\b)/g.test(v) || t.classesRE.test(v) ? v : '';\n 11038            }\n 11039  \n .....\n 14074  \n 14075              // Split classes if needed\n 14076:             if (typeof(format.classes) === 'string')\n 14077:               format.classes = format.classes.split(/\\s+/);\n 14078            });\n 14079  \n .....\n 14149            });\n 14150  \n 14151:           each(fmt.classes, function(value) {\n 14152              value = replaceVars(value, vars);\n 14153  \n .....\n 14757            if (matchName(node, format) && matchItems(node, format, 'attributes') && matchItems(node, format, 'styles')) {\n 14758              // Match classes\n 14759:             if (classes = format.classes) {\n 14760                for (i = 0; i < classes.length; i++) {\n 14761                  if (!dom.hasClass(node, classes[i]))\n .....\n 15253  \n 15254          // Remove classes\n 15255:         each(format.classes, function(value) {\n 15256            value = replaceVars(value, vars);\n 15257  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/tiny_mce_prototype.js:\n    1: (function(d){var a=/^\\s*|\\s*$/g,e,c=\"B\".replace(/A(.)|B/,\"$1\")===\"$1\";var b={majorVersion:\"3\",minorVersion:\"4.6\",releaseDate:\"2011-09-29\",_init:function(){var s=this,q=document,o=navigator,g=o.userAgent,m,f,l,k,j,r;s.isOpera=d.opera&&opera.buildNumber;s.isWebKit=/WebKit/.test(g);s.isIE=!s.isWebKit&&!s.isOpera&&(/MSIE/gi).test(g)&&(/Explorer/gi).test(o.appName);s.isIE6=s.isIE&&/MSIE [56]/.test(g);s.isIE7=s.isIE&&/MSIE [7]/.test(g);s.isIE8=s.isIE&&/MSIE [8]/.test(g);s.isIE9=s.isIE&&/MSIE [9]/.test(g);s.isGecko=!s.isWebKit&&/Gecko/.test(g);s.isMac=g.indexOf(\"Mac\")!=-1;s.isAir=/adobeair/i.test(g);s.isIDevice=/(iPad|iPhone)/.test(g);s.isIOS5=s.isIDevice&&g.match(/AppleWebKit\\/(\\d*)/)[1]>=534;if(d.tinyMCEPreInit){s.suffix=tinyMCEPreInit.suffix;s.baseURL=tinyMCEPreInit.base;s.query=tinyMCEPreInit.query;return}s.suffix=\"\";f=q.getElementsByTagName(\"base\");for(m=0;m<f.length;m++){if(r=f[m].href){if(/^https?:\\/\\/[^\\/]+$/.test(r)){r+=\"/\"}k=r?r.match(/.*\\//)[0]:\"\"}}function h(i){if(i.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(i.src)){if(/_(src|dev)\\.js/g.test(i.src)){s.suffix=\"_src\"}if((j=i.src.indexOf(\"?\"))!=-1){s.query=i.src.substring(j+1)}s.baseURL=i.src.substring(0,i.src.lastIndexOf(\"/\"));if(k&&s.baseURL.indexOf(\"://\")==-1&&s.baseURL.indexOf(\"/\")!==0){s.baseURL=k+s.baseURL}return s.baseURL}return null}f=q.getElementsByTagName(\"script\");for(m=0;m<f.length;m++){if(h(f[m])){return}}l=q.getElementsByTagName(\"head\")[0];if(l){f=l.getElementsByTagName(\"script\");for(m=0;m<f.length;m++){if(h(f[m])){return}}}return},is:function(g,f){if(!f){return g!==e}if(f==\"array\"&&(g.hasOwnProperty&&g instanceof Array)){return true}return typeof(g)==f},makeMap:function(f,j,h){var g;f=f||[];j=j||\",\";if(typeof(f)==\"string\"){f=f.split(j)}h=h||{};g=f.length;while(g--){h[f[g]]={}}return h},each:function(i,f,h){var j,g;if(!i){return 0}h=h||i;if(i.length!==e){for(j=0,g=i.length;j<g;j++){if(f.call(h,i[j],j,i)===false){return 0}}}else{for(j in i){if(i.hasOwnProperty(j)){if(f.call(h,i[j],j,i)===false){return 0}}}}return 1},map:function(g,h){var i=[];b.each(g,function(f){i.push(h(f))});return i},grep:function(g,h){var i=[];b.each(g,function(f){if(!h||h(f)){i.push(f)}});return i},inArray:function(g,h){var j,f;if(g){for(j=0,f=g.length;j<f;j++){if(g[j]===h){return j}}}return -1},extend:function(k,j){var h,g,f=arguments;for(h=1,g=f.length;h<g;h++){j=f[h];b.each(j,function(i,l){if(i!==e){k[l]=i}})}return k},trim:function(f){return(f?\"\"+f:\"\").replace(a,\"\")},create:function(o,f,j){var n=this,g,i,k,l,h,m=0;o=/^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(o);k=o[3].match(/(^|\\.)(\\w+)$/i)[2];i=n.createNS(o[3].replace(/\\.\\w+$/,\"\"),j);if(i[k]){return}if(o[2]==\"static\"){i[k]=f;if(this.onCreate){this.onCreate(o[2],o[3],i[k])}return}if(!f[k]){f[k]=function(){};m=1}i[k]=f[k];n.extend(i[k].prototype,f);if(o[5]){g=n.resolve(o[5]).prototype;l=o[5].match(/\\.(\\w+)$/i)[1];h=i[k];if(m){i[k]=function(){return g[l].apply(this,arguments)}}else{i[k]=function(){this.parent=g[l];return h.apply(this,arguments)}}i[k].prototype[k]=i[k];n.each(g,function(p,q){i[k].prototype[q]=g[q]});n.each(f,function(p,q){if(g[q]){i[k].prototype[q]=function(){this.parent=g[q];return p.apply(this,arguments)}}else{if(q!=k){i[k].prototype[q]=p}}})}n.each(f[\"static\"],function(p,q){i[k][q]=p});if(this.onCreate){this.onCreate(o[2],o[3],i[k].prototype)}},walk:function(i,h,j,g){g=g||this;if(i){if(j){i=i[j]}b.each(i,function(k,f){if(h.call(g,k,f,j)===false){return false}b.walk(k,h,j,g)})}},createNS:function(j,h){var g,f;h=h||d;j=j.split(\".\");for(g=0;g<j.length;g++){f=j[g];if(!h[f]){h[f]={}}h=h[f]}return h},resolve:function(j,h){var g,f;h=h||d;j=j.split(\".\");for(g=0,f=j.length;g<f;g++){h=h[j[g]];if(!h){break}}return h},addUnload:function(j,i){var h=this;j={func:j,scope:i||this};if(!h.unloads){function g(){var f=h.unloads,l,m;if(f){for(m in f){l=f[m];if(l&&l.func){l.func.call(l.scope,1)}}if(d.detachEvent){d.detachEvent(\"onbeforeunload\",k);d.detachEvent(\"onunload\",g)}else{if(d.removeEventListener){d.removeEventListener(\"unload\",g,false)}}h.unloads=l=f=w=g=0;if(d.CollectGarbage){CollectGarbage()}}}function k(){var l=document;if(l.readyState==\"interactive\"){function f(){l.detachEvent(\"onstop\",f);if(g){g()}l=0}if(l){l.attachEvent(\"onstop\",f)}d.setTimeout(function(){if(l){l.detachEvent(\"onstop\",f)}},0)}}if(d.attachEvent){d.attachEvent(\"onunload\",g);d.attachEvent(\"onbeforeunload\",k)}else{if(d.addEventListener){d.addEventListener(\"unload\",g,false)}}h.unloads=[j]}else{h.unloads.push(j)}return j},removeUnload:function(i){var g=this.unloads,h=null;b.each(g,function(j,f){if(j&&j.func==i){g.splice(f,1);h=i;return false}});return h},explode:function(f,g){return f?b.map(f.split(g||\",\"),b.trim):f},_addVer:function(g){var f;if(!this.query){return g}f=(g.indexOf(\"?\")==-1?\"?\":\"&\")+this.query;if(g.indexOf(\"#\")==-1){return g+f}return g.replace(\"#\",f+\"#\")},_replace:function(h,f,g){if(c){return g.replace(h,function(){var l=f,j=arguments,k;for(k=0;k<j.length-2;k++){if(j[k]===e){l=l.replace(new RegExp(\"\\\\$\"+k,\"g\"),\"\")}else{l=l.replace(new RegExp(\"\\\\$\"+k,\"g\"),j[k])}}return l})}return g.replace(h,f)}};b._init();d.tinymce=d.tinyMCE=b})(window);(function(){if(!window.Prototype){return alert(\"Load prototype first!\")}tinymce.extend(tinymce,{trim:function(b){return b?b.strip():\"\"},inArray:function(b,c){return b&&b.indexOf?b.indexOf(c):-1}});var a={\"tinymce.util.JSON\":{},};tinymce.onCreate=function(b,e,d){tinymce.extend(d,a[e])}})();tinymce.create(\"tinymce.util.Dispatcher\",{scope:null,listeners:null,Dispatcher:function(a){this.scope=a||this;this.listeners=[]},add:function(a,b){this.listeners.push({cb:a,scope:b||this.scope});return a},addToTop:function(a,b){this.listeners.unshift({cb:a,scope:b||this.scope});return a},remove:function(a){var b=this.listeners,c=null;tinymce.each(b,function(e,d){if(a==e.cb){c=a;b.splice(d,1);return false}});return c},dispatch:function(){var f,d=arguments,e,b=this.listeners,g;for(e=0;e<b.length;e++){g=b[e];f=g.cb.apply(g.scope,d);if(f===false){break}}return f}});(function(){var a=tinymce.each;tinymce.create(\"tinymce.util.URI\",{URI:function(e,g){var f=this,i,d,c,h;e=tinymce.trim(e);g=f.settings=g||{};if(/^([\\w\\-]+):([^\\/]{2})/i.test(e)||/^\\s*#/.test(e)){f.source=e;return}if(e.indexOf(\"/\")===0&&e.indexOf(\"//\")!==0){e=(g.base_uri?g.base_uri.protocol||\"http\":\"http\")+\"://mce_host\"+e}if(!/^[\\w-]*:?\\/\\//.test(e)){h=g.base_uri?g.base_uri.path:new tinymce.util.URI(location.href).directory;e=((g.base_uri&&g.base_uri.protocol)||\"http\")+\"://mce_host\"+f.toAbsPath(h,e)}e=e.replace(/@@/g,\"(mce_at)\");e=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e);a([\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],function(b,j){var k=e[j];if(k){k=k.replace(/\\(mce_at\\)/g,\"@@\")}f[b]=k});if(c=g.base_uri){if(!f.protocol){f.protocol=c.protocol}if(!f.userInfo){f.userInfo=c.userInfo}if(!f.port&&f.host==\"mce_host\"){f.port=c.port}if(!f.host||f.host==\"mce_host\"){f.host=c.host}f.source=\"\"}},setPath:function(c){var b=this;c=/^(.*?)\\/?(\\w+)?$/.exec(c);b.path=c[0];b.directory=c[1];b.file=c[2];b.source=\"\";b.getURI()},toRelative:function(b){var c=this,d;if(b===\"./\"){return b}b=new tinymce.util.URI(b,{base_uri:c});if((b.host!=\"mce_host\"&&c.host!=b.host&&b.host)||c.port!=b.port||c.protocol!=b.protocol){return b.getURI()}d=c.toRelPath(c.path,b.path);if(b.query){d+=\"?\"+b.query}if(b.anchor){d+=\"#\"+b.anchor}return d},toAbsolute:function(b,c){var b=new tinymce.util.URI(b,{base_uri:this});return b.getURI(this.host==b.host&&this.protocol==b.protocol?c:0)},toRelPath:function(g,h){var c,f=0,d=\"\",e,b;g=g.substring(0,g.lastIndexOf(\"/\"));g=g.split(\"/\");c=h.split(\"/\");if(g.length>=c.length){for(e=0,b=g.length;e<b;e++){if(e>=c.length||g[e]!=c[e]){f=e+1;break}}}if(g.length<c.length){for(e=0,b=c.length;e<b;e++){if(e>=g.length||g[e]!=c[e]){f=e+1;break}}}if(f==1){return h}for(e=0,b=g.length-(f-1);e<b;e++){d+=\"../\"}for(e=f-1,b=c.length;e<b;e++){if(e!=f-1){d+=\"/\"+c[e]}else{d+=c[e]}}return d},toAbsPath:function(e,f){var c,b=0,h=[],d,g;d=/\\/$/.test(f)?\"/\":\"\";e=e.split(\"/\");f=f.split(\"/\");a(e,function(i){if(i){h.push(i)}});e=h;for(c=f.length-1,h=[];c>=0;c--){if(f[c].length==0||f[c]==\".\"){continue}if(f[c]==\"..\"){b++;continue}if(b>0){b--;continue}h.push(f[c])}c=e.length-b;if(c<=0){g=h.reverse().join(\"/\")}else{g=e.slice(0,c).join(\"/\")+\"/\"+h.reverse().join(\"/\")}if(g.indexOf(\"/\")!==0){g=\"/\"+g}if(d&&g.lastIndexOf(\"/\")!==g.length-1){g+=d}return g},getURI:function(d){var c,b=this;if(!b.source||d){c=\"\";if(!d){if(b.protocol){c+=b.protocol+\"://\"}if(b.userInfo){c+=b.userInfo+\"@\"}if(b.host){c+=b.host}if(b.port){c+=\":\"+b.port}}if(b.path){c+=b.path}if(b.query){c+=\"?\"+b.query}if(b.anchor){c+=\"#\"+b.anchor}b.source=c}return b.source}})})();(function(){var a=tinymce.each;tinymce.create(\"static tinymce.util.Cookie\",{getHash:function(d){var b=this.get(d),c;if(b){a(b.split(\"&\"),function(e){e=e.split(\"=\");c=c||{};c[unescape(e[0])]=unescape(e[1])})}return c},setHash:function(j,b,g,f,i,c){var h=\"\";a(b,function(e,d){h+=(!h?\"\":\"&\")+escape(d)+\"=\"+escape(e)});this.set(j,h,g,f,i,c)},get:function(i){var h=document.cookie,g,f=i+\"=\",d;if(!h){return}d=h.indexOf(\"; \"+f);if(d==-1){d=h.indexOf(f);if(d!=0){return null}}else{d+=2}g=h.indexOf(\";\",d);if(g==-1){g=h.length}return unescape(h.substring(d+f.length,g))},set:function(i,b,g,f,h,c){document.cookie=i+\"=\"+escape(b)+((g)?\"; expires=\"+g.toGMTString():\"\")+((f)?\"; path=\"+escape(f):\"\")+((h)?\"; domain=\"+h:\"\")+((c)?\"; secure\":\"\")},remove:function(e,b){var c=new Date();c.setTime(c.getTime()-1000);this.set(e,\"\",c,b,c)}})})();(function(){function serialize(o,quote){var i,v,t;quote=quote||'\"';if(o==null){return\"null\"}t=typeof o;if(t==\"string\"){v=\"\\bb\\tt\\nn\\ff\\rr\\\"\\\"''\\\\\\\\\";return quote+o.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g,function(a,b){if(quote==='\"'&&a===\"'\"){return a}i=v.indexOf(b);if(i+1){return\"\\\\\"+v.charAt(i+1)}a=b.charCodeAt().toString(16);return\"\\\\u\"+\"0000\".substring(a.length)+a})+quote}if(t==\"object\"){if(o.hasOwnProperty&&o instanceof Array){for(i=0,v=\"[\";i<o.length;i++){v+=(i>0?\",\":\"\")+serialize(o[i],quote)}return v+\"]\"}v=\"{\";for(i in o){v+=typeof o[i]!=\"function\"?(v.length>1?\",\"+quote:quote)+i+quote+\":\"+serialize(o[i],quote):\"\"}return v+\"}\"}return\"\"+o}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval(\"(\"+s+\")\")}catch(ex){}}}})();tinymce.create(\"static tinymce.util.XHR\",{send:function(g){var a,e,b=window,h=0;g.scope=g.scope||this;g.success_scope=g.success_scope||g.scope;g.error_scope=g.error_scope||g.scope;g.async=g.async===false?false:true;g.data=g.data||\"\";function d(i){a=0;try{a=new ActiveXObject(i)}catch(c){}return a}a=b.XMLHttpRequest?new XMLHttpRequest():d(\"Microsoft.XMLHTTP\")||d(\"Msxml2.XMLHTTP\");if(a){if(a.overrideMimeType){a.overrideMimeType(g.content_type)}a.open(g.type||(g.data?\"POST\":\"GET\"),g.url,g.async);if(g.content_type){a.setRequestHeader(\"Content-Type\",g.content_type)}a.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");a.send(g.data);function f(){if(!g.async||a.readyState==4||h++>10000){if(g.success&&h<10000&&a.status==200){g.success.call(g.success_scope,\"\"+a.responseText,a,g)}else{if(g.error){g.error.call(g.error_scope,h>10000?\"TIMED_OUT\":\"GENERAL\",a,g)}}a=null}else{b.setTimeout(f,10)}}if(!g.async){return f()}e=b.setTimeout(f,10)}}});(function(){var c=tinymce.extend,b=tinymce.util.JSON,a=tinymce.util.XHR;tinymce.create(\"tinymce.util.JSONRequest\",{JSONRequest:function(d){this.settings=c({},d);this.count=0},send:function(f){var e=f.error,d=f.success;f=c(this.settings,f);f.success=function(h,g){h=b.parse(h);if(typeof(h)==\"undefined\"){h={error:\"JSON Parse error.\"}}if(h.error){e.call(f.error_scope||f.scope,h.error,g)}else{d.call(f.success_scope||f.scope,h.result)}};f.error=function(h,g){if(e){e.call(f.error_scope||f.scope,h,g)}};f.data=b.serialize({id:f.id||\"c\"+(this.count++),method:f.method,params:f.params});f.content_type=\"application/json\";a.send(f)},\"static\":{sendRPC:function(d){return new tinymce.util.JSONRequest().send(d)}}})}());(function(a){a.VK={DELETE:46,BACKSPACE:8}})(tinymce);(function(i){var g=i.VK,h=g.BACKSPACE,f=g.DELETE;function b(j){var l=j.dom,k=j.selection;j.onKeyDown.add(function(n,r){var m,s,p,q,o;o=r.keyCode==f;if(o||r.keyCode==h){r.preventDefault();m=k.getRng();s=l.getParent(m.startContainer,l.isBlock);if(o){s=l.getNext(s,l.isBlock)}if(s){p=s.firstChild;while(p.nodeType==3&&p.nodeValue.length==0){p=p.nextSibling}if(p&&p.nodeName===\"SPAN\"){q=p.cloneNode(false)}}n.getDoc().execCommand(o?\"ForwardDelete\":\"Delete\",false,null);s=l.getParent(m.startContainer,l.isBlock);i.each(l.select(\"span.Apple-style-span,font.Apple-style-span\",s),function(t){var u=k.getBookmark();if(q){l.replace(q.cloneNode(false),t,true)}else{l.remove(t,true)}k.moveToBookmark(u)})}})}function c(j){j.onKeyUp.add(function(k,m){var l=m.keyCode;if(l==f||l==h){if(k.dom.isEmpty(k.getBody())){k.setContent(\"\",{format:\"raw\"});k.nodeChanged();return}}})}function a(j){j.dom.bind(j.getDoc(),\"focusin\",function(){j.selection.setRng(j.selection.getRng())})}function e(j){if(!Range.prototype.getClientRects){j.onMouseDown.add(function(l,m){if(m.target.nodeName===\"HTML\"){var k=l.getBody();k.blur();setTimeout(function(){k.focus()},0)}})}}function d(j){j.onClick.add(function(k,l){l=l.target;if(/^(IMG|HR)$/.test(l.nodeName)){k.selection.getSel().setBaseAndExtent(l,0,l,1)}if(l.nodeName==\"A\"&&k.dom.hasClass(l,\"mceItemAnchor\")){k.selection.select(l)}k.nodeChanged()})}i.create(\"tinymce.util.Quirks\",{Quirks:function(j){if(i.isWebKit){b(j);c(j);a(j);d(j)}if(i.isIE){c(j)}if(i.isGecko){e(j)}}})})(tinymce);(function(j){var a,g,d,k=/[&<>\\\"\\u007E-\\uD7FF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,b=/[<>&\\u007E-\\uD7FF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,f=/[<>&\\\"\\']/g,c=/&(#x|#)?([\\w]+);/g,i={128:\"\\u20AC\",130:\"\\u201A\",131:\"\\u0192\",132:\"\\u201E\",133:\"\\u2026\",134:\"\\u2020\",135:\"\\u2021\",136:\"\\u02C6\",137:\"\\u2030\",138:\"\\u0160\",139:\"\\u2039\",140:\"\\u0152\",142:\"\\u017D\",145:\"\\u2018\",146:\"\\u2019\",147:\"\\u201C\",148:\"\\u201D\",149:\"\\u2022\",150:\"\\u2013\",151:\"\\u2014\",152:\"\\u02DC\",153:\"\\u2122\",154:\"\\u0161\",155:\"\\u203A\",156:\"\\u0153\",158:\"\\u017E\",159:\"\\u0178\"};g={'\"':\"&quot;\",\"'\":\"&#39;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\"};d={\"&lt;\":\"<\",\"&gt;\":\">\",\"&amp;\":\"&\",\"&quot;\":'\"',\"&apos;\":\"'\"};function h(l){var m;m=document.createElement(\"div\");m.innerHTML=l;return m.textContent||m.innerText||l}function e(m,p){var n,o,l,q={};if(m){m=m.split(\",\");p=p||10;for(n=0;n<m.length;n+=2){o=String.fromCharCode(parseInt(m[n],p));if(!g[o]){l=\"&\"+m[n+1]+\";\";q[o]=l;q[l]=o}}return q}}a=e(\"50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro\",32);j.html=j.html||{};j.html.Entities={encodeRaw:function(m,l){return m.replace(l?k:b,function(n){return g[n]||n})},encodeAllRaw:function(l){return(\"\"+l).replace(f,function(m){return g[m]||m})},encodeNumeric:function(m,l){return m.replace(l?k:b,function(n){if(n.length>1){return\"&#\"+(((n.charCodeAt(0)-55296)*1024)+(n.charCodeAt(1)-56320)+65536)+\";\"}return g[n]||\"&#\"+n.charCodeAt(0)+\";\"})},encodeNamed:function(n,l,m){m=m||a;return n.replace(l?k:b,function(o){return g[o]||m[o]||o})},getEncodeFunc:function(l,o){var p=j.html.Entities;o=e(o)||a;function m(r,q){return r.replace(q?k:b,function(s){return g[s]||o[s]||\"&#\"+s.charCodeAt(0)+\";\"||s})}function n(r,q){return p.encodeNamed(r,q,o)}l=j.makeMap(l.replace(/\\+/g,\",\"));if(l.named&&l.numeric){return m}if(l.named){if(o){return n}return p.encodeNamed}if(l.numeric){return p.encodeNumeric}return p.encodeRaw},decode:function(l){return l.replace(c,function(n,m,o){if(m){o=parseInt(o,m.length===2?16:10);if(o>65535){o-=65536;return String.fromCharCode(55296+(o>>10),56320+(o&1023))}else{return i[o]||String.fromCharCode(o)}}return d[n]||a[n]||h(n)})}}})(tinymce);tinymce.html.Styles=function(d,f){var k=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,h=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,b=/\\s*([^:]+):\\s*([^;]+);?/g,l=/\\s+$/,m=/rgb/,e,g,a={},j;d=d||{};j=\"\\\\\\\" \\\\' \\\\; \\\\: ; : \\uFEFF\".split(\" \");for(g=0;g<j.length;g++){a[j[g]]=\"\\uFEFF\"+g;a[\"\\uFEFF\"+g]=j[g]}function c(n,q,p,i){function o(r){r=parseInt(r).toString(16);return r.length>1?r:\"0\"+r}return\"#\"+o(q)+o(p)+o(i)}return{toHex:function(i){return i.replace(k,c)},parse:function(r){var y={},p,n,v,q,u=d.url_converter,x=d.url_converter_scope||this;function o(C,F){var E,B,A,D;E=y[C+\"-top\"+F];if(!E){return}B=y[C+\"-right\"+F];if(E!=B){return}A=y[C+\"-bottom\"+F];if(B!=A){return}D=y[C+\"-left\"+F];if(A!=D){return}y[C+F]=D;delete y[C+\"-top\"+F];delete y[C+\"-right\"+F];delete y[C+\"-bottom\"+F];delete y[C+\"-left\"+F]}function t(B){var C=y[B],A;if(!C||C.indexOf(\" \")<0){return}C=C.split(\" \");A=C.length;while(A--){if(C[A]!==C[0]){return false}}y[B]=C[0];return true}function z(C,B,A,D){if(!t(B)){return}if(!t(A)){return}if(!t(D)){return}y[C]=y[B]+\" \"+y[A]+\" \"+y[D];delete y[B];delete y[A];delete y[D]}function s(A){q=true;return a[A]}function i(B,A){if(q){B=B.replace(/\\uFEFF[0-9]/g,function(C){return a[C]})}if(!A){B=B.replace(/\\\\([\\'\\\";:])/g,\"$1\")}return B}if(r){r=r.replace(/\\\\[\\\"\\';:\\uFEFF]/g,s).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,function(A){return A.replace(/[;:]/g,s)});while(p=b.exec(r)){n=p[1].replace(l,\"\").toLowerCase();v=p[2].replace(l,\"\");if(n&&v.length>0){if(n===\"font-weight\"&&v===\"700\"){v=\"bold\"}else{if(n===\"color\"||n===\"background-color\"){v=v.toLowerCase()}}v=v.replace(k,c);v=v.replace(h,function(B,A,E,D,F,C){F=F||C;if(F){F=i(F);return\"'\"+F.replace(/\\'/g,\"\\\\'\")+\"'\"}A=i(A||E||D);if(u){A=u.call(x,A,\"style\")}return\"url('\"+A.replace(/\\'/g,\"\\\\'\")+\"')\"});y[n]=q?i(v,true):v}b.lastIndex=p.index+p[0].length}o(\"border\",\"\");o(\"border\",\"-width\");o(\"border\",\"-color\");o(\"border\",\"-style\");o(\"padding\",\"\");o(\"margin\",\"\");z(\"border\",\"border-width\",\"border-style\",\"border-color\");if(y.border===\"medium none\"){delete y.border}}return y},serialize:function(p,r){var o=\"\",n,q;function i(t){var x,u,s,v;x=f.styles[t];if(x){for(u=0,s=x.length;u<s;u++){t=x[u];v=p[t];if(v!==e&&v.length>0){o+=(o.length>0?\" \":\"\")+t+\": \"+v+\";\"}}}}if(r&&f&&f.styles){i(\"*\");i(r)}else{for(n in p){q=p[n];if(q!==e&&q.length>0){o+=(o.length>0?\" \":\"\")+n+\": \"+q+\";\"}}}return o}}};(function(m){var h={},j,l,g,f,c={},b,e,d=m.makeMap,k=m.each;function i(o,n){return o.split(n||\",\")}function a(r,q){var o,p={};function n(s){return s.replace(/[A-Z]+/g,function(t){return n(r[t])})}for(o in r){if(r.hasOwnProperty(o)){r[o]=n(r[o])}}n(q).replace(/#/g,\"#text\").replace(/(\\w+)\\[([^\\]]+)\\]\\[([^\\]]*)\\]/g,function(v,t,s,u){s=i(s,\"|\");p[t]={attributes:d(s),attributesOrder:s,children:d(u,\"|\",{\"#comment\":{}})}});return p}l=\"h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup\";l=d(l,\",\",d(l.toUpperCase()));h=a({Z:\"H|K|N|O|P\",Y:\"X|form|R|Q\",ZG:\"E|span|width|align|char|charoff|valign\",X:\"p|T|div|U|W|isindex|fieldset|table\",ZF:\"E|align|char|charoff|valign\",W:\"pre|hr|blockquote|address|center|noframes\",ZE:\"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height\",ZD:\"[E][S]\",U:\"ul|ol|dl|menu|dir\",ZC:\"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q\",T:\"h1|h2|h3|h4|h5|h6\",ZB:\"X|S|Q\",S:\"R|P\",ZA:\"a|G|J|M|O|P\",R:\"a|H|K|N|O\",Q:\"noscript|P\",P:\"ins|del|script\",O:\"input|select|textarea|label|button\",N:\"M|L\",M:\"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym\",L:\"sub|sup\",K:\"J|I\",J:\"tt|i|b|u|s|strike\",I:\"big|small|font|basefont\",H:\"G|F\",G:\"br|span|bdo\",F:\"object|applet|img|map|iframe\",E:\"A|B|C\",D:\"accesskey|tabindex|onfocus|onblur\",C:\"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup\",B:\"lang|xml:lang|dir\",A:\"id|class|style|title\"},\"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]\");j=d(\"checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,autoplay,loop,controls\");g=d(\"area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source\");f=m.extend(d(\"td,th,iframe,video,audio,object\"),g);b=d(\"pre,script,style,textarea\");e=d(\"colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr\");m.html.Schema=function(r){var A=this,n={},o={},y=[],q,p;r=r||{};if(r.verify_html===false){r.valid_elements=\"*[*]\"}if(r.valid_styles){q={};k(r.valid_styles,function(C,B){q[B]=m.explode(C)})}p=r.whitespace_elements?d(r.whitespace_elements):b;function z(B){return new RegExp(\"^\"+B.replace(/([?+*])/g,\".$1\")+\"$\")}function t(I){var H,D,W,S,X,C,F,R,U,N,V,Z,L,G,T,B,P,E,Y,aa,M,Q,K=/^([#+-])?([^\\[\\/]+)(?:\\/([^\\[]+))?(?:\\[([^\\]]+)\\])?$/,O=/^([!\\-])?(\\w+::\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,J=/[*?+]/;if(I){I=i(I);if(n[\"@\"]){P=n[\"@\"].attributes;E=n[\"@\"].attributesOrder}for(H=0,D=I.length;H<D;H++){C=K.exec(I[H]);if(C){T=C[1];N=C[2];B=C[3];U=C[4];L={};G=[];F={attributes:L,attributesOrder:G};if(T===\"#\"){F.paddEmpty=true}if(T===\"-\"){F.removeEmpty=true}if(P){for(aa in P){L[aa]=P[aa]}G.push.apply(G,E)}if(U){U=i(U,\"|\");for(W=0,S=U.length;W<S;W++){C=O.exec(U[W]);if(C){R={};Z=C[1];V=C[2].replace(/::/g,\":\");T=C[3];Q=C[4];if(Z===\"!\"){F.attributesRequired=F.attributesRequired||[];F.attributesRequired.push(V);R.required=true}if(Z===\"-\"){delete L[V];G.splice(m.inArray(G,V),1);continue}if(T){if(T===\"=\"){F.attributesDefault=F.attributesDefault||[];F.attributesDefault.push({name:V,value:Q});R.defaultValue=Q}if(T===\":\"){F.attributesForced=F.attributesForced||[];F.attributesForced.push({name:V,value:Q});R.forcedValue=Q}if(T===\"<\"){R.validValues=d(Q,\"?\")}}if(J.test(V)){F.attributePatterns=F.attributePatterns||[];R.pattern=z(V);F.attributePatterns.push(R)}else{if(!L[V]){G.push(V)}L[V]=R}}}}if(!P&&N==\"@\"){P=L;E=G}if(B){F.outputName=N;n[B]=F}if(J.test(N)){F.pattern=z(N);y.push(F)}else{n[N]=F}}}}}function v(B){n={};y=[];t(B);k(h,function(D,C){o[C]=D.children})}function s(C){var B=/^(~)?(.+)$/;if(C){k(i(C),function(G){var E=B.exec(G),F=E[1]===\"~\",H=F?\"span\":\"div\",D=E[2];o[D]=o[H];c[D]=H;if(!F){l[D]={}}k(o,function(I,J){if(I[H]){I[D]=I[H]}})})}}function u(C){var B=/^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;if(C){k(i(C),function(G){var F=B.exec(G),D,E;if(F){E=F[1];if(E){D=o[F[2]]}else{D=o[F[2]]={\"#comment\":{}}}D=o[F[2]];k(i(F[3],\"|\"),function(H){if(E===\"-\"){delete D[H]}else{D[H]={}}})}})}}function x(B){var D=n[B],C;if(D){return D}C=y.length;while(C--){D=y[C];if(D.pattern.test(B)){return D}}}if(!r.valid_elements){k(h,function(C,B){n[B]={attributes:C.attributes,attributesOrder:C.attributesOrder};o[B]=C.children});k(i(\"strong/b,em/i\"),function(B){B=i(B,\"/\");n[B[1]].outputName=B[0]});n.img.attributesDefault=[{name:\"alt\",value:\"\"}];k(i(\"ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr\"),function(B){n[B].removeEmpty=true});k(i(\"p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption\"),function(B){n[B].paddEmpty=true})}else{v(r.valid_elements)}s(r.custom_elements);u(r.valid_children);t(r.extended_valid_elements);u(\"+ol[ul|ol],+ul[ul|ol]\");if(!x(\"span\")){t(\"span[!data-mce-type|*]\")}if(r.invalid_elements){m.each(m.explode(r.invalid_elements),function(B){if(n[B]){delete n[B]}})}A.children=o;A.styles=q;A.getBoolAttrs=function(){return j};A.getBlockElements=function(){return l};A.getShortEndedElements=function(){return g};A.getSelfClosingElements=function(){return e};A.getNonEmptyElements=function(){return f};A.getWhiteSpaceElements=function(){return p};A.isValidChild=function(B,D){var C=o[B];return !!(C&&C[D])};A.getElementRule=x;A.getCustomElements=function(){return c};A.addValidElements=t;A.setValidElements=v;A.addCustomElements=s;A.addValidChildren=u};m.html.Schema.boolAttrMap=j;m.html.Schema.blockElementsMap=l})(tinymce);(function(a){a.html.SaxParser=function(c,e){var b=this,d=function(){};c=c||{};b.schema=e=e||new a.html.Schema();if(c.fix_self_closing!==false){c.fix_self_closing=true}a.each(\"comment cdata text start end pi doctype\".split(\" \"),function(f){if(f){b[f]=c[f]||d}});b.parse=function(D){var n=this,g,F=0,H,A,z=[],M,P,B,q,y,r,L,G,N,u,m,k,s,Q,o,O,E,R,K,f,I,l,C,J,h,v=0,j=a.html.Entities.decode,x,p;function t(S){var U,T;U=z.length;while(U--){if(z[U].name===S){break}}if(U>=0){for(T=z.length-1;T>=U;T--){S=z[T];if(S.valid){n.end(S.name)}}z.length=U}}l=new RegExp(\"<(?:(?:!--([\\\\w\\\\W]*?)-->)|(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|(?:!DOCTYPE([\\\\w\\\\W]*?)>)|(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|(?:\\\\/([^>]+)>)|(?:([^\\\\s\\\\/<>]+)\\\\s*((?:[^\\\"'>]+(?:(?:\\\"[^\\\"]*\\\")|(?:'[^']*')|[^>]*))*)>))\",\"g\");C=/([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:\\\\.|[^\\\"])*)\\\")|(?:\\'((?:\\\\.|[^\\'])*)\\')|([^>\\s]+)))?/g;J={script:/<\\/script[^>]*>/gi,style:/<\\/style[^>]*>/gi,noscript:/<\\/noscript[^>]*>/gi};L=e.getShortEndedElements();I=e.getSelfClosingElements();G=e.getBoolAttrs();u=c.validate;r=c.remove_internals;x=c.fix_self_closing;p=a.isIE;o=/^:/;while(g=l.exec(D)){if(F<g.index){n.text(j(D.substr(F,g.index-F)))}if(H=g[6]){H=H.toLowerCase();if(p&&o.test(H)){H=H.substr(1)}t(H)}else{if(H=g[7]){H=H.toLowerCase();if(p&&o.test(H)){H=H.substr(1)}N=H in L;if(x&&I[H]&&z.length>0&&z[z.length-1].name===H){t(H)}if(!u||(m=e.getElementRule(H))){k=true;if(u){O=m.attributes;E=m.attributePatterns}if(Q=g[8]){y=Q.indexOf(\"data-mce-type\")!==-1;if(y&&r){k=false}M=[];M.map={};Q.replace(C,function(T,S,X,W,V){var Y,U;S=S.toLowerCase();X=S in G?S:j(X||W||V||\"\");if(u&&!y&&S.indexOf(\"data-\")!==0){Y=O[S];if(!Y&&E){U=E.length;while(U--){Y=E[U];if(Y.pattern.test(S)){break}}if(U===-1){Y=null}}if(!Y){return}if(Y.validValues&&!(X in Y.validValues)){return}}M.map[S]=X;M.push({name:S,value:X})})}else{M=[];M.map={}}if(u&&!y){R=m.attributesRequired;K=m.attributesDefault;f=m.attributesForced;if(f){P=f.length;while(P--){s=f[P];q=s.name;h=s.value;if(h===\"{$uid}\"){h=\"mce_\"+v++}M.map[q]=h;M.push({name:q,value:h})}}if(K){P=K.length;while(P--){s=K[P];q=s.name;if(!(q in M.map)){h=s.value;if(h===\"{$uid}\"){h=\"mce_\"+v++}M.map[q]=h;M.push({name:q,value:h})}}}if(R){P=R.length;while(P--){if(R[P] in M.map){break}}if(P===-1){k=false}}if(M.map[\"data-mce-bogus\"]){k=false}}if(k){n.start(H,M,N)}}else{k=false}if(A=J[H]){A.lastIndex=F=g.index+g[0].length;if(g=A.exec(D)){if(k){B=D.substr(F,g.index-F)}F=g.index+g[0].length}else{B=D.substr(F);F=D.length}if(k&&B.length>0){n.text(B,true)}if(k){n.end(H)}l.lastIndex=F;continue}if(!N){if(!Q||Q.indexOf(\"/\")!=Q.length-1){z.push({name:H,valid:k})}else{if(k){n.end(H)}}}}else{if(H=g[1]){n.comment(H)}else{if(H=g[2]){n.cdata(H)}else{if(H=g[3]){n.doctype(H)}else{if(H=g[4]){n.pi(H,g[5])}}}}}}F=g.index+g[0].length}if(F<D.length){n.text(j(D.substr(F)))}for(P=z.length-1;P>=0;P--){H=z[P];if(H.valid){n.end(H.name)}}}}})(tinymce);(function(d){var c=/^[ \\t\\r\\n]*$/,e={\"#text\":3,\"#comment\":8,\"#cdata\":4,\"#pi\":7,\"#doctype\":10,\"#document-fragment\":11};function a(k,l,j){var i,h,f=j?\"lastChild\":\"firstChild\",g=j?\"prev\":\"next\";if(k[f]){return k[f]}if(k!==l){i=k[g];if(i){return i}for(h=k.parent;h&&h!==l;h=h.parent){i=h[g];if(i){return i}}}}function b(f,g){this.name=f;this.type=g;if(g===1){this.attributes=[];this.attributes.map={}}}d.extend(b.prototype,{replace:function(g){var f=this;if(g.parent){g.remove()}f.insert(g,f);f.remove();return f},attr:function(h,l){var f=this,g,j,k;if(typeof h!==\"string\"){for(j in h){f.attr(j,h[j])}return f}if(g=f.attributes){if(l!==k){if(l===null){if(h in g.map){delete g.map[h];j=g.length;while(j--){if(g[j].name===h){g=g.splice(j,1);return f}}}return f}if(h in g.map){j=g.length;while(j--){if(g[j].name===h){g[j].value=l;break}}}else{g.push({name:h,value:l})}g.map[h]=l;return f}else{return g.map[h]}}},clone:function(){var g=this,n=new b(g.name,g.type),h,f,m,j,k;if(m=g.attributes){k=[];k.map={};for(h=0,f=m.length;h<f;h++){j=m[h];if(j.name!==\"id\"){k[k.length]={name:j.name,value:j.value};k.map[j.name]=j.value}}n.attributes=k}n.value=g.value;n.shortEnded=g.shortEnded;return n},wrap:function(g){var f=this;f.parent.insert(g,f);g.append(f);return f},unwrap:function(){var f=this,h,g;for(h=f.firstChild;h;){g=h.next;f.insert(h,f,true);h=g}f.remove()},remove:function(){var f=this,h=f.parent,g=f.next,i=f.prev;if(h){if(h.firstChild===f){h.firstChild=g;if(g){g.prev=null}}else{i.next=g}if(h.lastChild===f){h.lastChild=i;if(i){i.next=null}}else{g.prev=i}f.parent=f.next=f.prev=null}return f},append:function(h){var f=this,g;if(h.parent){h.remove()}g=f.lastChild;if(g){g.next=h;h.prev=g;f.lastChild=h}else{f.lastChild=f.firstChild=h}h.parent=f;return h},insert:function(h,f,i){var g;if(h.parent){h.remove()}g=f.parent||this;if(i){if(f===g.firstChild){g.firstChild=h}else{f.prev.next=h}h.prev=f.prev;h.next=f;f.prev=h}else{if(f===g.lastChild){g.lastChild=h}else{f.next.prev=h}h.next=f.next;h.prev=f;f.next=h}h.parent=g;return h},getAll:function(g){var f=this,h,i=[];for(h=f.firstChild;h;h=a(h,f)){if(h.name===g){i.push(h)}}return i},empty:function(){var g=this,f,h,j;if(g.firstChild){f=[];for(j=g.firstChild;j;j=a(j,g)){f.push(j)}h=f.length;while(h--){j=f[h];j.parent=j.firstChild=j.lastChild=j.next=j.prev=null}}g.firstChild=g.lastChild=null;return g},isEmpty:function(k){var f=this,j=f.firstChild,h,g;if(j){do{if(j.type===1){if(j.attributes.map[\"data-mce-bogus\"]){continue}if(k[j.name]){return false}h=j.attributes.length;while(h--){g=j.attributes[h].name;if(g===\"name\"||g.indexOf(\"data-\")===0){return false}}}if((j.type===3&&!c.test(j.value))){return false}}while(j=a(j,f))}return true},walk:function(f){return a(this,null,f)}});d.extend(b,{create:function(g,f){var i,h;i=new b(g,e[g]||1);if(f){for(h in f){i.attr(h,f[h])}}return i}});d.html.Node=b})(tinymce);(function(b){var a=b.html.Node;b.html.DomParser=function(g,h){var f=this,e={},d=[],i={},c={};g=g||{};g.validate=\"validate\" in g?g.validate:true;g.root_name=g.root_name||\"body\";f.schema=h=h||new b.html.Schema();function j(m){var o,p,x,v,z,n,q,l,t,u,k,s,y,r;s=b.makeMap(\"tr,td,th,tbody,thead,tfoot,table\");k=h.getNonEmptyElements();for(o=0;o<m.length;o++){p=m[o];if(!p.parent){continue}v=[p];for(x=p.parent;x&&!h.isValidChild(x.name,p.name)&&!s[x.name];x=x.parent){v.push(x)}if(x&&v.length>1){v.reverse();z=n=f.filterNode(v[0].clone());for(t=0;t<v.length-1;t++){if(h.isValidChild(n.name,v[t].name)){q=f.filterNode(v[t].clone());n.append(q)}else{q=n}for(l=v[t].firstChild;l&&l!=v[t+1];){r=l.next;q.append(l);l=r}n=q}if(!z.isEmpty(k)){x.insert(z,v[0],true);x.insert(p,z)}else{x.insert(p,v[0],true)}x=v[0];if(x.isEmpty(k)||x.firstChild===x.lastChild&&x.firstChild.name===\"br\"){x.empty().remove()}}else{if(p.parent){if(p.name===\"li\"){y=p.prev;if(y&&(y.name===\"ul\"||y.name===\"ul\")){y.append(p);continue}y=p.next;if(y&&(y.name===\"ul\"||y.name===\"ul\")){y.insert(p,y.firstChild,true);continue}p.wrap(f.filterNode(new a(\"ul\",1)));continue}if(h.isValidChild(p.parent.name,\"div\")&&h.isValidChild(\"div\",p.name)){p.wrap(f.filterNode(new a(\"div\",1)))}else{if(p.name===\"style\"||p.name===\"script\"){p.empty().remove()}else{p.unwrap()}}}}}}f.filterNode=function(m){var l,k,n;if(k in e){n=i[k];if(n){n.push(m)}else{i[k]=[m]}}l=d.length;while(l--){k=d[l].name;if(k in m.attributes.map){n=c[k];if(n){n.push(m)}else{c[k]=[m]}}}return m};f.addNodeFilter=function(k,l){b.each(b.explode(k),function(m){var n=e[m];if(!n){e[m]=n=[]}n.push(l)})};f.addAttributeFilter=function(k,l){b.each(b.explode(k),function(m){var n;for(n=0;n<d.length;n++){if(d[n].name===m){d[n].callbacks.push(l);return}}d.push({name:m,callbacks:[l]})})};f.parse=function(v,m){var n,H,A,z,C,B,x,r,E,K,y,o,D,J=[],t,k,s,p,u,q;m=m||{};i={};c={};o=b.extend(b.makeMap(\"script,style,head,html,body,title,meta,param\"),h.getBlockElements());u=h.getNonEmptyElements();p=h.children;y=g.validate;q=\"forced_root_block\" in m?m.forced_root_block:g.forced_root_block;s=h.getWhiteSpaceElements();D=/^[ \\t\\r\\n]+/;t=/[ \\t\\r\\n]+$/;k=/[ \\t\\r\\n]+/g;function F(){var L=H.firstChild,l,M;while(L){l=L.next;if(L.type==3||(L.type==1&&L.name!==\"p\"&&!o[L.name]&&!L.attr(\"data-mce-type\"))){if(!M){M=I(q,1);H.insert(M,L);M.append(L)}else{M.append(L)}}else{M=null}L=l}}function I(l,L){var M=new a(l,L),N;if(l in e){N=i[l];if(N){N.push(M)}else{i[l]=[M]}}return M}function G(M){var N,l,L;for(N=M.prev;N&&N.type===3;){l=N.value.replace(t,\"\");if(l.length>0){N.value=l;N=N.prev}else{L=N.prev;N.remove();N=L}}}n=new b.html.SaxParser({validate:y,fix_self_closing:!y,cdata:function(l){A.append(I(\"#cdata\",4)).value=l},text:function(M,l){var L;if(!s[A.name]){M=M.replace(k,\" \");if(A.lastChild&&o[A.lastChild.name]){M=M.replace(D,\"\")}}if(M.length!==0){L=I(\"#text\",3);L.raw=!!l;A.append(L).value=M}},comment:function(l){A.append(I(\"#comment\",8)).value=l},pi:function(l,L){A.append(I(l,7)).value=L;G(A)},doctype:function(L){var l;l=A.append(I(\"#doctype\",10));l.value=L;G(A)},start:function(l,T,M){var R,O,N,L,P,U,S,Q;N=y?h.getElementRule(l):{};if(N){R=I(N.outputName||l,1);R.attributes=T;R.shortEnded=M;A.append(R);Q=p[A.name];if(Q&&p[R.name]&&!Q[R.name]){J.push(R)}O=d.length;while(O--){P=d[O].name;if(P in T.map){E=c[P];if(E){E.push(R)}else{c[P]=[R]}}}if(o[l]){G(R)}if(!M){A=R}}},end:function(l){var P,M,O,L,N;M=y?h.getElementRule(l):{};if(M){if(o[l]){if(!s[A.name]){for(P=A.firstChild;P&&P.type===3;){O=P.value.replace(D,\"\");if(O.length>0){P.value=O;P=P.next}else{L=P.next;P.remove();P=L}}for(P=A.lastChild;P&&P.type===3;){O=P.value.replace(t,\"\");if(O.length>0){P.value=O;P=P.prev}else{L=P.prev;P.remove();P=L}}}P=A.prev;if(P&&P.type===3){O=P.value.replace(D,\"\");if(O.length>0){P.value=O}else{P.remove()}}}if(M.removeEmpty||M.paddEmpty){if(A.isEmpty(u)){if(M.paddEmpty){A.empty().append(new a(\"#text\",\"3\")).value=\"\\u00a0\"}else{if(!A.attributes.map.name){N=A.parent;A.empty().remove();A=N;return}}}}A=A.parent}}},h);H=A=new a(m.context||g.root_name,11);n.parse(v);if(y&&J.length){if(!m.context){j(J)}else{m.invalid=true}}if(q&&H.name==\"body\"){F()}if(!m.invalid){for(K in i){E=e[K];z=i[K];x=z.length;while(x--){if(!z[x].parent){z.splice(x,1)}}for(C=0,B=E.length;C<B;C++){E[C](z,K,m)}}for(C=0,B=d.length;C<B;C++){E=d[C];if(E.name in c){z=c[E.name];x=z.length;while(x--){if(!z[x].parent){z.splice(x,1)}}for(x=0,r=E.callbacks.length;x<r;x++){E.callbacks[x](z,E.name,m)}}}}return H};if(g.remove_trailing_brs){f.addNodeFilter(\"br\",function(n,m){var r,q=n.length,o,u=h.getBlockElements(),k=h.getNonEmptyElements(),s,p,t;u.body=1;for(r=0;r<q;r++){o=n[r];s=o.parent;if(u[o.parent.name]&&o===s.lastChild){p=o.prev;while(p){t=p.name;if(t!==\"span\"||p.attr(\"data-mce-type\")!==\"bookmark\"){if(t!==\"br\"){break}if(t===\"br\"){o=null;break}}p=p.prev}if(o){o.remove();if(s.isEmpty(k)){elementRule=h.getElementRule(s.name);if(elementRule){if(elementRule.removeEmpty){s.remove()}else{if(elementRule.paddEmpty){s.empty().append(new b.html.Node(\"#text\",3)).value=\"\\u00a0\"}}}}}}}})}}})(tinymce);tinymce.html.Writer=function(e){var c=[],a,b,d,f,g;e=e||{};a=e.indent;b=tinymce.makeMap(e.indent_before||\"\");d=tinymce.makeMap(e.indent_after||\"\");f=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||\"raw\",e.entities);g=e.element_format==\"html\";return{start:function(m,k,p){var n,j,h,o;if(a&&b[m]&&c.length>0){o=c[c.length-1];if(o.length>0&&o!==\"\\n\"){c.push(\"\\n\")}}c.push(\"<\",m);if(k){for(n=0,j=k.length;n<j;n++){h=k[n];c.push(\" \",h.name,'=\"',f(h.value,true),'\"')}}if(!p||g){c[c.length]=\">\"}else{c[c.length]=\" />\"}if(p&&a&&d[m]&&c.length>0){o=c[c.length-1];if(o.length>0&&o!==\"\\n\"){c.push(\"\\n\")}}},end:function(h){var i;c.push(\"</\",h,\">\");if(a&&d[h]&&c.length>0){i=c[c.length-1];if(i.length>0&&i!==\"\\n\"){c.push(\"\\n\")}}},text:function(i,h){if(i.length>0){c[c.length]=h?i:f(i)}},cdata:function(h){c.push(\"<![CDATA[\",h,\"]]>\")},comment:function(h){c.push(\"<!--\",h,\"-->\")},pi:function(h,i){if(i){c.push(\"<?\",h,\" \",i,\"?>\")}else{c.push(\"<?\",h,\"?>\")}if(a){c.push(\"\\n\")}},doctype:function(h){c.push(\"<!DOCTYPE\",h,\">\",a?\"\\n\":\"\")},reset:function(){c.length=0},getContent:function(){return c.join(\"\").replace(/\\n$/,\"\")}}};(function(a){a.html.Serializer=function(c,d){var b=this,e=new a.html.Writer(c);c=c||{};c.validate=\"validate\" in c?c.validate:true;b.schema=d=d||new a.html.Schema();b.writer=e;b.serialize=function(h){var g,i;i=c.validate;g={3:function(k,j){e.text(k.value,k.raw)},8:function(j){e.comment(j.value)},7:function(j){e.pi(j.name,j.value)},10:function(j){e.doctype(j.value)},4:function(j){e.cdata(j.value)},11:function(j){if((j=j.firstChild)){do{f(j)}while(j=j.next)}}};e.reset();function f(k){var t=g[k.type],j,o,s,r,p,u,n,m,q;if(!t){j=k.name;o=k.shortEnded;s=k.attributes;if(i&&s&&s.length>1){u=[];u.map={};q=d.getElementRule(k.name);for(n=0,m=q.attributesOrder.length;n<m;n++){r=q.attributesOrder[n];if(r in s.map){p=s.map[r];u.map[r]=p;u.push({name:r,value:p})}}for(n=0,m=s.length;n<m;n++){r=s[n].name;if(!(r in u.map)){p=s.map[r];u.map[r]=p;u.push({name:r,value:p})}}s=u}e.start(k.name,s,o);if(!o){if((k=k.firstChild)){do{f(k)}while(k=k.next)}e.end(j)}}else{t(k)}}if(h.type==1&&!c.inner){f(h)}else{g[11](h)}return e.getContent()}}})(tinymce);(function(h){var f=h.each,e=h.is,d=h.isWebKit,b=h.isIE,c=h.html.Entities,a=/^([a-z0-9],?)+$/i,g=h.html.Schema.blockElementsMap,i=/^[ \\t\\r\\n]*$/;h.create(\"tinymce.dom.DOMUtils\",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{\"for\":\"htmlFor\",\"class\":\"className\",className:\"className\",checked:\"checked\",disabled:\"disabled\",maxlength:\"maxLength\",readonly:\"readOnly\",selected:\"selected\",value:\"value\",id:\"id\",name:\"name\",type:\"type\"},DOMUtils:function(o,m){var l=this,j,k;l.doc=o;l.win=window;l.files={};l.cssFlicker=false;l.counter=0;l.stdMode=!h.isIE||o.documentMode>=8;l.boxModel=!h.isIE||o.compatMode==\"CSS1Compat\"||l.stdMode;l.hasOuterHTML=\"outerHTML\" in o.createElement(\"a\");l.settings=m=h.extend({keep_values:false,hex_colors:1},m);l.schema=m.schema;l.styles=new h.html.Styles({url_converter:m.url_converter,url_converter_scope:m.url_converter_scope},m.schema);if(h.isIE6){try{o.execCommand(\"BackgroundImageCache\",false,true)}catch(n){l.cssFlicker=true}}if(b&&m.schema){(\"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video\").replace(/\\w+/g,function(p){o.createElement(p)});for(k in m.schema.getCustomElements()){o.createElement(k)}}h.addUnload(l.destroy,l)},getRoot:function(){var j=this,k=j.settings;return(k&&j.get(k.root_element))||j.doc.body},getViewPort:function(k){var l,j;k=!k?this.win:k;l=k.document;j=this.boxModel?l.documentElement:l.body;return{x:k.pageXOffset||j.scrollLeft,y:k.pageYOffset||j.scrollTop,w:k.innerWidth||j.clientWidth,h:k.innerHeight||j.clientHeight}},getRect:function(m){var l,j=this,k;m=j.get(m);l=j.getPos(m);k=j.getSize(m);return{x:l.x,y:l.y,w:k.w,h:k.h}},getSize:function(m){var k=this,j,l;m=k.get(m);j=k.getStyle(m,\"width\");l=k.getStyle(m,\"height\");if(j.indexOf(\"px\")===-1){j=0}if(l.indexOf(\"px\")===-1){l=0}return{w:parseInt(j)||m.offsetWidth||m.clientWidth,h:parseInt(l)||m.offsetHeight||m.clientHeight}},getParent:function(l,k,j){return this.getParents(l,k,j,false)},getParents:function(u,p,l,s){var k=this,j,m=k.settings,q=[];u=k.get(u);s=s===undefined;if(m.strict_root){l=l||k.getRoot()}if(e(p,\"string\")){j=p;if(p===\"*\"){p=function(o){return o.nodeType==1}}else{p=function(o){return k.is(o,j)}}}while(u){if(u==l||!u.nodeType||u.nodeType===9){break}if(!p||p(u)){if(s){q.push(u)}else{return u}}u=u.parentNode}return s?q:null},get:function(j){var k;if(j&&this.doc&&typeof(j)==\"string\"){k=j;j=this.doc.getElementById(j);if(j&&j.id!==k){return this.doc.getElementsByName(k)[1]}}return j},getNext:function(k,j){return this._findSib(k,j,\"nextSibling\")},getPrev:function(k,j){return this._findSib(k,j,\"previousSibling\")},select:function(l,k){var j=this;return h.dom.Sizzle(l,j.get(k)||j.get(j.settings.root_element)||j.doc,[])},is:function(l,j){var k;if(l.length===undefined){if(j===\"*\"){return l.nodeType==1}if(a.test(j)){j=j.toLowerCase().split(/,/);l=l.nodeName.toLowerCase();for(k=j.length-1;k>=0;k--){if(j[k]==l){return true}}return false}}return h.dom.Sizzle.matches(j,l.nodeType?[l]:l).length>0},add:function(m,q,j,l,o){var k=this;return this.run(m,function(s){var r,n;r=e(q,\"string\")?k.doc.createElement(q):q;k.setAttribs(r,j);if(l){if(l.nodeType){r.appendChild(l)}else{k.setHTML(r,l)}}return !o?s.appendChild(r):r})},create:function(l,j,k){return this.add(this.doc.createElement(l),l,j,k,1)},createHTML:function(r,j,p){var q=\"\",m=this,l;q+=\"<\"+r;for(l in j){if(j.hasOwnProperty(l)){q+=\" \"+l+'=\"'+m.encode(j[l])+'\"'}}if(typeof(p)!=\"undefined\"){return q+\">\"+p+\"</\"+r+\">\"}return q+\" />\"},remove:function(j,k){return this.run(j,function(m){var n,l=m.parentNode;if(!l){return null}if(k){while(n=m.firstChild){if(!h.isIE||n.nodeType!==3||n.nodeValue){l.insertBefore(n,m)}else{m.removeChild(n)}}}return l.removeChild(m)})},setStyle:function(m,j,k){var l=this;return l.run(m,function(p){var o,n;o=p.style;j=j.replace(/-(\\D)/g,function(r,q){return q.toUpperCase()});if(l.pixelStyles.test(j)&&(h.is(k,\"number\")||/^[\\-0-9\\.]+$/.test(k))){k+=\"px\"}switch(j){case\"opacity\":if(b){o.filter=k===\"\"?\"\":\"alpha(opacity=\"+(k*100)+\")\";if(!m.currentStyle||!m.currentStyle.hasLayout){o.display=\"inline-block\"}}o[j]=o[\"-moz-opacity\"]=o[\"-khtml-opacity\"]=k||\"\";break;case\"float\":b?o.styleFloat=k:o.cssFloat=k;break;default:o[j]=k||\"\"}if(l.settings.update_styles){l.setAttrib(p,\"data-mce-style\")}})},getStyle:function(m,j,l){m=this.get(m);if(!m){return}if(this.doc.defaultView&&l){j=j.replace(/[A-Z]/g,function(n){return\"-\"+n});try{return this.doc.defaultView.getComputedStyle(m,null).getPropertyValue(j)}catch(k){return null}}j=j.replace(/-(\\D)/g,function(o,n){return n.toUpperCase()});if(j==\"float\"){j=b?\"styleFloat\":\"cssFloat\"}if(m.currentStyle&&l){return m.currentStyle[j]}return m.style?m.style[j]:undefined},setStyles:function(m,n){var k=this,l=k.settings,j;j=l.update_styles;l.update_styles=0;f(n,function(o,p){k.setStyle(m,p,o)});l.update_styles=j;if(l.update_styles){k.setAttrib(m,l.cssText)}},removeAllAttribs:function(j){return this.run(j,function(m){var l,k=m.attributes;for(l=k.length-1;l>=0;l--){m.removeAttributeNode(k.item(l))}})},setAttrib:function(l,m,j){var k=this;if(!l||!m){return}if(k.settings.strict){m=m.toLowerCase()}return this.run(l,function(o){var n=k.settings;switch(m){case\"style\":if(!e(j,\"string\")){f(j,function(p,q){k.setStyle(o,q,p)});return}if(n.keep_values){if(j&&!k._isRes(j)){o.setAttribute(\"data-mce-style\",j,2)}else{o.removeAttribute(\"data-mce-style\",2)}}o.style.cssText=j;break;case\"class\":o.className=j||\"\";break;case\"src\":case\"href\":if(n.keep_values){if(n.url_converter){j=n.url_converter.call(n.url_converter_scope||k,j,m,o)}k.setAttrib(o,\"data-mce-\"+m,j,2)}break;case\"shape\":o.setAttribute(\"data-mce-style\",j);break}if(e(j)&&j!==null&&j.length!==0){o.setAttribute(m,\"\"+j,2)}else{o.removeAttribute(m,2)}})},setAttribs:function(k,l){var j=this;return this.run(k,function(m){f(l,function(o,p){j.setAttrib(m,p,o)})})},getAttrib:function(o,p,l){var j,k=this,m;o=k.get(o);if(!o||o.nodeType!==1){return l===m?false:l}if(!e(l)){l=\"\"}if(/^(src|href|style|coords|shape)$/.test(p)){j=o.getAttribute(\"data-mce-\"+p);if(j){return j}}if(b&&k.props[p]){j=o[k.props[p]];j=j&&j.nodeValue?j.nodeValue:j}if(!j){j=o.getAttribute(p,2)}if(/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(p)){if(o[k.props[p]]===true&&j===\"\"){return p}return j?p:\"\"}if(o.nodeName===\"FORM\"&&o.getAttributeNode(p)){return o.getAttributeNode(p).nodeValue}if(p===\"style\"){j=j||o.style.cssText;if(j){j=k.serializeStyle(k.parseStyle(j),o.nodeName);if(k.settings.keep_values&&!k._isRes(j)){o.setAttribute(\"data-mce-style\",j)}}}if(d&&p===\"class\"&&j){j=j.replace(/(apple|webkit)\\-[a-z\\-]+/gi,\"\")}if(b){switch(p){case\"rowspan\":case\"colspan\":if(j===1){j=\"\"}break;case\"size\":if(j===\"+0\"||j===20||j===0){j=\"\"}break;case\"width\":case\"height\":case\"vspace\":case\"checked\":case\"disabled\":case\"readonly\":if(j===0){j=\"\"}break;case\"hspace\":if(j===-1){j=\"\"}break;case\"maxlength\":case\"tabindex\":if(j===32768||j===2147483647||j===\"32768\"){j=\"\"}break;case\"multiple\":case\"compact\":case\"noshade\":case\"nowrap\":if(j===65535){return p}return l;case\"shape\":j=j.toLowerCase();break;default:if(p.indexOf(\"on\")===0&&j){j=h._replace(/^function\\s+\\w+\\(\\)\\s+\\{\\s+(.*)\\s+\\}$/,\"$1\",\"\"+j)}}}return(j!==m&&j!==null&&j!==\"\")?\"\"+j:l},getPos:function(s,m){var k=this,j=0,q=0,o,p=k.doc,l;s=k.get(s);m=m||p.body;if(s){if(s.getBoundingClientRect){s=s.getBoundingClientRect();o=k.boxModel?p.documentElement:p.body;j=s.left+(p.documentElement.scrollLeft||p.body.scrollLeft)-o.clientTop;q=s.top+(p.documentElement.scrollTop||p.body.scrollTop)-o.clientLeft;return{x:j,y:q}}l=s;while(l&&l!=m&&l.nodeType){j+=l.offsetLeft||0;q+=l.offsetTop||0;l=l.offsetParent}l=s.parentNode;while(l&&l!=m&&l.nodeType){j-=l.scrollLeft||0;q-=l.scrollTop||0;l=l.parentNode}}return{x:j,y:q}},parseStyle:function(j){return this.styles.parse(j)},serializeStyle:function(k,j){return this.styles.serialize(k,j)},loadCSS:function(j){var l=this,m=l.doc,k;if(!j){j=\"\"}k=l.select(\"head\")[0];f(j.split(\",\"),function(n){var o;if(l.files[n]){return}l.files[n]=true;o=l.create(\"link\",{rel:\"stylesheet\",href:h._addVer(n)});if(b&&m.documentMode&&m.recalc){o.onload=function(){if(m.recalc){m.recalc()}o.onload=null}}k.appendChild(o)})},addClass:function(j,k){return this.run(j,function(l){var m;if(!k){return 0}if(this.hasClass(l,k)){return l.className}m=this.removeClass(l,k);return l.className=(m!=\"\"?(m+\" \"):\"\")+k})},removeClass:function(l,m){var j=this,k;return j.run(l,function(o){var n;if(j.hasClass(o,m)){if(!k){k=new RegExp(\"(^|\\\\s+)\"+m+\"(\\\\s+|$)\",\"g\")}n=o.className.replace(k,\" \");n=h.trim(n!=\" \"?n:\"\");o.className=n;if(!n){o.removeAttribute(\"class\");o.removeAttribute(\"className\")}return n}return o.className})},hasClass:function(k,j){k=this.get(k);if(!k||!j){return false}return(\" \"+k.className+\" \").indexOf(\" \"+j+\" \")!==-1},show:function(j){return this.setStyle(j,\"display\",\"block\")},hide:function(j){return this.setStyle(j,\"display\",\"none\")},isHidden:function(j){j=this.get(j);return !j||j.style.display==\"none\"||this.getStyle(j,\"display\")==\"none\"},uniqueId:function(j){return(!j?\"mce_\":j)+(this.counter++)},setHTML:function(l,k){var j=this;return j.run(l,function(n){if(b){while(n.firstChild){n.removeChild(n.firstChild)}try{n.innerHTML=\"<br />\"+k;n.removeChild(n.firstChild)}catch(m){n=j.create(\"div\");n.innerHTML=\"<br />\"+k;f(n.childNodes,function(p,o){if(o){n.appendChild(p)}})}}else{n.innerHTML=k}return k})},getOuterHTML:function(l){var k,j=this;l=j.get(l);if(!l){return null}if(l.nodeType===1&&j.hasOuterHTML){return l.outerHTML}k=(l.ownerDocument||j.doc).createElement(\"body\");k.appendChild(l.cloneNode(true));return k.innerHTML},setOuterHTML:function(m,k,n){var j=this;function l(p,o,r){var s,q;q=r.createElement(\"body\");q.innerHTML=o;s=q.lastChild;while(s){j.insertAfter(s.cloneNode(true),p);s=s.previousSibling}j.remove(p)}return this.run(m,function(p){p=j.get(p);if(p.nodeType==1){n=n||p.ownerDocument||j.doc;if(b){try{if(b&&p.nodeType==1){p.outerHTML=k}else{l(p,k,n)}}catch(o){l(p,k,n)}}else{l(p,k,n)}}})},decode:c.decode,encode:c.encodeAllRaw,insertAfter:function(j,k){k=this.get(k);return this.run(j,function(m){var l,n;l=k.parentNode;n=k.nextSibling;if(n){l.insertBefore(m,n)}else{l.appendChild(m)}return m})},isBlock:function(k){var j=k.nodeType;if(j){return !!(j===1&&g[k.nodeName])}return !!g[k]},replace:function(p,m,j){var l=this;if(e(m,\"array\")){p=p.cloneNode(true)}return l.run(m,function(k){if(j){f(h.grep(k.childNodes),function(n){p.appendChild(n)})}return k.parentNode.replaceChild(p,k)})},rename:function(m,j){var l=this,k;if(m.nodeName!=j.toUpperCase()){k=l.create(j);f(l.getAttribs(m),function(n){l.setAttrib(k,n.nodeName,l.getAttrib(m,n.nodeName))});l.replace(k,m,1)}return k||m},findCommonAncestor:function(l,j){var m=l,k;while(m){k=j;while(k&&m!=k){k=k.parentNode}if(m==k){break}m=m.parentNode}if(!m&&l.ownerDocument){return l.ownerDocument.documentElement}return m},toHex:function(j){var l=/^\\s*rgb\\s*?\\(\\s*?([0-9]+)\\s*?,\\s*?([0-9]+)\\s*?,\\s*?([0-9]+)\\s*?\\)\\s*$/i.exec(j);function k(m){m=parseInt(m).toString(16);return m.length>1?m:\"0\"+m}if(l){j=\"#\"+k(l[1])+k(l[2])+k(l[3]);return j}return j},getClasses:function(){var n=this,j=[],m,o={},p=n.settings.class_filter,l;if(n.classes){return n.classes}function q(r){f(r.imports,function(s){q(s)});f(r.cssRules||r.rules,function(s){switch(s.type||1){case 1:if(s.selectorText){f(s.selectorText.split(\",\"),function(t){t=t.replace(/^\\s*|\\s*$|^\\s\\./g,\"\");if(/\\.mce/.test(t)||!/\\.[\\w\\-]+$/.test(t)){return}l=t;t=h._replace(/.*\\.([a-z0-9_\\-]+).*/i,\"$1\",t);if(p&&!(t=p(t,l))){return}if(!o[t]){j.push({\"class\":t});o[t]=1}})}break;case 3:q(s.styleSheet);break}})}try{f(n.doc.styleSheets,q)}catch(k){}if(j.length>0){n.classes=j}return j},run:function(m,l,k){var j=this,n;if(j.doc&&typeof(m)===\"string\"){m=j.get(m)}if(!m){return false}k=k||this;if(!m.nodeType&&(m.length||m.length===0)){n=[];f(m,function(p,o){if(p){if(typeof(p)==\"string\"){p=j.doc.getElementById(p)}n.push(l.call(k,p,o))}});return n}return l.call(k,m)},getAttribs:function(k){var j;k=this.get(k);if(!k){return[]}if(b){j=[];if(k.nodeName==\"OBJECT\"){return k.attributes}if(k.nodeName===\"OPTION\"&&this.getAttrib(k,\"selected\")){j.push({specified:1,nodeName:\"selected\"})}k.cloneNode(false).outerHTML.replace(/<\\/?[\\w:\\-]+ ?|=[\\\"][^\\\"]+\\\"|=\\'[^\\']+\\'|=[\\w\\-]+|>/gi,\"\").replace(/[\\w:\\-]+/gi,function(l){j.push({specified:1,nodeName:l})});return j}return k.attributes},isEmpty:function(m,k){var r=this,o,n,q,j,l,p;m=m.firstChild;if(m){j=new h.dom.TreeWalker(m);k=k||r.schema?r.schema.getNonEmptyElements():null;do{q=m.nodeType;if(q===1){if(m.getAttribute(\"data-mce-bogus\")){continue}l=m.nodeName.toLowerCase();if(k&&k[l]){p=m.parentNode;if(l===\"br\"&&r.isBlock(p)&&p.firstChild===m&&p.lastChild===m){continue}return false}n=r.getAttribs(m);o=m.attributes.length;while(o--){l=m.attributes[o].nodeName;if(l===\"name\"||l===\"data-mce-bookmark\"){return false}}}if((q===3&&!i.test(m.nodeValue))){return false}}while(m=j.next())}return true},destroy:function(k){var j=this;if(j.events){j.events.destroy()}j.win=j.doc=j.root=j.events=null;if(!k){h.removeUnload(j.destroy)}},createRng:function(){var j=this.doc;return j.createRange?j.createRange():new h.dom.Range(this)},nodeIndex:function(n,o){var j=0,l,m,k;if(n){for(l=n.nodeType,n=n.previousSibling,m=n;n;n=n.previousSibling){k=n.nodeType;if(o&&k==3){if(k==l||!n.nodeValue.length){continue}}j++;l=k}}return j},split:function(n,m,q){var s=this,j=s.createRng(),o,l,p;function k(v){var t,r=v.childNodes,u=v.nodeType;if(u==1&&v.getAttribute(\"data-mce-type\")==\"bookmark\"){return}for(t=r.length-1;t>=0;t--){k(r[t])}if(u!=9){if(u==3&&v.nodeValue.length>0){if(!s.isBlock(v.parentNode)||h.trim(v.nodeValue).length>0){return}}else{if(u==1){r=v.childNodes;if(r.length==1&&r[0]&&r[0].nodeType==1&&r[0].getAttribute(\"data-mce-type\")==\"bookmark\"){v.parentNode.insertBefore(r[0],v)}if(r.length||/^(br|hr|input|img)$/i.test(v.nodeName)){return}}}s.remove(v)}return v}if(n&&m){j.setStart(n.parentNode,s.nodeIndex(n));j.setEnd(m.parentNode,s.nodeIndex(m));o=j.extractContents();j=s.createRng();j.setStart(m.parentNode,s.nodeIndex(m)+1);j.setEnd(n.parentNode,s.nodeIndex(n)+1);l=j.extractContents();p=n.parentNode;p.insertBefore(k(o),n);if(q){p.replaceChild(q,m)}else{p.insertBefore(m,n)}p.insertBefore(k(l),n);s.remove(n);return q||m}},bind:function(n,j,m,l){var k=this;if(!k.events){k.events=new h.dom.EventUtils()}return k.events.add(n,j,m,l||this)},unbind:function(m,j,l){var k=this;if(!k.events){k.events=new h.dom.EventUtils()}return k.events.remove(m,j,l)},_findSib:function(m,j,k){var l=this,n=j;if(m){if(e(n,\"string\")){n=function(o){return l.is(o,j)}}for(m=m[k];m;m=m[k]){if(n(m)){return m}}}return null},_isRes:function(j){return/^(top|left|bottom|right|width|height)/i.test(j)||/;\\s*(top|left|bottom|right|width|height)/i.test(j)}});h.DOM=new h.dom.DOMUtils(document,{process_html:0})})(tinymce);(function(a){function b(c){var N=this,e=c.doc,S=0,E=1,j=2,D=true,R=false,U=\"startOffset\",h=\"startContainer\",P=\"endContainer\",z=\"endOffset\",k=tinymce.extend,n=c.nodeIndex;k(N,{startContainer:e,startOffset:0,endContainer:e,endOffset:0,collapsed:D,commonAncestorContainer:e,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:q,setEnd:s,setStartBefore:g,setStartAfter:I,setEndBefore:J,setEndAfter:u,collapse:A,selectNode:x,selectNodeContents:F,compareBoundaryPoints:v,deleteContents:p,extractContents:H,cloneContents:d,insertNode:C,surroundContents:M,cloneRange:K});function q(V,t){B(D,V,t)}function s(V,t){B(R,V,t)}function g(t){q(t.parentNode,n(t))}function I(t){q(t.parentNode,n(t)+1)}function J(t){s(t.parentNode,n(t))}function u(t){s(t.parentNode,n(t)+1)}function A(t){if(t){N[P]=N[h];N[z]=N[U]}else{N[h]=N[P];N[U]=N[z]}N.collapsed=D}function x(t){g(t);u(t)}function F(t){q(t,0);s(t,t.nodeType===1?t.childNodes.length:t.nodeValue.length)}function v(Y,t){var ab=N[h],W=N[U],aa=N[P],V=N[z],Z=t.startContainer,ad=t.startOffset,X=t.endContainer,ac=t.endOffset;if(Y===0){return G(ab,W,Z,ad)}if(Y===1){return G(aa,V,Z,ad)}if(Y===2){return G(aa,V,X,ac)}if(Y===3){return G(ab,W,X,ac)}}function p(){m(j)}function H(){return m(S)}function d(){return m(E)}function C(Y){var V=this[h],t=this[U],X,W;if((V.nodeType===3||V.nodeType===4)&&V.nodeValue){if(!t){V.parentNode.insertBefore(Y,V)}else{if(t>=V.nodeValue.length){c.insertAfter(Y,V)}else{X=V.splitText(t);V.parentNode.insertBefore(Y,X)}}}else{if(V.childNodes.length>0){W=V.childNodes[t]}if(W){V.insertBefore(Y,W)}else{V.appendChild(Y)}}}function M(V){var t=N.extractContents();N.insertNode(V);V.appendChild(t);N.selectNode(V)}function K(){return k(new b(c),{startContainer:N[h],startOffset:N[U],endContainer:N[P],endOffset:N[z],collapsed:N.collapsed,commonAncestorContainer:N.commonAncestorContainer})}function O(t,V){var W;if(t.nodeType==3){return t}if(V<0){return t}W=t.firstChild;while(W&&V>0){--V;W=W.nextSibling}if(W){return W}return t}function l(){return(N[h]==N[P]&&N[U]==N[z])}function G(X,Z,V,Y){var aa,W,t,ab,ad,ac;if(X==V){if(Z==Y){return 0}if(Z<Y){return -1}return 1}aa=V;while(aa&&aa.parentNode!=X){aa=aa.parentNode}if(aa){W=0;t=X.firstChild;while(t!=aa&&W<Z){W++;t=t.nextSibling}if(Z<=W){return -1}return 1}aa=X;while(aa&&aa.parentNode!=V){aa=aa.parentNode}if(aa){W=0;t=V.firstChild;while(t!=aa&&W<Y){W++;t=t.nextSibling}if(W<Y){return -1}return 1}ab=c.findCommonAncestor(X,V);ad=X;while(ad&&ad.parentNode!=ab){ad=ad.parentNode}if(!ad){ad=ab}ac=V;while(ac&&ac.parentNode!=ab){ac=ac.parentNode}if(!ac){ac=ab}if(ad==ac){return 0}t=ab.firstChild;while(t){if(t==ad){return -1}if(t==ac){return 1}t=t.nextSibling}}function B(V,Y,X){var t,W;if(V){N[h]=Y;N[U]=X}else{N[P]=Y;N[z]=X}t=N[P];while(t.parentNode){t=t.parentNode}W=N[h];while(W.parentNode){W=W.parentNode}if(W==t){if(G(N[h],N[U],N[P],N[z])>0){N.collapse(V)}}else{N.collapse(V)}N.collapsed=l();N.commonAncestorContainer=c.findCommonAncestor(N[h],N[P])}function m(ab){var aa,X=0,ad=0,V,Z,W,Y,t,ac;if(N[h]==N[P]){return f(ab)}for(aa=N[P],V=aa.parentNode;V;aa=V,V=V.parentNode){if(V==N[h]){return r(aa,ab)}++X}for(aa=N[h],V=aa.parentNode;V;aa=V,V=V.parentNode){if(V==N[P]){return T(aa,ab)}++ad}Z=ad-X;W=N[h];while(Z>0){W=W.parentNode;Z--}Y=N[P];while(Z<0){Y=Y.parentNode;Z++}for(t=W.parentNode,ac=Y.parentNode;t!=ac;t=t.parentNode,ac=ac.parentNode){W=t;Y=ac}return o(W,Y,ab)}function f(Z){var ab,Y,X,aa,t,W,V;if(Z!=j){ab=e.createDocumentFragment()}if(N[U]==N[z]){return ab}if(N[h].nodeType==3){Y=N[h].nodeValue;X=Y.substring(N[U],N[z]);if(Z!=E){N[h].deleteData(N[U],N[z]-N[U]);N.collapse(D)}if(Z==j){return}ab.appendChild(e.createTextNode(X));return ab}aa=O(N[h],N[U]);t=N[z]-N[U];while(t>0){W=aa.nextSibling;V=y(aa,Z);if(ab){ab.appendChild(V)}--t;aa=W}if(Z!=E){N.collapse(D)}return ab}function r(ab,Y){var aa,Z,V,t,X,W;if(Y!=j){aa=e.createDocumentFragment()}Z=i(ab,Y);if(aa){aa.appendChild(Z)}V=n(ab);t=V-N[U];if(t<=0){if(Y!=E){N.setEndBefore(ab);N.collapse(R)}return aa}Z=ab.previousSibling;while(t>0){X=Z.previousSibling;W=y(Z,Y);if(aa){aa.insertBefore(W,aa.firstChild)}--t;Z=X}if(Y!=E){N.setEndBefore(ab);N.collapse(R)}return aa}function T(Z,Y){var ab,V,aa,t,X,W;if(Y!=j){ab=e.createDocumentFragment()}aa=Q(Z,Y);if(ab){ab.appendChild(aa)}V=n(Z);++V;t=N[z]-V;aa=Z.nextSibling;while(t>0){X=aa.nextSibling;W=y(aa,Y);if(ab){ab.appendChild(W)}--t;aa=X}if(Y!=E){N.setStartAfter(Z);N.collapse(D)}return ab}function o(Z,t,ac){var W,ae,Y,aa,ab,V,ad,X;if(ac!=j){ae=e.createDocumentFragment()}W=Q(Z,ac);if(ae){ae.appendChild(W)}Y=Z.parentNode;aa=n(Z);ab=n(t);++aa;V=ab-aa;ad=Z.nextSibling;while(V>0){X=ad.nextSibling;W=y(ad,ac);if(ae){ae.appendChild(W)}ad=X;--V}W=i(t,ac);if(ae){ae.appendChild(W)}if(ac!=E){N.setStartAfter(Z);N.collapse(D)}return ae}function i(aa,ab){var W=O(N[P],N[z]-1),ac,Z,Y,t,V,X=W!=N[P];if(W==aa){return L(W,X,R,ab)}ac=W.parentNode;Z=L(ac,R,R,ab);while(ac){while(W){Y=W.previousSibling;t=L(W,X,R,ab);if(ab!=j){Z.insertBefore(t,Z.firstChild)}X=D;W=Y}if(ac==aa){return Z}W=ac.previousSibling;ac=ac.parentNode;V=L(ac,R,R,ab);if(ab!=j){V.appendChild(Z)}Z=V}}function Q(aa,ab){var X=O(N[h],N[U]),Y=X!=N[h],ac,Z,W,t,V;if(X==aa){return L(X,Y,D,ab)}ac=X.parentNode;Z=L(ac,R,D,ab);while(ac){while(X){W=X.nextSibling;t=L(X,Y,D,ab);if(ab!=j){Z.appendChild(t)}Y=D;X=W}if(ac==aa){return Z}X=ac.nextSibling;ac=ac.parentNode;V=L(ac,R,D,ab);if(ab!=j){V.appendChild(Z)}Z=V}}function L(t,Y,ab,ac){var X,W,Z,V,aa;if(Y){return y(t,ac)}if(t.nodeType==3){X=t.nodeValue;if(ab){V=N[U];W=X.substring(V);Z=X.substring(0,V)}else{V=N[z];W=X.substring(0,V);Z=X.substring(V)}if(ac!=E){t.nodeValue=Z}if(ac==j){return}aa=t.cloneNode(R);aa.nodeValue=W;return aa}if(ac==j){return}return t.cloneNode(R)}function y(V,t){if(t!=j){return t==E?V.cloneNode(D):V}V.parentNode.removeChild(V)}}a.Range=b})(tinymce.dom);(function(){function a(d){var b=this,h=d.dom,c=true,f=false;function e(i,j){var k,t=0,q,n,m,l,o,r,p=-1,s;k=i.duplicate();k.collapse(j);s=k.parentElement();if(s.ownerDocument!==d.dom.doc){return}while(s.contentEditable===\"false\"){s=s.parentNode}if(!s.hasChildNodes()){return{node:s,inside:1}}m=s.children;q=m.length-1;while(t<=q){r=Math.floor((t+q)/2);l=m[r];k.moveToElementText(l);p=k.compareEndPoints(j?\"StartToStart\":\"EndToEnd\",i);if(p>0){q=r-1}else{if(p<0){t=r+1}else{return{node:l}}}}if(p<0){if(!l){k.moveToElementText(s);k.collapse(true);l=s;n=true}else{k.collapse(false)}k.setEndPoint(j?\"EndToStart\":\"EndToEnd\",i);if(k.compareEndPoints(j?\"StartToStart\":\"StartToEnd\",i)>0){k=i.duplicate();k.collapse(j);o=-1;while(s==k.parentElement()){if(k.move(\"character\",-1)==0){break}o++}}o=o||k.text.replace(\"\\r\\n\",\" \").length}else{k.collapse(true);k.setEndPoint(j?\"StartToStart\":\"StartToEnd\",i);o=k.text.replace(\"\\r\\n\",\" \").length}return{node:l,position:p,offset:o,inside:n}}function g(){var i=d.getRng(),r=h.createRng(),l,k,p,q,m,j;l=i.item?i.item(0):i.parentElement();if(l.ownerDocument!=h.doc){return r}k=d.isCollapsed();if(i.item){r.setStart(l.parentNode,h.nodeIndex(l));r.setEnd(r.startContainer,r.startOffset+1);return r}function o(A){var u=e(i,A),s,y,z=0,x,v,t;s=u.node;y=u.offset;if(u.inside&&!s.hasChildNodes()){r[A?\"setStart\":\"setEnd\"](s,0);return}if(y===v){r[A?\"setStartBefore\":\"setEndAfter\"](s);return}if(u.position<0){x=u.inside?s.firstChild:s.nextSibling;if(!x){r[A?\"setStartAfter\":\"setEndAfter\"](s);return}if(!y){if(x.nodeType==3){r[A?\"setStart\":\"setEnd\"](x,0)}else{r[A?\"setStartBefore\":\"setEndBefore\"](x)}return}while(x){t=x.nodeValue;z+=t.length;if(z>=y){s=x;z-=y;z=t.length-z;break}x=x.nextSibling}}else{x=s.previousSibling;if(!x){return r[A?\"setStartBefore\":\"setEndBefore\"](s)}if(!y){if(s.nodeType==3){r[A?\"setStart\":\"setEnd\"](x,s.nodeValue.length)}else{r[A?\"setStartAfter\":\"setEndAfter\"](x)}return}while(x){z+=x.nodeValue.length;if(z>=y){s=x;z-=y;break}x=x.previousSibling}}r[A?\"setStart\":\"setEnd\"](s,z)}try{o(true);if(!k){o()}}catch(n){if(n.number==-2147024809){m=b.getBookmark(2);p=i.duplicate();p.collapse(true);l=p.parentElement();if(!k){p=i.duplicate();p.collapse(false);q=p.parentElement();q.innerHTML=q.innerHTML}l.innerHTML=l.innerHTML;b.moveToBookmark(m);i=d.getRng();o(true);if(!k){o()}}else{throw n}}return r}this.getBookmark=function(m){var j=d.getRng(),o,i,l={};function n(u){var u,t,p,s,r,q=[];t=u.parentNode;p=h.getRoot().parentNode;while(t!=p){s=t.children;r=s.length;while(r--){if(u===s[r]){q.push(r);break}}u=t;t=t.parentNode}return q}function k(q){var p;p=e(j,q);if(p){return{position:p.position,offset:p.offset,indexes:n(p.node),inside:p.inside}}}if(m===2){if(!j.item){l.start=k(true);if(!d.isCollapsed()){l.end=k()}}else{l.start={ctrl:true,indexes:n(j.item(0))}}}return l};this.moveToBookmark=function(k){var j,i=h.doc.body;function m(o){var r,q,n,p;r=h.getRoot();for(q=o.length-1;q>=0;q--){p=r.children;n=o[q];if(n<=p.length-1){r=p[n]}}return r}function l(r){var n=k[r?\"start\":\"end\"],q,p,o;if(n){q=n.position>0;p=i.createTextRange();p.moveToElementText(m(n.indexes));offset=n.offset;if(offset!==o){p.collapse(n.inside||q);p.moveStart(\"character\",q?-offset:offset)}else{p.collapse(r)}j.setEndPoint(r?\"StartToStart\":\"EndToStart\",p);if(r){j.collapse(true)}}}if(k.start){if(k.start.ctrl){j=i.createControlRange();j.addElement(m(k.start.indexes));j.select()}else{j=i.createTextRange();l(true);l();j.select()}}};this.addRange=function(i){var n,l,k,p,s,q,r=d.dom.doc,m=r.body;function j(z){var u,y,t,x,v;t=h.create(\"a\");u=z?k:s;y=z?p:q;x=n.duplicate();if(u==r||u==r.documentElement){u=m;y=0}if(u.nodeType==3){u.parentNode.insertBefore(t,u);x.moveToElementText(t);x.moveStart(\"character\",y);h.remove(t);n.setEndPoint(z?\"StartToStart\":\"EndToEnd\",x)}else{v=u.childNodes;if(v.length){if(y>=v.length){h.insertAfter(t,v[v.length-1])}else{u.insertBefore(t,v[y])}x.moveToElementText(t)}else{t=r.createTextNode(\"\\uFEFF\");u.appendChild(t);x.moveToElementText(t.parentNode);x.collapse(c)}n.setEndPoint(z?\"StartToStart\":\"EndToEnd\",x);h.remove(t)}}k=i.startContainer;p=i.startOffset;s=i.endContainer;q=i.endOffset;n=m.createTextRange();if(k==s&&k.nodeType==1&&p==q-1){if(p==q-1){try{l=m.createControlRange();l.addElement(k.childNodes[p]);l.select();return}catch(o){}}}j(true);j();n.select()};this.getRangeAt=g}tinymce.dom.TridentSelection=a})();(function(){var p=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,j=0,d=Object.prototype.toString,o=false,i=true;[0,0].sort(function(){i=false;return 0});var b=function(v,e,z,A){z=z||[];e=e||document;var C=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!v||typeof v!==\"string\"){return z}var x=[],s,E,H,r,u=true,t=b.isXML(e),B=v,D,G,F,y;do{p.exec(\"\");s=p.exec(B);if(s){B=s[3];x.push(s[1]);if(s[2]){r=s[3];break}}}while(s);if(x.length>1&&k.exec(v)){if(x.length===2&&f.relative[x[0]]){E=h(x[0]+x[1],e)}else{E=f.relative[x[0]]?[e]:b(x.shift(),e);while(x.length){v=x.shift();if(f.relative[v]){v+=x.shift()}E=h(v,E)}}}else{if(!A&&x.length>1&&e.nodeType===9&&!t&&f.match.ID.test(x[0])&&!f.match.ID.test(x[x.length-1])){D=b.find(x.shift(),e,t);e=D.expr?b.filter(D.expr,D.set)[0]:D.set[0]}if(e){D=A?{expr:x.pop(),set:a(A)}:b.find(x.pop(),x.length===1&&(x[0]===\"~\"||x[0]===\"+\")&&e.parentNode?e.parentNode:e,t);E=D.expr?b.filter(D.expr,D.set):D.set;if(x.length>0){H=a(E)}else{u=false}while(x.length){G=x.pop();F=G;if(!f.relative[G]){G=\"\"}else{F=x.pop()}if(F==null){F=e}f.relative[G](H,F,t)}}else{H=x=[]}}if(!H){H=E}if(!H){b.error(G||v)}if(d.call(H)===\"[object Array]\"){if(!u){z.push.apply(z,H)}else{if(e&&e.nodeType===1){for(y=0;H[y]!=null;y++){if(H[y]&&(H[y]===true||H[y].nodeType===1&&b.contains(e,H[y]))){z.push(E[y])}}}else{for(y=0;H[y]!=null;y++){if(H[y]&&H[y].nodeType===1){z.push(E[y])}}}}}else{a(H,z)}if(r){b(r,C,z,A);b.uniqueSort(z)}return z};b.uniqueSort=function(r){if(c){o=i;r.sort(c);if(o){for(var e=1;e<r.length;e++){if(r[e]===r[e-1]){r.splice(e--,1)}}}}return r};b.matches=function(e,r){return b(e,null,null,r)};b.find=function(y,e,z){var x;if(!y){return[]}for(var t=0,s=f.order.length;t<s;t++){var v=f.order[t],u;if((u=f.leftMatch[v].exec(y))){var r=u[1];u.splice(1,1);if(r.substr(r.length-1)!==\"\\\\\"){u[1]=(u[1]||\"\").replace(/\\\\/g,\"\");x=f.find[v](u,e,z);if(x!=null){y=y.replace(f.match[v],\"\");break}}}}if(!x){x=e.getElementsByTagName(\"*\")}return{set:x,expr:y}};b.filter=function(C,B,F,u){var s=C,H=[],z=B,x,e,y=B&&B[0]&&b.isXML(B[0]);while(C&&B.length){for(var A in f.filter){if((x=f.leftMatch[A].exec(C))!=null&&x[2]){var r=f.filter[A],G,E,t=x[1];e=false;x.splice(1,1);if(t.substr(t.length-1)===\"\\\\\"){continue}if(z===H){H=[]}if(f.preFilter[A]){x=f.preFilter[A](x,z,F,H,u,y);if(!x){e=G=true}else{if(x===true){continue}}}if(x){for(var v=0;(E=z[v])!=null;v++){if(E){G=r(E,x,v,z);var D=u^!!G;if(F&&G!=null){if(D){e=true}else{z[v]=false}}else{if(D){H.push(E);e=true}}}}}if(G!==undefined){if(!F){z=H}C=C.replace(f.match[A],\"\");if(!e){return[]}break}}}if(C===s){if(e==null){b.error(C)}else{break}}s=C}return z};b.error=function(e){throw\"Syntax error, unrecognized expression: \"+e};var f=b.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(['\"]*)(.*?)\\3|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+\\-]*)\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function(e){return e.getAttribute(\"href\")}},relative:{\"+\":function(x,r){var t=typeof r===\"string\",v=t&&!/\\W/.test(r),y=t&&!v;if(v){r=r.toLowerCase()}for(var s=0,e=x.length,u;s<e;s++){if((u=x[s])){while((u=u.previousSibling)&&u.nodeType!==1){}x[s]=y||u&&u.nodeName.toLowerCase()===r?u||false:u===r}}if(y){b.filter(r,x,true)}},\">\":function(x,r){var u=typeof r===\"string\",v,s=0,e=x.length;if(u&&!/\\W/.test(r)){r=r.toLowerCase();for(;s<e;s++){v=x[s];if(v){var t=v.parentNode;x[s]=t.nodeName.toLowerCase()===r?t:false}}}else{for(;s<e;s++){v=x[s];if(v){x[s]=u?v.parentNode:v.parentNode===r}}if(u){b.filter(r,x,true)}}},\"\":function(t,r,v){var s=j++,e=q,u;if(typeof r===\"string\"&&!/\\W/.test(r)){r=r.toLowerCase();u=r;e=n}e(\"parentNode\",r,s,t,u,v)},\"~\":function(t,r,v){var s=j++,e=q,u;if(typeof r===\"string\"&&!/\\W/.test(r)){r=r.toLowerCase();u=r;e=n}e(\"previousSibling\",r,s,t,u,v)}},find:{ID:function(r,s,t){if(typeof s.getElementById!==\"undefined\"&&!t){var e=s.getElementById(r[1]);return e?[e]:[]}},NAME:function(s,v){if(typeof v.getElementsByName!==\"undefined\"){var r=[],u=v.getElementsByName(s[1]);for(var t=0,e=u.length;t<e;t++){if(u[t].getAttribute(\"name\")===s[1]){r.push(u[t])}}return r.length===0?null:r}},TAG:function(e,r){return r.getElementsByTagName(e[1])}},preFilter:{CLASS:function(t,r,s,e,x,y){t=\" \"+t[1].replace(/\\\\/g,\"\")+\" \";if(y){return t}for(var u=0,v;(v=r[u])!=null;u++){if(v){if(x^(v.className&&(\" \"+v.className+\" \").replace(/[\\t\\n]/g,\" \").indexOf(t)>=0)){if(!s){e.push(v)}}else{if(s){r[u]=false}}}}return false},ID:function(e){return e[1].replace(/\\\\/g,\"\")},TAG:function(r,e){return r[1].toLowerCase()},CHILD:function(e){if(e[1]===\"nth\"){var r=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec(e[2]===\"even\"&&\"2n\"||e[2]===\"odd\"&&\"2n+1\"||!/\\D/.test(e[2])&&\"0n+\"+e[2]||e[2]);e[2]=(r[1]+(r[2]||1))-0;e[3]=r[3]-0}e[0]=j++;return e},ATTR:function(u,r,s,e,v,x){var t=u[1].replace(/\\\\/g,\"\");if(!x&&f.attrMap[t]){u[1]=f.attrMap[t]}if(u[2]===\"~=\"){u[4]=\" \"+u[4]+\" \"}return u},PSEUDO:function(u,r,s,e,v){if(u[1]===\"not\"){if((p.exec(u[3])||\"\").length>1||/^\\w/.test(u[3])){u[3]=b(u[3],null,null,r)}else{var t=b.filter(u[3],r,s,true^v);if(!s){e.push.apply(e,t)}return false}}else{if(f.match.POS.test(u[0])||f.match.CHILD.test(u[0])){return true}}return u},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!==\"hidden\"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){e.parentNode.selectedIndex;return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(s,r,e){return !!b(e[3],s).length},header:function(e){return(/h\\d/i).test(e.nodeName)},text:function(e){return\"text\"===e.type},radio:function(e){return\"radio\"===e.type},checkbox:function(e){return\"checkbox\"===e.type},file:function(e){return\"file\"===e.type},password:function(e){return\"password\"===e.type},submit:function(e){return\"submit\"===e.type},image:function(e){return\"image\"===e.type},reset:function(e){return\"reset\"===e.type},button:function(e){return\"button\"===e.type||e.nodeName.toLowerCase()===\"button\"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)}},setFilters:{first:function(r,e){return e===0},last:function(s,r,e,t){return r===t.length-1},even:function(r,e){return e%2===0},odd:function(r,e){return e%2===1},lt:function(s,r,e){return r<e[3]-0},gt:function(s,r,e){return r>e[3]-0},nth:function(s,r,e){return e[3]-0===r},eq:function(s,r,e){return e[3]-0===r}},filter:{PSEUDO:function(s,y,x,z){var e=y[1],r=f.filters[e];if(r){return r(s,x,y,z)}else{if(e===\"contains\"){return(s.textContent||s.innerText||b.getText([s])||\"\").indexOf(y[3])>=0}else{if(e===\"not\"){var t=y[3];for(var v=0,u=t.length;v<u;v++){if(t[v]===s){return false}}return true}else{b.error(\"Syntax error, unrecognized expression: \"+e)}}}},CHILD:function(e,t){var x=t[1],r=e;switch(x){case\"only\":case\"first\":while((r=r.previousSibling)){if(r.nodeType===1){return false}}if(x===\"first\"){return true}r=e;case\"last\":while((r=r.nextSibling)){if(r.nodeType===1){return false}}return true;case\"nth\":var s=t[2],A=t[3];if(s===1&&A===0){return true}var v=t[0],z=e.parentNode;if(z&&(z.sizcache!==v||!e.nodeIndex)){var u=0;for(r=z.firstChild;r;r=r.nextSibling){if(r.nodeType===1){r.nodeIndex=++u}}z.sizcache=v}var y=e.nodeIndex-A;if(s===0){return y===0}else{return(y%s===0&&y/s>=0)}}},ID:function(r,e){return r.nodeType===1&&r.getAttribute(\"id\")===e},TAG:function(r,e){return(e===\"*\"&&r.nodeType===1)||r.nodeName.toLowerCase()===e},CLASS:function(r,e){return(\" \"+(r.className||r.getAttribute(\"class\"))+\" \").indexOf(e)>-1},ATTR:function(v,t){var s=t[1],e=f.attrHandle[s]?f.attrHandle[s](v):v[s]!=null?v[s]:v.getAttribute(s),x=e+\"\",u=t[2],r=t[4];return e==null?u===\"!=\":u===\"=\"?x===r:u===\"*=\"?x.indexOf(r)>=0:u===\"~=\"?(\" \"+x+\" \").indexOf(r)>=0:!r?x&&e!==false:u===\"!=\"?x!==r:u===\"^=\"?x.indexOf(r)===0:u===\"$=\"?x.substr(x.length-r.length)===r:u===\"|=\"?x===r||x.substr(0,r.length+1)===r+\"-\":false},POS:function(u,r,s,v){var e=r[2],t=f.setFilters[e];if(t){return t(u,s,r,v)}}}};var k=f.match.POS,g=function(r,e){return\"\\\\\"+(e-0+1)};for(var m in f.match){f.match[m]=new RegExp(f.match[m].source+(/(?![^\\[]*\\])(?![^\\(]*\\))/.source));f.leftMatch[m]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+f.match[m].source.replace(/\\\\(\\d+)/g,g))}var a=function(r,e){r=Array.prototype.slice.call(r,0);if(e){e.push.apply(e,r);return e}return r};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(l){a=function(u,t){var r=t||[],s=0;if(d.call(u)===\"[object Array]\"){Array.prototype.push.apply(r,u)}else{if(typeof u.length===\"number\"){for(var e=u.length;s<e;s++){r.push(u[s])}}else{for(;u[s];s++){r.push(u[s])}}}return r}}var c;if(document.documentElement.compareDocumentPosition){c=function(r,e){if(!r.compareDocumentPosition||!e.compareDocumentPosition){if(r==e){o=true}return r.compareDocumentPosition?-1:1}var s=r.compareDocumentPosition(e)&4?-1:r===e?0:1;if(s===0){o=true}return s}}else{if(\"sourceIndex\" in document.documentElement){c=function(r,e){if(!r.sourceIndex||!e.sourceIndex){if(r==e){o=true}return r.sourceIndex?-1:1}var s=r.sourceIndex-e.sourceIndex;if(s===0){o=true}return s}}else{if(document.createRange){c=function(t,r){if(!t.ownerDocument||!r.ownerDocument){if(t==r){o=true}return t.ownerDocument?-1:1}var s=t.ownerDocument.createRange(),e=r.ownerDocument.createRange();s.setStart(t,0);s.setEnd(t,0);e.setStart(r,0);e.setEnd(r,0);var u=s.compareBoundaryPoints(Range.START_TO_END,e);if(u===0){o=true}return u}}}}b.getText=function(e){var r=\"\",t;for(var s=0;e[s];s++){t=e[s];if(t.nodeType===3||t.nodeType===4){r+=t.nodeValue}else{if(t.nodeType!==8){r+=b.getText(t.childNodes)}}}return r};(function(){var r=document.createElement(\"div\"),s=\"script\"+(new Date()).getTime();r.innerHTML=\"<a name='\"+s+\"'/>\";var e=document.documentElement;e.insertBefore(r,e.firstChild);if(document.getElementById(s)){f.find.ID=function(u,v,x){if(typeof v.getElementById!==\"undefined\"&&!x){var t=v.getElementById(u[1]);return t?t.id===u[1]||typeof t.getAttributeNode!==\"undefined\"&&t.getAttributeNode(\"id\").nodeValue===u[1]?[t]:undefined:[]}};f.filter.ID=function(v,t){var u=typeof v.getAttributeNode!==\"undefined\"&&v.getAttributeNode(\"id\");return v.nodeType===1&&u&&u.nodeValue===t}}e.removeChild(r);e=r=null})();(function(){var e=document.createElement(\"div\");e.appendChild(document.createComment(\"\"));if(e.getElementsByTagName(\"*\").length>0){f.find.TAG=function(r,v){var u=v.getElementsByTagName(r[1]);if(r[1]===\"*\"){var t=[];for(var s=0;u[s];s++){if(u[s].nodeType===1){t.push(u[s])}}u=t}return u}}e.innerHTML=\"<a href='#'></a>\";if(e.firstChild&&typeof e.firstChild.getAttribute!==\"undefined\"&&e.firstChild.getAttribute(\"href\")!==\"#\"){f.attrHandle.href=function(r){return r.getAttribute(\"href\",2)}}e=null})();if(document.querySelectorAll){(function(){var e=b,s=document.createElement(\"div\");s.innerHTML=\"<p class='TEST'></p>\";if(s.querySelectorAll&&s.querySelectorAll(\".TEST\").length===0){return}b=function(x,v,t,u){v=v||document;if(!u&&v.nodeType===9&&!b.isXML(v)){try{return a(v.querySelectorAll(x),t)}catch(y){}}return e(x,v,t,u)};for(var r in e){b[r]=e[r]}s=null})()}(function(){var e=document.createElement(\"div\");e.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(!e.getElementsByClassName||e.getElementsByClassName(\"e\").length===0){return}e.lastChild.className=\"e\";if(e.getElementsByClassName(\"e\").length===1){return}f.order.splice(1,0,\"CLASS\");f.find.CLASS=function(r,s,t){if(typeof s.getElementsByClassName!==\"undefined\"&&!t){return s.getElementsByClassName(r[1])}};e=null})();function n(r,x,v,A,y,z){for(var t=0,s=A.length;t<s;t++){var e=A[t];if(e){e=e[r];var u=false;while(e){if(e.sizcache===v){u=A[e.sizset];break}if(e.nodeType===1&&!z){e.sizcache=v;e.sizset=t}if(e.nodeName.toLowerCase()===x){u=e;break}e=e[r]}A[t]=u}}}function q(r,x,v,A,y,z){for(var t=0,s=A.length;t<s;t++){var e=A[t];if(e){e=e[r];var u=false;while(e){if(e.sizcache===v){u=A[e.sizset];break}if(e.nodeType===1){if(!z){e.sizcache=v;e.sizset=t}if(typeof x!==\"string\"){if(e===x){u=true;break}}else{if(b.filter(x,[e]).length>0){u=e;break}}}e=e[r]}A[t]=u}}}b.contains=document.compareDocumentPosition?function(r,e){return !!(r.compareDocumentPosition(e)&16)}:function(r,e){return r!==e&&(r.contains?r.contains(e):true)};b.isXML=function(e){var r=(e?e.ownerDocument||e:0).documentElement;return r?r.nodeName!==\"HTML\":false};var h=function(e,y){var t=[],u=\"\",v,s=y.nodeType?[y]:y;while((v=f.match.PSEUDO.exec(e))){u+=v[0];e=e.replace(f.match.PSEUDO,\"\")}e=f.relative[e]?e+\"*\":e;for(var x=0,r=s.length;x<r;x++){b(e,s[x],t)}return b.filter(u,t)};window.tinymce.dom.Sizzle=b})();(function(d){var f=d.each,c=d.DOM,b=d.isIE,e=d.isWebKit,a;d.create(\"tinymce.dom.EventUtils\",{EventUtils:function(){this.inits=[];this.events=[]},add:function(m,p,l,j){var g,h=this,i=h.events,k;if(p instanceof Array){k=[];f(p,function(o){k.push(h.add(m,o,l,j))});return k}if(m&&m.hasOwnProperty&&m instanceof Array){k=[];f(m,function(n){n=c.get(n);k.push(h.add(n,p,l,j))});return k}m=c.get(m);if(!m){return}g=function(n){if(h.disabled){return}n=n||window.event;if(n&&b){if(!n.target){n.target=n.srcElement}d.extend(n,h._stoppers)}if(!j){return l(n)}return l.call(j,n)};if(p==\"unload\"){d.unloads.unshift({func:g});return g}if(p==\"init\"){if(h.domLoaded){g()}else{h.inits.push(g)}return g}i.push({obj:m,name:p,func:l,cfunc:g,scope:j});h._add(m,p,g);return l},remove:function(l,m,k){var h=this,g=h.events,i=false,j;if(l&&l.hasOwnProperty&&l instanceof Array){j=[];f(l,function(n){n=c.get(n);j.push(h.remove(n,m,k))});return j}l=c.get(l);f(g,function(o,n){if(o.obj==l&&o.name==m&&(!k||(o.func==k||o.cfunc==k))){g.splice(n,1);h._remove(l,m,o.cfunc);i=true;return false}});return i},clear:function(l){var j=this,g=j.events,h,k;if(l){l=c.get(l);for(h=g.length-1;h>=0;h--){k=g[h];if(k.obj===l){j._remove(k.obj,k.name,k.cfunc);k.obj=k.cfunc=null;g.splice(h,1)}}}},cancel:function(g){if(!g){return false}this.stop(g);return this.prevent(g)},stop:function(g){if(g.stopPropagation){g.stopPropagation()}else{g.cancelBubble=true}return false},prevent:function(g){if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}return false},destroy:function(){var g=this;f(g.events,function(j,h){g._remove(j.obj,j.name,j.cfunc);j.obj=j.cfunc=null});g.events=[];g=null},_add:function(h,i,g){if(h.attachEvent){h.attachEvent(\"on\"+i,g)}else{if(h.addEventListener){h.addEventListener(i,g,false)}else{h[\"on\"+i]=g}}},_remove:function(i,j,h){if(i){try{if(i.detachEvent){i.detachEvent(\"on\"+j,h)}else{if(i.removeEventListener){i.removeEventListener(j,h,false)}else{i[\"on\"+j]=null}}}catch(g){}}},_pageInit:function(h){var g=this;if(g.domLoaded){return}g.domLoaded=true;f(g.inits,function(i){i()});g.inits=[]},_wait:function(i){var g=this,h=i.document;if(i.tinyMCE_GZ&&tinyMCE_GZ.loaded){g.domLoaded=1;return}if(h.attachEvent){h.attachEvent(\"onreadystatechange\",function(){if(h.readyState===\"complete\"){h.detachEvent(\"onreadystatechange\",arguments.callee);g._pageInit(i)}});if(h.documentElement.doScroll&&i==i.top){(function(){if(g.domLoaded){return}try{h.documentElement.doScroll(\"left\")}catch(j){setTimeout(arguments.callee,0);return}g._pageInit(i)})()}}else{if(h.addEventListener){g._add(i,\"DOMContentLoaded\",function(){g._pageInit(i)})}}g._add(i,\"load\",function(){g._pageInit(i)})},_stoppers:{preventDefault:function(){this.returnValue=false},stopPropagation:function(){this.cancelBubble=true}}});a=d.dom.Event=new d.dom.EventUtils();a._wait(window);d.addUnload(function(){a.destroy()})})(tinymce);(function(a){a.dom.Element=function(f,d){var b=this,e,c;b.settings=d=d||{};b.id=f;b.dom=e=d.dom||a.DOM;if(!a.isIE){c=e.get(b.id)}a.each((\"getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get\").split(/,/),function(g){b[g]=function(){var h=[f],j;for(j=0;j<arguments.length;j++){h.push(arguments[j])}h=e[g].apply(e,h);b.update(g);return h}});a.extend(b,{on:function(i,h,g){return a.dom.Event.add(b.id,i,h,g)},getXY:function(){return{x:parseInt(b.getStyle(\"left\")),y:parseInt(b.getStyle(\"top\"))}},getSize:function(){var g=e.get(b.id);return{w:parseInt(b.getStyle(\"width\")||g.clientWidth),h:parseInt(b.getStyle(\"height\")||g.clientHeight)}},moveTo:function(g,h){b.setStyles({left:g,top:h})},moveBy:function(g,i){var h=b.getXY();b.moveTo(h.x+g,h.y+i)},resizeTo:function(g,i){b.setStyles({width:g,height:i})},resizeBy:function(g,j){var i=b.getSize();b.resizeTo(i.w+g,i.h+j)},update:function(h){var g;if(a.isIE6&&d.blocker){h=h||\"\";if(h.indexOf(\"get\")===0||h.indexOf(\"has\")===0||h.indexOf(\"is\")===0){return}if(h==\"remove\"){e.remove(b.blocker);return}if(!b.blocker){b.blocker=e.uniqueId();g=e.add(d.container||e.getRoot(),\"iframe\",{id:b.blocker,style:\"position:absolute;\",frameBorder:0,src:'javascript:\"\"'});e.setStyle(g,\"opacity\",0)}else{g=e.get(b.blocker)}e.setStyles(g,{left:b.getStyle(\"left\",1),top:b.getStyle(\"top\",1),width:b.getStyle(\"width\",1),height:b.getStyle(\"height\",1),display:b.getStyle(\"display\",1),zIndex:parseInt(b.getStyle(\"zIndex\",1)||0)-1})}}})}})(tinymce);(function(c){function e(f){return f.replace(/[\\n\\r]+/g,\"\")}var b=c.is,a=c.isIE,d=c.each;c.create(\"tinymce.dom.Selection\",{Selection:function(i,h,g){var f=this;f.dom=i;f.win=h;f.serializer=g;d([\"onBeforeSetContent\",\"onBeforeGetContent\",\"onSetContent\",\"onGetContent\"],function(j){f[j]=new c.util.Dispatcher(f)});if(!f.win.getSelection){f.tridentSel=new c.dom.TridentSelection(f)}if(c.isIE&&i.boxModel){this._fixIESelection()}c.addUnload(f.destroy,f)},setCursorLocation:function(h,i){var f=this;var g=f.dom.createRng();g.setStart(h,i);g.setEnd(h,i);f.setRng(g);f.collapse(false)},getContent:function(g){var f=this,h=f.getRng(),l=f.dom.create(\"body\"),j=f.getSel(),i,k,m;g=g||{};i=k=\"\";g.get=true;g.format=g.format||\"html\";g.forced_root_block=\"\";f.onBeforeGetContent.dispatch(f,g);if(g.format==\"text\"){return f.isCollapsed()?\"\":(h.text||(j.toString?j.toString():\"\"))}if(h.cloneContents){m=h.cloneContents();if(m){l.appendChild(m)}}else{if(b(h.item)||b(h.htmlText)){l.innerHTML=\"<br>\"+(h.item?h.item(0).outerHTML:h.htmlText);l.removeChild(l.firstChild)}else{l.innerHTML=h.toString()}}if(/^\\s/.test(l.innerHTML)){i=\" \"}if(/\\s+$/.test(l.innerHTML)){k=\" \"}g.getInner=true;g.content=f.isCollapsed()?\"\":i+f.serializer.serialize(l,g)+k;f.onGetContent.dispatch(f,g);return g.content},setContent:function(g,i){var n=this,f=n.getRng(),j,k=n.win.document,m,l;i=i||{format:\"html\"};i.set=true;g=i.content=g;if(!i.no_events){n.onBeforeSetContent.dispatch(n,i)}g=i.content;if(f.insertNode){g+='<span id=\"__caret\">_</span>';if(f.startContainer==k&&f.endContainer==k){k.body.innerHTML=g}else{f.deleteContents();if(k.body.childNodes.length==0){k.body.innerHTML=g}else{if(f.createContextualFragment){f.insertNode(f.createContextualFragment(g))}else{m=k.createDocumentFragment();l=k.createElement(\"div\");m.appendChild(l);l.outerHTML=g;f.insertNode(m)}}}j=n.dom.get(\"__caret\");f=k.createRange();f.setStartBefore(j);f.setEndBefore(j);n.setRng(f);n.dom.remove(\"__caret\");try{n.setRng(f)}catch(h){}}else{if(f.item){k.execCommand(\"Delete\",false,null);f=n.getRng()}if(/^\\s+/.test(g)){f.pasteHTML('<span id=\"__mce_tmp\">_</span>'+g);n.dom.remove(\"__mce_tmp\")}else{f.pasteHTML(g)}}if(!i.no_events){n.onSetContent.dispatch(n,i)}},getStart:function(){var g=this.getRng(),h,f,j,i;if(g.duplicate||g.item){if(g.item){return g.item(0)}j=g.duplicate();j.collapse(1);h=j.parentElement();f=i=g.parentElement();while(i=i.parentNode){if(i==h){h=f;break}}return h}else{h=g.startContainer;if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[Math.min(h.childNodes.length-1,g.startOffset)]}if(h&&h.nodeType==3){return h.parentNode}return h}},getEnd:function(){var g=this,h=g.getRng(),i,f;if(h.duplicate||h.item){if(h.item){return h.item(0)}h=h.duplicate();h.collapse(0);i=h.parentElement();if(i&&i.nodeName==\"BODY\"){return i.lastChild||i}return i}else{i=h.endContainer;f=h.endOffset;if(i.nodeType==1&&i.hasChildNodes()){i=i.childNodes[f>0?f-1:f]}if(i&&i.nodeType==3){return i.parentNode}return i}},getBookmark:function(r,s){var v=this,m=v.dom,g,j,i,n,h,o,p,l=\"\\uFEFF\",u;function f(x,y){var t=0;d(m.select(x),function(A,z){if(A==y){t=z}});return t}if(r==2){function k(){var x=v.getRng(true),t=m.getRoot(),y={};function z(C,H){var B=C[H?\"startContainer\":\"endContainer\"],G=C[H?\"startOffset\":\"endOffset\"],A=[],D,F,E=0;if(B.nodeType==3){if(s){for(D=B.previousSibling;D&&D.nodeType==3;D=D.previousSibling){G+=D.nodeValue.length}}A.push(G)}else{F=B.childNodes;if(G>=F.length&&F.length){E=1;G=Math.max(0,F.length-1)}A.push(v.dom.nodeIndex(F[G],s)+E)}for(;B&&B!=t;B=B.parentNode){A.push(v.dom.nodeIndex(B,s))}return A}y.start=z(x,true);if(!v.isCollapsed()){y.end=z(x)}return y}if(v.tridentSel){return v.tridentSel.getBookmark(r)}return k()}if(r){return{rng:v.getRng()}}g=v.getRng();i=m.uniqueId();n=tinyMCE.activeEditor.selection.isCollapsed();u=\"overflow:hidden;line-height:0px\";if(g.duplicate||g.item){if(!g.item){j=g.duplicate();try{g.collapse();g.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+i+'_start\" style=\"'+u+'\">'+l+\"</span>\");if(!n){j.collapse(false);g.moveToElementText(j.parentElement());if(g.compareEndPoints(\"StartToEnd\",j)==0){j.move(\"character\",-1)}j.pasteHTML('<span data-mce-type=\"bookmark\" id=\"'+i+'_end\" style=\"'+u+'\">'+l+\"</span>\")}}catch(q){return null}}else{o=g.item(0);h=o.nodeName;return{name:h,index:f(h,o)}}}else{o=v.getNode();h=o.nodeName;if(h==\"IMG\"){return{name:h,index:f(h,o)}}j=g.cloneRange();if(!n){j.collapse(false);j.insertNode(m.create(\"span\",{\"data-mce-type\":\"bookmark\",id:i+\"_end\",style:u},l))}g.collapse(true);g.insertNode(m.create(\"span\",{\"data-mce-type\":\"bookmark\",id:i+\"_start\",style:u},l))}v.moveToBookmark({id:i,keep:1});return{id:i}},moveToBookmark:function(n){var r=this,l=r.dom,i,h,f,q,j,s,o,p;if(n){if(n.start){f=l.createRng();q=l.getRoot();function g(z){var t=n[z?\"start\":\"end\"],v,x,y,u;if(t){y=t[0];for(x=q,v=t.length-1;v>=1;v--){u=x.childNodes;if(t[v]>u.length-1){return}x=u[t[v]]}if(x.nodeType===3){y=Math.min(t[0],x.nodeValue.length)}if(x.nodeType===1){y=Math.min(t[0],x.childNodes.length)}if(z){f.setStart(x,y)}else{f.setEnd(x,y)}}return true}if(r.tridentSel){return r.tridentSel.moveToBookmark(n)}if(g(true)&&g()){r.setRng(f)}}else{if(n.id){function k(A){var u=l.get(n.id+\"_\"+A),z,t,x,y,v=n.keep;if(u){z=u.parentNode;if(A==\"start\"){if(!v){t=l.nodeIndex(u)}else{z=u.firstChild;t=1}j=s=z;o=p=t}else{if(!v){t=l.nodeIndex(u)}else{z=u.firstChild;t=1}s=z;p=t}if(!v){y=u.previousSibling;x=u.nextSibling;d(c.grep(u.childNodes),function(B){if(B.nodeType==3){B.nodeValue=B.nodeValue.replace(/\\uFEFF/g,\"\")}});while(u=l.get(n.id+\"_\"+A)){l.remove(u,1)}if(y&&x&&y.nodeType==x.nodeType&&y.nodeType==3&&!c.isOpera){t=y.nodeValue.length;y.appendData(x.nodeValue);l.remove(x);if(A==\"start\"){j=s=y;o=p=t}else{s=y;p=t}}}}}function m(t){if(l.isBlock(t)&&!t.innerHTML){t.innerHTML=!a?'<br data-mce-bogus=\"1\" />':\" \"}return t}k(\"start\");k(\"end\");if(j){f=l.createRng();f.setStart(m(j),o);f.setEnd(m(s),p);r.setRng(f)}}else{if(n.name){r.select(l.select(n.name)[n.index])}else{if(n.rng){r.setRng(n.rng)}}}}}},select:function(k,j){var i=this,l=i.dom,g=l.createRng(),f;if(k){f=l.nodeIndex(k);g.setStart(k.parentNode,f);g.setEnd(k.parentNode,f+1);if(j){function h(m,o){var n=new c.dom.TreeWalker(m,m);do{if(m.nodeType==3&&c.trim(m.nodeValue).length!=0){if(o){g.setStart(m,0)}else{g.setEnd(m,m.nodeValue.length)}return}if(m.nodeName==\"BR\"){if(o){g.setStartBefore(m)}else{g.setEndBefore(m)}return}}while(m=(o?n.next():n.prev()))}h(k,1);h(k)}i.setRng(g)}return k},isCollapsed:function(){var f=this,h=f.getRng(),g=f.getSel();if(!h||h.item){return false}if(h.compareEndPoints){return h.compareEndPoints(\"StartToEnd\",h)===0}return !g||h.collapsed},collapse:function(f){var h=this,g=h.getRng(),i;if(g.item){i=g.item(0);g=h.win.document.body.createTextRange();g.moveToElementText(i)}g.collapse(!!f);h.setRng(g)},getSel:function(){var g=this,f=this.win;return f.getSelection?f.getSelection():f.document.selection},getRng:function(l){var g=this,h,i,k,j=g.win.document;if(l&&g.tridentSel){return g.tridentSel.getRangeAt(0)}try{if(h=g.getSel()){i=h.rangeCount>0?h.getRangeAt(0):(h.createRange?h.createRange():j.createRange())}}catch(f){}if(c.isIE&&i&&i.setStart&&j.selection.createRange().item){k=j.selection.createRange().item(0);i=j.createRange();i.setStartBefore(k);i.setEndAfter(k)}if(!i){i=j.createRange?j.createRange():j.body.createTextRange()}if(g.selectedRange&&g.explicitRange){if(i.compareBoundaryPoints(i.START_TO_START,g.selectedRange)===0&&i.compareBoundaryPoints(i.END_TO_END,g.selectedRange)===0){i=g.explicitRange}else{g.selectedRange=null;g.explicitRange=null}}return i},setRng:function(i){var h,g=this;if(!g.tridentSel){h=g.getSel();if(h){g.explicitRange=i;try{h.removeAllRanges()}catch(f){}h.addRange(i);g.selectedRange=h.getRangeAt(0)}}else{if(i.cloneRange){g.tridentSel.addRange(i);return}try{i.select()}catch(f){}}},setNode:function(g){var f=this;f.setContent(f.dom.getOuterHTML(g));return g},getNode:function(){var h=this,g=h.getRng(),i=h.getSel(),l,k=g.startContainer,f=g.endContainer;if(!g){return h.dom.getRoot()}if(g.setStart){l=g.commonAncestorContainer;if(!g.collapsed){if(g.startContainer==g.endContainer){if(g.endOffset-g.startOffset<2){if(g.startContainer.hasChildNodes()){l=g.startContainer.childNodes[g.startOffset]}}}if(k.nodeType===3&&f.nodeType===3){function j(p,m){var o=p;while(p&&p.nodeType===3&&p.length===0){p=m?p.nextSibling:p.previousSibling}return p||o}if(k.length===g.startOffset){k=j(k.nextSibling,true)}else{k=k.parentNode}if(g.endOffset===0){f=j(f.previousSibling,false)}else{f=f.parentNode}if(k&&k===f){return k}}}if(l&&l.nodeType==3){return l.parentNode}return l}return g.item?g.item(0):g.parentElement()},getSelectedBlocks:function(g,f){var i=this,j=i.dom,m,h,l,k=[];m=j.getParent(g||i.getStart(),j.isBlock);h=j.getParent(f||i.getEnd(),j.isBlock);if(m){k.push(m)}if(m&&h&&m!=h){l=m;while((l=l.nextSibling)&&l!=h){if(j.isBlock(l)){k.push(l)}}}if(h&&m!=h){k.push(h)}return k},normalize:function(){var g=this,f,i;if(c.isIE){return}function h(p){var k,o,n,m=g.dom,j=m.getRoot(),l;k=f[(p?\"start\":\"end\")+\"Container\"];o=f[(p?\"start\":\"end\")+\"Offset\"];if(k.nodeType===9){k=k.body;o=0}if(k===j){if(k.hasChildNodes()){k=k.childNodes[Math.min(!p&&o>0?o-1:o,k.childNodes.length-1)];o=0;if(k.hasChildNodes()){l=k;n=new c.dom.TreeWalker(k,j);do{if(l.nodeType===3){o=p?0:l.nodeValue.length-1;k=l;break}if(l.nodeName===\"BR\"){o=m.nodeIndex(l);k=l.parentNode;break}}while(l=(p?n.next():n.prev()));i=true}}}if(i){f[\"set\"+(p?\"Start\":\"End\")](k,o)}}f=g.getRng();h(true);if(f.collapsed){h()}if(i){g.setRng(f)}},destroy:function(g){var f=this;f.win=null;if(!g){c.removeUnload(f.destroy)}},_fixIESelection:function(){var g=this.dom,m=g.doc,h=m.body,j,n,f;m.documentElement.unselectable=true;function i(o,r){var p=h.createTextRange();try{p.moveToPoint(o,r)}catch(q){p=null}return p}function l(p){var o;if(p.button){o=i(p.x,p.y);if(o){if(o.compareEndPoints(\"StartToStart\",n)>0){o.setEndPoint(\"StartToStart\",n)}else{o.setEndPoint(\"EndToEnd\",n)}o.select()}}else{k()}}function k(){var o=m.selection.createRange();if(n&&!o.item&&o.compareEndPoints(\"StartToEnd\",o)===0){n.select()}g.unbind(m,\"mouseup\",k);g.unbind(m,\"mousemove\",l);n=j=0}g.bind(m,[\"mousedown\",\"contextmenu\"],function(o){if(o.target.nodeName===\"HTML\"){if(j){k()}f=m.documentElement;if(f.scrollHeight>f.clientHeight){return}j=1;n=i(o.x,o.y);if(n){g.bind(m,\"mouseup\",k);g.bind(m,\"mousemove\",l);g.win.focus();n.select()}}})}})})(tinymce);(function(a){a.dom.Serializer=function(e,i,f){var h,b,d=a.isIE,g=a.each,c;if(!e.apply_source_formatting){e.indent=false}e.remove_trailing_brs=true;i=i||a.DOM;f=f||new a.html.Schema(e);e.entity_encoding=e.entity_encoding||\"named\";h=new a.util.Dispatcher(self);b=new a.util.Dispatcher(self);c=new a.html.DomParser(e,f);c.addAttributeFilter(\"src,href,style\",function(k,j){var o=k.length,l,q,n=\"data-mce-\"+j,p=e.url_converter,r=e.url_converter_scope,m;while(o--){l=k[o];q=l.attributes.map[n];if(q!==m){l.attr(j,q.length>0?q:null);l.attr(n,null)}else{q=l.attributes.map[j];if(j===\"style\"){q=i.serializeStyle(i.parseStyle(q),l.name)}else{if(p){q=p.call(r,q,j,l.name)}}l.attr(j,q.length>0?q:null)}}});c.addAttributeFilter(\"class\",function(j,k){var l=j.length,m,n;while(l--){m=j[l];n=m.attr(\"class\").replace(/\\s*mce(Item\\w+|Selected)\\s*/g,\"\");m.attr(\"class\",n.length>0?n:null)}});c.addAttributeFilter(\"data-mce-type\",function(j,l,k){var m=j.length,n;while(m--){n=j[m];if(n.attributes.map[\"data-mce-type\"]===\"bookmark\"&&!k.cleanup){n.remove()}}});c.addNodeFilter(\"script,style\",function(k,l){var m=k.length,n,o;function j(p){return p.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,\"\\n\").replace(/^[\\r\\n]*|[\\r\\n]*$/g,\"\").replace(/^\\s*(\\/\\/\\s*<!--|\\/\\/\\s*<!\\[CDATA\\[|<!--|<!\\[CDATA\\[)[\\r\\n]*/g,\"\").replace(/\\s*(\\/\\/\\s*\\]\\]>|\\/\\/\\s*-->|\\]\\]>|-->|\\]\\]-->)\\s*$/g,\"\")}while(m--){n=k[m];o=n.firstChild?n.firstChild.value:\"\";if(l===\"script\"){n.attr(\"type\",(n.attr(\"type\")||\"text/javascript\").replace(/^mce\\-/,\"\"));if(o.length>0){n.firstChild.value=\"// <![CDATA[\\n\"+j(o)+\"\\n// ]]>\"}}else{if(o.length>0){n.firstChild.value=\"<!--\\n\"+j(o)+\"\\n-->\"}}}});c.addNodeFilter(\"#comment\",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.value.indexOf(\"[CDATA[\")===0){m.name=\"#cdata\";m.type=4;m.value=m.value.replace(/^\\[CDATA\\[|\\]\\]$/g,\"\")}else{if(m.value.indexOf(\"mce:protected \")===0){m.name=\"#text\";m.type=3;m.raw=true;m.value=unescape(m.value).substr(14)}}}});c.addNodeFilter(\"xml:namespace,input\",function(j,k){var l=j.length,m;while(l--){m=j[l];if(m.type===7){m.remove()}else{if(m.type===1){if(k===\"input\"&&!(\"type\" in m.attributes.map)){m.attr(\"type\",\"text\")}}}}});if(e.fix_list_elements){c.addNodeFilter(\"ul,ol\",function(k,l){var m=k.length,n,j;while(m--){n=k[m];j=n.parent;if(j.name===\"ul\"||j.name===\"ol\"){if(n.prev&&n.prev.name===\"li\"){n.prev.append(n)}}}})}c.addAttributeFilter(\"data-mce-src,data-mce-href,data-mce-style\",function(j,k){var l=j.length;while(l--){j[l].attr(k,null)}});return{schema:f,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,onPreProcess:h,onPostProcess:b,serialize:function(o,m){var l,p,k,j,n;if(d&&i.select(\"script,style,select,map\").length>0){n=o.innerHTML;o=o.cloneNode(false);i.setHTML(o,n)}else{o=o.cloneNode(true)}l=o.ownerDocument.implementation;if(l.createHTMLDocument){p=l.createHTMLDocument(\"\");g(o.nodeName==\"BODY\"?o.childNodes:[o],function(q){p.body.appendChild(p.importNode(q,true))});if(o.nodeName!=\"BODY\"){o=p.body.firstChild}else{o=p.body}k=i.doc;i.doc=p}m=m||{};m.format=m.format||\"html\";if(!m.no_events){m.node=o;h.dispatch(self,m)}j=new a.html.Serializer(e,f);m.content=j.serialize(c.parse(m.getInner?o.innerHTML:a.trim(i.getOuterHTML(o),m),m));if(!m.cleanup){m.content=m.content.replace(/\\uFEFF/g,\"\")}if(!m.no_events){b.dispatch(self,m)}if(k){i.doc=k}m.node=null;return m.content},addRules:function(j){f.addValidElements(j)},setRules:function(j){f.setValidElements(j)}}}})(tinymce);(function(a){a.dom.ScriptLoader=function(h){var c=0,k=1,i=2,l={},j=[],f={},d=[],g=0,e;function b(m,v){var x=this,q=a.DOM,s,o,r,n;function p(){q.remove(n);if(s){s.onreadystatechange=s.onload=s=null}v()}function u(){if(typeof(console)!==\"undefined\"&&console.log){console.log(\"Failed to load: \"+m)}}n=q.uniqueId();if(a.isIE6){o=new a.util.URI(m);r=location;if(o.host==r.hostname&&o.port==r.port&&(o.protocol+\":\")==r.protocol&&o.protocol.toLowerCase()!=\"file\"){a.util.XHR.send({url:a._addVer(o.getURI()),success:function(y){var t=q.create(\"script\",{type:\"text/javascript\"});t.text=y;document.getElementsByTagName(\"head\")[0].appendChild(t);q.remove(t);p()},error:u});return}}s=q.create(\"script\",{id:n,type:\"text/javascript\",src:a._addVer(m)});if(!a.isIE){s.onload=p}s.onerror=u;if(!a.isOpera){s.onreadystatechange=function(){var t=s.readyState;if(t==\"complete\"||t==\"loaded\"){p()}}}(document.getElementsByTagName(\"head\")[0]||document.body).appendChild(s)}this.isDone=function(m){return l[m]==i};this.markDone=function(m){l[m]=i};this.add=this.load=function(m,q,n){var o,p=l[m];if(p==e){j.push(m);l[m]=c}if(q){if(!f[m]){f[m]=[]}f[m].push({func:q,scope:n||this})}};this.loadQueue=function(n,m){this.loadScripts(j,n,m)};this.loadScripts=function(m,q,p){var o;function n(r){a.each(f[r],function(s){s.func.call(s.scope)});f[r]=e}d.push({func:q,scope:p||this});o=function(){var r=a.grep(m);m.length=0;a.each(r,function(s){if(l[s]==i){n(s);return}if(l[s]!=k){l[s]=k;g++;b(s,function(){l[s]=i;g--;n(s);o()})}});if(!g){a.each(d,function(s){s.func.call(s.scope)});d.length=0}};o()}};a.ScriptLoader=new a.dom.ScriptLoader()})(tinymce);tinymce.dom.TreeWalker=function(a,c){var b=a;function d(i,f,e,j){var h,g;if(i){if(!j&&i[f]){return i[f]}if(i!=c){h=i[e];if(h){return h}for(g=i.parentNode;g&&g!=c;g=g.parentNode){h=g[e];if(h){return h}}}}}this.current=function(){return b};this.next=function(e){return(b=d(b,\"firstChild\",\"nextSibling\",e))};this.prev=function(e){return(b=d(b,\"lastChild\",\"previousSibling\",e))}};(function(a){a.dom.RangeUtils=function(c){var b=\"\\uFEFF\";this.walk=function(d,r){var h=d.startContainer,k=d.startOffset,s=d.endContainer,l=d.endOffset,i,f,n,g,q,p,e;e=c.select(\"td.mceSelected,th.mceSelected\");if(e.length>0){a.each(e,function(t){r([t])});return}function o(v,u,t){var x=[];for(;v&&v!=t;v=v[u]){x.push(v)}return x}function m(u,t){do{if(u.parentNode==t){return u}u=u.parentNode}while(u)}function j(v,u,x){var t=x?\"nextSibling\":\"previousSibling\";for(g=v,q=g.parentNode;g&&g!=u;g=q){q=g.parentNode;p=o(g==v?g:g[t],t);if(p.length){if(!x){p.reverse()}r(p)}}}if(h.nodeType==1&&h.hasChildNodes()){h=h.childNodes[k]}if(s.nodeType==1&&s.hasChildNodes()){s=s.childNodes[Math.min(l-1,s.childNodes.length-1)]}i=c.findCommonAncestor(h,s);if(h==s){return r([h])}for(g=h;g;g=g.parentNode){if(g==s){return j(h,i,true)}if(g==i){break}}for(g=s;g;g=g.parentNode){if(g==h){return j(s,i)}if(g==i){break}}f=m(h,i)||h;n=m(s,i)||s;j(h,f,true);p=o(f==h?f:f.nextSibling,\"nextSibling\",n==s?n.nextSibling:n);if(p.length){r(p)}j(s,n)}};a.dom.RangeUtils.compareRanges=function(c,b){if(c&&b){if(c.item||c.duplicate){if(c.item&&b.item&&c.item(0)===b.item(0)){return true}if(c.isEqual&&b.isEqual&&b.isEqual(c)){return true}}else{return c.startContainer==b.startContainer&&c.startOffset==b.startOffset}}return false}})(tinymce);(function(b){var a=b.dom.Event,c=b.each;b.create(\"tinymce.ui.KeyboardNavigation\",{KeyboardNavigation:function(e,f){var p=this,m=e.root,l=e.items,n=e.enableUpDown,i=e.enableLeftRight||!e.enableUpDown,k=e.excludeFromTabOrder,j,h,o,d,g;f=f||b.DOM;j=function(q){g=q.target.id};h=function(q){f.setAttrib(q.target.id,\"tabindex\",\"-1\")};d=function(q){var r=f.get(g);f.setAttrib(r,\"tabindex\",\"0\");r.focus()};p.focus=function(){f.get(g).focus()};p.destroy=function(){c(l,function(q){f.unbind(f.get(q.id),\"focus\",j);f.unbind(f.get(q.id),\"blur\",h)});f.unbind(f.get(m),\"focus\",d);f.unbind(f.get(m),\"keydown\",o);l=f=m=p.focus=j=h=o=d=null;p.destroy=function(){}};p.moveFocus=function(u,r){var q=-1,t=p.controls,s;if(!g){return}c(l,function(x,v){if(x.id===g){q=v;return false}});q+=u;if(q<0){q=l.length-1}else{if(q>=l.length){q=0}}s=l[q];f.setAttrib(g,\"tabindex\",\"-1\");f.setAttrib(s.id,\"tabindex\",\"0\");f.get(s.id).focus();if(e.actOnFocus){e.onAction(s.id)}if(r){a.cancel(r)}};o=function(y){var u=37,t=39,x=38,z=40,q=27,s=14,r=13,v=32;switch(y.keyCode){case u:if(i){p.moveFocus(-1)}break;case t:if(i){p.moveFocus(1)}break;case x:if(n){p.moveFocus(-1)}break;case z:if(n){p.moveFocus(1)}break;case q:if(e.onCancel){e.onCancel();a.cancel(y)}break;case s:case r:case v:if(e.onAction){e.onAction(g);a.cancel(y)}break}};c(l,function(s,q){var r;if(!s.id){s.id=f.uniqueId(\"_mce_item_\")}if(k){f.bind(s.id,\"blur\",h);r=\"-1\"}else{r=(q===0?\"0\":\"-1\")}f.setAttrib(s.id,\"tabindex\",r);f.bind(f.get(s.id),\"focus\",j)});if(l[0]){g=l[0].id}f.setAttrib(m,\"tabindex\",\"-1\");f.bind(f.get(m),\"focus\",d);f.bind(f.get(m),\"keydown\",o)}})})(tinymce);(function(c){var b=c.DOM,a=c.is;c.create(\"tinymce.ui.Control\",{Control:function(f,e,d){this.id=f;this.settings=e=e||{};this.rendered=false;this.onRender=new c.util.Dispatcher(this);this.classPrefix=\"\";this.scope=e.scope||this;this.disabled=0;this.active=0;this.editor=d},setAriaProperty:function(f,e){var d=b.get(this.id+\"_aria\")||b.get(this.id);if(d){b.setAttrib(d,\"aria-\"+f,!!e)}},focus:function(){b.get(this.id).focus()},setDisabled:function(d){if(d!=this.disabled){this.setAriaProperty(\"disabled\",d);this.setState(\"Disabled\",d);this.setState(\"Enabled\",!d);this.disabled=d}},isDisabled:function(){return this.disabled},setActive:function(d){if(d!=this.active){this.setState(\"Active\",d);this.active=d;this.setAriaProperty(\"pressed\",d)}},isActive:function(){return this.active},setState:function(f,d){var e=b.get(this.id);f=this.classPrefix+f;if(d){b.addClass(e,f)}else{b.removeClass(e,f)}},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(d){b.setHTML(d,this.renderHTML())},postRender:function(){var e=this,d;if(a(e.disabled)){d=e.disabled;e.disabled=-1;e.setDisabled(d)}if(a(e.active)){d=e.active;e.active=-1;e.setActive(d)}},remove:function(){b.remove(this.id);this.destroy()},destroy:function(){c.dom.Event.clear(this.id)}})})(tinymce);tinymce.create(\"tinymce.ui.Container:tinymce.ui.Control\",{Container:function(c,b,a){this.parent(c,b,a);this.controls=[];this.lookup={}},add:function(a){this.lookup[a.id]=a;this.controls.push(a);return a},get:function(a){return this.lookup[a]}});tinymce.create(\"tinymce.ui.Separator:tinymce.ui.Control\",{Separator:function(b,a){this.parent(b,a);this.classPrefix=\"mceSeparator\";this.setDisabled(true)},renderHTML:function(){return tinymce.DOM.createHTML(\"span\",{\"class\":this.classPrefix,role:\"separator\",\"aria-orientation\":\"vertical\",tabindex:\"-1\"})}});(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create(\"tinymce.ui.MenuItem:tinymce.ui.Control\",{MenuItem:function(g,f){this.parent(g,f);this.classPrefix=\"mceMenuItem\"},setSelected:function(f){this.setState(\"Selected\",f);this.setAriaProperty(\"checked\",!!f);this.selected=f},isSelected:function(){return this.selected},postRender:function(){var f=this;f.parent();if(c(f.selected)){f.setSelected(f.selected)}}})})(tinymce);(function(d){var c=d.is,b=d.DOM,e=d.each,a=d.walk;d.create(\"tinymce.ui.Menu:tinymce.ui.MenuItem\",{Menu:function(h,g){var f=this;f.parent(h,g);f.items={};f.collapsed=false;f.menuCount=0;f.onAddItem=new d.util.Dispatcher(this)},expand:function(g){var f=this;if(g){a(f,function(h){if(h.expand){h.expand()}},\"items\",f)}f.collapsed=false},collapse:function(g){var f=this;if(g){a(f,function(h){if(h.collapse){h.collapse()}},\"items\",f)}f.collapsed=true},isCollapsed:function(){return this.collapsed},add:function(f){if(!f.settings){f=new d.ui.MenuItem(f.id||b.uniqueId(),f)}this.onAddItem.dispatch(this,f);return this.items[f.id]=f},addSeparator:function(){return this.add({separator:true})},addMenu:function(f){if(!f.collapse){f=this.createMenu(f)}this.menuCount++;return this.add(f)},hasMenus:function(){return this.menuCount!==0},remove:function(f){delete this.items[f.id]},removeAll:function(){var f=this;a(f,function(g){if(g.removeAll){g.removeAll()}else{g.remove()}g.destroy()},\"items\",f);f.items={}},createMenu:function(g){var f=new d.ui.Menu(g.id||b.uniqueId(),g);f.onAddItem.add(this.onAddItem.dispatch,this.onAddItem);return f}})})(tinymce);(function(e){var d=e.is,c=e.DOM,f=e.each,a=e.dom.Event,b=e.dom.Element;e.create(\"tinymce.ui.DropMenu:tinymce.ui.Menu\",{DropMenu:function(h,g){g=g||{};g.container=g.container||c.doc.body;g.offset_x=g.offset_x||0;g.offset_y=g.offset_y||0;g.vp_offset_x=g.vp_offset_x||0;g.vp_offset_y=g.vp_offset_y||0;if(d(g.icons)&&!g.icons){g[\"class\"]+=\" mceNoIcons\"}this.parent(h,g);this.onShowMenu=new e.util.Dispatcher(this);this.onHideMenu=new e.util.Dispatcher(this);this.classPrefix=\"mceMenu\"},createMenu:function(j){var h=this,i=h.settings,g;j.container=j.container||i.container;j.parent=h;j.constrain=j.constrain||i.constrain;j[\"class\"]=j[\"class\"]||i[\"class\"];j.vp_offset_x=j.vp_offset_x||i.vp_offset_x;j.vp_offset_y=j.vp_offset_y||i.vp_offset_y;j.keyboard_focus=i.keyboard_focus;g=new e.ui.DropMenu(j.id||c.uniqueId(),j);g.onAddItem.add(h.onAddItem.dispatch,h.onAddItem);return g},focus:function(){var g=this;if(g.keyboardNav){g.keyboardNav.focus()}},update:function(){var i=this,j=i.settings,g=c.get(\"menu_\"+i.id+\"_tbl\"),l=c.get(\"menu_\"+i.id+\"_co\"),h,k;h=j.max_width?Math.min(g.clientWidth,j.max_width):g.clientWidth;k=j.max_height?Math.min(g.clientHeight,j.max_height):g.clientHeight;if(!c.boxModel){i.element.setStyles({width:h+2,height:k+2})}else{i.element.setStyles({width:h,height:k})}if(j.max_width){c.setStyle(l,\"width\",h)}if(j.max_height){c.setStyle(l,\"height\",k);if(g.clientHeight<j.max_height){c.setStyle(l,\"overflow\",\"hidden\")}}},showMenu:function(p,n,r){var z=this,A=z.settings,o,g=c.getViewPort(),u,l,v,q,i=2,k,j,m=z.classPrefix;z.collapse(1);if(z.isMenuVisible){return}if(!z.rendered){o=c.add(z.settings.container,z.renderNode());f(z.items,function(h){h.postRender()});z.element=new b(\"menu_\"+z.id,{blocker:1,container:A.container})}else{o=c.get(\"menu_\"+z.id)}if(!e.isOpera){c.setStyles(o,{left:-65535,top:-65535})}c.show(o);z.update();p+=A.offset_x||0;n+=A.offset_y||0;g.w-=4;g.h-=4;if(A.constrain){u=o.clientWidth-i;l=o.clientHeight-i;v=g.x+g.w;q=g.y+g.h;if((p+A.vp_offset_x+u)>v){p=r?r-u:Math.max(0,(v-A.vp_offset_x)-u)}if((n+A.vp_offset_y+l)>q){n=Math.max(0,(q-A.vp_offset_y)-l)}}c.setStyles(o,{left:p,top:n});z.element.update();z.isMenuVisible=1;z.mouseClickFunc=a.add(o,\"click\",function(s){var h;s=s.target;if(s&&(s=c.getParent(s,\"tr\"))&&!c.hasClass(s,m+\"ItemSub\")){h=z.items[s.id];if(h.isDisabled()){return}k=z;while(k){if(k.hideMenu){k.hideMenu()}k=k.settings.parent}if(h.settings.onclick){h.settings.onclick(s)}return a.cancel(s)}});if(z.hasMenus()){z.mouseOverFunc=a.add(o,\"mouseover\",function(x){var h,t,s;x=x.target;if(x&&(x=c.getParent(x,\"tr\"))){h=z.items[x.id];if(z.lastMenu){z.lastMenu.collapse(1)}if(h.isDisabled()){return}if(x&&c.hasClass(x,m+\"ItemSub\")){t=c.getRect(x);h.showMenu((t.x+t.w-i),t.y-i,t.x);z.lastMenu=h;c.addClass(c.get(h.id).firstChild,m+\"ItemActive\")}}})}a.add(o,\"keydown\",z._keyHandler,z);z.onShowMenu.dispatch(z);if(A.keyboard_focus){z._setupKeyboardNav()}},hideMenu:function(j){var g=this,i=c.get(\"menu_\"+g.id),h;if(!g.isMenuVisible){return}if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(i,\"mouseover\",g.mouseOverFunc);a.remove(i,\"click\",g.mouseClickFunc);a.remove(i,\"keydown\",g._keyHandler);c.hide(i);g.isMenuVisible=0;if(!j){g.collapse(1)}if(g.element){g.element.hide()}if(h=c.get(g.id)){c.removeClass(h.firstChild,g.classPrefix+\"ItemActive\")}g.onHideMenu.dispatch(g)},add:function(i){var g=this,h;i=g.parent(i);if(g.isRendered&&(h=c.get(\"menu_\"+g.id))){g._add(c.select(\"tbody\",h)[0],i)}return i},collapse:function(g){this.parent(g);this.hideMenu(1)},remove:function(g){c.remove(g.id);this.destroy();return this.parent(g)},destroy:function(){var g=this,h=c.get(\"menu_\"+g.id);if(g.keyboardNav){g.keyboardNav.destroy()}a.remove(h,\"mouseover\",g.mouseOverFunc);a.remove(c.select(\"a\",h),\"focus\",g.mouseOverFunc);a.remove(h,\"click\",g.mouseClickFunc);a.remove(h,\"keydown\",g._keyHandler);if(g.element){g.element.remove()}c.remove(h)},renderNode:function(){var i=this,j=i.settings,l,h,k,g;g=c.create(\"div\",{role:\"listbox\",id:\"menu_\"+i.id,\"class\":j[\"class\"],style:\"position:absolute;left:0;top:0;z-index:200000;outline:0\"});if(i.settings.parent){c.setAttrib(g,\"aria-parent\",\"menu_\"+i.settings.parent.id)}k=c.add(g,\"div\",{role:\"presentation\",id:\"menu_\"+i.id+\"_co\",\"class\":i.classPrefix+(j[\"class\"]?\" \"+j[\"class\"]:\"\")});i.element=new b(\"menu_\"+i.id,{blocker:1,container:j.container});if(j.menu_line){c.add(k,\"span\",{\"class\":i.classPrefix+\"Line\"})}l=c.add(k,\"table\",{role:\"presentation\",id:\"menu_\"+i.id+\"_tbl\",border:0,cellPadding:0,cellSpacing:0});h=c.add(l,\"tbody\");f(i.items,function(m){i._add(h,m)});i.rendered=true;return g},_setupKeyboardNav:function(){var i,h,g=this;i=c.select(\"#menu_\"+g.id)[0];h=c.select(\"a[role=option]\",\"menu_\"+g.id);h.splice(0,0,i);g.keyboardNav=new e.ui.KeyboardNavigation({root:\"menu_\"+g.id,items:h,onCancel:function(){g.hideMenu()},enableUpDown:true});i.focus()},_keyHandler:function(g){var h=this,i;switch(g.keyCode){case 37:if(h.settings.parent){h.hideMenu();h.settings.parent.focus();a.cancel(g)}break;case 39:if(h.mouseOverFunc){h.mouseOverFunc(g)}break}},_add:function(j,h){var i,q=h.settings,p,l,k,m=this.classPrefix,g;if(q.separator){l=c.add(j,\"tr\",{id:h.id,\"class\":m+\"ItemSeparator\"});c.add(l,\"td\",{\"class\":m+\"ItemSeparator\"});if(i=l.previousSibling){c.addClass(i,\"mceLast\")}return}i=l=c.add(j,\"tr\",{id:h.id,\"class\":m+\"Item \"+m+\"ItemEnabled\"});i=k=c.add(i,q.titleItem?\"th\":\"td\");i=p=c.add(i,\"a\",{id:h.id+\"_aria\",role:q.titleItem?\"presentation\":\"option\",href:\"javascript:;\",onclick:\"return false;\",onmousedown:\"return false;\"});if(q.parent){c.setAttrib(p,\"aria-haspopup\",\"true\");c.setAttrib(p,\"aria-owns\",\"menu_\"+h.id)}c.addClass(k,q[\"class\"]);g=c.add(i,\"span\",{\"class\":\"mceIcon\"+(q.icon?\" mce_\"+q.icon:\"\")});if(q.icon_src){c.add(g,\"img\",{src:q.icon_src})}i=c.add(i,q.element||\"span\",{\"class\":\"mceText\",title:h.settings.title},h.settings.title);if(h.settings.style){c.setAttrib(i,\"style\",h.settings.style)}if(j.childNodes.length==1){c.addClass(l,\"mceFirst\")}if((i=l.previousSibling)&&c.hasClass(i,m+\"ItemSeparator\")){c.addClass(l,\"mceFirst\")}if(h.collapse){c.addClass(l,m+\"ItemSub\")}if(i=l.previousSibling){c.removeClass(i,\"mceLast\")}c.addClass(l,\"mceLast\")}})})(tinymce);(function(b){var a=b.DOM;b.create(\"tinymce.ui.Button:tinymce.ui.Control\",{Button:function(e,d,c){this.parent(e,d,c);this.classPrefix=\"mceButton\"},renderHTML:function(){var f=this.classPrefix,e=this.settings,d,c;c=a.encode(e.label||\"\");d='<a role=\"button\" id=\"'+this.id+'\" href=\"javascript:;\" class=\"'+f+\" \"+f+\"Enabled \"+e[\"class\"]+(c?\" \"+f+\"Labeled\":\"\")+'\" onmousedown=\"return false;\" onclick=\"return false;\" aria-labelledby=\"'+this.id+'_voice\" title=\"'+a.encode(e.title)+'\">';if(e.image&&!(this.editor&&this.editor.forcedHighContrastMode)){d+='<img class=\"mceIcon\" src=\"'+e.image+'\" alt=\"'+a.encode(e.title)+'\" />'+c}else{d+='<span class=\"mceIcon '+e[\"class\"]+'\"></span>'+(c?'<span class=\"'+f+'Label\">'+c+\"</span>\":\"\")}d+='<span class=\"mceVoiceLabel mceIconOnly\" style=\"display: none;\" id=\"'+this.id+'_voice\">'+e.title+\"</span>\";d+=\"</a>\";return d},postRender:function(){var c=this,d=c.settings;b.dom.Event.add(c.id,\"click\",function(f){if(!c.isDisabled()){return d.onclick.call(d.scope,f)}})}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create(\"tinymce.ui.ListBox:tinymce.ui.Control\",{ListBox:function(i,h,f){var g=this;g.parent(i,h,f);g.items=[];g.onChange=new a(g);g.onPostRender=new a(g);g.onAdd=new a(g);g.onRenderMenu=new d.util.Dispatcher(this);g.classPrefix=\"mceListBox\"},select:function(h){var g=this,j,i;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){i=h}else{i=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(k,f){if(i(k.value)){j=1;g.selectByIndex(f);return false}});if(!j){g.selectByIndex(-1)}}},selectByIndex:function(f){var h=this,i,j,g;if(f!=h.selectedIndex){i=c.get(h.id+\"_text\");g=c.get(h.id+\"_voiceDesc\");j=h.items[f];if(j){h.selectedValue=j.value;h.selectedIndex=f;c.setHTML(i,c.encode(j.title));c.setHTML(g,h.settings.title+\" - \"+j.title);c.removeClass(i,\"mceTitle\");c.setAttrib(h.id,\"aria-valuenow\",j.title)}else{c.setHTML(i,c.encode(h.settings.title));c.setHTML(g,c.encode(h.settings.title));c.addClass(i,\"mceTitle\");h.selectedValue=h.selectedIndex=null;c.setAttrib(h.id,\"aria-valuenow\",h.settings.title)}i=0}},add:function(i,f,h){var g=this;h=h||{};h=d.extend(h,{title:i,value:f});g.items.push(h);g.onAdd.dispatch(g,h)},getLength:function(){return this.items.length},renderHTML:function(){var i=\"\",f=this,g=f.settings,j=f.classPrefix;i='<span role=\"listbox\" aria-haspopup=\"true\" aria-labelledby=\"'+f.id+'_voiceDesc\" aria-describedby=\"'+f.id+'_voiceDesc\"><table role=\"presentation\" tabindex=\"0\" id=\"'+f.id+'\" cellpadding=\"0\" cellspacing=\"0\" class=\"'+j+\" \"+j+\"Enabled\"+(g[\"class\"]?(\" \"+g[\"class\"]):\"\")+'\"><tbody><tr>';i+=\"<td>\"+c.createHTML(\"span\",{id:f.id+\"_voiceDesc\",\"class\":\"voiceLabel\",style:\"display:none;\"},f.settings.title);i+=c.createHTML(\"a\",{id:f.id+\"_text\",tabindex:-1,href:\"javascript:;\",\"class\":\"mceText\",onclick:\"return false;\",onmousedown:\"return false;\"},c.encode(f.settings.title))+\"</td>\";i+=\"<td>\"+c.createHTML(\"a\",{id:f.id+\"_open\",tabindex:-1,href:\"javascript:;\",\"class\":\"mceOpen\",onclick:\"return false;\",onmousedown:\"return false;\"},'<span><span style=\"display:none;\" class=\"mceIconOnly\" aria-hidden=\"true\">\\u25BC</span></span>')+\"</td>\";i+=\"</tr></tbody></table></span>\";return i},showMenu:function(){var g=this,i,h=c.get(this.id),f;if(g.isDisabled()||g.items.length==0){return}if(g.menu&&g.menu.isMenuVisible){return g.hideMenu()}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}i=c.getPos(h);f=g.menu;f.settings.offset_x=i.x;f.settings.offset_y=i.y;f.settings.keyboard_focus=!d.isOpera;if(g.oldID){f.items[g.oldID].setSelected(0)}e(g.items,function(j){if(j.value===g.selectedValue){f.items[j.id].setSelected(1);g.oldID=j.id}});f.showMenu(0,h.clientHeight);b.add(c.doc,\"mousedown\",g.hideMenu,g);c.addClass(g.id,g.classPrefix+\"Selected\")},hideMenu:function(g){var f=this;if(f.menu&&f.menu.isMenuVisible){c.removeClass(f.id,f.classPrefix+\"Selected\");if(g&&g.type==\"mousedown\"&&(g.target.id==f.id+\"_text\"||g.target.id==f.id+\"_open\")){return}if(!g||!c.getParent(g.target,\".mceMenu\")){c.removeClass(f.id,f.classPrefix+\"Selected\");b.remove(c.doc,\"mousedown\",f.hideMenu,f);f.menu.hideMenu()}}},renderMenu:function(){var g=this,f;f=g.settings.control_manager.createDropMenu(g.id+\"_menu\",{menu_line:1,\"class\":g.classPrefix+\"Menu mceNoIcons\",max_width:150,max_height:150});f.onHideMenu.add(function(){g.hideMenu();g.focus()});f.add({title:g.settings.title,\"class\":\"mceMenuItemTitle\",onclick:function(){if(g.settings.onselect(\"\")!==false){g.select(\"\")}}});e(g.items,function(h){if(h.value===undefined){f.add({title:h.title,role:\"option\",\"class\":\"mceMenuItemTitle\",onclick:function(){if(g.settings.onselect(\"\")!==false){g.select(\"\")}}})}else{h.id=c.uniqueId();h.role=\"option\";h.onclick=function(){if(g.settings.onselect(h.value)!==false){g.select(h.value)}};f.add(h)}});g.onRenderMenu.dispatch(g,f);g.menu=f},postRender:function(){var f=this,g=f.classPrefix;b.add(f.id,\"click\",f.showMenu,f);b.add(f.id,\"keydown\",function(h){if(h.keyCode==32){f.showMenu(h);b.cancel(h)}});b.add(f.id,\"focus\",function(){if(!f._focused){f.keyDownHandler=b.add(f.id,\"keydown\",function(h){if(h.keyCode==40){f.showMenu();b.cancel(h)}});f.keyPressHandler=b.add(f.id,\"keypress\",function(i){var h;if(i.keyCode==13){h=f.selectedValue;f.selectedValue=null;b.cancel(i);f.settings.onselect(h)}})}f._focused=1});b.add(f.id,\"blur\",function(){b.remove(f.id,\"keydown\",f.keyDownHandler);b.remove(f.id,\"keypress\",f.keyPressHandler);f._focused=0});if(d.isIE6||!c.boxModel){b.add(f.id,\"mouseover\",function(){if(!c.hasClass(f.id,g+\"Disabled\")){c.addClass(f.id,g+\"Hover\")}});b.add(f.id,\"mouseout\",function(){if(!c.hasClass(f.id,g+\"Disabled\")){c.removeClass(f.id,g+\"Hover\")}})}f.onPostRender.dispatch(f,c.get(f.id))},destroy:function(){this.parent();b.clear(this.id+\"_text\");b.clear(this.id+\"_open\")}})})(tinymce);(function(d){var c=d.DOM,b=d.dom.Event,e=d.each,a=d.util.Dispatcher;d.create(\"tinymce.ui.NativeListBox:tinymce.ui.ListBox\",{NativeListBox:function(g,f){this.parent(g,f);this.classPrefix=\"mceNativeListBox\"},setDisabled:function(f){c.get(this.id).disabled=f;this.setAriaProperty(\"disabled\",f)},isDisabled:function(){return c.get(this.id).disabled},select:function(h){var g=this,j,i;if(h==undefined){return g.selectByIndex(-1)}if(h&&h.call){i=h}else{i=function(f){return f==h}}if(h!=g.selectedValue){e(g.items,function(k,f){if(i(k.value)){j=1;g.selectByIndex(f);return false}});if(!j){g.selectByIndex(-1)}}},selectByIndex:function(f){c.get(this.id).selectedIndex=f+1;this.selectedValue=this.items[f]?this.items[f].value:null},add:function(j,g,f){var i,h=this;f=f||{};f.value=g;if(h.isRendered()){c.add(c.get(this.id),\"option\",f,j)}i={title:j,value:g,attribs:f};h.items.push(i);h.onAdd.dispatch(h,i)},getLength:function(){return this.items.length},renderHTML:function(){var g,f=this;g=c.createHTML(\"option\",{value:\"\"},\"-- \"+f.settings.title+\" --\");e(f.items,function(h){g+=c.createHTML(\"option\",{value:h.value},h.title)});g=c.createHTML(\"select\",{id:f.id,\"class\":\"mceNativeListBox\",\"aria-labelledby\":f.id+\"_aria\"},g);g+=c.createHTML(\"span\",{id:f.id+\"_aria\",style:\"display: none\"},f.settings.title);return g},postRender:function(){var g=this,h,i=true;g.rendered=true;function f(k){var j=g.items[k.target.selectedIndex-1];if(j&&(j=j.value)){g.onChange.dispatch(g,j);if(g.settings.onselect){g.settings.onselect(j)}}}b.add(g.id,\"change\",f);b.add(g.id,\"keydown\",function(k){var j;b.remove(g.id,\"change\",h);i=false;j=b.add(g.id,\"blur\",function(){if(i){return}i=true;b.add(g.id,\"change\",f);b.remove(g.id,\"blur\",j)});if(d.isWebKit&&(k.keyCode==37||k.keyCode==39)){return b.prevent(k)}if(k.keyCode==13||k.keyCode==32){f(k);return b.cancel(k)}});g.onPostRender.dispatch(g,c.get(g.id))}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create(\"tinymce.ui.MenuButton:tinymce.ui.Button\",{MenuButton:function(g,f,e){this.parent(g,f,e);this.onRenderMenu=new c.util.Dispatcher(this);f.menu_container=f.menu_container||b.doc.body},showMenu:function(){var g=this,j,i,h=b.get(g.id),f;if(g.isDisabled()){return}if(!g.isMenuRendered){g.renderMenu();g.isMenuRendered=true}if(g.isMenuVisible){return g.hideMenu()}j=b.getPos(g.settings.menu_container);i=b.getPos(h);f=g.menu;f.settings.offset_x=i.x;f.settings.offset_y=i.y;f.settings.vp_offset_x=i.x;f.settings.vp_offset_y=i.y;f.settings.keyboard_focus=g._focused;f.showMenu(0,h.clientHeight);a.add(b.doc,\"mousedown\",g.hideMenu,g);g.setState(\"Selected\",1);g.isMenuVisible=1},renderMenu:function(){var f=this,e;e=f.settings.control_manager.createDropMenu(f.id+\"_menu\",{menu_line:1,\"class\":this.classPrefix+\"Menu\",icons:f.settings.icons});e.onHideMenu.add(function(){f.hideMenu();f.focus()});f.onRenderMenu.dispatch(f,e);f.menu=e},hideMenu:function(g){var f=this;if(g&&g.type==\"mousedown\"&&b.getParent(g.target,function(h){return h.id===f.id||h.id===f.id+\"_open\"})){return}if(!g||!b.getParent(g.target,\".mceMenu\")){f.setState(\"Selected\",0);a.remove(b.doc,\"mousedown\",f.hideMenu,f);if(f.menu){f.menu.hideMenu()}}f.isMenuVisible=0},postRender:function(){var e=this,f=e.settings;a.add(e.id,\"click\",function(){if(!e.isDisabled()){if(f.onclick){f.onclick(e.value)}e.showMenu()}})}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each;c.create(\"tinymce.ui.SplitButton:tinymce.ui.MenuButton\",{SplitButton:function(g,f,e){this.parent(g,f,e);this.classPrefix=\"mceSplitButton\"},renderHTML:function(){var i,f=this,g=f.settings,e;i=\"<tbody><tr>\";if(g.image){e=b.createHTML(\"img \",{src:g.image,role:\"presentation\",\"class\":\"mceAction \"+g[\"class\"]})}else{e=b.createHTML(\"span\",{\"class\":\"mceAction \"+g[\"class\"]},\"\")}e+=b.createHTML(\"span\",{\"class\":\"mceVoiceLabel mceIconOnly\",id:f.id+\"_voice\",style:\"display:none;\"},g.title);i+=\"<td >\"+b.createHTML(\"a\",{role:\"button\",id:f.id+\"_action\",tabindex:\"-1\",href:\"javascript:;\",\"class\":\"mceAction \"+g[\"class\"],onclick:\"return false;\",onmousedown:\"return false;\",title:g.title},e)+\"</td>\";e=b.createHTML(\"span\",{\"class\":\"mceOpen \"+g[\"class\"]},'<span style=\"display:none;\" class=\"mceIconOnly\" aria-hidden=\"true\">\\u25BC</span>');i+=\"<td >\"+b.createHTML(\"a\",{role:\"button\",id:f.id+\"_open\",tabindex:\"-1\",href:\"javascript:;\",\"class\":\"mceOpen \"+g[\"class\"],onclick:\"return false;\",onmousedown:\"return false;\",title:g.title},e)+\"</td>\";i+=\"</tr></tbody>\";i=b.createHTML(\"table\",{role:\"presentation\",\"class\":\"mceSplitButton mceSplitButtonEnabled \"+g[\"class\"],cellpadding:\"0\",cellspacing:\"0\",title:g.title},i);return b.createHTML(\"div\",{id:f.id,role:\"button\",tabindex:\"0\",\"aria-labelledby\":f.id+\"_voice\",\"aria-haspopup\":\"true\"},i)},postRender:function(){var e=this,g=e.settings,f;if(g.onclick){f=function(h){if(!e.isDisabled()){g.onclick(e.value);a.cancel(h)}};a.add(e.id+\"_action\",\"click\",f);a.add(e.id,[\"click\",\"keydown\"],function(h){var k=32,m=14,i=13,j=38,l=40;if((h.keyCode===32||h.keyCode===13||h.keyCode===14)&&!h.altKey&&!h.ctrlKey&&!h.metaKey){f();a.cancel(h)}else{if(h.type===\"click\"||h.keyCode===l){e.showMenu();a.cancel(h)}}})}a.add(e.id+\"_open\",\"click\",function(h){e.showMenu();a.cancel(h)});a.add([e.id,e.id+\"_open\"],\"focus\",function(){e._focused=1});a.add([e.id,e.id+\"_open\"],\"blur\",function(){e._focused=0});if(c.isIE6||!b.boxModel){a.add(e.id,\"mouseover\",function(){if(!b.hasClass(e.id,\"mceSplitButtonDisabled\")){b.addClass(e.id,\"mceSplitButtonHover\")}});a.add(e.id,\"mouseout\",function(){if(!b.hasClass(e.id,\"mceSplitButtonDisabled\")){b.removeClass(e.id,\"mceSplitButtonHover\")}})}},destroy:function(){this.parent();a.clear(this.id+\"_action\");a.clear(this.id+\"_open\");a.clear(this.id)}})})(tinymce);(function(d){var c=d.DOM,a=d.dom.Event,b=d.is,e=d.each;d.create(\"tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton\",{ColorSplitButton:function(i,h,f){var g=this;g.parent(i,h,f);g.settings=h=d.extend({colors:\"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF\",grid_width:8,default_color:\"#888888\"},g.settings);g.onShowMenu=new d.util.Dispatcher(g);g.onHideMenu=new d.util.Dispatcher(g);g.value=h.default_color},showMenu:function(){var f=this,g,j,i,h;if(f.isDisabled()){return}if(!f.isMenuRendered){f.renderMenu();f.isMenuRendered=true}if(f.isMenuVisible){return f.hideMenu()}i=c.get(f.id);c.show(f.id+\"_menu\");c.addClass(i,\"mceSplitButtonSelected\");h=c.getPos(i);c.setStyles(f.id+\"_menu\",{left:h.x,top:h.y+i.clientHeight,zIndex:200000});i=0;a.add(c.doc,\"mousedown\",f.hideMenu,f);f.onShowMenu.dispatch(f);if(f._focused){f._keyHandler=a.add(f.id+\"_menu\",\"keydown\",function(k){if(k.keyCode==27){f.hideMenu()}});c.select(\"a\",f.id+\"_menu\")[0].focus()}f.isMenuVisible=1},hideMenu:function(g){var f=this;if(f.isMenuVisible){if(g&&g.type==\"mousedown\"&&c.getParent(g.target,function(h){return h.id===f.id+\"_open\"})){return}if(!g||!c.getParent(g.target,\".mceSplitButtonMenu\")){c.removeClass(f.id,\"mceSplitButtonSelected\");a.remove(c.doc,\"mousedown\",f.hideMenu,f);a.remove(f.id+\"_menu\",\"keydown\",f._keyHandler);c.hide(f.id+\"_menu\")}f.isMenuVisible=0;f.onHideMenu.dispatch()}},renderMenu:function(){var p=this,h,k=0,q=p.settings,g,j,l,o,f;o=c.add(q.menu_container,\"div\",{role:\"listbox\",id:p.id+\"_menu\",\"class\":q.menu_class+\" \"+q[\"class\"],style:\"position:absolute;left:0;top:-1000px;\"});h=c.add(o,\"div\",{\"class\":q[\"class\"]+\" mceSplitButtonMenu\"});c.add(h,\"span\",{\"class\":\"mceMenuLine\"});g=c.add(h,\"table\",{role:\"presentation\",\"class\":\"mceColorSplitMenu\"});j=c.add(g,\"tbody\");k=0;e(b(q.colors,\"array\")?q.colors:q.colors.split(\",\"),function(i){i=i.replace(/^#/,\"\");if(!k--){l=c.add(j,\"tr\");k=q.grid_width-1}g=c.add(l,\"td\");g=c.add(g,\"a\",{role:\"option\",href:\"javascript:;\",style:{backgroundColor:\"#\"+i},title:p.editor.getLang(\"colors.\"+i,i),\"data-mce-color\":\"#\"+i});if(p.editor.forcedHighContrastMode){g=c.add(g,\"canvas\",{width:16,height:16,\"aria-hidden\":\"true\"});if(g.getContext&&(f=g.getContext(\"2d\"))){f.fillStyle=\"#\"+i;f.fillRect(0,0,16,16)}else{c.remove(g)}}});if(q.more_colors_func){g=c.add(j,\"tr\");g=c.add(g,\"td\",{colspan:q.grid_width,\"class\":\"mceMoreColors\"});g=c.add(g,\"a\",{role:\"option\",id:p.id+\"_more\",href:\"javascript:;\",onclick:\"return false;\",\"class\":\"mceMoreColors\"},q.more_colors_title);a.add(g,\"click\",function(i){q.more_colors_func.call(q.more_colors_scope||this);return a.cancel(i)})}c.addClass(h,\"mceColorSplitMenu\");new d.ui.KeyboardNavigation({root:p.id+\"_menu\",items:c.select(\"a\",p.id+\"_menu\"),onCancel:function(){p.hideMenu();p.focus()}});a.add(p.id+\"_menu\",\"mousedown\",function(i){return a.cancel(i)});a.add(p.id+\"_menu\",\"click\",function(i){var m;i=c.getParent(i.target,\"a\",j);if(i&&i.nodeName.toLowerCase()==\"a\"&&(m=i.getAttribute(\"data-mce-color\"))){p.setColor(m)}return a.cancel(i)});return o},setColor:function(f){this.displayColor(f);this.hideMenu();this.settings.onselect(f)},displayColor:function(g){var f=this;c.setStyle(f.id+\"_preview\",\"backgroundColor\",g);f.value=g},postRender:function(){var f=this,g=f.id;f.parent();c.add(g+\"_action\",\"div\",{id:g+\"_preview\",\"class\":\"mceColorPreview\"});c.setStyle(f.id+\"_preview\",\"backgroundColor\",f.value)},destroy:function(){this.parent();a.clear(this.id+\"_menu\");a.clear(this.id+\"_more\");c.remove(this.id+\"_menu\")}})})(tinymce);(function(b){var d=b.DOM,c=b.each,a=b.dom.Event;b.create(\"tinymce.ui.ToolbarGroup:tinymce.ui.Container\",{renderHTML:function(){var f=this,i=[],e=f.controls,j=b.each,g=f.settings;i.push('<div id=\"'+f.id+'\" role=\"group\" aria-labelledby=\"'+f.id+'_voice\">');i.push(\"<span role='application'>\");i.push('<span id=\"'+f.id+'_voice\" class=\"mceVoiceLabel\" style=\"display:none;\">'+d.encode(g.name)+\"</span>\");j(e,function(h){i.push(h.renderHTML())});i.push(\"</span>\");i.push(\"</div>\");return i.join(\"\")},focus:function(){var e=this;d.get(e.id).focus()},postRender:function(){var f=this,e=[];c(f.controls,function(g){c(g.controls,function(h){if(h.id){e.push(h)}})});f.keyNav=new b.ui.KeyboardNavigation({root:f.id,items:e,onCancel:function(){if(b.isWebKit){d.get(f.editor.id+\"_ifr\").focus()}f.editor.focus()},excludeFromTabOrder:!f.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent();e.keyNav.destroy();a.clear(e.id)}})})(tinymce);(function(a){var c=a.DOM,b=a.each;a.create(\"tinymce.ui.Toolbar:tinymce.ui.Container\",{renderHTML:function(){var m=this,f=\"\",j,k,n=m.settings,e,d,g,l;l=m.controls;for(e=0;e<l.length;e++){k=l[e];d=l[e-1];g=l[e+1];if(e===0){j=\"mceToolbarStart\";if(k.Button){j+=\" mceToolbarStartButton\"}else{if(k.SplitButton){j+=\" mceToolbarStartSplitButton\"}else{if(k.ListBox){j+=\" mceToolbarStartListBox\"}}}f+=c.createHTML(\"td\",{\"class\":j},c.createHTML(\"span\",null,\"<!-- IE -->\"))}if(d&&k.ListBox){if(d.Button||d.SplitButton){f+=c.createHTML(\"td\",{\"class\":\"mceToolbarEnd\"},c.createHTML(\"span\",null,\"<!-- IE -->\"))}}if(c.stdMode){f+='<td style=\"position: relative\">'+k.renderHTML()+\"</td>\"}else{f+=\"<td>\"+k.renderHTML()+\"</td>\"}if(g&&k.ListBox){if(g.Button||g.SplitButton){f+=c.createHTML(\"td\",{\"class\":\"mceToolbarStart\"},c.createHTML(\"span\",null,\"<!-- IE -->\"))}}}j=\"mceToolbarEnd\";if(k.Button){j+=\" mceToolbarEndButton\"}else{if(k.SplitButton){j+=\" mceToolbarEndSplitButton\"}else{if(k.ListBox){j+=\" mceToolbarEndListBox\"}}}f+=c.createHTML(\"td\",{\"class\":j},c.createHTML(\"span\",null,\"<!-- IE -->\"));return c.createHTML(\"table\",{id:m.id,\"class\":\"mceToolbar\"+(n[\"class\"]?\" \"+n[\"class\"]:\"\"),cellpadding:\"0\",cellspacing:\"0\",align:m.settings.align||\"\",role:\"presentation\",tabindex:\"-1\"},\"<tbody><tr>\"+f+\"</tr></tbody>\")}})})(tinymce);(function(b){var a=b.util.Dispatcher,c=b.each;b.create(\"tinymce.AddOnManager\",{AddOnManager:function(){var d=this;d.items=[];d.urls={};d.lookup={};d.onAdd=new a(d)},get:function(d){if(this.lookup[d]){return this.lookup[d].instance}else{return undefined}},dependencies:function(e){var d;if(this.lookup[e]){d=this.lookup[e].dependencies}return d||[]},requireLangPack:function(e){var d=b.settings;if(d&&d.language&&d.language_load!==false){b.ScriptLoader.add(this.urls[e]+\"/langs/\"+d.language+\".js\")}},add:function(f,e,d){this.items.push(e);this.lookup[f]={instance:e,dependencies:d};this.onAdd.dispatch(this,f,e);return e},createUrl:function(d,e){if(typeof e===\"object\"){return e}else{return{prefix:d.prefix,resource:e,suffix:d.suffix}}},addComponents:function(f,d){var e=this.urls[f];b.each(d,function(g){b.ScriptLoader.add(e+\"/\"+g)})},load:function(j,f,d,h){var g=this,e=f;function i(){var k=g.dependencies(j);b.each(k,function(m){var l=g.createUrl(f,m);g.load(l.resource,l,undefined,undefined)});if(d){if(h){d.call(h)}else{d.call(b.ScriptLoader)}}}if(g.urls[j]){return}if(typeof f===\"object\"){e=f.prefix+f.resource+f.suffix}if(e.indexOf(\"/\")!=0&&e.indexOf(\"://\")==-1){e=b.baseURL+\"/\"+e}g.urls[j]=e.substring(0,e.lastIndexOf(\"/\"));if(g.lookup[j]){i()}else{b.ScriptLoader.add(e,i,h)}}});b.PluginManager=new b.AddOnManager();b.ThemeManager=new b.AddOnManager()}(tinymce));(function(j){var g=j.each,d=j.extend,k=j.DOM,i=j.dom.Event,f=j.ThemeManager,b=j.PluginManager,e=j.explode,h=j.util.Dispatcher,a,c=0;j.documentBaseURL=window.location.href.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\");if(!/[\\/\\\\]$/.test(j.documentBaseURL)){j.documentBaseURL+=\"/\"}j.baseURL=new j.util.URI(j.documentBaseURL).toAbsolute(j.baseURL);j.baseURI=new j.util.URI(j.baseURL);j.onBeforeUnload=new h(j);i.add(window,\"beforeunload\",function(l){j.onBeforeUnload.dispatch(j,l)});j.onAddEditor=new h(j);j.onRemoveEditor=new h(j);j.EditorManager=d(j,{editors:[],i18n:{},activeEditor:null,init:function(q){var n=this,p,l=j.ScriptLoader,u,o=[],m;function r(x,y,t){var v=x[y];if(!v){return}if(j.is(v,\"string\")){t=v.replace(/\\.\\w+$/,\"\");t=t?j.resolve(t):0;v=j.resolve(v)}return v.apply(t||this,Array.prototype.slice.call(arguments,2))}q=d({theme:\"simple\",language:\"en\"},q);n.settings=q;i.add(document,\"init\",function(){var s,v;r(q,\"onpageload\");switch(q.mode){case\"exact\":s=q.elements||\"\";if(s.length>0){g(e(s),function(x){if(k.get(x)){m=new j.Editor(x,q);o.push(m);m.render(1)}else{g(document.forms,function(y){g(y.elements,function(z){if(z.name===x){x=\"mce_editor_\"+c++;k.setAttrib(z,\"id\",x);m=new j.Editor(x,q);o.push(m);m.render(1)}})})}})}break;case\"textareas\":case\"specific_textareas\":function t(y,x){return x.constructor===RegExp?x.test(y.className):k.hasClass(y,x)}g(k.select(\"textarea\"),function(x){if(q.editor_deselector&&t(x,q.editor_deselector)){return}if(!q.editor_selector||t(x,q.editor_selector)){u=k.get(x.name);if(!x.id&&!u){x.id=x.name}if(!x.id||n.get(x.id)){x.id=k.uniqueId()}m=new j.Editor(x.id,q);o.push(m);m.render(1)}});break}if(q.oninit){s=v=0;g(o,function(x){v++;if(!x.initialized){x.onInit.add(function(){s++;if(s==v){r(q,\"oninit\")}})}else{s++}if(s==v){r(q,\"oninit\")}})}})},get:function(l){if(l===a){return this.editors}return this.editors[l]},getInstanceById:function(l){return this.get(l)},add:function(m){var l=this,n=l.editors;n[m.id]=m;n.push(m);l._setActive(m);l.onAddEditor.dispatch(l,m);return m},remove:function(n){var m=this,l,o=m.editors;if(!o[n.id]){return null}delete o[n.id];for(l=0;l<o.length;l++){if(o[l]==n){o.splice(l,1);break}}if(m.activeEditor==n){m._setActive(o[0])}n.destroy();m.onRemoveEditor.dispatch(m,n);return n},execCommand:function(r,p,o){var q=this,n=q.get(o),l;switch(r){case\"mceFocus\":n.focus();return true;case\"mceAddEditor\":case\"mceAddControl\":if(!q.get(o)){new j.Editor(o,q.settings).render()}return true;case\"mceAddFrameControl\":l=o.window;l.tinyMCE=tinyMCE;l.tinymce=j;j.DOM.doc=l.document;j.DOM.win=l;n=new j.Editor(o.element_id,o);n.render();if(j.isIE){function m(){n.destroy();l.detachEvent(\"onunload\",m);l=l.tinyMCE=l.tinymce=null}l.attachEvent(\"onunload\",m)}o.page_window=null;return true;case\"mceRemoveEditor\":case\"mceRemoveControl\":if(n){n.remove()}return true;case\"mceToggleEditor\":if(!n){q.execCommand(\"mceAddControl\",0,o);return true}if(n.isHidden()){n.show()}else{n.hide()}return true}if(q.activeEditor){return q.activeEditor.execCommand(r,p,o)}return false},execInstanceCommand:function(p,o,n,m){var l=this.get(p);if(l){return l.execCommand(o,n,m)}return false},triggerSave:function(){g(this.editors,function(l){l.save()})},addI18n:function(n,q){var l,m=this.i18n;if(!j.is(n,\"string\")){g(n,function(r,p){g(r,function(t,s){g(t,function(v,u){if(s===\"common\"){m[p+\".\"+u]=v}else{m[p+\".\"+s+\".\"+u]=v}})})})}else{g(q,function(r,p){m[n+\".\"+p]=r})}},_setActive:function(l){this.selectedInstance=this.activeEditor=l}})})(tinymce);(function(m){var n=m.DOM,j=m.dom.Event,f=m.extend,k=m.util.Dispatcher,i=m.each,a=m.isGecko,b=m.isIE,e=m.isWebKit,d=m.is,h=m.ThemeManager,c=m.PluginManager,o=m.inArray,l=m.grep,g=m.explode;m.create(\"tinymce.Editor\",{Editor:function(r,q){var p=this;p.id=p.editorId=r;p.execCommands={};p.queryStateCommands={};p.queryValueCommands={};p.isNotDirty=false;p.plugins={};i([\"onPreInit\",\"onBeforeRenderUI\",\"onPostRender\",\"onInit\",\"onRemove\",\"onActivate\",\"onDeactivate\",\"onClick\",\"onEvent\",\"onMouseUp\",\"onMouseDown\",\"onDblClick\",\"onKeyDown\",\"onKeyUp\",\"onKeyPress\",\"onContextMenu\",\"onSubmit\",\"onReset\",\"onPaste\",\"onPreProcess\",\"onPostProcess\",\"onBeforeSetContent\",\"onBeforeGetContent\",\"onSetContent\",\"onGetContent\",\"onLoadContent\",\"onSaveContent\",\"onNodeChange\",\"onChange\",\"onBeforeExecCommand\",\"onExecCommand\",\"onUndo\",\"onRedo\",\"onVisualAid\",\"onSetProgressState\"],function(s){p[s]=new k(p)});p.settings=q=f({id:r,language:\"en\",docs_language:\"en\",theme:\"simple\",skin:\"default\",delta_width:0,delta_height:0,popup_css:\"\",plugins:\"\",document_base_url:m.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:m.isIE6?'<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">':\"<!DOCTYPE>\",visual_table_class:\"mceItemTable\",visual:1,font_size_style_values:\"xx-small,x-small,small,medium,large,x-large,xx-large\",apply_source_formatting:1,directionality:\"ltr\",forced_root_block:\"p\",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:\"30px\",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:true,indent:\"simple\",indent_before:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr\",indent_after:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr\",validate:true,entity_encoding:\"named\",url_converter:p.convertURL,url_converter_scope:p,ie7_compat:true},q);p.documentBaseURI=new m.util.URI(q.document_base_url||m.documentBaseURL,{base_uri:tinyMCE.baseURI});p.baseURI=m.baseURI;p.contentCSS=[];p.execCallback(\"setup\",p)},render:function(r){var u=this,v=u.settings,x=u.id,p=m.ScriptLoader;if(!j.domLoaded){j.add(document,\"init\",function(){u.render()});return}tinyMCE.settings=v;if(!u.getElement()){return}if(m.isIDevice&&!m.isIOS5){return}if(!/TEXTAREA|INPUT/i.test(u.getElement().nodeName)&&v.hidden_input&&n.getParent(x,\"form\")){n.insertAfter(n.create(\"input\",{type:\"hidden\",name:x}),x)}if(m.WindowManager){u.windowManager=new m.WindowManager(u)}if(v.encoding==\"xml\"){u.onGetContent.add(function(s,t){if(t.save){t.content=n.encode(t.content)}})}if(v.add_form_submit_trigger){u.onSubmit.addToTop(function(){if(u.initialized){u.save();u.isNotDirty=1}})}if(v.add_unload_trigger){u._beforeUnload=tinyMCE.onBeforeUnload.add(function(){if(u.initialized&&!u.destroyed&&!u.isHidden()){u.save({format:\"raw\",no_events:true})}})}m.addUnload(u.destroy,u);if(v.submit_patch){u.onBeforeRenderUI.add(function(){var s=u.getElement().form;if(!s){return}if(s._mceOldSubmit){return}if(!s.submit.nodeType&&!s.submit.length){u.formElement=s;s._mceOldSubmit=s.submit;s.submit=function(){m.triggerSave();u.isNotDirty=1;return u.formElement._mceOldSubmit(u.formElement)}}s=null})}function q(){if(v.language&&v.language_load!==false){p.add(m.baseURL+\"/langs/\"+v.language+\".js\")}if(v.theme&&v.theme.charAt(0)!=\"-\"&&!h.urls[v.theme]){h.load(v.theme,\"themes/\"+v.theme+\"/editor_template\"+m.suffix+\".js\")}i(g(v.plugins),function(t){if(t&&!c.urls[t]){if(t.charAt(0)==\"-\"){t=t.substr(1,t.length);var s=c.dependencies(t);i(s,function(z){var y={prefix:\"plugins/\",resource:z,suffix:\"/editor_plugin\"+m.suffix+\".js\"};var z=c.createUrl(y,z);c.load(z.resource,z)})}else{if(t==\"safari\"){return}c.load(t,{prefix:\"plugins/\",resource:t,suffix:\"/editor_plugin\"+m.suffix+\".js\"})}}});p.loadQueue(function(){if(!u.removed){u.init()}})}q()},init:function(){var r,H=this,I=H.settings,E,A,D=H.getElement(),q,p,F,y,C,G,z,v=[];m.add(H);I.aria_label=I.aria_label||n.getAttrib(D,\"aria-label\",H.getLang(\"aria.rich_text_area\"));if(I.theme){I.theme=I.theme.replace(/-/,\"\");q=h.get(I.theme);H.theme=new q();if(H.theme.init&&I.init_theme){H.theme.init(H,h.urls[I.theme]||m.documentBaseURL.replace(/\\/$/,\"\"))}}function B(J){var K=c.get(J),t=c.urls[J]||m.documentBaseURL.replace(/\\/$/,\"\"),s;if(K&&m.inArray(v,J)===-1){i(c.dependencies(J),function(u){B(u)});s=new K(H,t);H.plugins[J]=s;if(s.init){s.init(H,t);v.push(J)}}}i(g(I.plugins.replace(/\\-/g,\"\")),B);if(I.popup_css!==false){if(I.popup_css){I.popup_css=H.documentBaseURI.toAbsolute(I.popup_css)}else{I.popup_css=H.baseURI.toAbsolute(\"themes/\"+I.theme+\"/skins/\"+I.skin+\"/dialog.css\")}}if(I.popup_css_add){I.popup_css+=\",\"+H.documentBaseURI.toAbsolute(I.popup_css_add)}H.controlManager=new m.ControlManager(H);if(I.custom_undo_redo){H.onBeforeExecCommand.add(function(t,J,u,K,s){if(J!=\"Undo\"&&J!=\"Redo\"&&J!=\"mceRepaint\"&&(!s||!s.skip_undo)){H.undoManager.beforeChange()}});H.onExecCommand.add(function(t,J,u,K,s){if(J!=\"Undo\"&&J!=\"Redo\"&&J!=\"mceRepaint\"&&(!s||!s.skip_undo)){H.undoManager.add()}})}H.onExecCommand.add(function(s,t){if(!/^(FontName|FontSize)$/.test(t)){H.nodeChanged()}});if(a){function x(s,t){if(!t||!t.initial){H.execCommand(\"mceRepaint\")}}H.onUndo.add(x);H.onRedo.add(x);H.onSetContent.add(x)}H.onBeforeRenderUI.dispatch(H,H.controlManager);if(I.render_ui){E=I.width||D.style.width||D.offsetWidth;A=I.height||D.style.height||D.offsetHeight;H.orgDisplay=D.style.display;G=/^[0-9\\.]+(|px)$/i;if(G.test(\"\"+E)){E=Math.max(parseInt(E)+(q.deltaWidth||0),100)}if(G.test(\"\"+A)){A=Math.max(parseInt(A)+(q.deltaHeight||0),100)}q=H.theme.renderUI({targetNode:D,width:E,height:A,deltaWidth:I.delta_width,deltaHeight:I.delta_height});H.editorContainer=q.editorContainer}if(document.domain&&location.hostname!=document.domain){m.relaxedDomain=document.domain}n.setStyles(q.sizeContainer||q.editorContainer,{width:E,height:A});if(I.content_css){m.each(g(I.content_css),function(s){H.contentCSS.push(H.documentBaseURI.toAbsolute(s))})}A=(q.iframeHeight||A)+(typeof(A)==\"number\"?(q.deltaHeight||0):\"\");if(A<100){A=100}H.iframeHTML=I.doctype+'<html><head xmlns=\"http://www.w3.org/1999/xhtml\">';if(I.document_base_url!=m.documentBaseURL){H.iframeHTML+='<base href=\"'+H.documentBaseURI.getURI()+'\" />'}if(I.ie7_compat){H.iframeHTML+='<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />'}else{H.iframeHTML+='<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />'}H.iframeHTML+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';for(z=0;z<H.contentCSS.length;z++){H.iframeHTML+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+H.contentCSS[z]+'\" />'}y=I.body_id||\"tinymce\";if(y.indexOf(\"=\")!=-1){y=H.getParam(\"body_id\",\"\",\"hash\");y=y[H.id]||y}C=I.body_class||\"\";if(C.indexOf(\"=\")!=-1){C=H.getParam(\"body_class\",\"\",\"hash\");C=C[H.id]||\"\"}H.iframeHTML+='</head><body id=\"'+y+'\" class=\"mceContentBody '+C+'\"><br></body></html>';if(m.relaxedDomain&&(b||(m.isOpera&&parseFloat(opera.version())<11))){F='javascript:(function(){document.open();document.domain=\"'+document.domain+'\";var ed = window.parent.tinyMCE.get(\"'+H.id+'\");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'}r=n.add(q.iframeContainer,\"iframe\",{id:H.id+\"_ifr\",src:F||'javascript:\"\"',frameBorder:\"0\",allowTransparency:\"true\",title:I.aria_label,style:{width:\"100%\",height:A,display:\"block\"}});H.contentAreaContainer=q.iframeContainer;n.get(q.editorContainer).style.display=H.orgDisplay;n.get(H.id).style.display=\"none\";n.setAttrib(H.id,\"aria-hidden\",true);if(!m.relaxedDomain||!F){H.setupIframe()}D=r=q=null},setupIframe:function(){var q=this,v=q.settings,x=n.get(q.id),y=q.getDoc(),u,p;if(!b||!m.relaxedDomain){y.open();y.write(q.iframeHTML);y.close();if(m.relaxedDomain){y.domain=m.relaxedDomain}}p=q.getBody();p.disabled=true;if(!v.readonly){p.contentEditable=true}p.disabled=false;q.schema=new m.html.Schema(v);q.dom=new m.dom.DOMUtils(q.getDoc(),{keep_values:true,url_converter:q.convertURL,url_converter_scope:q,hex_colors:v.force_hex_style_colors,class_filter:v.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:q.schema});q.parser=new m.html.DomParser(v,q.schema);if(!q.settings.allow_html_in_named_anchor){q.parser.addAttributeFilter(\"name\",function(s,t){var A=s.length,C,z,B,D;while(A--){D=s[A];if(D.name===\"a\"&&D.firstChild){B=D.parent;C=D.lastChild;do{z=C.prev;B.insert(C,D);C=z}while(C)}}})}q.parser.addAttributeFilter(\"src,href,style\",function(s,t){var z=s.length,B,D=q.dom,C,A;while(z--){B=s[z];C=B.attr(t);A=\"data-mce-\"+t;if(!B.attributes.map[A]){if(t===\"style\"){B.attr(A,D.serializeStyle(D.parseStyle(C),B.name))}else{B.attr(A,q.convertURL(C,t,B.name))}}}});q.parser.addNodeFilter(\"script\",function(s,t){var z=s.length;while(z--){s[z].attr(\"type\",\"mce-text/javascript\")}});q.parser.addNodeFilter(\"#cdata\",function(s,t){var z=s.length,A;while(z--){A=s[z];A.type=8;A.name=\"#comment\";A.value=\"[CDATA[\"+A.value+\"]]\"}});q.parser.addNodeFilter(\"p,h1,h2,h3,h4,h5,h6,div\",function(t,z){var A=t.length,B,s=q.schema.getNonEmptyElements();while(A--){B=t[A];if(B.isEmpty(s)){B.empty().append(new m.html.Node(\"br\",1)).shortEnded=true}}});q.serializer=new m.dom.Serializer(v,q.dom,q.schema);q.selection=new m.dom.Selection(q.dom,q.getWin(),q.serializer);q.formatter=new m.Formatter(this);q.formatter.register({alignleft:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"left\"}},{selector:\"img,table\",collapsed:false,styles:{\"float\":\"left\"}}],aligncenter:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"center\"}},{selector:\"img\",collapsed:false,styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"}},{selector:\"table\",collapsed:false,styles:{marginLeft:\"auto\",marginRight:\"auto\"}}],alignright:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"right\"}},{selector:\"img,table\",collapsed:false,styles:{\"float\":\"right\"}}],alignfull:[{selector:\"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li\",styles:{textAlign:\"justify\"}}],bold:[{inline:\"strong\",remove:\"all\"},{inline:\"span\",styles:{fontWeight:\"bold\"}},{inline:\"b\",remove:\"all\"}],italic:[{inline:\"em\",remove:\"all\"},{inline:\"span\",styles:{fontStyle:\"italic\"}},{inline:\"i\",remove:\"all\"}],underline:[{inline:\"span\",styles:{textDecoration:\"underline\"},exact:true},{inline:\"u\",remove:\"all\"}],strikethrough:[{inline:\"span\",styles:{textDecoration:\"line-through\"},exact:true},{inline:\"strike\",remove:\"all\"}],forecolor:{inline:\"span\",styles:{color:\"%value\"},wrap_links:false},hilitecolor:{inline:\"span\",styles:{backgroundColor:\"%value\"},wrap_links:false},fontname:{inline:\"span\",styles:{fontFamily:\"%value\"}},fontsize:{inline:\"span\",styles:{fontSize:\"%value\"}},fontsize_class:{inline:\"span\",attributes:{\"class\":\"%value\"}},blockquote:{block:\"blockquote\",wrapper:1,remove:\"all\"},subscript:{inline:\"sub\"},superscript:{inline:\"sup\"},link:{inline:\"a\",selector:\"a\",remove:\"all\",split:true,deep:true,onmatch:function(s){return true},onformat:function(z,s,t){i(t,function(B,A){q.dom.setAttrib(z,A,B)})}},removeformat:[{selector:\"b,strong,em,i,font,u,strike\",remove:\"all\",split:true,expand:false,block_expand:true,deep:true},{selector:\"span\",attributes:[\"style\",\"class\"],remove:\"empty\",split:true,expand:false,deep:true},{selector:\"*\",attributes:[\"style\",\"class\"],split:false,expand:false,deep:true}]});i(\"p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp\".split(/\\s/),function(s){q.formatter.register(s,{block:s,remove:\"all\"})});q.formatter.register(q.settings.formats);q.undoManager=new m.UndoManager(q);q.undoManager.onAdd.add(function(t,s){if(t.hasUndo()){return q.onChange.dispatch(q,s,t)}});q.undoManager.onUndo.add(function(t,s){return q.onUndo.dispatch(q,s,t)});q.undoManager.onRedo.add(function(t,s){return q.onRedo.dispatch(q,s,t)});q.forceBlocks=new m.ForceBlocks(q,{forced_root_block:v.forced_root_block});q.editorCommands=new m.EditorCommands(q);q.serializer.onPreProcess.add(function(s,t){return q.onPreProcess.dispatch(q,t,s)});q.serializer.onPostProcess.add(function(s,t){return q.onPostProcess.dispatch(q,t,s)});q.onPreInit.dispatch(q);if(!v.gecko_spellcheck){q.getBody().spellcheck=0}if(!v.readonly){q._addEvents()}q.controlManager.onPostRender.dispatch(q,q.controlManager);q.onPostRender.dispatch(q);q.quirks=new m.util.Quirks(this);if(v.directionality){q.getBody().dir=v.directionality}if(v.nowrap){q.getBody().style.whiteSpace=\"nowrap\"}if(v.handle_node_change_callback){q.onNodeChange.add(function(t,s,z){q.execCallback(\"handle_node_change_callback\",q.id,z,-1,-1,true,q.selection.isCollapsed())})}if(v.save_callback){q.onSaveContent.add(function(s,z){var t=q.execCallback(\"save_callback\",q.id,z.content,q.getBody());if(t){z.content=t}})}if(v.onchange_callback){q.onChange.add(function(t,s){q.execCallback(\"onchange_callback\",q,s)})}if(v.protect){q.onBeforeSetContent.add(function(s,t){if(v.protect){i(v.protect,function(z){t.content=t.content.replace(z,function(A){return\"<!--mce:protected \"+escape(A)+\"-->\"})})}})}if(v.convert_newlines_to_brs){q.onBeforeSetContent.add(function(s,t){if(t.initial){t.content=t.content.replace(/\\r?\\n/g,\"<br />\")}})}if(v.preformatted){q.onPostProcess.add(function(s,t){t.content=t.content.replace(/^\\s*<pre.*?>/,\"\");t.content=t.content.replace(/<\\/pre>\\s*$/,\"\");if(t.set){t.content='<pre class=\"mceItemHidden\">'+t.content+\"</pre>\"}})}if(v.verify_css_classes){q.serializer.attribValueFilter=function(B,z){var A,t;if(B==\"class\"){if(!q.classesRE){t=q.dom.getClasses();if(t.length>0){A=\"\";i(t,function(s){A+=(A?\"|\":\"\")+s[\"class\"]});q.classesRE=new RegExp(\"(\"+A+\")\",\"gi\")}}return !q.classesRE||/(\\bmceItem\\w+\\b|\\bmceTemp\\w+\\b)/g.test(z)||q.classesRE.test(z)?z:\"\"}return z}}if(v.cleanup_callback){q.onBeforeSetContent.add(function(s,t){t.content=q.execCallback(\"cleanup_callback\",\"insert_to_editor\",t.content,t)});q.onPreProcess.add(function(s,t){if(t.set){q.execCallback(\"cleanup_callback\",\"insert_to_editor_dom\",t.node,t)}if(t.get){q.execCallback(\"cleanup_callback\",\"get_from_editor_dom\",t.node,t)}});q.onPostProcess.add(function(s,t){if(t.set){t.content=q.execCallback(\"cleanup_callback\",\"insert_to_editor\",t.content,t)}if(t.get){t.content=q.execCallback(\"cleanup_callback\",\"get_from_editor\",t.content,t)}})}if(v.save_callback){q.onGetContent.add(function(s,t){if(t.save){t.content=q.execCallback(\"save_callback\",q.id,t.content,q.getBody())}})}if(v.handle_event_callback){q.onEvent.add(function(s,t,z){if(q.execCallback(\"handle_event_callback\",t,s,z)===false){j.cancel(t)}})}q.onSetContent.add(function(){q.addVisual(q.getBody())});if(v.padd_empty_editor){q.onPostProcess.add(function(s,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\\s|\\u00a0|)<\\/p>[\\r\\n]*|<br \\/>[\\r\\n]*)$/,\"\")})}if(a){function r(s,t){i(s.dom.select(\"a\"),function(A){var z=A.parentNode;if(s.dom.isBlock(z)&&z.lastChild===A){s.dom.add(z,\"br\",{\"data-mce-bogus\":1})}})}q.onExecCommand.add(function(s,t){if(t===\"CreateLink\"){r(s)}});q.onSetContent.add(q.selection.onSetContent.add(r))}q.load({initial:true,format:\"html\"});q.startContent=q.getContent({format:\"raw\"});q.undoManager.add();q.initialized=true;q.onInit.dispatch(q);q.execCallback(\"setupcontent_callback\",q.id,q.getBody(),q.getDoc());q.execCallback(\"init_instance_callback\",q);q.focus(true);q.nodeChanged({initial:1});i(q.contentCSS,function(s){q.dom.loadCSS(s)});if(v.auto_focus){setTimeout(function(){var s=m.get(v.auto_focus);s.selection.select(s.getBody(),1);s.selection.collapse(1);s.getBody().focus();s.getWin().focus()},100)}x=null},focus:function(u){var y,q=this,s=q.selection,x=q.settings.content_editable,r,p,v=q.getDoc();if(!u){r=s.getRng();if(r.item){p=r.item(0)}q._refreshContentEditable();s.normalize();if(!x){q.getWin().focus()}if(m.isGecko){q.getBody().focus()}if(p&&p.ownerDocument==v){r=v.body.createControlRange();r.addElement(p);r.select()}}if(m.activeEditor!=q){if((y=m.activeEditor)!=null){y.onDeactivate.dispatch(y,q)}q.onActivate.dispatch(q,y)}m._setActive(q)},execCallback:function(u){var p=this,r=p.settings[u],q;if(!r){return}if(p.callbackLookup&&(q=p.callbackLookup[u])){r=q.func;q=q.scope}if(d(r,\"string\")){q=r.replace(/\\.\\w+$/,\"\");q=q?m.resolve(q):0;r=m.resolve(r);p.callbackLookup=p.callbackLookup||{};p.callbackLookup[u]={func:r,scope:q}}return r.apply(q||p,Array.prototype.slice.call(arguments,1))},translate:function(p){var r=this.settings.language||\"en\",q=m.i18n;if(!p){return\"\"}return q[r+\".\"+p]||p.replace(/{\\#([^}]+)\\}/g,function(t,s){return q[r+\".\"+s]||\"{#\"+s+\"}\"})},getLang:function(q,p){return m.i18n[(this.settings.language||\"en\")+\".\"+q]||(d(p)?p:\"{#\"+q+\"}\")},getParam:function(u,r,p){var s=m.trim,q=d(this.settings[u])?this.settings[u]:r,t;if(p===\"hash\"){t={};if(d(q,\"string\")){i(q.indexOf(\"=\")>0?q.split(/[;,](?![^=;,]*(?:[;,]|$))/):q.split(\",\"),function(x){x=x.split(\"=\");if(x.length>1){t[s(x[0])]=s(x[1])}else{t[s(x[0])]=s(x)}})}else{t=q}return t}return q},nodeChanged:function(r){var p=this,q=p.selection,u=q.getStart()||p.getBody();if(p.initialized){r=r||{};u=b&&u.ownerDocument!=p.getDoc()?p.getBody():u;r.parents=[];p.dom.getParent(u,function(s){if(s.nodeName==\"BODY\"){return true}r.parents.push(s)});p.onNodeChange.dispatch(p,r?r.controlManager||p.controlManager:p.controlManager,u,q.isCollapsed(),r)}},addButton:function(r,q){var p=this;p.buttons=p.buttons||{};p.buttons[r]=q},addCommand:function(p,r,q){this.execCommands[p]={func:r,scope:q||this}},addQueryStateHandler:function(p,r,q){this.queryStateCommands[p]={func:r,scope:q||this}},addQueryValueHandler:function(p,r,q){this.queryValueCommands[p]={func:r,scope:q||this}},addShortcut:function(r,u,p,s){var q=this,v;if(!q.settings.custom_shortcuts){return false}q.shortcuts=q.shortcuts||{};if(d(p,\"string\")){v=p;p=function(){q.execCommand(v,false,null)}}if(d(p,\"object\")){v=p;p=function(){q.execCommand(v[0],v[1],v[2])}}i(g(r),function(t){var x={func:p,scope:s||this,desc:u,alt:false,ctrl:false,shift:false};i(g(t,\"+\"),function(y){switch(y){case\"alt\":case\"ctrl\":case\"shift\":x[y]=true;break;default:x.charCode=y.charCodeAt(0);x.keyCode=y.toUpperCase().charCodeAt(0)}});q.shortcuts[(x.ctrl?\"ctrl\":\"\")+\",\"+(x.alt?\"alt\":\"\")+\",\"+(x.shift?\"shift\":\"\")+\",\"+x.keyCode]=x});return true},execCommand:function(x,v,z,p){var r=this,u=0,y,q;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(x)&&(!p||!p.skip_focus)){r.focus()}y={};r.onBeforeExecCommand.dispatch(r,x,v,z,y);if(y.terminate){return false}if(r.execCallback(\"execcommand_callback\",r.id,r.selection.getNode(),x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}if(y=r.execCommands[x]){q=y.func.call(y.scope,v,z);if(q!==true){r.onExecCommand.dispatch(r,x,v,z,p);return q}}i(r.plugins,function(s){if(s.execCommand&&s.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);u=1;return false}});if(u){return true}if(r.theme&&r.theme.execCommand&&r.theme.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}if(r.editorCommands.execCommand(x,v,z)){r.onExecCommand.dispatch(r,x,v,z,p);return true}r.getDoc().execCommand(x,v,z);r.onExecCommand.dispatch(r,x,v,z,p)},queryCommandState:function(u){var q=this,v,r;if(q._isHidden()){return}if(v=q.queryStateCommands[u]){r=v.func.call(v.scope);if(r!==true){return r}}v=q.editorCommands.queryCommandState(u);if(v!==-1){return v}try{return this.getDoc().queryCommandState(u)}catch(p){}},queryCommandValue:function(v){var q=this,u,r;if(q._isHidden()){return}if(u=q.queryValueCommands[v]){r=u.func.call(u.scope);if(r!==true){return r}}u=q.editorCommands.queryCommandValue(v);if(d(u)){return u}try{return this.getDoc().queryCommandValue(v)}catch(p){}},show:function(){var p=this;n.show(p.getContainer());n.hide(p.id);p.load()},hide:function(){var p=this,q=p.getDoc();if(b&&q){q.execCommand(\"SelectAll\")}p.save();n.hide(p.getContainer());n.setStyle(p.id,\"display\",p.orgDisplay)},isHidden:function(){return !n.isHidden(this.id)},setProgressState:function(p,q,r){this.onSetProgressState.dispatch(this,p,q,r);return p},load:function(s){var p=this,r=p.getElement(),q;if(r){s=s||{};s.load=true;q=p.setContent(d(r.value)?r.value:r.innerHTML,s);s.element=r;if(!s.no_events){p.onLoadContent.dispatch(p,s)}s.element=r=null;return q}},save:function(u){var p=this,s=p.getElement(),q,r;if(!s||!p.initialized){return}u=u||{};u.save=true;if(!u.no_events){p.undoManager.typing=false;p.undoManager.add()}u.element=s;q=u.content=p.getContent(u);if(!u.no_events){p.onSaveContent.dispatch(p,u)}q=u.content;if(!/TEXTAREA|INPUT/i.test(s.nodeName)){s.innerHTML=q;if(r=n.getParent(p.id,\"form\")){i(r.elements,function(t){if(t.name==p.id){t.value=q;return false}})}}else{s.value=q}u.element=s=null;return q},setContent:function(u,s){var r=this,q,p=r.getBody(),t;s=s||{};s.format=s.format||\"html\";s.set=true;s.content=u;if(!s.no_events){r.onBeforeSetContent.dispatch(r,s)}u=s.content;if(!m.isIE&&(u.length===0||/^\\s+$/.test(u))){t=r.settings.forced_root_block;if(t){u=\"<\"+t+'><br data-mce-bogus=\"1\"></'+t+\">\"}else{u='<br data-mce-bogus=\"1\">'}p.innerHTML=u;r.selection.select(p,true);r.selection.collapse(true);return}if(s.format!==\"raw\"){u=new m.html.Serializer({},r.schema).serialize(r.parser.parse(u))}s.content=m.trim(u);r.dom.setHTML(p,s.content);if(!s.no_events){r.onSetContent.dispatch(r,s)}r.selection.normalize();return s.content},getContent:function(q){var p=this,r;q=q||{};q.format=q.format||\"html\";q.get=true;if(!q.no_events){p.onBeforeGetContent.dispatch(p,q)}if(q.format==\"raw\"){r=p.getBody().innerHTML}else{r=p.serializer.serialize(p.getBody(),q)}q.content=m.trim(r);if(!q.no_events){p.onGetContent.dispatch(p,q)}return q.content},isDirty:function(){var p=this;return m.trim(p.startContent)!=m.trim(p.getContent({format:\"raw\",no_events:1}))&&!p.isNotDirty},getContainer:function(){var p=this;if(!p.container){p.container=n.get(p.editorContainer||p.id+\"_parent\")}return p.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return n.get(this.settings.content_element||this.id)},getWin:function(){var p=this,q;if(!p.contentWindow){q=n.get(p.id+\"_ifr\");if(q){p.contentWindow=q.contentWindow}}return p.contentWindow},getDoc:function(){var q=this,p;if(!q.contentDocument){p=q.getWin();if(p){q.contentDocument=p.document}}return q.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(p,x,v){var q=this,r=q.settings;if(r.urlconverter_callback){return q.execCallback(\"urlconverter_callback\",p,v,true,x)}if(!r.convert_urls||(v&&v.nodeName==\"LINK\")||p.indexOf(\"file:\")===0){return p}if(r.relative_urls){return q.documentBaseURI.toRelative(p)}p=q.documentBaseURI.toAbsolute(p,r.remove_script_host);return p},addVisual:function(r){var p=this,q=p.settings;r=r||p.getBody();if(!d(p.hasVisual)){p.hasVisual=q.visual}i(p.dom.select(\"table,a\",r),function(t){var s;switch(t.nodeName){case\"TABLE\":s=p.dom.getAttrib(t,\"border\");if(!s||s==\"0\"){if(p.hasVisual){p.dom.addClass(t,q.visual_table_class)}else{p.dom.removeClass(t,q.visual_table_class)}}return;case\"A\":s=p.dom.getAttrib(t,\"name\");if(s){if(p.hasVisual){p.dom.addClass(t,\"mceItemAnchor\")}else{p.dom.removeClass(t,\"mceItemAnchor\")}}return}});p.onVisualAid.dispatch(p,r,p.hasVisual)},remove:function(){var p=this,q=p.getContainer();p.removed=1;p.hide();p.execCallback(\"remove_instance_callback\",p);p.onRemove.dispatch(p);p.onExecCommand.listeners=[];m.remove(p);n.remove(q)},destroy:function(q){var p=this;if(p.destroyed){return}if(!q){m.removeUnload(p.destroy);tinyMCE.onBeforeUnload.remove(p._beforeUnload);if(p.theme&&p.theme.destroy){p.theme.destroy()}p.controlManager.destroy();p.selection.destroy();p.dom.destroy();if(!p.settings.content_editable){j.clear(p.getWin());j.clear(p.getDoc())}j.clear(p.getBody());j.clear(p.formElement)}if(p.formElement){p.formElement.submit=p.formElement._mceOldSubmit;p.formElement._mceOldSubmit=null}p.contentAreaContainer=p.formElement=p.container=p.settings.content_element=p.bodyElement=p.contentDocument=p.contentWindow=null;if(p.selection){p.selection=p.selection.win=p.selection.dom=p.selection.dom.doc=null}p.destroyed=1},_addEvents:function(){var B=this,r,C=B.settings,q=B.dom,x={mouseup:\"onMouseUp\",mousedown:\"onMouseDown\",click:\"onClick\",keyup:\"onKeyUp\",keydown:\"onKeyDown\",keypress:\"onKeyPress\",submit:\"onSubmit\",reset:\"onReset\",contextmenu:\"onContextMenu\",dblclick:\"onDblClick\",paste:\"onPaste\"};function p(t,D){var s=t.type;if(B.removed){return}if(B.onEvent.dispatch(B,t,D)!==false){B[x[t.fakeType||t.type]].dispatch(B,t,D)}}i(x,function(t,s){switch(s){case\"contextmenu\":q.bind(B.getDoc(),s,p);break;case\"paste\":q.bind(B.getBody(),s,function(D){p(D)});break;case\"submit\":case\"reset\":q.bind(B.getElement().form||n.getParent(B.id,\"form\"),s,p);break;default:q.bind(C.content_editable?B.getBody():B.getDoc(),s,p)}});q.bind(C.content_editable?B.getBody():(a?B.getDoc():B.getWin()),\"focus\",function(s){B.focus(true)});if(m.isGecko){q.bind(B.getDoc(),\"DOMNodeInserted\",function(t){var s;t=t.target;if(t.nodeType===1&&t.nodeName===\"IMG\"&&(s=t.getAttribute(\"data-mce-src\"))){t.src=B.documentBaseURI.toAbsolute(s)}})}if(a){function u(){var E=this,G=E.getDoc(),F=E.settings;if(a&&!F.readonly){E._refreshContentEditable();try{G.execCommand(\"styleWithCSS\",0,false)}catch(D){if(!E._isHidden()){try{G.execCommand(\"useCSS\",0,true)}catch(D){}}}if(!F.table_inline_editing){try{G.execCommand(\"enableInlineTableEditing\",false,false)}catch(D){}}if(!F.object_resizing){try{G.execCommand(\"enableObjectResizing\",false,false)}catch(D){}}}}B.onBeforeExecCommand.add(u);B.onMouseDown.add(u)}B.onMouseUp.add(B.nodeChanged);B.onKeyUp.add(function(s,t){var D=t.keyCode;if((D>=33&&D<=36)||(D>=37&&D<=40)||D==13||D==45||D==46||D==8||(m.isMac&&(D==91||D==93))||t.ctrlKey){B.nodeChanged()}});B.onKeyDown.add(function(t,D){if(D.keyCode!=8){return}var F=t.selection.getRng().startContainer;var E=t.selection.getRng().startOffset;while(F&&F.nodeType&&F.nodeType!=1&&F.parentNode){F=F.parentNode}if(F&&F.parentNode&&F.parentNode.tagName===\"BLOCKQUOTE\"&&F.parentNode.firstChild==F&&E==0){t.formatter.toggle(\"blockquote\",null,F.parentNode);var s=t.selection.getRng();s.setStart(F,0);s.setEnd(F,0);t.selection.setRng(s);t.selection.collapse(false)}});B.onReset.add(function(){B.setContent(B.startContent,{format:\"raw\"})});if(C.custom_shortcuts){if(C.custom_undo_redo_keyboard_shortcuts){B.addShortcut(\"ctrl+z\",B.getLang(\"undo_desc\"),\"Undo\");B.addShortcut(\"ctrl+y\",B.getLang(\"redo_desc\"),\"Redo\")}B.addShortcut(\"ctrl+b\",B.getLang(\"bold_desc\"),\"Bold\");B.addShortcut(\"ctrl+i\",B.getLang(\"italic_desc\"),\"Italic\");B.addShortcut(\"ctrl+u\",B.getLang(\"underline_desc\"),\"Underline\");for(r=1;r<=6;r++){B.addShortcut(\"ctrl+\"+r,\"\",[\"FormatBlock\",false,\"h\"+r])}B.addShortcut(\"ctrl+7\",\"\",[\"FormatBlock\",false,\"p\"]);B.addShortcut(\"ctrl+8\",\"\",[\"FormatBlock\",false,\"div\"]);B.addShortcut(\"ctrl+9\",\"\",[\"FormatBlock\",false,\"address\"]);function v(t){var s=null;if(!t.altKey&&!t.ctrlKey&&!t.metaKey){return s}i(B.shortcuts,function(D){if(m.isMac&&D.ctrl!=t.metaKey){return}else{if(!m.isMac&&D.ctrl!=t.ctrlKey){return}}if(D.alt!=t.altKey){return}if(D.shift!=t.shiftKey){return}if(t.keyCode==D.keyCode||(t.charCode&&t.charCode==D.charCode)){s=D;return false}});return s}B.onKeyUp.add(function(s,t){var D=v(t);if(D){return j.cancel(t)}});B.onKeyPress.add(function(s,t){var D=v(t);if(D){return j.cancel(t)}});B.onKeyDown.add(function(s,t){var D=v(t);if(D){D.func.call(D.scope);return j.cancel(t)}})}if(m.isIE){q.bind(B.getDoc(),\"controlselect\",function(D){var t=B.resizeInfo,s;D=D.target;if(D.nodeName!==\"IMG\"){return}if(t){q.unbind(t.node,t.ev,t.cb)}if(!q.hasClass(D,\"mceItemNoResize\")){ev=\"resizeend\";s=q.bind(D,ev,function(F){var E;F=F.target;if(E=q.getStyle(F,\"width\")){q.setAttrib(F,\"width\",E.replace(/[^0-9%]+/g,\"\"));q.setStyle(F,\"width\",\"\")}if(E=q.getStyle(F,\"height\")){q.setAttrib(F,\"height\",E.replace(/[^0-9%]+/g,\"\"));q.setStyle(F,\"height\",\"\")}})}else{ev=\"resizestart\";s=q.bind(D,\"resizestart\",j.cancel,j)}t=B.resizeInfo={node:D,ev:ev,cb:s}})}if(m.isOpera){B.onClick.add(function(s,t){j.prevent(t)})}if(C.custom_undo_redo){function y(){B.undoManager.typing=false;B.undoManager.add()}q.bind(B.getDoc(),\"focusout\",function(s){if(!B.removed&&B.undoManager.typing){y()}});B.dom.bind(B.dom.getRoot(),\"dragend\",function(s){y()});B.onKeyUp.add(function(s,D){var t=D.keyCode;if((t>=33&&t<=36)||(t>=37&&t<=40)||t==13||t==45||D.ctrlKey){y()}});B.onKeyDown.add(function(s,E){var D=E.keyCode,t;if(D==8){t=B.getDoc().selection;if(t&&t.createRange&&t.createRange().item){B.undoManager.beforeChange();s.dom.remove(t.createRange().item(0));y();return j.cancel(E)}}if((D>=33&&D<=36)||(D>=37&&D<=40)||D==13||D==45){if(m.isIE&&D==13){B.undoManager.beforeChange()}if(B.undoManager.typing){y()}return}if((D<16||D>20)&&D!=224&&D!=91&&!B.undoManager.typing){B.undoManager.beforeChange();B.undoManager.typing=true;B.undoManager.add()}});B.onMouseDown.add(function(){if(B.undoManager.typing){y()}})}if(m.isWebKit){q.bind(B.getDoc(),\"selectionchange\",function(){if(B.selectionTimer){clearTimeout(B.selectionTimer);B.selectionTimer=0}B.selectionTimer=window.setTimeout(function(){B.nodeChanged()},50)})}if(m.isGecko){function A(){var s=B.dom.getAttribs(B.selection.getStart().cloneNode(false));return function(){var t=B.selection.getStart();if(t!==B.getBody()){B.dom.removeAllAttribs(t);i(s,function(D){t.setAttributeNode(D.cloneNode(true))})}}}function z(){var t=B.selection;return !t.isCollapsed()&&t.getStart()!=t.getEnd()}B.onKeyPress.add(function(s,D){var t;if((D.keyCode==8||D.keyCode==46)&&z()){t=A();B.getDoc().execCommand(\"delete\",false,null);t();return j.cancel(D)}});B.dom.bind(B.getDoc(),\"cut\",function(t){var s;if(z()){s=A();B.onKeyUp.addToTop(j.cancel,j);setTimeout(function(){s();B.onKeyUp.remove(j.cancel,j)},0)}})}},_refreshContentEditable:function(){var q=this,p,r;if(q._isHidden()){p=q.getBody();r=p.parentNode;r.removeChild(p);r.appendChild(p);p.focus()}},_isHidden:function(){var p;if(!a){return 0}p=this.selection.getSel();return(!p||!p.rangeCount||p.rangeCount==0)}})})(tinymce);(function(c){var d=c.each,e,a=true,b=false;c.EditorCommands=function(n){var m=n.dom,p=n.selection,j={state:{},exec:{},value:{}},k=n.settings,q=n.formatter,o;function r(z,y,x){var v;z=z.toLowerCase();if(v=j.exec[z]){v(z,y,x);return a}return b}function l(x){var v;x=x.toLowerCase();if(v=j.state[x]){return v(x)}return -1}function h(x){var v;x=x.toLowerCase();if(v=j.value[x]){return v(x)}return b}function u(v,x){x=x||\"exec\";d(v,function(z,y){d(y.toLowerCase().split(\",\"),function(A){j[x][A]=z})})}c.extend(this,{execCommand:r,queryCommandState:l,queryCommandValue:h,addCommands:u});function f(y,x,v){if(x===e){x=b}if(v===e){v=null}return n.getDoc().execCommand(y,x,v)}function t(v){return q.match(v)}function s(v,x){q.toggle(v,x?{value:x}:e)}function i(v){o=p.getBookmark(v)}function g(){p.moveToBookmark(o)}u({\"mceResetDesignMode,mceBeginUndoLevel\":function(){},\"mceEndUndoLevel,mceAddUndoLevel\":function(){n.undoManager.add()},\"Cut,Copy,Paste\":function(z){var y=n.getDoc(),v;try{f(z)}catch(x){v=a}if(v||!y.queryCommandSupported(z)){if(c.isGecko){n.windowManager.confirm(n.getLang(\"clipboard_msg\"),function(A){if(A){open(\"http://www.mozilla.org/editor/midasdemo/securityprefs.html\",\"_blank\")}})}else{n.windowManager.alert(n.getLang(\"clipboard_no_support\"))}}},unlink:function(v){if(p.isCollapsed()){p.select(p.getNode())}f(v);p.collapse(b)},\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull\":function(v){var x=v.substring(7);d(\"left,center,right,full\".split(\",\"),function(y){if(x!=y){q.remove(\"align\"+y)}});s(\"align\"+x);r(\"mceRepaint\")},\"InsertUnorderedList,InsertOrderedList\":function(y){var v,x;f(y);v=m.getParent(p.getNode(),\"ol,ul\");if(v){x=v.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(x.nodeName)){i();m.split(x,v);g()}}},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(v){s(v)},\"ForeColor,HiliteColor,FontName\":function(y,x,v){s(y,v)},FontSize:function(z,y,x){var v,A;if(x>=1&&x<=7){A=c.explode(k.font_size_style_values);v=c.explode(k.font_size_classes);if(v){x=v[x-1]||x}else{x=A[x-1]||x}}s(z,x)},RemoveFormat:function(v){q.remove(v)},mceBlockQuote:function(v){s(\"blockquote\")},FormatBlock:function(y,x,v){return s(v||\"p\")},mceCleanup:function(){var v=p.getBookmark();n.setContent(n.getContent({cleanup:a}),{cleanup:a});p.moveToBookmark(v)},mceRemoveNode:function(z,y,x){var v=x||p.getNode();if(v!=n.getBody()){i();n.dom.remove(v,a);g()}},mceSelectNodeDepth:function(z,y,x){var v=0;m.getParent(p.getNode(),function(A){if(A.nodeType==1&&v++==x){p.select(A);return b}},n.getBody())},mceSelectNode:function(y,x,v){p.select(v)},mceInsertContent:function(B,I,K){var y,J,E,z,F,G,D,C,L,x,A,M,v,H;y=n.parser;J=new c.html.Serializer({},n.schema);v='<span id=\"mce_marker\" data-mce-type=\"bookmark\">\\uFEFF</span>';G={content:K,format:\"html\"};p.onBeforeSetContent.dispatch(p,G);K=G.content;if(K.indexOf(\"{$caret}\")==-1){K+=\"{$caret}\"}K=K.replace(/\\{\\$caret\\}/,v);if(!p.isCollapsed()){n.getDoc().execCommand(\"Delete\",false,null)}E=p.getNode();G={context:E.nodeName.toLowerCase()};F=y.parse(K,G);A=F.lastChild;if(A.attr(\"id\")==\"mce_marker\"){D=A;for(A=A.prev;A;A=A.walk(true)){if(A.type==3||!m.isBlock(A.name)){A.parent.insert(D,A,A.name===\"br\");break}}}if(!G.invalid){K=J.serialize(F);A=E.firstChild;M=E.lastChild;if(!A||(A===M&&A.nodeName===\"BR\")){m.setHTML(E,K)}else{p.setContent(K)}}else{p.setContent(v);E=n.selection.getNode();z=n.getBody();if(E.nodeType==9){E=A=z}else{A=E}while(A!==z){E=A;A=A.parentNode}K=E==z?z.innerHTML:m.getOuterHTML(E);K=J.serialize(y.parse(K.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i,function(){return J.serialize(F)})));if(E==z){m.setHTML(z,K)}else{m.setOuterHTML(E,K)}}D=m.get(\"mce_marker\");C=m.getRect(D);L=m.getViewPort(n.getWin());if((C.y+C.h>L.y+L.h||C.y<L.y)||(C.x>L.x+L.w||C.x<L.x)){H=c.isIE?n.getDoc().documentElement:n.getBody();H.scrollLeft=C.x;H.scrollTop=C.y-L.h+25}x=m.createRng();A=D.previousSibling;if(A&&A.nodeType==3){x.setStart(A,A.nodeValue.length)}else{x.setStartBefore(D);x.setEndBefore(D)}m.remove(D);p.setRng(x);p.onSetContent.dispatch(p,G);n.addVisual()},mceInsertRawHTML:function(y,x,v){p.setContent(\"tiny_mce_marker\");n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return v}))},mceSetContent:function(y,x,v){n.setContent(v)},\"Indent,Outdent\":function(z){var x,v,y;x=k.indentation;v=/[a-z%]+$/i.exec(x);x=parseInt(x);if(!l(\"InsertUnorderedList\")&&!l(\"InsertOrderedList\")){d(p.getSelectedBlocks(),function(A){if(z==\"outdent\"){y=Math.max(0,parseInt(A.style.paddingLeft||0)-x);m.setStyle(A,\"paddingLeft\",y?y+v:\"\")}else{m.setStyle(A,\"paddingLeft\",(parseInt(A.style.paddingLeft||0)+x)+v)}})}else{f(z)}},mceRepaint:function(){var x;if(c.isGecko){try{i(a);if(p.getSel()){p.getSel().selectAllChildren(n.getBody())}p.collapse(a);g()}catch(v){}}},mceToggleFormat:function(y,x,v){q.toggle(v)},InsertHorizontalRule:function(){n.execCommand(\"mceInsertContent\",false,\"<hr />\")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual;n.addVisual()},mceReplaceContent:function(y,x,v){n.execCommand(\"mceInsertContent\",false,v.replace(/\\{\\$selection\\}/g,p.getContent({format:\"text\"})))},mceInsertLink:function(z,y,x){var v;if(typeof(x)==\"string\"){x={href:x}}v=m.getParent(p.getNode(),\"a\");x.href=x.href.replace(\" \",\"%20\");if(!v||!x.href){q.remove(\"link\")}if(x.href){q.apply(\"link\",x,v)}},selectAll:function(){var x=m.getRoot(),v=m.createRng();v.setStart(x,0);v.setEnd(x,x.childNodes.length);n.selection.setRng(v)}});u({\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull\":function(v){return t(\"align\"+v.substring(7))},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(v){return t(v)},mceBlockQuote:function(){return t(\"blockquote\")},Outdent:function(){var v;if(k.inline_styles){if((v=m.getParent(p.getStart(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}if((v=m.getParent(p.getEnd(),m.isBlock))&&parseInt(v.style.paddingLeft)>0){return a}}return l(\"InsertUnorderedList\")||l(\"InsertOrderedList\")||(!k.inline_styles&&!!m.getParent(p.getNode(),\"BLOCKQUOTE\"))},\"InsertUnorderedList,InsertOrderedList\":function(v){return m.getParent(p.getNode(),v==\"insertunorderedlist\"?\"UL\":\"OL\")}},\"state\");u({\"FontSize,FontName\":function(y){var x=0,v;if(v=m.getParent(p.getNode(),\"span\")){if(y==\"fontsize\"){x=v.style.fontSize}else{x=v.style.fontFamily.replace(/, /g,\",\").replace(/[\\'\\\"]/g,\"\").toLowerCase()}}return x}},\"value\");if(k.custom_undo_redo){u({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}})(tinymce);(function(b){var a=b.util.Dispatcher;b.UndoManager=function(f){var d,e=0,h=[],c;function g(){return b.trim(f.getContent({format:\"raw\",no_events:1}))}return d={typing:false,onAdd:new a(d),onUndo:new a(d),onRedo:new a(d),beforeChange:function(){c=f.selection.getBookmark(2,true)},add:function(m){var j,k=f.settings,l;m=m||{};m.content=g();l=h[e];if(l&&l.content==m.content){return null}if(h[e]){h[e].beforeBookmark=c}if(k.custom_undo_redo_levels){if(h.length>k.custom_undo_redo_levels){for(j=0;j<h.length-1;j++){h[j]=h[j+1]}h.length--;e=h.length}}m.bookmark=f.selection.getBookmark(2,true);if(e<h.length-1){h.length=e+1}h.push(m);e=h.length-1;d.onAdd.dispatch(d,m);f.isNotDirty=0;return m},undo:function(){var k,j;if(d.typing){d.add();d.typing=false}if(e>0){k=h[--e];f.setContent(k.content,{format:\"raw\"});f.selection.moveToBookmark(k.beforeBookmark);d.onUndo.dispatch(d,k)}return k},redo:function(){var i;if(e<h.length-1){i=h[++e];f.setContent(i.content,{format:\"raw\"});f.selection.moveToBookmark(i.bookmark);d.onRedo.dispatch(d,i)}return i},clear:function(){h=[];e=0;d.typing=false},hasUndo:function(){return e>0||this.typing},hasRedo:function(){return e<h.length-1&&!this.typing}}}})(tinymce);(function(l){var j=l.dom.Event,c=l.isIE,a=l.isGecko,b=l.isOpera,i=l.each,h=l.extend,d=true,g=false;function k(o){var p,n,m;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(o.nodeName)){if(p){n=o.cloneNode(false);n.appendChild(p);p=n}else{p=m=o.cloneNode(false)}p.removeAttribute(\"id\")}}while(o=o.parentNode);if(p){return{wrapper:p,inner:m}}}function f(n,o){var m=o.ownerDocument.createRange();m.setStart(n.endContainer,n.endOffset);m.setEndAfter(o);return m.cloneContents().textContent.length==0}function e(o,q,m){var n,p;if(q.isEmpty(m)){n=q.getParent(m,\"ul,ol\");if(!q.getParent(n.parentNode,\"ul,ol\")){q.split(n,m);p=q.create(\"p\",0,'<br data-mce-bogus=\"1\" />');q.replace(p,m);o.select(p,1)}return g}return d}l.create(\"tinymce.ForceBlocks\",{ForceBlocks:function(m){var n=this,o=m.settings,p;n.editor=m;n.dom=m.dom;p=(o.forced_root_block||\"p\").toLowerCase();o.element=p.toUpperCase();m.onPreInit.add(n.setup,n)},setup:function(){var n=this,m=n.editor,p=m.settings,u=m.dom,o=m.selection,q=m.schema.getBlockElements();if(p.forced_root_block){function v(){var y=o.getStart(),t=m.getBody(),s,z,D,F,E,x,A,B=-16777215;if(!y||y.nodeType!==1){return}while(y!=t){if(q[y.nodeName]){return}y=y.parentNode}s=o.getRng();if(s.setStart){z=s.startContainer;D=s.startOffset;F=s.endContainer;E=s.endOffset}else{if(s.item){s=m.getDoc().body.createTextRange();s.moveToElementText(s.item(0))}tmpRng=s.duplicate();tmpRng.collapse(true);D=tmpRng.move(\"character\",B)*-1;if(!tmpRng.collapsed){tmpRng=s.duplicate();tmpRng.collapse(false);E=(tmpRng.move(\"character\",B)*-1)-D}}for(y=t.firstChild;y;y){if(y.nodeType===3||(y.nodeType==1&&!q[y.nodeName])){if(!x){x=u.create(p.forced_root_block);y.parentNode.insertBefore(x,y)}A=y;y=y.nextSibling;x.appendChild(A)}else{x=null;y=y.nextSibling}}if(s.setStart){s.setStart(z,D);s.setEnd(F,E);o.setRng(s)}else{try{s=m.getDoc().body.createTextRange();s.moveToElementText(t);s.collapse(true);s.moveStart(\"character\",D);if(E>0){s.moveEnd(\"character\",E)}s.select()}catch(C){}}m.nodeChanged()}m.onKeyUp.add(v);m.onClick.add(v)}if(p.force_br_newlines){if(c){m.onKeyPress.add(function(s,t){var x;if(t.keyCode==13&&o.getNode().nodeName!=\"LI\"){o.setContent('<br id=\"__\" /> ',{format:\"raw\"});x=u.get(\"__\");x.removeAttribute(\"id\");o.select(x);o.collapse();return j.cancel(t)}})}}if(p.force_p_newlines){if(!c){m.onKeyPress.add(function(s,t){if(t.keyCode==13&&!t.shiftKey&&!n.insertPara(t)){j.cancel(t)}})}else{l.addUnload(function(){n._previousFormats=0});m.onKeyPress.add(function(s,t){n._previousFormats=0;if(t.keyCode==13&&!t.shiftKey&&s.selection.isCollapsed()&&p.keep_styles){n._previousFormats=k(s.selection.getStart())}});m.onKeyUp.add(function(t,y){if(y.keyCode==13&&!y.shiftKey){var x=t.selection.getStart(),s=n._previousFormats;if(!x.hasChildNodes()&&s){x=u.getParent(x,u.isBlock);if(x&&x.nodeName!=\"LI\"){x.innerHTML=\"\";if(n._previousFormats){x.appendChild(s.wrapper);s.inner.innerHTML=\"\\uFEFF\"}else{x.innerHTML=\"\\uFEFF\"}o.select(x,1);o.collapse(true);t.getDoc().execCommand(\"Delete\",false,null);n._previousFormats=0}}}})}if(a){m.onKeyDown.add(function(s,t){if((t.keyCode==8||t.keyCode==46)&&!t.shiftKey){n.backspaceDelete(t,t.keyCode==8)}})}}if(l.isWebKit){function r(t){var s=o.getRng(),x,A=u.create(\"div\",null,\" \"),z,y=u.getViewPort(t.getWin()).h;s.insertNode(x=u.create(\"br\"));s.setStartAfter(x);s.setEndAfter(x);o.setRng(s);if(o.getSel().focusNode==x.previousSibling){o.select(u.insertAfter(u.doc.createTextNode(\"\\u00a0\"),x));o.collapse(d)}u.insertAfter(A,x);z=u.getPos(A).y;u.remove(A);if(z>y){t.getWin().scrollTo(0,z)}}m.onKeyPress.add(function(s,t){if(t.keyCode==13&&(t.shiftKey||(p.force_br_newlines&&!u.getParent(o.getNode(),\"h1,h2,h3,h4,h5,h6,ol,ul\")))){r(s);j.cancel(t)}})}if(c){if(p.element!=\"P\"){m.onKeyPress.add(function(s,t){n.lastElm=o.getNode().nodeName});m.onKeyUp.add(function(t,x){var z,y=o.getNode(),s=t.getBody();if(s.childNodes.length===1&&y.nodeName==\"P\"){y=u.rename(y,p.element);o.select(y);o.collapse();t.nodeChanged()}else{if(x.keyCode==13&&!x.shiftKey&&n.lastElm!=\"P\"){z=u.getParent(y,\"p\");if(z){u.rename(z,p.element);t.nodeChanged()}}}})}}},getParentBlock:function(o){var m=this.dom;return m.getParent(o,m.isBlock)},insertPara:function(Q){var E=this,v=E.editor,M=v.dom,R=v.getDoc(),V=v.settings,F=v.selection.getSel(),G=F.getRangeAt(0),U=R.body;var J,K,H,O,N,q,o,u,z,m,C,T,p,x,I,L=M.getViewPort(v.getWin()),B,D,A;v.undoManager.beforeChange();J=R.createRange();J.setStart(F.anchorNode,F.anchorOffset);J.collapse(d);K=R.createRange();K.setStart(F.focusNode,F.focusOffset);K.collapse(d);H=J.compareBoundaryPoints(J.START_TO_END,K)<0;O=H?F.anchorNode:F.focusNode;N=H?F.anchorOffset:F.focusOffset;q=H?F.focusNode:F.anchorNode;o=H?F.focusOffset:F.anchorOffset;if(O===q&&/^(TD|TH)$/.test(O.nodeName)){if(O.firstChild.nodeName==\"BR\"){M.remove(O.firstChild)}if(O.childNodes.length==0){v.dom.add(O,V.element,null,\"<br />\");T=v.dom.add(O,V.element,null,\"<br />\")}else{I=O.innerHTML;O.innerHTML=\"\";v.dom.add(O,V.element,null,I);T=v.dom.add(O,V.element,null,\"<br />\")}G=R.createRange();G.selectNodeContents(T);G.collapse(1);v.selection.setRng(G);return g}if(O==U&&q==U&&U.firstChild&&v.dom.isBlock(U.firstChild)){O=q=O.firstChild;N=o=0;J=R.createRange();J.setStart(O,0);K=R.createRange();K.setStart(q,0)}if(!R.body.hasChildNodes()){R.body.appendChild(M.create(\"br\"))}O=O.nodeName==\"HTML\"?R.body:O;O=O.nodeName==\"BODY\"?O.firstChild:O;q=q.nodeName==\"HTML\"?R.body:q;q=q.nodeName==\"BODY\"?q.firstChild:q;u=E.getParentBlock(O);z=E.getParentBlock(q);m=u?u.nodeName:V.element;if(I=E.dom.getParent(u,\"li,pre\")){if(I.nodeName==\"LI\"){return e(v.selection,E.dom,I)}return d}if(u&&(u.nodeName==\"CAPTION\"||/absolute|relative|fixed/gi.test(M.getStyle(u,\"position\",1)))){m=V.element;u=null}if(z&&(z.nodeName==\"CAPTION\"||/absolute|relative|fixed/gi.test(M.getStyle(u,\"position\",1)))){m=V.element;z=null}if(/(TD|TABLE|TH|CAPTION)/.test(m)||(u&&m==\"DIV\"&&/left|right/gi.test(M.getStyle(u,\"float\",1)))){m=V.element;u=z=null}C=(u&&u.nodeName==m)?u.cloneNode(0):v.dom.create(m);T=(z&&z.nodeName==m)?z.cloneNode(0):v.dom.create(m);T.removeAttribute(\"id\");if(/^(H[1-6])$/.test(m)&&f(G,u)){T=v.dom.create(V.element)}I=p=O;do{if(I==U||I.nodeType==9||E.dom.isBlock(I)||/(TD|TABLE|TH|CAPTION)/.test(I.nodeName)){break}p=I}while((I=I.previousSibling?I.previousSibling:I.parentNode));I=x=q;do{if(I==U||I.nodeType==9||E.dom.isBlock(I)||/(TD|TABLE|TH|CAPTION)/.test(I.nodeName)){break}x=I}while((I=I.nextSibling?I.nextSibling:I.parentNode));if(p.nodeName==m){J.setStart(p,0)}else{J.setStartBefore(p)}J.setEnd(O,N);C.appendChild(J.cloneContents()||R.createTextNode(\"\"));try{K.setEndAfter(x)}catch(P){}K.setStart(q,o);T.appendChild(K.cloneContents()||R.createTextNode(\"\"));G=R.createRange();if(!p.previousSibling&&p.parentNode.nodeName==m){G.setStartBefore(p.parentNode)}else{if(J.startContainer.nodeName==m&&J.startOffset==0){G.setStartBefore(J.startContainer)}else{G.setStart(J.startContainer,J.startOffset)}}if(!x.nextSibling&&x.parentNode.nodeName==m){G.setEndAfter(x.parentNode)}else{G.setEnd(K.endContainer,K.endOffset)}G.deleteContents();if(b){v.getWin().scrollTo(0,L.y)}if(C.firstChild&&C.firstChild.nodeName==m){C.innerHTML=C.firstChild.innerHTML}if(T.firstChild&&T.firstChild.nodeName==m){T.innerHTML=T.firstChild.innerHTML}function S(y,s){var r=[],X,W,t;y.innerHTML=\"\";if(V.keep_styles){W=s;do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(W.nodeName)){X=W.cloneNode(g);M.setAttrib(X,\"id\",\"\");r.push(X)}}while(W=W.parentNode)}if(r.length>0){for(t=r.length-1,X=y;t>=0;t--){X=X.appendChild(r[t])}r[0].innerHTML=b?\"\\u00a0\":\"<br />\";return r[0]}else{y.innerHTML=b?\"\\u00a0\":\"<br />\"}}if(M.isEmpty(C)){S(C,O)}if(M.isEmpty(T)){A=S(T,q)}if(b&&parseFloat(opera.version())<9.5){G.insertNode(C);G.insertNode(T)}else{G.insertNode(T);G.insertNode(C)}T.normalize();C.normalize();v.selection.select(T,true);v.selection.collapse(true);B=v.dom.getPos(T).y;if(B<L.y||B+25>L.y+L.h){v.getWin().scrollTo(0,B<L.y?B:B-L.h+25)}v.undoManager.add();return g},backspaceDelete:function(u,B){var C=this,s=C.editor,y=s.getBody(),q=s.dom,p,v=s.selection,o=v.getRng(),x=o.startContainer,p,z,A,m;if(!B&&o.collapsed&&x.nodeType==1&&o.startOffset==x.childNodes.length){m=new l.dom.TreeWalker(x.lastChild,x);for(p=x.lastChild;p;p=m.prev()){if(p.nodeType==3){o.setStart(p,p.nodeValue.length);o.collapse(true);v.setRng(o);return}}}if(x&&s.dom.isBlock(x)&&!/^(TD|TH)$/.test(x.nodeName)&&B){if(x.childNodes.length==0||(x.childNodes.length==1&&x.firstChild.nodeName==\"BR\")){p=x;while((p=p.previousSibling)&&!s.dom.isBlock(p)){}if(p){if(x!=y.firstChild){z=s.dom.doc.createTreeWalker(p,NodeFilter.SHOW_TEXT,null,g);while(A=z.nextNode()){p=A}o=s.getDoc().createRange();o.setStart(p,p.nodeValue?p.nodeValue.length:0);o.setEnd(p,p.nodeValue?p.nodeValue.length:0);v.setRng(o);s.dom.remove(x)}return j.cancel(u)}}}}})})(tinymce);(function(c){var b=c.DOM,a=c.dom.Event,d=c.each,e=c.extend;c.create(\"tinymce.ControlManager\",{ControlManager:function(f,j){var h=this,g;j=j||{};h.editor=f;h.controls={};h.onAdd=new c.util.Dispatcher(h);h.onPostRender=new c.util.Dispatcher(h);h.prefix=j.prefix||f.id+\"_\";h._cls={};h.onPostRender.add(function(){d(h.controls,function(i){i.postRender()})})},get:function(f){return this.controls[this.prefix+f]||this.controls[f]},setActive:function(h,f){var g=null;if(g=this.get(h)){g.setActive(f)}return g},setDisabled:function(h,f){var g=null;if(g=this.get(h)){g.setDisabled(f)}return g},add:function(g){var f=this;if(g){f.controls[g.id]=g;f.onAdd.dispatch(g,f)}return g},createControl:function(i){var h,g=this,f=g.editor;d(f.plugins,function(j){if(j.createControl){h=j.createControl(i,g);if(h){return false}}});switch(i){case\"|\":case\"separator\":return g.createSeparator()}if(!h&&f.buttons&&(h=f.buttons[i])){return g.createButton(i,h)}return g.add(h)},createDropMenu:function(f,n,h){var m=this,i=m.editor,j,g,k,l;n=e({\"class\":\"mceDropDown\",constrain:i.settings.constrain_menus},n);n[\"class\"]=n[\"class\"]+\" \"+i.getParam(\"skin\")+\"Skin\";if(k=i.getParam(\"skin_variant\")){n[\"class\"]+=\" \"+i.getParam(\"skin\")+\"Skin\"+k.substring(0,1).toUpperCase()+k.substring(1)}f=m.prefix+f;l=h||m._cls.dropmenu||c.ui.DropMenu;j=m.controls[f]=new l(f,n);j.onAddItem.add(function(r,q){var p=q.settings;p.title=i.getLang(p.title,p.title);if(!p.onclick){p.onclick=function(o){if(p.cmd){i.execCommand(p.cmd,p.ui||false,p.value)}}}});i.onRemove.add(function(){j.destroy()});if(c.isIE){j.onShowMenu.add(function(){i.focus();g=i.selection.getBookmark(1)});j.onHideMenu.add(function(){if(g){i.selection.moveToBookmark(g);g=0}})}return m.add(j)},createListBox:function(f,n,h){var l=this,j=l.editor,i,k,m;if(l.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=e({title:n.title,\"class\":\"mce_\"+f,scope:n.scope,control_manager:l},n);f=l.prefix+f;function g(o){return o.settings.use_accessible_selects&&!c.isGecko}if(j.settings.use_native_selects||g(j)){k=new c.ui.NativeListBox(f,n)}else{m=h||l._cls.listbox||c.ui.ListBox;k=new m(f,n,j)}l.controls[f]=k;if(c.isWebKit){k.onPostRender.add(function(p,o){a.add(o,\"mousedown\",function(){j.bookmark=j.selection.getBookmark(1)});a.add(o,\"focus\",function(){j.selection.moveToBookmark(j.bookmark);j.bookmark=null})})}if(k.hideMenu){j.onMouseDown.add(k.hideMenu,k)}return l.add(k)},createButton:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.label=g.translate(i.label);i.scope=i.scope||g;if(!i.onclick&&!i.menu_button){i.onclick=function(){g.execCommand(i.cmd,i.ui||false,i.value)}}i=e({title:i.title,\"class\":\"mce_\"+m,unavailable_prefix:g.getLang(\"unavailable\",\"\"),scope:i.scope,control_manager:h},i);m=h.prefix+m;if(i.menu_button){f=l||h._cls.menubutton||c.ui.MenuButton;k=new f(m,i,g);g.onMouseDown.add(k.hideMenu,k)}else{f=h._cls.button||c.ui.Button;k=new f(m,i,g)}return h.add(k)},createMenuButton:function(h,f,g){f=f||{};f.menu_button=1;return this.createButton(h,f,g)},createSplitButton:function(m,i,l){var h=this,g=h.editor,j,k,f;if(h.get(m)){return null}i.title=g.translate(i.title);i.scope=i.scope||g;if(!i.onclick){i.onclick=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}if(!i.onselect){i.onselect=function(n){g.execCommand(i.cmd,i.ui||false,n||i.value)}}i=e({title:i.title,\"class\":\"mce_\"+m,scope:i.scope,control_manager:h},i);m=h.prefix+m;f=l||h._cls.splitbutton||c.ui.SplitButton;k=h.add(new f(m,i,g));g.onMouseDown.add(k.hideMenu,k);return k},createColorSplitButton:function(f,n,h){var l=this,j=l.editor,i,k,m,g;if(l.get(f)){return null}n.title=j.translate(n.title);n.scope=n.scope||j;if(!n.onclick){n.onclick=function(o){if(c.isIE){g=j.selection.getBookmark(1)}j.execCommand(n.cmd,n.ui||false,o||n.value)}}if(!n.onselect){n.onselect=function(o){j.execCommand(n.cmd,n.ui||false,o||n.value)}}n=e({title:n.title,\"class\":\"mce_\"+f,menu_class:j.getParam(\"skin\")+\"Skin\",scope:n.scope,more_colors_title:j.getLang(\"more_colors\")},n);f=l.prefix+f;m=h||l._cls.colorsplitbutton||c.ui.ColorSplitButton;k=new m(f,n,j);j.onMouseDown.add(k.hideMenu,k);j.onRemove.add(function(){k.destroy()});if(c.isIE){k.onShowMenu.add(function(){j.focus();g=j.selection.getBookmark(1)});k.onHideMenu.add(function(){if(g){j.selection.moveToBookmark(g);g=0}})}return l.add(k)},createToolbar:function(k,h,j){var i,g=this,f;k=g.prefix+k;f=j||g._cls.toolbar||c.ui.Toolbar;i=new f(k,h,g.editor);if(g.get(k)){return null}return g.add(i)},createToolbarGroup:function(k,h,j){var i,g=this,f;k=g.prefix+k;f=j||this._cls.toolbarGroup||c.ui.ToolbarGroup;i=new f(k,h,g.editor);if(g.get(k)){return null}return g.add(i)},createSeparator:function(g){var f=g||this._cls.separator||c.ui.Separator;return new f()},setControlType:function(g,f){return this._cls[g.toLowerCase()]=f},destroy:function(){d(this.controls,function(f){f.destroy()});this.controls=null}})})(tinymce);(function(d){var a=d.util.Dispatcher,e=d.each,c=d.isIE,b=d.isOpera;d.create(\"tinymce.WindowManager\",{WindowManager:function(f){var g=this;g.editor=f;g.onOpen=new a(g);g.onClose=new a(g);g.params={};g.features={}},open:function(z,h){var v=this,k=\"\",n,m,i=v.editor.settings.dialog_type==\"modal\",q,o,j,g=d.DOM.getViewPort(),r;z=z||{};h=h||{};o=b?g.w:screen.width;j=b?g.h:screen.height;z.name=z.name||\"mc_\"+new Date().getTime();z.width=parseInt(z.width||320);z.height=parseInt(z.height||240);z.resizable=true;z.left=z.left||parseInt(o/2)-(z.width/2);z.top=z.top||parseInt(j/2)-(z.height/2);h.inline=false;h.mce_width=z.width;h.mce_height=z.height;h.mce_auto_focus=z.auto_focus;if(i){if(c){z.center=true;z.help=false;z.dialogWidth=z.width+\"px\";z.dialogHeight=z.height+\"px\";z.scroll=z.scrollbars||false}}e(z,function(p,f){if(d.is(p,\"boolean\")){p=p?\"yes\":\"no\"}if(!/^(name|url)$/.test(f)){if(c&&i){k+=(k?\";\":\"\")+f+\":\"+p}else{k+=(k?\",\":\"\")+f+\"=\"+p}}});v.features=z;v.params=h;v.onOpen.dispatch(v,z,h);r=z.url||z.file;r=d._addVer(r);try{if(c&&i){q=1;window.showModalDialog(r,window,k)}else{q=window.open(r,z.name,k)}}catch(l){}if(!q){alert(v.editor.getLang(\"popup_blocked\"))}},close:function(f){f.close();this.onClose.dispatch(this)},createInstance:function(i,h,g,m,l,k){var j=d.resolve(i);return new j(h,g,m,l,k)},confirm:function(h,f,i,g){g=g||window;f.call(i||this,g.confirm(this._decode(this.editor.getLang(h,h))))},alert:function(h,f,j,g){var i=this;g=g||window;g.alert(i._decode(i.editor.getLang(h,h)));if(f){f.call(j||i)}},resizeBy:function(f,g,h){h.resizeBy(f,g)},_decode:function(f){return d.DOM.decode(f).replace(/\\\\n/g,\"\\n\")}})}(tinymce));(function(a){a.Formatter=function(V){var M={},O=a.each,c=V.dom,q=V.selection,t=a.dom.TreeWalker,K=new a.dom.RangeUtils(c),d=V.schema.isValidChild,F=c.isBlock,l=V.settings.forced_root_block,s=c.nodeIndex,E=\"\\uFEFF\",e=/^(src|href|style)$/,S=false,B=true,p,P={apply:[],remove:[]};function z(W){return W instanceof Array}function m(X,W){return c.getParents(X,W,c.getRoot())}function b(W){return W.nodeType===1&&(W.face===\"mceinline\"||W.style.fontFamily===\"mceinline\")}function R(W){return W?M[W]:M}function k(W,X){if(W){if(typeof(W)!==\"string\"){O(W,function(Z,Y){k(Y,Z)})}else{X=X.length?X:[X];O(X,function(Y){if(Y.deep===p){Y.deep=!Y.selector}if(Y.split===p){Y.split=!Y.selector||Y.inline}if(Y.remove===p&&Y.selector&&!Y.inline){Y.remove=\"none\"}if(Y.selector&&Y.inline){Y.mixed=true;Y.block_expand=true}if(typeof(Y.classes)===\"string\"){Y.classes=Y.classes.split(/\\s+/)}});M[W]=X}}}var i=function(X){var W;V.dom.getParent(X,function(Y){W=V.dom.getStyle(Y,\"text-decoration\");return W&&W!==\"none\"});return W};var I=function(W){var X;if(W.nodeType===1&&W.parentNode&&W.parentNode.nodeType===1){X=i(W.parentNode);if(V.dom.getStyle(W,\"color\")&&X){V.dom.setStyle(W,\"text-decoration\",X)}else{if(V.dom.getStyle(W,\"textdecoration\")===X){V.dom.setStyle(W,\"text-decoration\",null)}}}};function T(Z,ah,ac){var ad=R(Z),ai=ad[0],ag,X,af,ae=q.isCollapsed();function aa(am){var al=am.startContainer,ap=am.startOffset,ao,an;if(al.nodeType==1||al.nodeValue===\"\"){al=al.nodeType==1?al.childNodes[ap]:al;if(al){ao=new t(al,al.parentNode);for(an=ao.current();an;an=ao.next()){if(an.nodeType==3&&!f(an)){am.setStart(an,0);break}}}}return am}function W(am,al){al=al||ai;if(am){if(al.onformat){al.onformat(am,al,ah,ac)}O(al.styles,function(ao,an){c.setStyle(am,an,r(ao,ah))});O(al.attributes,function(ao,an){c.setAttrib(am,an,r(ao,ah))});O(al.classes,function(an){an=r(an,ah);if(!c.hasClass(am,an)){c.addClass(am,an)}})}}function ab(){function an(au,ar){var at=new t(ar);for(ac=at.current();ac;ac=at.prev()){if(ac.childNodes.length>1||ac==au){return ac}}}var am=V.selection.getRng();var aq=am.startContainer;var al=am.endContainer;if(aq!=al&&am.endOffset==0){var ap=an(aq,al);var ao=ap.nodeType==3?ap.length:ap.childNodes.length;am.setEnd(ap,ao)}return am}function Y(ao,au,ar,aq,am){var al=[],an=-1,at,aw=-1,ap=-1,av;O(ao.childNodes,function(ay,ax){if(ay.nodeName===\"UL\"||ay.nodeName===\"OL\"){an=ax;at=ay;return false}});O(ao.childNodes,function(ay,ax){if(ay.nodeName===\"SPAN\"&&c.getAttrib(ay,\"data-mce-type\")==\"bookmark\"){if(ay.id==au.id+\"_start\"){aw=ax}else{if(ay.id==au.id+\"_end\"){ap=ax}}}});if(an<=0||(aw<an&&ap>an)){O(a.grep(ao.childNodes),am);return 0}else{av=ar.cloneNode(S);O(a.grep(ao.childNodes),function(ay,ax){if((aw<an&&ax<an)||(aw>an&&ax>an)){al.push(ay);ay.parentNode.removeChild(ay)}});if(aw<an){ao.insertBefore(av,at)}else{if(aw>an){ao.insertBefore(av,at.nextSibling)}}aq.push(av);O(al,function(ax){av.appendChild(ax)});return av}}function aj(am,ao){var al=[],ap,an;ap=ai.inline||ai.block;an=c.create(ap);W(an);K.walk(am,function(aq){var ar;function at(au){var ax=au.nodeName.toLowerCase(),aw=au.parentNode.nodeName.toLowerCase(),av;if(g(ax,\"br\")){ar=0;if(ai.block){c.remove(au)}return}if(ai.wrapper&&x(au,Z,ah)){ar=0;return}if(ai.block&&!ai.wrapper&&G(ax)){au=c.rename(au,ap);W(au);al.push(au);ar=0;return}if(ai.selector){O(ad,function(ay){if(\"collapsed\" in ay&&ay.collapsed!==ae){return}if(c.is(au,ay.selector)&&!b(au)){W(au,ay);av=true}});if(!ai.inline||av){ar=0;return}}if(d(ap,ax)&&d(aw,ap)&&!(au.nodeType===3&&au.nodeValue.length===1&&au.nodeValue.charCodeAt(0)===65279)){if(!ar){ar=an.cloneNode(S);au.parentNode.insertBefore(ar,au);al.push(ar)}ar.appendChild(au)}else{if(ax==\"li\"&&ao){ar=Y(au,ao,an,al,at)}else{ar=0;O(a.grep(au.childNodes),at);ar=0}}}O(aq,at)});if(ai.wrap_links===false){O(al,function(aq){function ar(aw){var av,au,at;if(aw.nodeName===\"A\"){au=an.cloneNode(S);al.push(au);at=a.grep(aw.childNodes);for(av=0;av<at.length;av++){au.appendChild(at[av])}aw.appendChild(au)}O(a.grep(aw.childNodes),ar)}ar(aq)})}O(al,function(at){var aq;function au(aw){var av=0;O(aw.childNodes,function(ax){if(!f(ax)&&!H(ax)){av++}});return av}function ar(av){var ax,aw;O(av.childNodes,function(ay){if(ay.nodeType==1&&!H(ay)&&!b(ay)){ax=ay;return S}});if(ax&&h(ax,ai)){aw=ax.cloneNode(S);W(aw);c.replace(aw,av,B);c.remove(ax,1)}return aw||av}aq=au(at);if((al.length>1||!F(at))&&aq===0){c.remove(at,1);return}if(ai.inline||ai.wrapper){if(!ai.exact&&aq===1){at=ar(at)}O(ad,function(av){O(c.select(av.inline,at),function(ax){var aw;if(av.wrap_links===false){aw=ax.parentNode;do{if(aw.nodeName===\"A\"){return}}while(aw=aw.parentNode)}U(av,ah,ax,av.exact?ax:null)})});if(x(at.parentNode,Z,ah)){c.remove(at,1);at=0;return B}if(ai.merge_with_parents){c.getParent(at.parentNode,function(av){if(x(av,Z,ah)){c.remove(at,1);at=0;return B}})}if(at&&ai.merge_siblings!==false){at=u(C(at),at);at=u(at,C(at,B))}}})}if(ai){if(ac){X=c.createRng();X.setStartBefore(ac);X.setEndAfter(ac);aj(o(X,ad))}else{if(!ae||!ai.inline||c.select(\"td.mceSelected,th.mceSelected\").length){var ak=V.selection.getNode();V.selection.setRng(ab());ag=q.getBookmark();aj(o(q.getRng(B),ad),ag);if(ai.styles&&(ai.styles.color||ai.styles.textDecoration)){a.walk(ak,I,\"childNodes\");I(ak)}q.moveToBookmark(ag);q.setRng(aa(q.getRng(B)));V.nodeChanged()}else{Q(\"apply\",Z,ah)}}}}function A(Y,ah,ab){var ac=R(Y),aj=ac[0],ag,af,X;function aa(am){var al=am.startContainer,ar=am.startOffset,aq,ap,an,ao;if(al.nodeType==3&&ar>=al.nodeValue.length-1){al=al.parentNode;ar=s(al)+1}if(al.nodeType==1){an=al.childNodes;al=an[Math.min(ar,an.length-1)];aq=new t(al);if(ar>an.length-1){aq.next()}for(ap=aq.current();ap;ap=aq.next()){if(ap.nodeType==3&&!f(ap)){ao=c.create(\"a\",null,E);ap.parentNode.insertBefore(ao,ap);am.setStart(ap,0);q.setRng(am);c.remove(ao);return}}}}function Z(ao){var an,am,al;an=a.grep(ao.childNodes);for(am=0,al=ac.length;am<al;am++){if(U(ac[am],ah,ao,ao)){break}}if(aj.deep){for(am=0,al=an.length;am<al;am++){Z(an[am])}}}function ad(al){var am;O(m(al.parentNode).reverse(),function(an){var ao;if(!am&&an.id!=\"_start\"&&an.id!=\"_end\"){ao=x(an,Y,ah);if(ao&&ao.split!==false){am=an}}});return am}function W(ao,al,aq,au){var av,at,ar,an,ap,am;if(ao){am=ao.parentNode;for(av=al.parentNode;av&&av!=am;av=av.parentNode){at=av.cloneNode(S);for(ap=0;ap<ac.length;ap++){if(U(ac[ap],ah,at,at)){at=0;break}}if(at){if(ar){at.appendChild(ar)}if(!an){an=at}ar=at}}if(au&&(!aj.mixed||!F(ao))){al=c.split(ao,al)}if(ar){aq.parentNode.insertBefore(ar,aq);an.appendChild(aq)}}return al}function ai(al){return W(ad(al),al,al,true)}function ae(an){var am=c.get(an?\"_start\":\"_end\"),al=am[an?\"firstChild\":\"lastChild\"];if(H(al)){al=al[an?\"firstChild\":\"lastChild\"]}c.remove(am,true);return al}function ak(al){var am,an;al=o(al,ac,B);if(aj.split){am=J(al,B);an=J(al);if(am!=an){am=N(am,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"});an=N(an,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"});ai(am);ai(an);am=ae(B);an=ae()}else{am=an=ai(am)}al.startContainer=am.parentNode;al.startOffset=s(am);al.endContainer=an.parentNode;al.endOffset=s(an)+1}K.walk(al,function(ao){O(ao,function(ap){Z(ap);if(ap.nodeType===1&&V.dom.getStyle(ap,\"text-decoration\")===\"underline\"&&ap.parentNode&&i(ap.parentNode)===\"underline\"){U({deep:false,exact:true,inline:\"span\",styles:{textDecoration:\"underline\"}},null,ap)}})})}if(ab){X=c.createRng();X.setStartBefore(ab);X.setEndAfter(ab);ak(X);return}if(!q.isCollapsed()||!aj.inline||c.select(\"td.mceSelected,th.mceSelected\").length){ag=q.getBookmark();ak(q.getRng(B));q.moveToBookmark(ag);if(aj.inline&&j(Y,ah,q.getStart())){aa(q.getRng(true))}V.nodeChanged()}else{Q(\"remove\",Y,ah)}}function D(X,Z,Y){var W=R(X);if(j(X,Z,Y)&&(!(\"toggle\" in W[0])||W[0][\"toggle\"])){A(X,Z,Y)}else{T(X,Z,Y)}}function x(X,W,ac,aa){var Y=R(W),ad,ab,Z;function ae(ai,ak,al){var ah,aj,af=ak[al],ag;if(ak.onmatch){return ak.onmatch(ai,ak,al)}if(af){if(af.length===p){for(ah in af){if(af.hasOwnProperty(ah)){if(al===\"attributes\"){aj=c.getAttrib(ai,ah)}else{aj=L(ai,ah)}if(aa&&!aj&&!ak.exact){return}if((!aa||ak.exact)&&!g(aj,r(af[ah],ac))){return}}}}else{for(ag=0;ag<af.length;ag++){if(al===\"attributes\"?c.getAttrib(ai,af[ag]):L(ai,af[ag])){return ak}}}}return ak}if(Y&&X){for(ab=0;ab<Y.length;ab++){ad=Y[ab];if(h(X,ad)&&ae(X,ad,\"attributes\")&&ae(X,ad,\"styles\")){if(Z=ad.classes){for(ab=0;ab<Z.length;ab++){if(!c.hasClass(X,Z[ab])){return}}}return ad}}}}function j(Y,ab,aa){var X,Z;function W(ac){ac=c.getParent(ac,function(ad){return !!x(ad,Y,ab,true)});return x(ac,Y,ab)}if(aa){return W(aa)}if(q.isCollapsed()){for(Z=P.apply.length-1;Z>=0;Z--){if(P.apply[Z].name==Y){return true}}for(Z=P.remove.length-1;Z>=0;Z--){if(P.remove[Z].name==Y){return false}}return W(q.getNode())}aa=q.getNode();if(W(aa)){return B}X=q.getStart();if(X!=aa){if(W(X)){return B}}return S}function v(ad,ac){var aa,ab=[],Z={},Y,X,W;if(q.isCollapsed()){for(X=0;X<ad.length;X++){for(Y=P.remove.length-1;Y>=0;Y--){W=ad[X];if(P.remove[Y].name==W){Z[W]=true;break}}}for(Y=P.apply.length-1;Y>=0;Y--){for(X=0;X<ad.length;X++){W=ad[X];if(!Z[W]&&P.apply[Y].name==W){Z[W]=true;ab.push(W)}}}}aa=q.getStart();c.getParent(aa,function(ag){var af,ae;for(af=0;af<ad.length;af++){ae=ad[af];if(!Z[ae]&&x(ag,ae,ac)){Z[ae]=true;ab.push(ae)}}});return ab}function y(aa){var ac=R(aa),Z,Y,ab,X,W;if(ac){Z=q.getStart();Y=m(Z);for(X=ac.length-1;X>=0;X--){W=ac[X].selector;if(!W){return B}for(ab=Y.length-1;ab>=0;ab--){if(c.is(Y[ab],W)){return B}}}}return S}a.extend(this,{get:R,register:k,apply:T,remove:A,toggle:D,match:j,matchAll:v,matchNode:x,canApply:y});function h(W,X){if(g(W,X.inline)){return B}if(g(W,X.block)){return B}if(X.selector){return c.is(W,X.selector)}}function g(X,W){X=X||\"\";W=W||\"\";X=\"\"+(X.nodeName||X);W=\"\"+(W.nodeName||W);return X.toLowerCase()==W.toLowerCase()}function L(X,W){var Y=c.getStyle(X,W);if(W==\"color\"||W==\"backgroundColor\"){Y=c.toHex(Y)}if(W==\"fontWeight\"&&Y==700){Y=\"bold\"}return\"\"+Y}function r(W,X){if(typeof(W)!=\"string\"){W=W(X)}else{if(X){W=W.replace(/%(\\w+)/g,function(Z,Y){return X[Y]||Z})}}return W}function f(W){return W&&W.nodeType===3&&/^([\\s\\r\\n]+|)$/.test(W.nodeValue)}function N(Y,X,W){var Z=c.create(X,W);Y.parentNode.insertBefore(Z,Y);Z.appendChild(Y);return Z}function o(W,ag,Z){var Y=W.startContainer,ad=W.startOffset,aj=W.endContainer,ae=W.endOffset,ai,af,ac;function ah(am,an,ak,al){var ao,ap;al=al||c.getRoot();for(;;){ao=am.parentNode;if(ao==al||(!ag[0].block_expand&&F(ao))){return am}for(ai=ao[an];ai&&ai!=am;ai=ai[ak]){if(ai.nodeType==1&&!H(ai)){return am}if(ai.nodeType==3&&!f(ai)){return am}}am=am.parentNode}return am}function ab(ak,al){if(al===p){al=ak.nodeType===3?ak.length:ak.childNodes.length}while(ak&&ak.hasChildNodes()){ak=ak.childNodes[al];if(ak){al=ak.nodeType===3?ak.length:ak.childNodes.length}}return{node:ak,offset:al}}if(Y.nodeType==1&&Y.hasChildNodes()){af=Y.childNodes.length-1;Y=Y.childNodes[ad>af?af:ad];if(Y.nodeType==3){ad=0}}if(aj.nodeType==1&&aj.hasChildNodes()){af=aj.childNodes.length-1;aj=aj.childNodes[ae>af?af:ae-1];if(aj.nodeType==3){ae=aj.nodeValue.length}}if(H(Y.parentNode)){Y=Y.parentNode}if(H(Y)){Y=Y.nextSibling||Y}if(H(aj.parentNode)){ae=c.nodeIndex(aj);aj=aj.parentNode}if(H(aj)&&aj.previousSibling){aj=aj.previousSibling;ae=aj.length}if(ag[0].inline){ac=ab(aj,ae);if(ac.node){while(ac.node&&ac.offset===0&&ac.node.previousSibling){ac=ab(ac.node.previousSibling)}if(ac.node&&ac.offset>0&&ac.node.nodeType===3&&ac.node.nodeValue.charAt(ac.offset-1)===\" \"){if(ac.offset>1){aj=ac.node;aj.splitText(ac.offset-1)}else{if(ac.node.previousSibling){aj=ac.node.previousSibling}}}}}if(ag[0].inline||ag[0].block_expand){Y=ah(Y,\"firstChild\",\"nextSibling\");aj=ah(aj,\"lastChild\",\"previousSibling\")}if(ag[0].selector&&ag[0].expand!==S&&!ag[0].inline){function aa(al,ak){var am,an,ap,ao;if(al.nodeType==3&&al.nodeValue.length==0&&al[ak]){al=al[ak]}am=m(al);for(an=0;an<am.length;an++){for(ap=0;ap<ag.length;ap++){ao=ag[ap];if(\"collapsed\" in ao&&ao.collapsed!==W.collapsed){continue}if(c.is(am[an],ao.selector)){return am[an]}}}return al}Y=aa(Y,\"previousSibling\");aj=aa(aj,\"nextSibling\")}if(ag[0].block||ag[0].selector){function X(al,ak,an){var am;if(!ag[0].wrapper){am=c.getParent(al,ag[0].block)}if(!am){am=c.getParent(al.nodeType==3?al.parentNode:al,F)}if(am&&ag[0].wrapper){am=m(am,\"ul,ol\").reverse()[0]||am}if(!am){am=al;while(am[ak]&&!F(am[ak])){am=am[ak];if(g(am,\"br\")){break}}}return am||al}Y=X(Y,\"previousSibling\");aj=X(aj,\"nextSibling\");if(ag[0].block){if(!F(Y)){Y=ah(Y,\"firstChild\",\"nextSibling\")}if(!F(aj)){aj=ah(aj,\"lastChild\",\"previousSibling\")}}}if(Y.nodeType==1){ad=s(Y);Y=Y.parentNode}if(aj.nodeType==1){ae=s(aj)+1;aj=aj.parentNode}return{startContainer:Y,startOffset:ad,endContainer:aj,endOffset:ae}}function U(ac,ab,Z,W){var Y,X,aa;if(!h(Z,ac)){return S}if(ac.remove!=\"all\"){O(ac.styles,function(ae,ad){ae=r(ae,ab);if(typeof(ad)===\"number\"){ad=ae;W=0}if(!W||g(L(W,ad),ae)){c.setStyle(Z,ad,\"\")}aa=1});if(aa&&c.getAttrib(Z,\"style\")==\"\"){Z.removeAttribute(\"style\");Z.removeAttribute(\"data-mce-style\")}O(ac.attributes,function(af,ad){var ae;af=r(af,ab);if(typeof(ad)===\"number\"){ad=af;W=0}if(!W||g(c.getAttrib(W,ad),af)){if(ad==\"class\"){af=c.getAttrib(Z,ad);if(af){ae=\"\";O(af.split(/\\s+/),function(ag){if(/mce\\w+/.test(ag)){ae+=(ae?\" \":\"\")+ag}});if(ae){c.setAttrib(Z,ad,ae);return}}}if(ad==\"class\"){Z.removeAttribute(\"className\")}if(e.test(ad)){Z.removeAttribute(\"data-mce-\"+ad)}Z.removeAttribute(ad)}});O(ac.classes,function(ad){ad=r(ad,ab);if(!W||c.hasClass(W,ad)){c.removeClass(Z,ad)}});X=c.getAttribs(Z);for(Y=0;Y<X.length;Y++){if(X[Y].nodeName.indexOf(\"_\")!==0){return S}}}if(ac.remove!=\"none\"){n(Z,ac);return B}}function n(Y,Z){var W=Y.parentNode,X;if(Z.block){if(!l){function aa(ac,ab,ad){ac=C(ac,ab,ad);return !ac||(ac.nodeName==\"BR\"||F(ac))}if(F(Y)&&!F(W)){if(!aa(Y,S)&&!aa(Y.firstChild,B,1)){Y.insertBefore(c.create(\"br\"),Y.firstChild)}if(!aa(Y,B)&&!aa(Y.lastChild,S,1)){Y.appendChild(c.create(\"br\"))}}}else{if(W==c.getRoot()){if(!Z.list_block||!g(Y,Z.list_block)){O(a.grep(Y.childNodes),function(ab){if(d(l,ab.nodeName.toLowerCase())){if(!X){X=N(ab,l)}else{X.appendChild(ab)}}else{X=0}})}}}}if(Z.selector&&Z.inline&&!g(Z.inline,Y)){return}c.remove(Y,1)}function C(X,W,Y){if(X){W=W?\"nextSibling\":\"previousSibling\";for(X=Y?X:X[W];X;X=X[W]){if(X.nodeType==1||!f(X)){return X}}}}function H(W){return W&&W.nodeType==1&&W.getAttribute(\"data-mce-type\")==\"bookmark\"}function u(aa,Z){var W,Y,X;function ac(af,ae){if(af.nodeName!=ae.nodeName){return S}function ad(ah){var ai={};O(c.getAttribs(ah),function(aj){var ak=aj.nodeName.toLowerCase();if(ak.indexOf(\"_\")!==0&&ak!==\"style\"){ai[ak]=c.getAttrib(ah,ak)}});return ai}function ag(ak,aj){var ai,ah;for(ah in ak){if(ak.hasOwnProperty(ah)){ai=aj[ah];if(ai===p){return S}if(ak[ah]!=ai){return S}delete aj[ah]}}for(ah in aj){if(aj.hasOwnProperty(ah)){return S}}return B}if(!ag(ad(af),ad(ae))){return S}if(!ag(c.parseStyle(c.getAttrib(af,\"style\")),c.parseStyle(c.getAttrib(ae,\"style\")))){return S}return B}if(aa&&Z){function ab(ae,ad){for(Y=ae;Y;Y=Y[ad]){if(Y.nodeType==3&&Y.nodeValue.length!==0){return ae}if(Y.nodeType==1&&!H(Y)){return Y}}return ae}aa=ab(aa,\"previousSibling\");Z=ab(Z,\"nextSibling\");if(ac(aa,Z)){for(Y=aa.nextSibling;Y&&Y!=Z;){X=Y;Y=Y.nextSibling;aa.appendChild(X)}c.remove(Z);O(a.grep(Z.childNodes),function(ad){aa.appendChild(ad)});return aa}}return Z}function G(W){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(W)}function J(X,aa){var W,Z,Y;W=X[aa?\"startContainer\":\"endContainer\"];Z=X[aa?\"startOffset\":\"endOffset\"];if(W.nodeType==1){Y=W.childNodes.length-1;if(!aa&&Z){Z--}W=W.childNodes[Z>Y?Y:Z]}return W}function Q(ad,Y,ac){var aa,X=P[ad],ae=P[ad==\"apply\"?\"remove\":\"apply\"];function af(){return P.apply.length||P.remove.length}function ab(){P.apply=[];P.remove=[]}function ag(ah){O(P.apply.reverse(),function(ai){T(ai.name,ai.vars,ah);if(ai.name===\"forecolor\"&&ai.vars.value){I(ah.parentNode)}});O(P.remove.reverse(),function(ai){A(ai.name,ai.vars,ah)});c.remove(ah,1);ab()}for(aa=X.length-1;aa>=0;aa--){if(X[aa].name==Y){return}}X.push({name:Y,vars:ac});for(aa=ae.length-1;aa>=0;aa--){if(ae[aa].name==Y){ae.splice(aa,1)}}if(af()){V.getDoc().execCommand(\"FontName\",false,\"mceinline\");P.lastRng=q.getRng();O(c.select(\"font,span\"),function(ai){var ah;if(b(ai)){ah=q.getBookmark();ag(ai);q.moveToBookmark(ah);V.nodeChanged()}});if(!P.isListening&&af()){P.isListening=true;function W(ai,aj){var ah=c.createRng();ag(ai);ah.setStart(aj,aj.nodeValue.length);ah.setEnd(aj,aj.nodeValue.length);q.setRng(ah);V.nodeChanged()}var Z=false;O(\"onKeyDown,onKeyUp,onKeyPress,onMouseUp\".split(\",\"),function(ah){V[ah].addToTop(function(ai,al){if(al.keyCode==13&&!al.shiftKey){Z=true;return}if(af()&&!a.dom.RangeUtils.compareRanges(P.lastRng,q.getRng())){var aj=false;O(c.select(\"font,span\"),function(ao){var ap,an;if(b(ao)){aj=true;ap=ao.firstChild;while(ap&&ap.nodeType!=3){ap=ap.firstChild}if(ap){W(ao,ap)}else{c.remove(ao)}}});if(Z&&!aj){var ak=q.getNode();var am=ak;while(am&&am.nodeType!=3){am=am.firstChild}if(am){ak=am.parentNode;while(!F(ak)){ak=ak.parentNode}W(ak,am)}}if(al.type==\"keyup\"||al.type==\"mouseup\"){ab();Z=false}}})})}}}}})(tinymce);tinymce.onAddEditor.add(function(e,a){var d,h,g,c=a.settings;if(c.inline_styles){h=e.explode(c.font_size_style_values);function b(j,i){e.each(i,function(l,k){if(l){g.setStyle(j,k,l)}});g.rename(j,\"span\")}d={font:function(j,i){b(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:h[parseInt(i.size)-1]})},u:function(j,i){b(i,{textDecoration:\"underline\"})},strike:function(j,i){b(i,{textDecoration:\"line-through\"})}};function f(i,j){g=i.dom;if(c.convert_fonts_to_spans){e.each(g.select(\"font,u,strike\",j.node),function(k){d[k.nodeName.toLowerCase()](a.dom,k)})}}a.onPreProcess.add(f);a.onSetContent.add(f);a.onInit.add(function(){a.selection.onSetContent.add(f)})}});\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/tiny_mce_prototype_src.js:\n 3924  \n 3925            case \"class\":\n 3926:             e.className = v || ''; // Fix IE null bug\n 3927              break;\n 3928  \n ....\n 4168  \n 4169          if (this.hasClass(e, c))\n 4170:           return e.className;\n 4171  \n 4172          o = this.removeClass(e, c);\n 4173  \n 4174:         return e.className = (o != '' ? (o + ' ') : '') + c;\n 4175        });\n 4176      },\n ....\n 4186              re = new RegExp(\"(^|\\\\s+)\" + c + \"(\\\\s+|$)\", \"g\");\n 4187  \n 4188:           v = e.className.replace(re, ' ');\n 4189            v = tinymce.trim(v != ' ' ? v : '');\n 4190  \n 4191:           e.className = v;\n 4192  \n 4193            // Empty class attr\n ....\n 4200          }\n 4201  \n 4202:         return e.className;\n 4203        });\n 4204      },\n ....\n 4210          return false;\n 4211  \n 4212:       return (' ' + n.className + ' ').indexOf(' ' + c + ' ') !== -1;\n 4213      },\n 4214  \n ....\n 4434  \n 4435      getClasses : function() {\n 4436:       var t = this, cl = [], i, lo = {}, f = t.settings.class_filter, ov;\n 4437  \n 4438:       if (t.classes)\n 4439:         return t.classes;\n 4440  \n 4441        function addClasses(s) {\n ....\n 4489  \n 4490        if (cl.length > 0)\n 4491:         t.classes = cl;\n 4492  \n 4493        return cl;\n ....\n 6328        for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {\n 6329          if ( elem ) {\n 6330:           if ( not ^ (elem.className && (\" \" + elem.className + \" \").replace(/[\\t\\n]/g, \" \").indexOf(match) >= 0) ) {\n 6331              if ( !inplace ) {\n 6332                result.push( elem );\n ....\n 6562      },\n 6563      CLASS: function(elem, match){\n 6564:       return (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\n 6565          .indexOf( match ) > -1;\n 6566      },\n ....\n 6850  \n 6851    // Safari caches class attributes, doesn't catch changes (in 3.2)\n 6852:   div.lastChild.className = \"e\";\n 6853  \n 6854    if ( div.getElementsByClassName(\"e\").length === 1 ) {\n ....\n 6857    \n 6858    Expr.order.splice(1, 0, \"CLASS\");\n 6859:   Expr.find.CLASS = function(match, context, isXML) {\n 6860      if ( typeof context.getElementsByClassName !== \"undefined\" && !isXML ) {\n 6861        return context.getElementsByClassName(match[1]);\n ....\n 9114        this.rendered = false;\n 9115        this.onRender = new tinymce.util.Dispatcher(this);\n 9116:       this.classPrefix = '';\n 9117        this.scope = s.scope || this;\n 9118        this.disabled = 0;\n ....\n 9161        var n = DOM.get(this.id);\n 9162  \n 9163:       c = this.classPrefix + c;\n 9164  \n 9165        if (s)\n ....\n 9232    Separator : function(id, s) {\n 9233      this.parent(id, s);\n 9234:     this.classPrefix = 'mceSeparator';\n 9235      this.setDisabled(true);\n 9236    },\n 9237  \n 9238    renderHTML : function() {\n 9239:     return tinymce.DOM.createHTML('span', {'class' : this.classPrefix, role : 'separator', 'aria-orientation' : 'vertical', tabindex : '-1'});\n 9240    }\n 9241  });\n ....\n 9247      MenuItem : function(id, s) {\n 9248        this.parent(id, s);\n 9249:       this.classPrefix = 'mceMenuItem';\n 9250      },\n 9251  \n ....\n 9388        this.onShowMenu = new tinymce.util.Dispatcher(this);\n 9389        this.onHideMenu = new tinymce.util.Dispatcher(this);\n 9390:       this.classPrefix = 'mceMenu';\n 9391      },\n 9392  \n ....\n 9438  \n 9439      showMenu : function(x, y, px) {\n 9440:       var t = this, s = t.settings, co, vp = DOM.getViewPort(), w, h, mx, my, ot = 2, dm, tb, cp = t.classPrefix;\n 9441  \n 9442        t.collapse(1);\n ....\n 9567  \n 9568        if (e = DOM.get(t.id))\n 9569:         DOM.removeClass(e.firstChild, t.classPrefix + 'ItemActive');\n 9570  \n 9571        t.onHideMenu.dispatch(t);\n ....\n 9617          DOM.setAttrib(w, 'aria-parent', 'menu_' + t.settings.parent.id);\n 9618        }\n 9619:       co = DOM.add(w, 'div', {role: 'presentation', id : 'menu_' + t.id + '_co', 'class' : t.classPrefix + (s['class'] ? ' ' + s['class'] : '')});\n 9620        t.element = new Element('menu_' + t.id, {blocker : 1, container : s.container});\n 9621  \n 9622        if (s.menu_line)\n 9623:         DOM.add(co, 'span', {'class' : t.classPrefix + 'Line'});\n 9624  \n 9625  //      n = DOM.add(co, 'div', {id : 'menu_' + t.id + '_co', 'class' : 'mceMenuContainer'});\n ....\n 9671  \n 9672      _add : function(tb, o) {\n 9673:       var n, s = o.settings, a, ro, it, cp = this.classPrefix, ic;\n 9674  \n 9675        if (s.separator) {\n ....\n 9727      Button : function(id, s, ed) {\n 9728        this.parent(id, s, ed);\n 9729:       this.classPrefix = 'mceButton';\n 9730      },\n 9731  \n 9732      renderHTML : function() {\n 9733:       var cp = this.classPrefix, s = this.settings, h, l;\n 9734  \n 9735        l = DOM.encode(s.label || '');\n ....\n 9775        t.onRenderMenu = new tinymce.util.Dispatcher(this);\n 9776  \n 9777:       t.classPrefix = 'mceListBox';\n 9778      },\n 9779  \n ....\n 9853  \n 9854      renderHTML : function() {\n 9855:       var h = '', t = this, s = t.settings, cp = t.classPrefix;\n 9856  \n 9857        h = '<span role=\"listbox\" aria-haspopup=\"true\" aria-labelledby=\"' + t.id +'_voiceDesc\" aria-describedby=\"' + t.id + '_voiceDesc\"><table role=\"presentation\" tabindex=\"0\" id=\"' + t.id + '\" cellpadding=\"0\" cellspacing=\"0\" class=\"' + cp + ' ' + cp + 'Enabled' + (s['class'] ? (' ' + s['class']) : '') + '\"><tbody><tr>';\n ....\n 9899  \n 9900        Event.add(DOM.doc, 'mousedown', t.hideMenu, t);\n 9901:       DOM.addClass(t.id, t.classPrefix + 'Selected');\n 9902  \n 9903        //DOM.get(t.id + '_text').focus();\n ....\n 9908  \n 9909        if (t.menu && t.menu.isMenuVisible) {\n 9910:         DOM.removeClass(t.id, t.classPrefix + 'Selected');\n 9911  \n 9912          // Prevent double toogles by canceling the mouse click event to the button\n ....\n 9915  \n 9916          if (!e || !DOM.getParent(e.target, '.mceMenu')) {\n 9917:           DOM.removeClass(t.id, t.classPrefix + 'Selected');\n 9918            Event.remove(DOM.doc, 'mousedown', t.hideMenu, t);\n 9919            t.menu.hideMenu();\n ....\n 9927        m = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n 9928          menu_line : 1,\n 9929:         'class' : t.classPrefix + 'Menu mceNoIcons',\n 9930          max_width : 150,\n 9931          max_height : 150\n ....\n 9975  \n 9976      postRender : function() {\n 9977:       var t = this, cp = t.classPrefix;\n 9978  \n 9979        Event.add(t.id, 'click', t.showMenu, t);\n ....\n 10043      NativeListBox : function(id, s) {\n 10044        this.parent(id, s);\n 10045:       this.classPrefix = 'mceNativeListBox';\n 10046      },\n 10047  \n .....\n 10224        m = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n 10225          menu_line : 1,\n 10226:         'class' : this.classPrefix + 'Menu',\n 10227          icons : t.settings.icons\n 10228        });\n .....\n 10275      SplitButton : function(id, s, ed) {\n 10276        this.parent(id, s, ed);\n 10277:       this.classPrefix = 'mceSplitButton';\n 10278      },\n 10279  \n .....\n 10875            case \"specific_textareas\":\n 10876              function hasClass(n, c) {\n 10877:               return c.constructor === RegExp ? c.test(n.className) : DOM.hasClass(n, c);\n 10878              };\n 10879  \n .....\n 11600          url_converter_scope : t,\n 11601          hex_colors : s.force_hex_style_colors,\n 11602:         class_filter : s.class_filter,\n 11603          update_styles : 1,\n 11604          fix_ie_paragraphs : 1,\n .....\n 11871            if (n == 'class') {\n 11872              // Build regexp for classes\n 11873:             if (!t.classesRE) {\n 11874                cl = t.dom.getClasses();\n 11875  \n .....\n 11881                  });\n 11882  \n 11883:                 t.classesRE = new RegExp('(' + s + ')', 'gi');\n 11884                }\n 11885              }\n 11886  \n 11887:             return !t.classesRE || /(\\bmceItem\\w+\\b|\\bmceTemp\\w+\\b)/g.test(v) || t.classesRE.test(v) ? v : '';\n 11888            }\n 11889  \n .....\n 14924  \n 14925              // Split classes if needed\n 14926:             if (typeof(format.classes) === 'string')\n 14927:               format.classes = format.classes.split(/\\s+/);\n 14928            });\n 14929  \n .....\n 14999            });\n 15000  \n 15001:           each(fmt.classes, function(value) {\n 15002              value = replaceVars(value, vars);\n 15003  \n .....\n 15607            if (matchName(node, format) && matchItems(node, format, 'attributes') && matchItems(node, format, 'styles')) {\n 15608              // Match classes\n 15609:             if (classes = format.classes) {\n 15610                for (i = 0; i < classes.length; i++) {\n 15611                  if (!dom.hasClass(node, classes[i]))\n .....\n 16103  \n 16104          // Remove classes\n 16105:         each(format.classes, function(value) {\n 16106            value = replaceVars(value, vars);\n 16107  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/tiny_mce_src.js:\n 3897  \n 3898            case \"class\":\n 3899:             e.className = v || ''; // Fix IE null bug\n 3900              break;\n 3901  \n ....\n 4141  \n 4142          if (this.hasClass(e, c))\n 4143:           return e.className;\n 4144  \n 4145          o = this.removeClass(e, c);\n 4146  \n 4147:         return e.className = (o != '' ? (o + ' ') : '') + c;\n 4148        });\n 4149      },\n ....\n 4159              re = new RegExp(\"(^|\\\\s+)\" + c + \"(\\\\s+|$)\", \"g\");\n 4160  \n 4161:           v = e.className.replace(re, ' ');\n 4162            v = tinymce.trim(v != ' ' ? v : '');\n 4163  \n 4164:           e.className = v;\n 4165  \n 4166            // Empty class attr\n ....\n 4173          }\n 4174  \n 4175:         return e.className;\n 4176        });\n 4177      },\n ....\n 4183          return false;\n 4184  \n 4185:       return (' ' + n.className + ' ').indexOf(' ' + c + ' ') !== -1;\n 4186      },\n 4187  \n ....\n 4407  \n 4408      getClasses : function() {\n 4409:       var t = this, cl = [], i, lo = {}, f = t.settings.class_filter, ov;\n 4410  \n 4411:       if (t.classes)\n 4412:         return t.classes;\n 4413  \n 4414        function addClasses(s) {\n ....\n 4462  \n 4463        if (cl.length > 0)\n 4464:         t.classes = cl;\n 4465  \n 4466        return cl;\n ....\n 6301        for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {\n 6302          if ( elem ) {\n 6303:           if ( not ^ (elem.className && (\" \" + elem.className + \" \").replace(/[\\t\\n]/g, \" \").indexOf(match) >= 0) ) {\n 6304              if ( !inplace ) {\n 6305                result.push( elem );\n ....\n 6535      },\n 6536      CLASS: function(elem, match){\n 6537:       return (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\n 6538          .indexOf( match ) > -1;\n 6539      },\n ....\n 6823  \n 6824    // Safari caches class attributes, doesn't catch changes (in 3.2)\n 6825:   div.lastChild.className = \"e\";\n 6826  \n 6827    if ( div.getElementsByClassName(\"e\").length === 1 ) {\n ....\n 6830    \n 6831    Expr.order.splice(1, 0, \"CLASS\");\n 6832:   Expr.find.CLASS = function(match, context, isXML) {\n 6833      if ( typeof context.getElementsByClassName !== \"undefined\" && !isXML ) {\n 6834        return context.getElementsByClassName(match[1]);\n ....\n 9087        this.rendered = false;\n 9088        this.onRender = new tinymce.util.Dispatcher(this);\n 9089:       this.classPrefix = '';\n 9090        this.scope = s.scope || this;\n 9091        this.disabled = 0;\n ....\n 9134        var n = DOM.get(this.id);\n 9135  \n 9136:       c = this.classPrefix + c;\n 9137  \n 9138        if (s)\n ....\n 9205    Separator : function(id, s) {\n 9206      this.parent(id, s);\n 9207:     this.classPrefix = 'mceSeparator';\n 9208      this.setDisabled(true);\n 9209    },\n 9210  \n 9211    renderHTML : function() {\n 9212:     return tinymce.DOM.createHTML('span', {'class' : this.classPrefix, role : 'separator', 'aria-orientation' : 'vertical', tabindex : '-1'});\n 9213    }\n 9214  });\n ....\n 9220      MenuItem : function(id, s) {\n 9221        this.parent(id, s);\n 9222:       this.classPrefix = 'mceMenuItem';\n 9223      },\n 9224  \n ....\n 9361        this.onShowMenu = new tinymce.util.Dispatcher(this);\n 9362        this.onHideMenu = new tinymce.util.Dispatcher(this);\n 9363:       this.classPrefix = 'mceMenu';\n 9364      },\n 9365  \n ....\n 9411  \n 9412      showMenu : function(x, y, px) {\n 9413:       var t = this, s = t.settings, co, vp = DOM.getViewPort(), w, h, mx, my, ot = 2, dm, tb, cp = t.classPrefix;\n 9414  \n 9415        t.collapse(1);\n ....\n 9540  \n 9541        if (e = DOM.get(t.id))\n 9542:         DOM.removeClass(e.firstChild, t.classPrefix + 'ItemActive');\n 9543  \n 9544        t.onHideMenu.dispatch(t);\n ....\n 9590          DOM.setAttrib(w, 'aria-parent', 'menu_' + t.settings.parent.id);\n 9591        }\n 9592:       co = DOM.add(w, 'div', {role: 'presentation', id : 'menu_' + t.id + '_co', 'class' : t.classPrefix + (s['class'] ? ' ' + s['class'] : '')});\n 9593        t.element = new Element('menu_' + t.id, {blocker : 1, container : s.container});\n 9594  \n 9595        if (s.menu_line)\n 9596:         DOM.add(co, 'span', {'class' : t.classPrefix + 'Line'});\n 9597  \n 9598  //      n = DOM.add(co, 'div', {id : 'menu_' + t.id + '_co', 'class' : 'mceMenuContainer'});\n ....\n 9644  \n 9645      _add : function(tb, o) {\n 9646:       var n, s = o.settings, a, ro, it, cp = this.classPrefix, ic;\n 9647  \n 9648        if (s.separator) {\n ....\n 9700      Button : function(id, s, ed) {\n 9701        this.parent(id, s, ed);\n 9702:       this.classPrefix = 'mceButton';\n 9703      },\n 9704  \n 9705      renderHTML : function() {\n 9706:       var cp = this.classPrefix, s = this.settings, h, l;\n 9707  \n 9708        l = DOM.encode(s.label || '');\n ....\n 9748        t.onRenderMenu = new tinymce.util.Dispatcher(this);\n 9749  \n 9750:       t.classPrefix = 'mceListBox';\n 9751      },\n 9752  \n ....\n 9826  \n 9827      renderHTML : function() {\n 9828:       var h = '', t = this, s = t.settings, cp = t.classPrefix;\n 9829  \n 9830        h = '<span role=\"listbox\" aria-haspopup=\"true\" aria-labelledby=\"' + t.id +'_voiceDesc\" aria-describedby=\"' + t.id + '_voiceDesc\"><table role=\"presentation\" tabindex=\"0\" id=\"' + t.id + '\" cellpadding=\"0\" cellspacing=\"0\" class=\"' + cp + ' ' + cp + 'Enabled' + (s['class'] ? (' ' + s['class']) : '') + '\"><tbody><tr>';\n ....\n 9872  \n 9873        Event.add(DOM.doc, 'mousedown', t.hideMenu, t);\n 9874:       DOM.addClass(t.id, t.classPrefix + 'Selected');\n 9875  \n 9876        //DOM.get(t.id + '_text').focus();\n ....\n 9881  \n 9882        if (t.menu && t.menu.isMenuVisible) {\n 9883:         DOM.removeClass(t.id, t.classPrefix + 'Selected');\n 9884  \n 9885          // Prevent double toogles by canceling the mouse click event to the button\n ....\n 9888  \n 9889          if (!e || !DOM.getParent(e.target, '.mceMenu')) {\n 9890:           DOM.removeClass(t.id, t.classPrefix + 'Selected');\n 9891            Event.remove(DOM.doc, 'mousedown', t.hideMenu, t);\n 9892            t.menu.hideMenu();\n ....\n 9900        m = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n 9901          menu_line : 1,\n 9902:         'class' : t.classPrefix + 'Menu mceNoIcons',\n 9903          max_width : 150,\n 9904          max_height : 150\n ....\n 9948  \n 9949      postRender : function() {\n 9950:       var t = this, cp = t.classPrefix;\n 9951  \n 9952        Event.add(t.id, 'click', t.showMenu, t);\n ....\n 10016      NativeListBox : function(id, s) {\n 10017        this.parent(id, s);\n 10018:       this.classPrefix = 'mceNativeListBox';\n 10019      },\n 10020  \n .....\n 10197        m = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n 10198          menu_line : 1,\n 10199:         'class' : this.classPrefix + 'Menu',\n 10200          icons : t.settings.icons\n 10201        });\n .....\n 10248      SplitButton : function(id, s, ed) {\n 10249        this.parent(id, s, ed);\n 10250:       this.classPrefix = 'mceSplitButton';\n 10251      },\n 10252  \n .....\n 10848            case \"specific_textareas\":\n 10849              function hasClass(n, c) {\n 10850:               return c.constructor === RegExp ? c.test(n.className) : DOM.hasClass(n, c);\n 10851              };\n 10852  \n .....\n 11573          url_converter_scope : t,\n 11574          hex_colors : s.force_hex_style_colors,\n 11575:         class_filter : s.class_filter,\n 11576          update_styles : 1,\n 11577          fix_ie_paragraphs : 1,\n .....\n 11844            if (n == 'class') {\n 11845              // Build regexp for classes\n 11846:             if (!t.classesRE) {\n 11847                cl = t.dom.getClasses();\n 11848  \n .....\n 11854                  });\n 11855  \n 11856:                 t.classesRE = new RegExp('(' + s + ')', 'gi');\n 11857                }\n 11858              }\n 11859  \n 11860:             return !t.classesRE || /(\\bmceItem\\w+\\b|\\bmceTemp\\w+\\b)/g.test(v) || t.classesRE.test(v) ? v : '';\n 11861            }\n 11862  \n .....\n 14897  \n 14898              // Split classes if needed\n 14899:             if (typeof(format.classes) === 'string')\n 14900:               format.classes = format.classes.split(/\\s+/);\n 14901            });\n 14902  \n .....\n 14972            });\n 14973  \n 14974:           each(fmt.classes, function(value) {\n 14975              value = replaceVars(value, vars);\n 14976  \n .....\n 15580            if (matchName(node, format) && matchItems(node, format, 'attributes') && matchItems(node, format, 'styles')) {\n 15581              // Match classes\n 15582:             if (classes = format.classes) {\n 15583                for (i = 0; i < classes.length; i++) {\n 15584                  if (!dom.hasClass(node, classes[i]))\n .....\n 16076  \n 16077          // Remove classes\n 16078:         each(format.classes, function(value) {\n 16079            value = replaceVars(value, vars);\n 16080  \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/utils/editable_selects.js:\n   16  \n   17      for (i=0; i<nl.length; i++) {\n   18:       if (nl[i].className.indexOf('mceEditableSelect') != -1) {\n   19          o = new Option(tinyMCEPopup.editor.translate('value'), '__mce_add_custom__');\n   20  \n   21:         o.className = 'mceAddSelectValue';\n   22  \n   23          nl[i].options[nl[i].options.length] = o;\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/utils/form_utils.js:\n   64    var img = document.getElementById(img_id);\n   65  \n   66:   if (img.className != \"mceButtonDisabled\")\n   67      tinyMCEPopup.openBrowser(target_form_element, type, option);\n   68  }\n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/utils/mctabs.js:\n   31  \n   32  MCTabs.prototype.showTab =function(tab){\n   33:   tab.className = 'current';\n   34    tab.setAttribute(\"aria-selected\", true);\n   35    tab.setAttribute(\"aria-expanded\", true);\n   ..\n   40    var t=this;\n   41  \n   42:   tab.className = '';\n   43    tab.setAttribute(\"aria-selected\", false);\n   44    tab.setAttribute(\"aria-expanded\", false);\n   ..\n   47  \n   48  MCTabs.prototype.showPanel = function(panel) {\n   49:   panel.className = 'current'; \n   50    panel.setAttribute(\"aria-hidden\", false);\n   51  };\n   52  \n   53  MCTabs.prototype.hidePanel = function(panel) {\n   54:   panel.className = 'panel';\n   55    panel.setAttribute(\"aria-hidden\", true);\n   56  }; \n\n/Users/boos/code/graasp/public/javascripts/tiny_mce/utils/validate.js:\n  205  \n  206    hasClass : function(n, c, d) {\n  207:     return new RegExp('\\\\b' + c + (d ? '[0-9]+' : '') + '\\\\b', 'g').test(n.className);\n  208    },\n  209  \n  210    getNum : function(n, c) {\n  211:     c = n.className.match(new RegExp('\\\\b' + c + '([0-9]+)\\\\b', 'g'))[0];\n  212      c = c.replace(/[^0-9]/g, '');\n  213  \n  ...\n  217    addClass : function(n, c, b) {\n  218      var o = this.removeClass(n, c);\n  219:     n.className = b ? c + (o != '' ? (' ' + o) : '') : (o != '' ? (o + ' ') : '') + c;\n  220    },\n  221  \n  222    removeClass : function(n, c) {\n  223:     c = n.className.replace(new RegExp(\"(^|\\\\s+)\" + c + \"(\\\\s+|$)\"), ' ');\n  224:     return n.className = c != ' ' ? c : '';\n  225    },\n  226  \n\n/Users/boos/code/graasp/public/javascripts/tuneup/prototype.js:\n 1288  \n 1289    classNames: function(element) {\n 1290:     return new Element.ClassNames(element);\n 1291    },\n 1292  \n 1293    hasClassName: function(element, className) {\n 1294      if (!(element = $(element))) return;\n 1295:     var elementClassName = element.className;\n 1296      if (elementClassName.length == 0) return false;\n 1297      if (elementClassName == className ||\n ....\n 1303    addClassName: function(element, className) {\n 1304      if (!(element = $(element))) return;\n 1305:     Element.classNames(element).add(className);\n 1306      return element;\n 1307    },\n ....\n 1309    removeClassName: function(element, className) {\n 1310      if (!(element = $(element))) return;\n 1311:     Element.classNames(element).remove(className);\n 1312      return element;\n 1313    },\n ....\n 1315    toggleClassName: function(element, className) {\n 1316      if (!(element = $(element))) return;\n 1317:     Element.classNames(element)[element.hasClassName(className) ? 'remove' : 'add'](className);\n 1318      return element;\n 1319    },\n ....\n 1710  /*--------------------------------------------------------------------------*/\n 1711  \n 1712: Element.ClassNames = Class.create();\n 1713: Element.ClassNames.prototype = {\n 1714    initialize: function(element) {\n 1715      this.element = $(element);\n ....\n 1717  \n 1718    _each: function(iterator) {\n 1719:     this.element.className.split(/\\s+/).select(function(name) {\n 1720        return name.length > 0;\n 1721      })._each(iterator);\n ....\n 1723  \n 1724    set: function(className) {\n 1725:     this.element.className = className;\n 1726    },\n 1727  \n ....\n 1741  };\n 1742  \n 1743: Object.extend(Element.ClassNames.prototype, Enumerable);\n 1744  var Selector = Class.create();\n 1745  Selector.prototype = {\n ....\n 1769        switch (modifier) {\n 1770          case '#':       params.id = clause; break;\n 1771:         case '.':       params.classNames.push(clause); break;\n 1772          case '':\n 1773          case undefined: params.tagName = clause.toUpperCase(); break;\n ....\n 1789      if (clause = params.tagName)\n 1790        conditions.push('element.tagName.toUpperCase() == ' + clause.inspect());\n 1791:     if ((clause = params.classNames).length > 0)\n 1792        for (var i = 0, length = clause.length; i < length; i++)\n 1793          conditions.push('element.hasClassName(' + clause[i].inspect() + ')');\n\n/Users/boos/code/graasp/public/javascripts/unittest.js:\n   88      this.statusCell = document.createElement('td');\n   89      this.nameCell = document.createElement('td');\n   90:     this.nameCell.className = \"nameCell\";\n   91      this.nameCell.appendChild(document.createTextNode(testName));\n   92      this.messageCell = document.createElement('td');\n   ..\n   98    finish: function(status, summary) {\n   99      if (!this.log) return;\n  100:     this.lastLogLine.className = status;\n  101      this.statusCell.innerHTML = status;\n  102      this.messageCell.innerHTML = this._toHTML(summary);\n\n/Users/boos/code/graasp/public/javascripts/upload.js:\n    1  /* Copyright (c) 2007 HE-Arc www.he-arc.ch (Reuben Mallaby <reuben.mallaby@he-arc.ch>) */\n    2  var fileCounter = 0; var MAXFILES = 10;\n    3: function AddAFile() {var parent=$(\"uploadInputs\"); var newRow=document.createElement(\"div\"); var newDiv=document.createElement(\"input\"); newDiv.className = \"uploadFile\"; newDiv.id = \"attachment\" +fileCounter+\"_uploaded_data\"; newDiv.name = \"attachment\"+fileCounter+\"[uploaded_data]\"; newDiv.size = 55; newDiv.type = 'file'; newDiv.style.width = '600px'; parent.appendChild(newRow); newRow.appendChild(newDiv);  fileCounter++; updateCount();}\n    4  function RemoveLastFile(){ var parent = document.getElementById(\"uploadInputs\"); fileCounter--; if (parent.hasChildNodes()) { parent.removeChild( parent.lastChild ); } updateCount();}\n    5  function updateCount(){ if (fileCounter>0) {document.getElementById(\"uploadLess\").style.visibility = \"visible\";} else {document.getElementById(\"uploadLess\").style.visibility = \"hidden\";} if (fileCounter>=MAXFILES) {document.getElementById(\"uploadAnotherFile\").style.visibility = \"hidden\";} else {document.getElementById(\"uploadAnotherFile\").style.visibility = \"visible\";} document.getElementById(\"uploadCount\").innerHTML = (fileCounter==1)?\"Add \" + fileCounter + \" file\":\"Add \" + fileCounter + \" files\";}\n\n/Users/boos/code/graasp/public/juggernaut/application.js:\n 2681  \n 2682      var iframeC = this.doc.createElement('div');\n 2683:     iframeC.className = 'socketio';\n 2684  \n 2685      this.doc.body.appendChild(iframeC);\n ....\n 3033          , iframe;\n 3034  \n 3035:       form.className = 'socketio';\n 3036        form.style.position = 'absolute';\n 3037        form.style.top = '-1000px';\n\n/Users/boos/code/graasp/readme/shindig/new_osapi.md:\n   10  5. SocialApiGuiceModule.java\n   11  \n   12:     return ImmutableSet.<Class<?>>of(ActivityHandler.class, AppDataHandler.class,\n   13:         PersonHandler.class, MessageHandler.class, AlbumHandler.class, MediaItemHandler.class, \n   14: 		SpaceHandler.class, ApplicationHandler.class, AssetHandler.class, ContextHandler.class,\n   15: 		RecommenderHandler.class);\n   16  \n   17  Connection to DB (via hibernate)\n   ..\n   19  1. JPASocialModule.java\n   20  \n   21:     bind(SpaceService.class).to(SpaceServiceDb.class).in(Scopes.SINGLETON);  \n   22  2. SPIUtils.java\n   23  3. orm.xml\n\n/Users/boos/code/graasp/script/generate_sequence:\n   52        item_type = \"\"\n   53        item_id = \"\"\n   54:       if child.class.to_s != \"Link\"\n   55          relation_type = \"children\"\n   56:         item_type = child.class.to_s\n   57          item_id = child.id\n   58        else\n   ..\n  109      item_type = \"\"\n  110      item_id = \"\"\n  111:     if child.class.to_s != \"Link\"\n  112        relation_type = \"children\"\n  113:       item_type = child.class.to_s\n  114        item_id = child.id\n  115      else\n\n/Users/boos/code/graasp/spec/models/favorite_spec.rb:\n   14    it \"should belong to an item3a: space, user, etc.\" do\n   15      @space = create_space\n   16:     @favorite = create_favorite(:item3a_id => @space.id ,:item3a_type => @space.class.to_s)\n   17      \n   18      @favorite.item3a.should == @space\n\n/Users/boos/code/graasp/test/bdrb_test_helper.rb:\n   19        class_eval do\n   20          define_method(attr) do\n   21:           self.class.send(attr)\n   22          end\n   23          define_method(\"#{attr}=\") do |b_value|\n   24:           self.class.send(\"#{attr}=\",b_value)\n   25          end\n   26        end\n\n/Users/boos/code/graasp/test/howto.tex:\n   63              = comment.content.gsub(/\\n/,'<br />')\n   64            - if current_actor.owner_of_item?(item)\n   65:             = link_to_remote(\"Delete\", {:url => delete_comment_path(:comment_id => comment.id, :item_id => item.id, :item_type => item.class.to_s), :confirm => \"Are you sure you want to delete this comment ?\", :method => :delete}, {:class => \"comment_delete\"})\n   66  \\end{verbatim}\n   67  Generated html\n\n/Users/boos/code/graasp/vendor/plugins/attachment_fu/init.rb:\n    1  require 'tempfile'\n    2  \n    3: Tempfile.class_eval do\n    4    # overwrite so tempfiles use the extension of the basename.  important for rmagick and image science\n    5    def make_tmpname(basename, n)\n\n/Users/boos/code/graasp/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:\n   75          end\n   76  \n   77:         storage_mod = Technoweenie::AttachmentFu::Backends.const_get(\"#{options[:storage].to_s.classify}Backend\")\n   78          include storage_mod unless included_modules.include?(storage_mod)\n   79  \n   ..\n   95          else\n   96            begin\n   97:             processor_mod = Technoweenie::AttachmentFu::Processors.const_get(\"#{attachment_options[:processor].to_s.classify}Processor\")\n   98              include processor_mod unless included_modules.include?(processor_mod)\n   99            rescue Object, Exception\n  ...\n  107        def load_related_exception?(e) #:nodoc: implementation specific\n  108          case\n  109:         when e.kind_of?(LoadError), e.kind_of?(MissingSourceFile), $!.class.name == \"CompilationError\"\n  110            # We can't rescue CompilationError directly, as it is part of the RubyInline library.\n  111            # We must instead rescue RuntimeError, and check the class' name.\n  ...\n  133  \n  134        def self.extended(base)\n  135:         base.class_inheritable_accessor :attachment_options\n  136          base.before_destroy :destroy_thumbnails\n  137          base.before_validation :set_size_from_temp_path\n  ...\n  216        # Checks whether the attachment's content type is an image content type\n  217        def image?\n  218:         self.class.image?(content_type)\n  219        end\n  220  \n  ...\n  226        # Returns the class used to create new thumbnails for this attachment.\n  227        def thumbnail_class\n  228:         self.class.thumbnail_class\n  229        end\n  230  \n  ...\n  337        # Copies the given file to a randomly named Tempfile.\n  338        def copy_to_temp_file(file)\n  339:         self.class.copy_to_temp_file file, random_tempfile_filename\n  340        end\n  341  \n  342        # Writes the given file to a randomly named Tempfile.\n  343        def write_to_temp_file(data)\n  344:         self.class.write_to_temp_file data, random_tempfile_filename\n  345        end\n  346  \n  ...\n  355        #\n  356        def with_image(&block)\n  357:         self.class.with_image(temp_path, &block)\n  358        end\n  359  \n  ...\n  441            def run_callbacks(kind, options = {}, &block)\n  442              options.reverse_merge!( :object => self )\n  443:             self.class.send(\"#{kind}_callback_chain\").run(options[:object], options, &block)\n  444            end\n  445          else\n\n/Users/boos/code/graasp/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/db_file_backend.rb:\n   30                (db_file || build_db_file).data = temp_data\n   31                db_file.save!\n   32:               self.class.update_all ['db_file_id = ?', self.db_file_id = db_file.id], ['id = ?', id]\n   33              end\n   34              true\n\n/Users/boos/code/graasp/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:\n   61              Dir.rmdir(File.dirname(full_filename)) if (Dir.entries(File.dirname(full_filename))-['.','..']).empty?\n   62            rescue\n   63:             logger.info \"Exception destroying  #{full_filename.inspect}: [#{$!.class.name}] #{$1.to_s}\"\n   64              logger.warn $!.backtrace.collect { |b| \" > #{b}\" }.join(\"\\n\")\n   65            end\n\n/Users/boos/code/graasp/vendor/plugins/attachment_fu/test/test_helper.rb:\n   52      Attachment.saves = 0\n   53      DbFile.transaction { [Attachment, FileAttachment, OrphanAttachment, MinimalAttachment, DbFile].each { |klass| klass.delete_all } }\n   54:     attachment_model self.class.attachment_model\n   55    end\n   56    \n\n/Users/boos/code/graasp/vendor/plugins/backgroundrb/generators/worker/worker_generator.rb:\n    3      record do |m|\n    4        # Check for class naming collisions.\n    5:       m.class_collisions class_path, class_name, \"#{class_name}WorkerTest\"\n    6  \n    7        # Worker and test directories.\n\n/Users/boos/code/graasp/vendor/plugins/backgroundrb/lib/backgroundrb/bdrb_job_queue.rb:\n   37    def release_job\n   38      ActiveRecord::Base.verify_active_connections!\n   39:     self.class.transaction do\n   40        self.taken = 0\n   41        self.started_at = nil\n   ..\n   66    def finish!\n   67      ActiveRecord::Base.verify_active_connections!\n   68:     self.class.transaction do\n   69        self.finished = 1\n   70        self.finished_at = Time.now.utc\n\n/Users/boos/code/graasp/vendor/plugins/backgroundrb/script/bdrb_test_helper.rb:\n   19        class_eval do\n   20          define_method(attr) do\n   21:           self.class.send(attr)\n   22          end\n   23          define_method(\"#{attr}=\") do |b_value|\n   24:           self.class.send(\"#{attr}=\",b_value)\n   25          end\n   26        end\n\n/Users/boos/code/graasp/vendor/plugins/backgroundrb/server/lib/master_proxy.rb:\n   36          worker_name = File.basename(x,\".rb\")\n   37          require worker_name\n   38:         worker_klass = Object.const_get(worker_name.classify)\n   39          worker_klass.reload_flag ? worker_klass : nil\n   40        end.compact\n\n/Users/boos/code/graasp/vendor/plugins/backgroundrb/test/client/test_bdrb_cluster_connection.rb:\n  158    specify \"should use memcache based result storage if specified\" do\n  159      @cluster_connection.cache.should.not == nil\n  160:     @cluster_connection.cache.class.should == MemCache\n  161    end\n  162  end\n\n/Users/boos/code/graasp/vendor/plugins/calendariffic/assets/javascripts/calendariffic/calendar.js:\n   12   * Read the entire license text here: http://www.gnu.org/licenses/lgpl.html\n   13   */\n   14:  Calendar=function(firstDayOfWeek,dateStr,onSelected,onClose){this.activeDiv=null;this.currentDateEl=null;this.getDateStatus=null;this.getDateToolTip=null;this.getDateText=null;this.timeout=null;this.onSelected=onSelected||null;this.onClose=onClose||null;this.dragging=false;this.hidden=false;this.minYear=1970;this.maxYear=2050;this.dateFormat=Calendar._TT[\"DEF_DATE_FORMAT\"];this.ttDateFormat=Calendar._TT[\"TT_DATE_FORMAT\"];this.isPopup=true;this.weekNumbers=true;this.firstDayOfWeek=typeof firstDayOfWeek==\"number\"?firstDayOfWeek:Calendar._FD;this.showsOtherMonths=false;this.dateStr=dateStr;this.ar_days=null;this.showsTime=false;this.time24=true;this.yearStep=2;this.hiliteToday=true;this.multiple=null;this.table=null;this.element=null;this.tbody=null;this.firstdayname=null;this.monthsCombo=null;this.yearsCombo=null;this.hilitedMonth=null;this.activeMonth=null;this.hilitedYear=null;this.activeYear=null;this.dateClicked=false;if(typeof Calendar._SDN==\"undefined\"){if(typeof Calendar._SDN_len==\"undefined\")Calendar._SDN_len=3;var ar=new Array();for(var i=8;i>0;){ar[--i]=Calendar._DN[i].substr(0,Calendar._SDN_len);}Calendar._SDN=ar;if(typeof Calendar._SMN_len==\"undefined\")Calendar._SMN_len=3;ar=new Array();for(var i=12;i>0;){ar[--i]=Calendar._MN[i].substr(0,Calendar._SMN_len);}Calendar._SMN=ar;}};Calendar._C=null;Calendar.is_ie=(/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent));Calendar.is_ie5=(Calendar.is_ie&&/msie 5\\.0/i.test(navigator.userAgent));Calendar.is_opera=/opera/i.test(navigator.userAgent);Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent);Calendar.getAbsolutePos=function(el){var SL=0,ST=0;var is_div=/^div$/i.test(el.tagName);if(is_div&&el.scrollLeft)SL=el.scrollLeft;if(is_div&&el.scrollTop)ST=el.scrollTop;var r={x:el.offsetLeft-SL,y:el.offsetTop-ST};if(el.offsetParent){var tmp=this.getAbsolutePos(el.offsetParent);r.x+=tmp.x;r.y+=tmp.y;}return r;};Calendar.isRelated=function(el,evt){var related=evt.relatedTarget;if(!related){var type=evt.type;if(type==\"mouseover\"){related=evt.fromElement;}else if(type==\"mouseout\"){related=evt.toElement;}}while(related){if(related==el){return true;}related=related.parentNode;}return false;};Calendar.removeClass=function(el,className){if(!(el&&el.className)){return;}var cls=el.className.split(\" \");var ar=new Array();for(var i=cls.length;i>0;){if(cls[--i]!=className){ar[ar.length]=cls[i];}}el.className=ar.join(\" \");};Calendar.addClass=function(el,className){Calendar.removeClass(el,className);el.className+=\" \"+className;};Calendar.getElement=function(ev){var f=Calendar.is_ie?window.event.srcElement:ev.currentTarget;while(f.nodeType!=1||/^div$/i.test(f.tagName))f=f.parentNode;return f;};Calendar.getTargetElement=function(ev){var f=Calendar.is_ie?window.event.srcElement:ev.target;while(f.nodeType!=1)f=f.parentNode;return f;};Calendar.stopEvent=function(ev){ev||(ev=window.event);if(Calendar.is_ie){ev.cancelBubble=true;ev.returnValue=false;}else{ev.preventDefault();ev.stopPropagation();}return false;};Calendar.addEvent=function(el,evname,func){if(el.attachEvent){el.attachEvent(\"on\"+evname,func);}else if(el.addEventListener){el.addEventListener(evname,func,true);}else{el[\"on\"+evname]=func;}};Calendar.removeEvent=function(el,evname,func){if(el.detachEvent){el.detachEvent(\"on\"+evname,func);}else if(el.removeEventListener){el.removeEventListener(evname,func,true);}else{el[\"on\"+evname]=null;}};Calendar.createElement=function(type,parent){var el=null;if(document.createElementNS){el=document.createElementNS(\"http://www.w3.org/1999/xhtml\",type);}else{el=document.createElement(type);}if(typeof parent!=\"undefined\"){parent.appendChild(el);}return el;};Calendar._add_evs=function(el){with(Calendar){addEvent(el,\"mouseover\",dayMouseOver);addEvent(el,\"mousedown\",dayMouseDown);addEvent(el,\"mouseout\",dayMouseOut);if(is_ie){addEvent(el,\"dblclick\",dayMouseDblClick);el.setAttribute(\"unselectable\",true);}}};Calendar.findMonth=function(el){if(typeof el.month!=\"undefined\"){return el;}else if(typeof el.parentNode.month!=\"undefined\"){return el.parentNode;}return null;};Calendar.findYear=function(el){if(typeof el.year!=\"undefined\"){return el;}else if(typeof el.parentNode.year!=\"undefined\"){return el.parentNode;}return null;};Calendar.showMonthsCombo=function(){var cal=Calendar._C;if(!cal){return false;}var cal=cal;var cd=cal.activeDiv;var mc=cal.monthsCombo;if(cal.hilitedMonth){Calendar.removeClass(cal.hilitedMonth,\"hilite\");}if(cal.activeMonth){Calendar.removeClass(cal.activeMonth,\"active\");}var mon=cal.monthsCombo.getElementsByTagName(\"div\")[cal.date.getMonth()];Calendar.addClass(mon,\"active\");cal.activeMonth=mon;var s=mc.style;s.display=\"block\";if(cd.navtype<0)s.left=cd.offsetLeft+\"px\";else{var mcw=mc.offsetWidth;if(typeof mcw==\"undefined\")mcw=50;s.left=(cd.offsetLeft+cd.offsetWidth-mcw)+\"px\";}s.top=(cd.offsetTop+cd.offsetHeight)+\"px\";};Calendar.showYearsCombo=function(fwd){var cal=Calendar._C;if(!cal){return false;}var cal=cal;var cd=cal.activeDiv;var yc=cal.yearsCombo;if(cal.hilitedYear){Calendar.removeClass(cal.hilitedYear,\"hilite\");}if(cal.activeYear){Calendar.removeClass(cal.activeYear,\"active\");}cal.activeYear=null;var Y=cal.date.getFullYear()+(fwd?1:-1);var yr=yc.firstChild;var show=false;for(var i=12;i>0;--i){if(Y>=cal.minYear&&Y<=cal.maxYear){yr.innerHTML=Y;yr.year=Y;yr.style.display=\"block\";show=true;}else{yr.style.display=\"none\";}yr=yr.nextSibling;Y+=fwd?cal.yearStep:-cal.yearStep;}if(show){var s=yc.style;s.display=\"block\";if(cd.navtype<0)s.left=cd.offsetLeft+\"px\";else{var ycw=yc.offsetWidth;if(typeof ycw==\"undefined\")ycw=50;s.left=(cd.offsetLeft+cd.offsetWidth-ycw)+\"px\";}s.top=(cd.offsetTop+cd.offsetHeight)+\"px\";}};Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal){return false;}if(cal.timeout){clearTimeout(cal.timeout);}var el=cal.activeDiv;if(!el){return false;}var target=Calendar.getTargetElement(ev);ev||(ev=window.event);Calendar.removeClass(el,\"active\");if(target==el||target.parentNode==el){Calendar.cellClick(el,ev);}var mon=Calendar.findMonth(target);var date=null;if(mon){date=new Date(cal.date);if(mon.month!=date.getMonth()){date.setMonth(mon.month);cal.setDate(date);cal.dateClicked=false;cal.callHandler();}}else{var year=Calendar.findYear(target);if(year){date=new Date(cal.date);if(year.year!=date.getFullYear()){date.setFullYear(year.year);cal.setDate(date);cal.dateClicked=false;cal.callHandler();}}}with(Calendar){removeEvent(document,\"mouseup\",tableMouseUp);removeEvent(document,\"mouseover\",tableMouseOver);removeEvent(document,\"mousemove\",tableMouseOver);cal._hideCombos();_C=null;return stopEvent(ev);}};Calendar.tableMouseOver=function(ev){var cal=Calendar._C;if(!cal){return;}var el=cal.activeDiv;var target=Calendar.getTargetElement(ev);if(target==el||target.parentNode==el){Calendar.addClass(el,\"hilite active\");Calendar.addClass(el.parentNode,\"rowhilite\");}else{if(typeof el.navtype==\"undefined\"||(el.navtype!=50&&(el.navtype==0||Math.abs(el.navtype)>2)))Calendar.removeClass(el,\"active\");Calendar.removeClass(el,\"hilite\");Calendar.removeClass(el.parentNode,\"rowhilite\");}ev||(ev=window.event);if(el.navtype==50&&target!=el){var pos=Calendar.getAbsolutePos(el);var w=el.offsetWidth;var x=ev.clientX;var dx;var decrease=true;if(x>pos.x+w){dx=x-pos.x-w;decrease=false;}else dx=pos.x-x;if(dx<0)dx=0;var range=el._range;var current=el._current;var count=Math.floor(dx/10)%range.length;for(var i=range.length;--i>=0;)if(range[i]==current)break;while(count-->0)if(decrease){if(--i<0)i=range.length-1;}else if(++i>=range.length)i=0;var newval=range[i];el.innerHTML=newval;cal.onUpdateTime();}var mon=Calendar.findMonth(target);if(mon){if(mon.month!=cal.date.getMonth()){if(cal.hilitedMonth){Calendar.removeClass(cal.hilitedMonth,\"hilite\");}Calendar.addClass(mon,\"hilite\");cal.hilitedMonth=mon;}else if(cal.hilitedMonth){Calendar.removeClass(cal.hilitedMonth,\"hilite\");}}else{if(cal.hilitedMonth){Calendar.removeClass(cal.hilitedMonth,\"hilite\");}var year=Calendar.findYear(target);if(year){if(year.year!=cal.date.getFullYear()){if(cal.hilitedYear){Calendar.removeClass(cal.hilitedYear,\"hilite\");}Calendar.addClass(year,\"hilite\");cal.hilitedYear=year;}else if(cal.hilitedYear){Calendar.removeClass(cal.hilitedYear,\"hilite\");}}else if(cal.hilitedYear){Calendar.removeClass(cal.hilitedYear,\"hilite\");}}return Calendar.stopEvent(ev);};Calendar.tableMouseDown=function(ev){if(Calendar.getTargetElement(ev)==Calendar.getElement(ev)){return Calendar.stopEvent(ev);}};Calendar.calDragIt=function(ev){var cal=Calendar._C;if(!(cal&&cal.dragging)){return false;}var posX;var posY;if(Calendar.is_ie){posY=window.event.clientY+document.body.scrollTop;posX=window.event.clientX+document.body.scrollLeft;}else{posX=ev.pageX;posY=ev.pageY;}cal.hideShowCovered();var st=cal.element.style;st.left=(posX-cal.xOffs)+\"px\";st.top=(posY-cal.yOffs)+\"px\";return Calendar.stopEvent(ev);};Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal){return false;}cal.dragging=false;with(Calendar){removeEvent(document,\"mousemove\",calDragIt);removeEvent(document,\"mouseup\",calDragEnd);tableMouseUp(ev);}cal.hideShowCovered();};Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled){return false;}var cal=el.calendar;cal.activeDiv=el;Calendar._C=cal;if(el.navtype!=300)with(Calendar){if(el.navtype==50){el._current=el.innerHTML;addEvent(document,\"mousemove\",tableMouseOver);}else addEvent(document,Calendar.is_ie5?\"mousemove\":\"mouseover\",tableMouseOver);addClass(el,\"hilite active\");addEvent(document,\"mouseup\",tableMouseUp);}else if(cal.isPopup){cal._dragStart(ev);}if(el.navtype==-1||el.navtype==1){if(cal.timeout)clearTimeout(cal.timeout);cal.timeout=setTimeout(\"Calendar.showMonthsCombo()\",250);}else if(el.navtype==-2||el.navtype==2){if(cal.timeout)clearTimeout(cal.timeout);cal.timeout=setTimeout((el.navtype>0)?\"Calendar.showYearsCombo(true)\":\"Calendar.showYearsCombo(false)\",250);}else{cal.timeout=null;}return Calendar.stopEvent(ev);};Calendar.dayMouseDblClick=function(ev){Calendar.cellClick(Calendar.getElement(ev),ev||window.event);if(Calendar.is_ie){document.selection.empty();}};Calendar.dayMouseOver=function(ev){var el=Calendar.getElement(ev);if(Calendar.isRelated(el,ev)||Calendar._C||el.disabled){return false;}if(el.ttip){if(el.ttip.substr(0,1)==\"_\"){el.ttip=el.caldate.print(el.calendar.ttDateFormat)+el.ttip.substr(1);}el.calendar.tooltips.innerHTML=el.ttip;}if(el.navtype!=300){Calendar.addClass(el,\"hilite\");if(el.caldate){Calendar.addClass(el.parentNode,\"rowhilite\");}}return Calendar.stopEvent(ev);};Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);if(isRelated(el,ev)||_C||el.disabled)return false;removeClass(el,\"hilite\");if(el.caldate)removeClass(el.parentNode,\"rowhilite\");if(el.calendar)el.calendar.tooltips.innerHTML=_TT[\"SEL_DATE\"];return stopEvent(ev);}};Calendar.cellClick=function(el,ev){var cal=el.calendar;var closing=false;var newdate=false;var date=null;if(typeof el.navtype==\"undefined\"){if(cal.currentDateEl){Calendar.removeClass(cal.currentDateEl,\"selected\");Calendar.addClass(el,\"selected\");closing=(cal.currentDateEl==el);if(!closing){cal.currentDateEl=el;}}cal.date.setDateOnly(el.caldate);date=cal.date;var other_month=!(cal.dateClicked=!el.otherMonth);if(!other_month&&!cal.currentDateEl)cal._toggleMultipleDate(new Date(date));else newdate=!el.disabled;if(other_month)cal._init(cal.firstDayOfWeek,date);}else{if(el.navtype==200){Calendar.removeClass(el,\"hilite\");cal.callCloseHandler();return;}date=new Date(cal.date);if(el.navtype==0)date.setDateOnly(new Date());cal.dateClicked=false;var year=date.getFullYear();var mon=date.getMonth();function setMonth(m){var day=date.getDate();var max=date.getMonthDays(m);if(day>max){date.setDate(max);}date.setMonth(m);};switch(el.navtype){case 400:Calendar.removeClass(el,\"hilite\");var text=Calendar._TT[\"ABOUT\"];if(typeof text!=\"undefined\"){text+=cal.showsTime?Calendar._TT[\"ABOUT_TIME\"]:\"\";}else{text=\"Help and about box text is not translated into this language.\\n\"+\"If you know this language and you feel generous please update\\n\"+\"the corresponding file in \\\"lang\\\" subdir to match calendar-en.js\\n\"+\"and send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\\n\\n\"+\"Thank you!\\n\"+\"http://dynarch.com/mishoo/calendar.epl\\n\";}alert(text);return;case-2:if(year>cal.minYear){date.setFullYear(year-1);}break;case-1:if(mon>0){setMonth(mon-1);}else if(year-->cal.minYear){date.setFullYear(year);setMonth(11);}break;case 1:if(mon<11){setMonth(mon+1);}else if(year<cal.maxYear){date.setFullYear(year+1);setMonth(0);}break;case 2:if(year<cal.maxYear){date.setFullYear(year+1);}break;case 100:cal.setFirstDayOfWeek(el.fdow);return;case 50:var range=el._range;var current=el.innerHTML;for(var i=range.length;--i>=0;)if(range[i]==current)break;if(ev&&ev.shiftKey){if(--i<0)i=range.length-1;}else if(++i>=range.length)i=0;var newval=range[i];el.innerHTML=newval;cal.onUpdateTime();return;case 0:if((typeof cal.getDateStatus==\"function\")&&cal.getDateStatus(date,date.getFullYear(),date.getMonth(),date.getDate())){return false;}break;}if(!date.equalsTo(cal.date)){cal.setDate(date);newdate=true;}else if(el.navtype==0)newdate=closing=true;}if(newdate){ev&&cal.callHandler();}if(closing){Calendar.removeClass(el,\"hilite\");ev&&cal.callCloseHandler();}};Calendar.prototype.create=function(_par){var parent=null;if(!_par){parent=document.getElementsByTagName(\"body\")[0];this.isPopup=true;}else{parent=_par;this.isPopup=false;}this.date=this.dateStr?new Date(this.dateStr):new Date();var table=Calendar.createElement(\"table\");this.table=table;table.cellSpacing=0;table.cellPadding=0;table.calendar=this;Calendar.addEvent(table,\"mousedown\",Calendar.tableMouseDown);var div=Calendar.createElement(\"div\");this.element=div;div.className=\"calendar\";if(this.isPopup){div.style.position=\"absolute\";div.style.display=\"none\";}div.appendChild(table);var thead=Calendar.createElement(\"thead\",table);var cell=null;var row=null;var cal=this;var hh=function(text,cs,navtype){cell=Calendar.createElement(\"td\",row);cell.colSpan=cs;cell.className=\"button\";if(navtype!=0&&Math.abs(navtype)<=2)cell.className+=\" nav\";Calendar._add_evs(cell);cell.calendar=cal;cell.navtype=navtype;cell.innerHTML=\"<div unselectable='on'>\"+text+\"</div>\";return cell;};row=Calendar.createElement(\"tr\",thead);var title_length=6;(this.isPopup)&&--title_length;(this.weekNumbers)&&++title_length;hh(\"?\",1,400).ttip=Calendar._TT[\"INFO\"];this.title=hh(\"\",title_length,300);this.title.className=\"title\";if(this.isPopup){this.title.ttip=Calendar._TT[\"DRAG_TO_MOVE\"];this.title.style.cursor=\"move\";hh(\"&#x00d7;\",1,200).ttip=Calendar._TT[\"CLOSE\"];}row=Calendar.createElement(\"tr\",thead);row.className=\"headrow\";this._nav_py=hh(\"&#x00ab;\",1,-2);this._nav_py.ttip=Calendar._TT[\"PREV_YEAR\"];this._nav_pm=hh(\"&#x2039;\",1,-1);this._nav_pm.ttip=Calendar._TT[\"PREV_MONTH\"];this._nav_now=hh(Calendar._TT[\"TODAY\"],this.weekNumbers?4:3,0);this._nav_now.ttip=Calendar._TT[\"GO_TODAY\"];this._nav_nm=hh(\"&#x203a;\",1,1);this._nav_nm.ttip=Calendar._TT[\"NEXT_MONTH\"];this._nav_ny=hh(\"&#x00bb;\",1,2);this._nav_ny.ttip=Calendar._TT[\"NEXT_YEAR\"];row=Calendar.createElement(\"tr\",thead);row.className=\"daynames\";if(this.weekNumbers){cell=Calendar.createElement(\"td\",row);cell.className=\"name wn\";cell.innerHTML=Calendar._TT[\"WK\"];}for(var i=7;i>0;--i){cell=Calendar.createElement(\"td\",row);if(!i){cell.navtype=100;cell.calendar=this;Calendar._add_evs(cell);}}this.firstdayname=(this.weekNumbers)?row.firstChild.nextSibling:row.firstChild;this._displayWeekdays();var tbody=Calendar.createElement(\"tbody\",table);this.tbody=tbody;for(i=6;i>0;--i){row=Calendar.createElement(\"tr\",tbody);if(this.weekNumbers){cell=Calendar.createElement(\"td\",row);}for(var j=7;j>0;--j){cell=Calendar.createElement(\"td\",row);cell.calendar=this;Calendar._add_evs(cell);}}if(this.showsTime){row=Calendar.createElement(\"tr\",tbody);row.className=\"time\";cell=Calendar.createElement(\"td\",row);cell.className=\"time\";cell.colSpan=2;cell.innerHTML=Calendar._TT[\"TIME\"]||\"&nbsp;\";cell=Calendar.createElement(\"td\",row);cell.className=\"time\";cell.colSpan=this.weekNumbers?4:3;(function(){function makeTimePart(className,init,range_start,range_end){var part=Calendar.createElement(\"span\",cell);part.className=className;part.innerHTML=init;part.calendar=cal;part.ttip=Calendar._TT[\"TIME_PART\"];part.navtype=50;part._range=[];if(typeof range_start!=\"number\")part._range=range_start;else{for(var i=range_start;i<=range_end;++i){var txt;if(i<10&&range_end>=10)txt='0'+i;else txt=''+i;part._range[part._range.length]=txt;}}Calendar._add_evs(part);return part;};var hrs=cal.date.getHours();var mins=cal.date.getMinutes();var t12=!cal.time24;var pm=(hrs>12);if(t12&&pm)hrs-=12;var H=makeTimePart(\"hour\",hrs,t12?1:0,t12?12:23);var span=Calendar.createElement(\"span\",cell);span.innerHTML=\":\";span.className=\"colon\";var M=makeTimePart(\"minute\",mins,0,59);var AP=null;cell=Calendar.createElement(\"td\",row);cell.className=\"time\";cell.colSpan=2;if(t12)AP=makeTimePart(\"ampm\",pm?\"pm\":\"am\",[\"am\",\"pm\"]);else cell.innerHTML=\"&nbsp;\";cal.onSetTime=function(){var pm,hrs=this.date.getHours(),mins=this.date.getMinutes();if(t12){pm=(hrs>=12);if(pm)hrs-=12;if(hrs==0)hrs=12;AP.innerHTML=pm?\"pm\":\"am\";}H.innerHTML=(hrs<10)?(\"0\"+hrs):hrs;M.innerHTML=(mins<10)?(\"0\"+mins):mins;};cal.onUpdateTime=function(){var date=this.date;var h=parseInt(H.innerHTML,10);if(t12){if(/pm/i.test(AP.innerHTML)&&h<12)h+=12;else if(/am/i.test(AP.innerHTML)&&h==12)h=0;}var d=date.getDate();var m=date.getMonth();var y=date.getFullYear();date.setHours(h);date.setMinutes(parseInt(M.innerHTML,10));date.setFullYear(y);date.setMonth(m);date.setDate(d);this.dateClicked=false;this.callHandler();};})();}else{this.onSetTime=this.onUpdateTime=function(){};}var tfoot=Calendar.createElement(\"tfoot\",table);row=Calendar.createElement(\"tr\",tfoot);row.className=\"footrow\";cell=hh(Calendar._TT[\"SEL_DATE\"],this.weekNumbers?8:7,300);cell.className=\"ttip\";if(this.isPopup){cell.ttip=Calendar._TT[\"DRAG_TO_MOVE\"];cell.style.cursor=\"move\";}this.tooltips=cell;div=Calendar.createElement(\"div\",this.element);this.monthsCombo=div;div.className=\"combo\";for(i=0;i<Calendar._MN.length;++i){var mn=Calendar.createElement(\"div\");mn.className=Calendar.is_ie?\"label-IEfix\":\"label\";mn.month=i;mn.innerHTML=Calendar._SMN[i];div.appendChild(mn);}div=Calendar.createElement(\"div\",this.element);this.yearsCombo=div;div.className=\"combo\";for(i=12;i>0;--i){var yr=Calendar.createElement(\"div\");yr.className=Calendar.is_ie?\"label-IEfix\":\"label\";div.appendChild(yr);}this._init(this.firstDayOfWeek,this.date);parent.appendChild(this.element);};Calendar._keyEvent=function(ev){var cal=window._dynarch_popupCalendar;if(!cal||cal.multiple)return false;(Calendar.is_ie)&&(ev=window.event);var act=(Calendar.is_ie||ev.type==\"keypress\"),K=ev.keyCode;if(ev.ctrlKey){switch(K){case 37:act&&Calendar.cellClick(cal._nav_pm);break;case 38:act&&Calendar.cellClick(cal._nav_py);break;case 39:act&&Calendar.cellClick(cal._nav_nm);break;case 40:act&&Calendar.cellClick(cal._nav_ny);break;default:return false;}}else switch(K){case 32:Calendar.cellClick(cal._nav_now);break;case 27:act&&cal.callCloseHandler();break;case 37:case 38:case 39:case 40:if(act){var prev,x,y,ne,el,step;prev=K==37||K==38;step=(K==37||K==39)?1:7;function setVars(){el=cal.currentDateEl;var p=el.pos;x=p&15;y=p>>4;ne=cal.ar_days[y][x];};setVars();function prevMonth(){var date=new Date(cal.date);date.setDate(date.getDate()-step);cal.setDate(date);};function nextMonth(){var date=new Date(cal.date);date.setDate(date.getDate()+step);cal.setDate(date);};while(1){switch(K){case 37:if(--x>=0)ne=cal.ar_days[y][x];else{x=6;K=38;continue;}break;case 38:if(--y>=0)ne=cal.ar_days[y][x];else{prevMonth();setVars();}break;case 39:if(++x<7)ne=cal.ar_days[y][x];else{x=0;K=40;continue;}break;case 40:if(++y<cal.ar_days.length)ne=cal.ar_days[y][x];else{nextMonth();setVars();}break;}break;}if(ne){if(!ne.disabled)Calendar.cellClick(ne);else if(prev)prevMonth();else nextMonth();}}break;case 13:if(act)Calendar.cellClick(cal.currentDateEl,ev);break;default:return false;}return Calendar.stopEvent(ev);};Calendar.prototype._init=function(firstDayOfWeek,date){var today=new Date(),TY=today.getFullYear(),TM=today.getMonth(),TD=today.getDate();this.table.style.visibility=\"hidden\";var year=date.getFullYear();if(year<this.minYear){year=this.minYear;date.setFullYear(year);}else if(year>this.maxYear){year=this.maxYear;date.setFullYear(year);}this.firstDayOfWeek=firstDayOfWeek;this.date=new Date(date);var month=date.getMonth();var mday=date.getDate();var no_days=date.getMonthDays();date.setDate(1);var day1=(date.getDay()-this.firstDayOfWeek)%7;if(day1<0)day1+=7;date.setDate(-day1);date.setDate(date.getDate()+1);var row=this.tbody.firstChild;var MN=Calendar._SMN[month];var ar_days=this.ar_days=new Array();var weekend=Calendar._TT[\"WEEKEND\"];var dates=this.multiple?(this.datesCells={}):null;for(var i=0;i<6;++i,row=row.nextSibling){var cell=row.firstChild;if(this.weekNumbers){cell.className=\"day wn\";cell.innerHTML=date.getWeekNumber();cell=cell.nextSibling;}row.className=\"daysrow\";var hasdays=false,iday,dpos=ar_days[i]=[];for(var j=0;j<7;++j,cell=cell.nextSibling,date.setDate(iday+1)){iday=date.getDate();var wday=date.getDay();cell.className=\"day\";cell.pos=i<<4|j;dpos[j]=cell;var current_month=(date.getMonth()==month);if(!current_month){if(this.showsOtherMonths){cell.className+=\" othermonth\";cell.otherMonth=true;}else{cell.className=\"emptycell\";cell.innerHTML=\"&nbsp;\";cell.disabled=true;continue;}}else{cell.otherMonth=false;hasdays=true;}cell.disabled=false;cell.innerHTML=this.getDateText?this.getDateText(date,iday):iday;if(dates)dates[date.print(\"%Y%m%d\")]=cell;if(this.getDateStatus){var status=this.getDateStatus(date,year,month,iday);if(this.getDateToolTip){var toolTip=this.getDateToolTip(date,year,month,iday);if(toolTip)cell.title=toolTip;}if(status===true){cell.className+=\" disabled\";cell.disabled=true;}else{if(/disabled/i.test(status))cell.disabled=true;cell.className+=\" \"+status;}}if(!cell.disabled){cell.caldate=new Date(date);cell.ttip=\"_\";if(!this.multiple&&current_month&&iday==mday&&this.hiliteToday){cell.className+=\" selected\";this.currentDateEl=cell;}if(date.getFullYear()==TY&&date.getMonth()==TM&&iday==TD){cell.className+=\" today\";cell.ttip+=Calendar._TT[\"PART_TODAY\"];}if(weekend.indexOf(wday.toString())!=-1)cell.className+=cell.otherMonth?\" oweekend\":\" weekend\";}}if(!(hasdays||this.showsOtherMonths))row.className=\"emptyrow\";}this.title.innerHTML=Calendar._MN[month]+\", \"+year;this.onSetTime();this.table.style.visibility=\"visible\";this._initMultipleDates();};Calendar.prototype._initMultipleDates=function(){if(this.multiple){for(var i in this.multiple){var cell=this.datesCells[i];var d=this.multiple[i];if(!d)continue;if(cell)cell.className+=\" selected\";}}};Calendar.prototype._toggleMultipleDate=function(date){if(this.multiple){var ds=date.print(\"%Y%m%d\");var cell=this.datesCells[ds];if(cell){var d=this.multiple[ds];if(!d){Calendar.addClass(cell,\"selected\");this.multiple[ds]=date;}else{Calendar.removeClass(cell,\"selected\");delete this.multiple[ds];}}}};Calendar.prototype.setDateToolTipHandler=function(unaryFunction){this.getDateToolTip=unaryFunction;};Calendar.prototype.setDate=function(date){if(!date.equalsTo(this.date)){this._init(this.firstDayOfWeek,date);}};Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date);};Calendar.prototype.setFirstDayOfWeek=function(firstDayOfWeek){this._init(firstDayOfWeek,this.date);this._displayWeekdays();};Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(unaryFunction){this.getDateStatus=unaryFunction;};Calendar.prototype.setRange=function(a,z){this.minYear=a;this.maxYear=z;};Calendar.prototype.callHandler=function(){if(this.onSelected){this.onSelected(this,this.date.print(this.dateFormat));}};Calendar.prototype.callCloseHandler=function(){if(this.onClose){this.onClose(this);}this.hideShowCovered();};Calendar.prototype.destroy=function(){var el=this.element.parentNode;el.removeChild(this.element);Calendar._C=null;window._dynarch_popupCalendar=null;};Calendar.prototype.reparent=function(new_parent){var el=this.element;el.parentNode.removeChild(el);new_parent.appendChild(el);};Calendar._checkCalendar=function(ev){var calendar=window._dynarch_popupCalendar;if(!calendar){return false;}var el=Calendar.is_ie?Calendar.getElement(ev):Calendar.getTargetElement(ev);for(;el!=null&&el!=calendar.element;el=el.parentNode);if(el==null){window._dynarch_popupCalendar.callCloseHandler();return Calendar.stopEvent(ev);}};Calendar.prototype.show=function(){var rows=this.table.getElementsByTagName(\"tr\");for(var i=rows.length;i>0;){var row=rows[--i];Calendar.removeClass(row,\"rowhilite\");var cells=row.getElementsByTagName(\"td\");for(var j=cells.length;j>0;){var cell=cells[--j];Calendar.removeClass(cell,\"hilite\");Calendar.removeClass(cell,\"active\");}}this.element.style.display=\"block\";this.hidden=false;if(this.isPopup){window._dynarch_popupCalendar=this;Calendar.addEvent(document,\"keydown\",Calendar._keyEvent);Calendar.addEvent(document,\"keypress\",Calendar._keyEvent);Calendar.addEvent(document,\"mousedown\",Calendar._checkCalendar);}this.hideShowCovered();};Calendar.prototype.hide=function(){if(this.isPopup){Calendar.removeEvent(document,\"keydown\",Calendar._keyEvent);Calendar.removeEvent(document,\"keypress\",Calendar._keyEvent);Calendar.removeEvent(document,\"mousedown\",Calendar._checkCalendar);}this.element.style.display=\"none\";this.hidden=true;this.hideShowCovered();};Calendar.prototype.showAt=function(x,y){var s=this.element.style;s.left=x+\"px\";s.top=y+\"px\";this.show();};Calendar.prototype.showAtElement=function(el,opts){var self=this;var p=Calendar.getAbsolutePos(el);if(!opts||typeof opts!=\"string\"){this.showAt(p.x,p.y+el.offsetHeight);return true;}function fixPosition(box){if(box.x<0)box.x=0;if(box.y<0)box.y=0;var cp=document.createElement(\"div\");var s=cp.style;s.position=\"absolute\";s.right=s.bottom=s.width=s.height=\"0px\";document.body.appendChild(cp);var br=Calendar.getAbsolutePos(cp);document.body.removeChild(cp);if(Calendar.is_ie){br.y+=document.body.scrollTop;br.x+=document.body.scrollLeft;}else{br.y+=window.scrollY;br.x+=window.scrollX;}var tmp=box.x+box.width-br.x;if(tmp>0)box.x-=tmp;tmp=box.y+box.height-br.y;if(tmp>0)box.y-=tmp;};this.element.style.display=\"block\";Calendar.continuation_for_the_fucking_khtml_browser=function(){var w=self.element.offsetWidth;var h=self.element.offsetHeight;self.element.style.display=\"none\";var valign=opts.substr(0,1);var halign=\"l\";if(opts.length>1){halign=opts.substr(1,1);}switch(valign){case \"T\":p.y-=h;break;case \"B\":p.y+=el.offsetHeight;break;case \"C\":p.y+=(el.offsetHeight-h)/2;break;case \"t\":p.y+=el.offsetHeight-h;break;case \"b\":break;}switch(halign){case \"L\":p.x-=w;break;case \"R\":p.x+=el.offsetWidth;break;case \"C\":p.x+=(el.offsetWidth-w)/2;break;case \"l\":p.x+=el.offsetWidth-w;break;case \"r\":break;}p.width=w;p.height=h+40;self.monthsCombo.style.display=\"none\";fixPosition(p);self.showAt(p.x,p.y);};if(Calendar.is_khtml)setTimeout(\"Calendar.continuation_for_the_fucking_khtml_browser()\",10);else Calendar.continuation_for_the_fucking_khtml_browser();};Calendar.prototype.setDateFormat=function(str){this.dateFormat=str;};Calendar.prototype.setTtDateFormat=function(str){this.ttDateFormat=str;};Calendar.prototype.parseDate=function(str,fmt){if(!fmt)fmt=this.dateFormat;this.setDate(Date.parseDate(str,fmt));};Calendar.prototype.hideShowCovered=function(){if(!Calendar.is_ie&&!Calendar.is_opera)return;function getVisib(obj){var value=obj.style.visibility;if(!value){if(document.defaultView&&typeof(document.defaultView.getComputedStyle)==\"function\"){if(!Calendar.is_khtml)value=document.defaultView. getComputedStyle(obj,\"\").getPropertyValue(\"visibility\");else value='';}else if(obj.currentStyle){value=obj.currentStyle.visibility;}else value='';}return value;};var tags=new Array(\"applet\",\"iframe\",\"select\");var el=this.element;var p=Calendar.getAbsolutePos(el);var EX1=p.x;var EX2=el.offsetWidth+EX1;var EY1=p.y;var EY2=el.offsetHeight+EY1;for(var k=tags.length;k>0;){var ar=document.getElementsByTagName(tags[--k]);var cc=null;for(var i=ar.length;i>0;){cc=ar[--i];p=Calendar.getAbsolutePos(cc);var CX1=p.x;var CX2=cc.offsetWidth+CX1;var CY1=p.y;var CY2=cc.offsetHeight+CY1;if(this.hidden||(CX1>EX2)||(CX2<EX1)||(CY1>EY2)||(CY2<EY1)){if(!cc.__msh_save_visibility){cc.__msh_save_visibility=getVisib(cc);}cc.style.visibility=cc.__msh_save_visibility;}else{if(!cc.__msh_save_visibility){cc.__msh_save_visibility=getVisib(cc);}cc.style.visibility=\"hidden\";}}}};Calendar.prototype._displayWeekdays=function(){var fdow=this.firstDayOfWeek;var cell=this.firstdayname;var weekend=Calendar._TT[\"WEEKEND\"];for(var i=0;i<7;++i){cell.className=\"day name\";var realday=(i+fdow)%7;if(i){cell.ttip=Calendar._TT[\"DAY_FIRST\"].replace(\"%s\",Calendar._DN[realday]);cell.navtype=100;cell.calendar=this;cell.fdow=realday;Calendar._add_evs(cell);}if(weekend.indexOf(realday.toString())!=-1){Calendar.addClass(cell,\"weekend\");}cell.innerHTML=Calendar._SDN[(i+fdow)%7];cell=cell.nextSibling;}};Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display=\"none\";this.yearsCombo.style.display=\"none\";};Calendar.prototype._dragStart=function(ev){if(this.dragging){return;}this.dragging=true;var posX;var posY;if(Calendar.is_ie){posY=window.event.clientY+document.body.scrollTop;posX=window.event.clientX+document.body.scrollLeft;}else{posY=ev.clientY+window.scrollY;posX=ev.clientX+window.scrollX;}var st=this.element.style;this.xOffs=posX-parseInt(st.left);this.yOffs=posY-parseInt(st.top);with(Calendar){addEvent(document,\"mousemove\",calDragIt);addEvent(document,\"mouseup\",calDragEnd);}};Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31);Date.SECOND=1000;Date.MINUTE=60*Date.SECOND;Date.HOUR=60*Date.MINUTE;Date.DAY=24*Date.HOUR;Date.WEEK=7*Date.DAY;Date.parseDate=function(str,fmt){var today=new Date();var y=0;var m=-1;var d=0;var a=str.split(/\\W+/);var b=fmt.match(/%./g);var i=0,j=0;var hr=0;var min=0;for(i=0;i<a.length;++i){if(!a[i])continue;switch(b[i]){case \"%d\":case \"%e\":d=parseInt(a[i],10);break;case \"%m\":m=parseInt(a[i],10)-1;break;case \"%Y\":case \"%y\":y=parseInt(a[i],10);(y<100)&&(y+=(y>29)?1900:2000);break;case \"%b\":case \"%B\":for(j=0;j<12;++j){if(Calendar._MN[j].substr(0,a[i].length).toLowerCase()==a[i].toLowerCase()){m=j;break;}}break;case \"%H\":case \"%I\":case \"%k\":case \"%l\":hr=parseInt(a[i],10);break;case \"%P\":case \"%p\":if(/pm/i.test(a[i])&&hr<12)hr+=12;else if(/am/i.test(a[i])&&hr>=12)hr-=12;break;case \"%M\":min=parseInt(a[i],10);break;}}if(isNaN(y))y=today.getFullYear();if(isNaN(m))m=today.getMonth();if(isNaN(d))d=today.getDate();if(isNaN(hr))hr=today.getHours();if(isNaN(min))min=today.getMinutes();if(y!=0&&m!=-1&&d!=0)return new Date(y,m,d,hr,min,0);y=0;m=-1;d=0;for(i=0;i<a.length;++i){if(a[i].search(/[a-zA-Z]+/)!=-1){var t=-1;for(j=0;j<12;++j){if(Calendar._MN[j].substr(0,a[i].length).toLowerCase()==a[i].toLowerCase()){t=j;break;}}if(t!=-1){if(m!=-1){d=m+1;}m=t;}}else if(parseInt(a[i],10)<=12&&m==-1){m=a[i]-1;}else if(parseInt(a[i],10)>31&&y==0){y=parseInt(a[i],10);(y<100)&&(y+=(y>29)?1900:2000);}else if(d==0){d=a[i];}}if(y==0)y=today.getFullYear();if(m!=-1&&d!=0)return new Date(y,m,d,hr,min,0);return today;};Date.prototype.getMonthDays=function(month){var year=this.getFullYear();if(typeof month==\"undefined\"){month=this.getMonth();}if(((0==(year%4))&&((0!=(year%100))||(0==(year%400))))&&month==1){return 29;}else{return Date._MD[month];}};Date.prototype.getDayOfYear=function(){var now=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var then=new Date(this.getFullYear(),0,0,0,0,0);var time=now-then;return Math.floor(time/Date.DAY);};Date.prototype.getWeekNumber=function(){var d=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var DoW=d.getDay();d.setDate(d.getDate()-(DoW+6)%7+3);var ms=d.valueOf();d.setMonth(0);d.setDate(4);return Math.round((ms-d.valueOf())/(7*864e5))+1;};Date.prototype.equalsTo=function(date){return((this.getFullYear()==date.getFullYear())&&(this.getMonth()==date.getMonth())&&(this.getDate()==date.getDate())&&(this.getHours()==date.getHours())&&(this.getMinutes()==date.getMinutes()));};Date.prototype.setDateOnly=function(date){var tmp=new Date(date);this.setDate(1);this.setFullYear(tmp.getFullYear());this.setMonth(tmp.getMonth());this.setDate(tmp.getDate());};Date.prototype.print=function(str){var m=this.getMonth();var d=this.getDate();var y=this.getFullYear();var wn=this.getWeekNumber();var w=this.getDay();var s={};var hr=this.getHours();var pm=(hr>=12);var ir=(pm)?(hr-12):hr;var dy=this.getDayOfYear();if(ir==0)ir=12;var min=this.getMinutes();var sec=this.getSeconds();s[\"%a\"]=Calendar._SDN[w];s[\"%A\"]=Calendar._DN[w];s[\"%b\"]=Calendar._SMN[m];s[\"%B\"]=Calendar._MN[m];s[\"%C\"]=1+Math.floor(y/100);s[\"%d\"]=(d<10)?(\"0\"+d):d;s[\"%e\"]=d;s[\"%H\"]=(hr<10)?(\"0\"+hr):hr;s[\"%I\"]=(ir<10)?(\"0\"+ir):ir;s[\"%j\"]=(dy<100)?((dy<10)?(\"00\"+dy):(\"0\"+dy)):dy;s[\"%k\"]=hr;s[\"%l\"]=ir;s[\"%m\"]=(m<9)?(\"0\"+(1+m)):(1+m);s[\"%M\"]=(min<10)?(\"0\"+min):min;s[\"%n\"]=\"\\n\";s[\"%p\"]=pm?\"PM\":\"AM\";s[\"%P\"]=pm?\"pm\":\"am\";s[\"%s\"]=Math.floor(this.getTime()/1000);s[\"%S\"]=(sec<10)?(\"0\"+sec):sec;s[\"%t\"]=\"\\t\";s[\"%U\"]=s[\"%W\"]=s[\"%V\"]=(wn<10)?(\"0\"+wn):wn;s[\"%u\"]=w+1;s[\"%w\"]=w;s[\"%y\"]=(''+y).substr(2,2);s[\"%Y\"]=y;s[\"%%\"]=\"%\";var re=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml)return str.replace(re,function(par){return s[par]||par;});var a=str.match(re);for(var i=0;i<a.length;i++){var tmp=s[a[i]];if(tmp){re=new RegExp(a[i],'g');str=str.replace(re,tmp);}}return str;};Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear;Date.prototype.setFullYear=function(y){var d=new Date(this);d.__msh_oldSetFullYear(y);if(d.getMonth()!=this.getMonth())this.setDate(28);this.__msh_oldSetFullYear(y);};window._dynarch_popupCalendar=null;\n\n/Users/boos/code/graasp/vendor/plugins/calendariffic/doc/rdoc-style.css:\n   81  \n   82  \n   83: .class-name-in-header {\n   84    font-size:  180%;\n   85    font-weight: bold;\n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/etc/patches/2007_10_14_active_record_specs.diff:\n  109       it \"should return a ::FixtureReplacement::DelayedEvaluationProc\" do\n  110         @generator.generate_default_method\n  111: -      @instance.default_user.class.should == ::FixtureReplacement::DelayedEvaluationProc\n  112: +      default_user.class.should == ::FixtureReplacement::DelayedEvaluationProc\n  113       end\n  114       \n  ...\n  130     describe Generator, \"generate_create_method for User when user_attributes is defined (and valid)\" do\n  131  -    before :each do\n  132: -      User.class_eval do\n  133  -        def save!\n  134  -          @saved = true\n  ...\n  192     describe Generator, \"generate_create_method for User when user_attributes is defined (and valid)\" do\n  193       before :each do\n  194: -      User.class_eval do\n  195  -        def save!\n  196  -          @saved = true\n  ...\n  247     describe Generator, \"generate_create_method for User when user_attributes is defined, but not valid\" do\n  248  -    before :each do\n  249: -      User.class_eval do\n  250  -        def save!\n  251  -          @saved = true\n  ...\n  282       \n  283  -    it \"should raise an error with a user which has been saved (with create!)\" do\n  284: -      User.class_eval do\n  285  -        def save!\n  286  -          raise\n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/etc/patches/2007_10_25_changed_classify_to_camelize.diff:\n    7       def initialize(method_name, fixture_mod=FixtureReplacement)\n    8         @model_name = method_name\n    9: -      @model_class = method_name.classify\n   10  +      @model_class = method_name.camelize\n   11         @fixture_module = fixture_mod\n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/generators/fixture_replacement/templates/example_data.erb:\n    1  module FixtureReplacement\n    2  <% ActiveRecord::Base.connection.tables.each do |table_name| -%>\n    3: <% begin table_name.classify.constantize -%>\n    4: <% columns = table_name.classify.constantize.columns -%>\n    5    attributes_for :<%= table_name.singularize %> do |a|\n    6      \n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/lib/fixture_replacement/controller/attribute_collection.rb:\n   39        @class = options[:class]\n   40  \n   41:       self.class.add_instance(self)\n   42      end\n   43      \n   ..\n   93      \n   94      def find_by_fixture_name(symbol)\n   95:       self.class.find_by_fixture_name(symbol)\n   96      end\n   97      \n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/spec/fixture_replacement/controller/method_generator/default_method_spec.rb:\n    5      it \"should return a DelayedEvaluationProc\" do\n    6        @generator.generate_default_method\n    7:       self.send(\"default_#{@fixture_name}\").class.should == DelayedEvaluationProc\n    8      end\n    9      \n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/spec/fixture_replacement/fixture_replacement_include_spec.rb:\n   26      FixtureReplacementController::MethodGenerator.should_receive(:generate_methods).with(no_args)\n   27      \n   28:     @klass.class_eval do\n   29        include FixtureReplacement\n   30      end\n   ..\n   57      Object.const_set(:RAILS_ENV, \"production\")\n   58      lambda { \n   59:       @klass.class_eval do\n   60          include FixtureReplacement\n   61        end\n   ..\n   67      Object.const_set(:RAILS_ENV, \"staging\")\n   68      lambda {\n   69:       @klass.class_eval do\n   70          include FixtureReplacement\n   71        end\n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/spec/fixture_replacement/integration/attributes_from_spec_without_block.rb:\n   30      FixtureReplacementController::ClassFactory.stub!(:fixture_replacement_module).and_return @module\n   31      FixtureReplacementController::MethodGenerator.generate_methods\n   32:     self.class.send :include, @module\n   33    end\n   34  end\n   ..\n   71      \n   72      it \"should have the username as a string (for User) for new_user\" do\n   73:       new_user.username.class.should == String\n   74      end\n   75      \n   76      it \"should have the username as a string (for User) for create_user\" do\n   77:       create_user.username.class.should == String\n   78      end\n   79    end\n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/spec/fixture_replacement/integration/has_and_belongs_to_many_spec.rb:\n   31      FixtureReplacementController::ClassFactory.stub!(:fixture_replacement_module).and_return @module\n   32      FixtureReplacementController::MethodGenerator.generate_methods\n   33:     self.class.send :include, @module\n   34    end\n   35  end\n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/spec/fixture_replacement/regressions/2008_01_21_random_string_with_sti_spec.rb:\n   67      FixtureReplacementController::ClassFactory.stub!(:fixture_replacement_module).and_return @module\n   68      FixtureReplacementController::MethodGenerator.generate_methods\n   69:     self.class.send :include, @module\n   70    end\n   71  end\n\n/Users/boos/code/graasp/vendor/plugins/fixture_replacement2/test/unit/user_test.rb:\n   26  \n   27      FixtureReplacementController::MethodGenerator.generate_methods(@module)\n   28:     self.class.send :include, @module\n   29    end\n   30    \n   ..\n   34    \n   35    def test_be_able_to_create_with_create_user\n   36:     assert_equal create_user.class, User\n   37    end\n   38    \n\n/Users/boos/code/graasp/vendor/plugins/javascript_test/assets/prototype.js:\n 1803  \n 1804    classNames: function(element) {\n 1805:     return new Element.ClassNames(element);\n 1806    },\n 1807  \n 1808    hasClassName: function(element, className) {\n 1809      if (!(element = $(element))) return;\n 1810:     var elementClassName = element.className;\n 1811      return (elementClassName.length > 0 && (elementClassName == className ||\n 1812        new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(elementClassName)));\n ....\n 1816      if (!(element = $(element))) return;\n 1817      if (!element.hasClassName(className))\n 1818:       element.className += (element.className ? ' ' : '') + className;\n 1819      return element;\n 1820    },\n ....\n 1822    removeClassName: function(element, className) {\n 1823      if (!(element = $(element))) return;\n 1824:     element.className = element.className.replace(\n 1825        new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), ' ').strip();\n 1826      return element;\n ....\n 2903    criteria: {\n 2904      tagName:      'n = h.tagName(n, r, \"#{1}\", c);   c = false;',\n 2905:     className:    'n = h.className(n, r, \"#{1}\", c); c = false;',\n 2906      id:           'n = h.id(n, r, \"#{1}\", c);        c = false;',\n 2907      attrPresence: 'n = h.attrPresence(n, r, \"#{1}\"); c = false;',\n ....\n 3110        var needle = ' ' + className + ' ';\n 3111        for (var i = 0, results = [], node, nodeClassName; node = nodes[i]; i++) {\n 3112:         nodeClassName = node.className;\n 3113          if (nodeClassName.length == 0) continue;\n 3114          if (nodeClassName == className || (' ' + nodeClassName + ' ').include(needle))\n ....\n 4117  \n 4118      for (var i = 0, child, cn; child = nodes[i]; i++) {\n 4119:       if (child.className && (cn = ' ' + child.className + ' ') && (cn.include(className) ||\n 4120            (classNames && classNames.all(function(name) {\n 4121              return !name.toString().blank() && cn.include(' ' + name + ' ');\n ....\n 4133  /*--------------------------------------------------------------------------*/\n 4134  \n 4135: Element.ClassNames = Class.create();\n 4136: Element.ClassNames.prototype = {\n 4137    initialize: function(element) {\n 4138      this.element = $(element);\n ....\n 4140  \n 4141    _each: function(iterator) {\n 4142:     this.element.className.split(/\\s+/).select(function(name) {\n 4143        return name.length > 0;\n 4144      })._each(iterator);\n ....\n 4146  \n 4147    set: function(className) {\n 4148:     this.element.className = className;\n 4149    },\n 4150  \n ....\n 4164  };\n 4165  \n 4166: Object.extend(Element.ClassNames.prototype, Enumerable);\n 4167  \n 4168  /*--------------------------------------------------------------------------*/\n\n/Users/boos/code/graasp/vendor/plugins/resource_feeder/lib/resource_feeder/atom.rb:\n   15        \n   16        if options[:class] || resources.first\n   17:         klass      = options[:class] || resources.first.class\n   18          new_record = klass.new\n   19        else\n\n/Users/boos/code/graasp/vendor/plugins/resource_feeder/lib/resource_feeder/rss.rb:\n   15  \n   16        if options[:class] || resources.first\n   17:         klass      = options[:class] || resources.first.class\n   18          new_record = klass.new\n   19        else\n\n/Users/boos/code/graasp/vendor/plugins/restful_authentication/generators/authenticated/authenticated_generator.rb:\n   58      recorded_session = record do |m|\n   59        # Check for class naming collisions.\n   60:       m.class_collisions controller_class_path,       \"#{controller_class_name}Controller\", # Sessions Controller\n   61                                                        \"#{controller_class_name}Helper\"\n   62:       m.class_collisions model_controller_class_path, \"#{model_controller_class_name}Controller\", # Model Controller\n   63                                                        \"#{model_controller_class_name}Helper\"\n   64:       m.class_collisions class_path,                  \"#{class_name}\", \"#{class_name}Mailer\", \"#{class_name}MailerTest\", \"#{class_name}Observer\"\n   65:       m.class_collisions [], 'AuthenticatedSystem', 'AuthenticatedTestHelper'\n   66  \n   67        # Controller, helper, views, and test directories.\n\n/Users/boos/code/graasp/vendor/plugins/restful_authentication/generators/authenticated/templates/model.rb:\n   82    # Encrypts the password with the user salt\n   83    def encrypt(password)\n   84:     self.class.encrypt(password, salt)\n   85    end\n   86  \n\n/Users/boos/code/graasp/vendor/plugins/restful_authentication/lib/restful_authentication/rails_commands.rb:\n    1: Rails::Generator::Commands::Create.class_eval do\n    2    def route_resource(*resources)\n    3      resource_list = resources.map { |r| r.to_sym.inspect }.join(', ')\n    .\n   13  end\n   14  \n   15: Rails::Generator::Commands::Destroy.class_eval do\n   16    def route_resource(*resources)\n   17      resource_list = resources.map { |r| r.to_sym.inspect }.join(', ')\n   ..\n   22  end\n   23  \n   24: Rails::Generator::Commands::List.class_eval do\n   25    def route_resource(*resources)\n   26      resource_list = resources.map { |r| r.to_sym.inspect }.join(', ')\n\n/Users/boos/code/graasp/vendor/plugins/tequila_authentication/lib/epfl/kt/tequila_authentication/tequila_authentication.rb:\n   75  \n   76              raise TequilaError,\n   77:               \"Bad Tequila reponse '#{http_response.class}'\" +\n   78                  \" (code='#{http_response.code}')\" unless\n   79                    http_response.code == \"200\"\n   ..\n  104  \n  105            raise TequilaError,\n  106:             \"Bad Tequila reponse '#{http_response.class}'\" +\n  107                \" (code='#{http_response.code}')\" unless\n  108                  http_response.code == \"200\"\n  ...\n  202          def tequila_configuration() # :doc:\n  203            raise \"Instance method 'tequila_configuration' must be \" +\n  204:           \"implemented in the Controller '#{self.class.name}'!\"\n  205          end\n  206  \n\n/Users/boos/code/graasp/vendor/plugins/tequila_authentication/test/mocks/test/epfl/kt/tequila_authentication/tequila_http_proxy.rb:\n   49                MockHttpResponse.new(\"200\", \"email=toto@testme.org\\nfirstname=Titi\\nkey=__PH2_TequilaKeyTest56789ABCDE__\\nname=Toto\\nuniqueid=555444\\nuser=toto\\nversion=0.99\\nwhere=%DIT-SB/%PL-DIT/%PL/%EPFL/%CH\\n\")\n   50              else\n   51:               raise \"'#{self.class.name}.post' *** NOT IMPLEMENTED COMPLETLY ! (server='#{server}', port='#{port}', path='#{path}', post_data='#{post_data}')\"\n   52                # @proxied_http.post(path, post_data)\n   53              end\n\n/Users/boos/code/graasp/vendor/plugins/tequila_authentication/test/tequila_authentication_test.rb:\n   55      controller1 = DummyTestController1.new\n   56      assert controller1\n   57:     assert controller1.class.respond_to?(:allow_tequila_login)\n   58      assert ! controller1.respond_to?(:dummy_action1)\n   59      # No more true, the method is private now !!!\n   ..\n   62      # A controller calling the \"allow_tequila_login\" method.\n   63      assert @controller\n   64:     assert @controller.class.respond_to?(:allow_tequila_login)\n   65      assert @controller.respond_to?(:dummy_action1)\n   66      # No more true, the method is private now !!!\n\n/Users/boos/code/graasp/vendor/plugins/trunk/lib/file_column.rb:\n  113      def store_dir\n  114        if options[:store_dir].is_a? Symbol\n  115:         raise ArgumentError.new(\"'#{options[:store_dir]}' is not an instance method of class #{@instance.class.name}\") unless @instance.respond_to?(options[:store_dir])\n  116  \n  117          dir = File.join(options[:root_path], @instance.send(options[:store_dir]))\n\n/Users/boos/code/graasp/vendor/plugins/trunk/lib/test_case.rb:\n  106        end\n  107      end\n  108:     (class << t; self; end).class_eval do\n  109        alias local_path path if type == :tempfile\n  110        define_method(:local_path) { \"\" } if type == :stringio\n\n1510 matches across 219 files\n",
					"settings":
					{
						"buffer_size": 1338284,
						"line_ending": "Unix",
						"name": "Find Results",
						"scratch": true
					}
				}
			],
			"build_system": "Packages/JSLint/JSLint.sublime-build",
			"command_palette":
			{
				"height": 137.0,
				"selected_items":
				[
					[
						"javas",
						"Set Syntax: JavaScript"
					],
					[
						"install ",
						"Package Control: Install Package"
					],
					[
						"insta",
						"Package Control: Install Package"
					],
					[
						"install",
						"Package Control: Install Package"
					],
					[
						"pakc",
						"Package Control: Install Package"
					],
					[
						"pack",
						"Package Control: Install Package"
					],
					[
						"pakcage",
						"Package Control: Install Package"
					],
					[
						"package",
						"Package Control: Remove Package"
					],
					[
						"sql",
						"Set Syntax: SQL"
					],
					[
						"syn ru",
						"Set Syntax: Ruby on Rails"
					],
					[
						"inst",
						"Package Control: Install Package"
					],
					[
						"packa ins",
						"Package Control: Install Package"
					],
					[
						"syn mar",
						"Set Syntax: Markdown"
					],
					[
						"syn ma",
						"Set Syntax: Markdown"
					],
					[
						"syn cof",
						"Set Syntax: CoffeeScript"
					],
					[
						"synta cof",
						"Set Syntax: CoffeeScript"
					],
					[
						"perl",
						"Set Syntax: Perl"
					],
					[
						"java",
						"Set Syntax: JavaScript"
					],
					[
						"synta java",
						"Set Syntax: JavaScript"
					],
					[
						"syn java",
						"Set Syntax: JavaScript"
					],
					[
						"synt ja",
						"Set Syntax: JavaScript"
					],
					[
						"sy rub",
						"Set Syntax: Ruby"
					],
					[
						"package ins",
						"Package Control: Install Package"
					],
					[
						"packa",
						"Preferences: Browse Packages"
					],
					[
						"fo",
						"Code Folding: Unfold All"
					],
					[
						"wrap",
						"Word Wrap: Toggle"
					],
					[
						"j",
						"Set Syntax: JavaScript"
					],
					[
						"default",
						"Preferences: Key Bindings - Default"
					],
					[
						"zen",
						"Set Syntax: ZenCoding"
					]
				],
				"width": 554.0
			},
			"console":
			{
				"height": 139.0
			},
			"distraction_free":
			{
				"menu_visible": true,
				"show_minimap": false,
				"show_open_files": false,
				"show_tabs": false,
				"side_bar_visible": false,
				"status_bar_visible": false
			},
			"file_history":
			[
				"/Users/boos/code/graasp/app/controllers/spaces_controller.rb",
				"/Users/boos/code/graasp/crypted_pass.txt",
				"/Users/boos/code/seance/seancesrv.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/my_module.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/8-files/github.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/datasift/datasift.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/sample.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/server.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/4-files/server_with_watch.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/write.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/write_sync.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/configuration.js",
				"/Users/boos/Documents/archive/landmark/aquasoft_route.bat",
				"/Users/boos/code/graasp/app/controllers/assets_controller.rb",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/public/world.html",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/6-files/config.json",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/index.html",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/index.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/README.md",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/CNAME",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/5-files/node_modules/underscore/underscore-min.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/watch.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/sample.txt",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/read.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/3-files/read_sync.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/1-files/sample.js",
				"/Users/boos/Documentation/Node/TutsPlus - An Introduction to Node.js/Project Files/1-files/sample.php",
				"/Users/boos/MindMaps/FamilyTree.mm",
				"/Users/boos/Documents/archive/SERVER_BACKUP_BEFORE_LEAVE/redmine.sql",
				"/Users/boos/Documents/archive/SERVER_BACKUP_BEFORE_LEAVE/aadb.sql",
				"/Users/boos/code/GitHub_tail/homebrew/hombrew_lines.csv",
				"/Users/boos/code/GitHub_tail/homebrew/homebrew_commits.csv",
				"/Users/boos/code/seance/README.md",
				"/Users/boos/code/GitHub_tail/scrapegithub.sh",
				"/Users/boos/code/graasp/script/ten_most_active.sql",
				"/Users/boos/code/seance/rooms_new.json",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Preferences.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Package Control.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Package Control.last-run",
				"/Users/boos/code/votesrv/vote-client.js",
				"/Users/boos/code/votesrv/README.md",
				"/Users/boos/code/votesrv/votesrv.js",
				"/Users/boos/code/votesrv/vote-srv.js",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/JSLint/JSLint.sublime-settings",
				"/Users/boos/code/votesrv/.gitignore",
				"/Users/boos/code/votesrv/frontend.html",
				"/Users/boos/code/votesrv/chat-server.js",
				"/Users/boos/code/votesrv/chat-frontend.js",
				"/Users/boos/code/votesrv/index.html",
				"/Users/boos/code/votesrv/votesrv_complete.js",
				"/Users/boos/code/votesrv/vote_frontend.js",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/2013.04.13_paper.tex",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/biblio.bib",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/LaTeX/biblio.bib",
				"/Users/boos/Documents/epfl/react/Conferences/ICALT_2013/LaTeX/main.tex",
				"/Users/boos/code/graasp/script/assign_members_randomly.rb",
				"/Users/boos/code/graasp/script/generate_sequence",
				"/Users/boos/code/graasp/script/find_corrupted_sequences.sql",
				"/Users/boos/code/graasp/script/social_media_queries.sql",
				"/Users/boos/code/graasp/public/javascripts/assets/formats/default/center.js",
				"/Users/boos/code/graasp/public/javascripts/blocks/center.js",
				"/Users/boos/code/graasp/lib/semantic/vector_space/model.rb",
				"/Users/boos/code/graasp/lib/semantic.rb",
				"/Users/boos/code/graasp/app/controllers/search_controller.rb",
				"/Users/boos/code/graasp/lib/semantic/vector_space/builder.rb",
				"/Users/boos/code/graasp/config/deploy.rb",
				"/Users/boos/code/graasp/app/models/asset.rb",
				"/Users/boos/code/graasp/config/routes.rb",
				"/Users/boos/code/graasp/app/controllers/item3a_controller.rb",
				"/Users/boos/code/graasp/app/controllers/ratings_controller.rb",
				"/Users/boos/code/graasp/app/models/item3a_extension.rb",
				"/Users/boos/code/graasp/public/javascripts/popups/settings_popup.js",
				"/Users/boos/code/graasp/app/controllers/application_controller.rb",
				"/Users/boos/code/graasp/README.md",
				"/Users/boos/code/graasp/Gemfile",
				"/Users/boos/code/graasp/config/deploy/reacttest.rb",
				"/Users/boos/code/graasp/next_deploy.md",
				"/Users/boos/code/graasp/config/environments/reacttest.rb",
				"/Users/boos/code/graasp/app/controllers/sequences_controller.rb",
				"/Users/boos/code/graasp/app/models/rs_local.rb",
				"/Users/boos/code/graasp/app/controllers/widgets/google_gadget_controller.rb",
				"/Users/boos/code/graasp/app/controllers/assets/rss_feeds_controller.rb",
				"/Users/boos/code/graasp/app/controllers/translation_controller.rb",
				"/Users/boos/code/graasp/app/controllers/proxy_controller.rb",
				"/Users/boos/code/graasp/documentation/Graaasp_intro/document.tex",
				"/Users/boos/code/graasp/app/models/space.rb",
				"/Users/boos/code/graasp/script/social_media.sql",
				"/Users/boos/code/graasp/app/models/widget.rb",
				"/Users/boos/code/graasp/config/environments/development.rb",
				"/Users/boos/code/graasp/app/models/permission.rb",
				"/Users/boos/code/graasp/script/db_commands",
				"/Users/boos/code/graasp/script/install_gems",
				"/Users/boos/code/graasp/readme/install_linalg",
				"/Users/boos/code/graasp/app/models/attachment.rb",
				"/Users/boos/code/graasp/readme/Installation_Guide",
				"/Users/boos/code/graasp/vendor/plugins/attachment_fu/README",
				"/Users/boos/code/graasp/app/views/item3a/_header.haml",
				"/Users/boos/assign_randomly.rb",
				"/Users/boos/code/graasp/deleted_gems.md",
				"/Users/boos/code/graasp/deleted_gems.rb",
				"/Users/boos/code/graasp/app/controllers/attachments_controller.rb",
				"/Users/boos/code/graasp/help.rb",
				"/Users/boos/code/graasp/app/models/client_application.rb",
				"/Users/boos/code/graasp/app/views/shared/_chat_javascript.haml",
				"/Users/boos/code/graasp/config/initializers/core_extensions.rb",
				"/Users/boos/code/graasp/config/initializers/json_session.rb",
				"/Users/boos/code/graasp/db/migrate/20110124110200_get_thumbnails_to_widgets.rb",
				"/Users/boos/code/graasp/lib/authenticated_system.rb",
				"/Users/boos/code/graasp/spec/controllers/assets_controller_spec.rb",
				"/Users/boos/code/graasp/vendor/plugins/trunk/lib/file_column.rb",
				"/Users/boos/code/graasp/config/environment.rb",
				"/Users/boos/code/graasp/public/images/archive/usability-usefulness_files/TobagoDeepTreePageType_master.css",
				"/Users/boos/code/graasp/script/install_programs",
				"/Users/boos/code/graasp/readme/Deploy_Guide",
				"/Users/boos/code/graasp/config/database.yml",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/Default/Preferences.sublime-settings",
				"/Users/boos/code/graasp/public/javascripts/graaasp.js",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/User/Base File.sublime-settings",
				"/Users/boos/Library/Application Support/Sublime Text 2/Packages/Alignment/Base File.sublime-settings",
				"/Users/boos/code/graasp/public/javascripts/item3a.js",
				"/Users/boos/code/graasp/config/locales/templates/lang_server.yml",
				"/Users/boos/code/graasp/Makefile",
				"/Users/boos/code/graasp/public/javascripts/init.js",
				"/Users/boos/code/graasp/Graasp_concept.md"
			],
			"find":
			{
				"height": 35.0
			},
			"find_in_files":
			{
				"height": 0.0,
				"where_history":
				[
					"/Users/boos/code/graasp",
					"/Users/boos/code/graasp/",
					"",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/public/javascripts/",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/public/javascripts/",
					"/Users/boos/code/graasp/public/javascript/",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/graasp/app",
					"/Users/boos/code/graasp/app/views",
					"",
					"/Users/boos/code/graasp/",
					"/Users/boos/code/calibre/calibre",
					"/Users/boos/code/graasp",
					""
				]
			},
			"find_state":
			{
				"case_sensitive": false,
				"find_history":
				[
					".class",
					".type",
					"get_class.to_s",
					"Widget.create",
					"type",
					"getroom",
					"hash",
					"text",
					"getroom",
					"rescue Exception => err",
					"creator_id",
					"TODO",
					"getrooms",
					"logact",
					"new Room",
					"new Message",
					"rclient.get",
					"rclient.",
					"rclient.get",
					"findOne(",
					"findOne",
					"'_id",
					"curr",
					"findOneAnd",
					"findOne",
					", ",
					"$inc",
					"message",
					"deleted: true",
					"findBy",
					"redis.print",
					"rclient.",
					"msg_id",
					"new Messag",
					"last_seen",
					"broadcast_nearby",
					"range",
					"socket",
					"Broadcasted",
					"._id",
					"peer._id",
					"json.data",
					"json",
					"Mixed",
					"db",
					"room_",
					"rooms_con",
					"rooms_cons",
					"peer_rooms[",
					"findONeAnd",
					"$set",
					"broadcast",
					"peer_con",
					"index",
					"push",
					"connection",
					"connect",
					".update",
					"Room.find",
					"deleted:",
					"room.messages.",
					"room.mee",
					"messag",
					"_id",
					"text",
					"active",
					"Room.find",
					"htmlEntities",
					"close",
					"Double",
					"long",
					"Json",
					"peers",
					"qvotes",
					"myColor",
					"history",
					"3571",
					"3532",
					"3532\n3643\n3600\n3644\n3617\n3594",
					"3532",
					"sequences_json",
					"Rails.cache",
					"linalg",
					"is_anonimized_for_sm_course",
					"anonym",
					"soc_media",
					"social_media",
					"open_rating_info_button",
					"rating_statistic",
					"Gem::SourceIndex",
					"SourceIndex.from_gems_in",
					"Gem::SourceIndex.from_gems_in",
					"item3a.is_anonimized_for_sm_course",
					"!item3a.is_anonimized_for_sm_course?",
					".is_anonimized_for_sm_course",
					"is_anonimized_for_sm_course",
					"anonymize",
					"members",
					"# debugger",
					"linalg",
					"Assets.tra",
					"etiquette",
					"parent",
					"item3a_for_center",
					"json_for_c",
					"center_creator_id",
					"creator_id",
					"creator_name",
					"creator_id",
					":creator_id",
					"processed",
					"permis",
					"Permissions.",
					":condition",
					"find",
					"linalg",
					".transaction",
					"Assets.tr",
					"Assets",
					"# debugger",
					"debugger",
					"picture",
					"/item3a/upload",
					"picture_file",
					"Attachment",
					"/upload",
					"/item3a/upload",
					"upload_file"
				],
				"highlight": true,
				"in_selection": false,
				"preserve_case": false,
				"regex": false,
				"replace_history":
				[
					"\\t",
					"",
					"\"",
					"Object.const_get",
					"DESC",
					"alt+",
					"",
					"<td>XXX</td>\\n<td align=\"center\" class=\"td3\"><b>",
					"'",
					"",
					" ",
					"\\n\\n",
					"\\t",
					"\\n",
					"\\t",
					" ",
					"  ",
					"$$$",
					"",
					" ",
					"",
					" ",
					"",
					" "
				],
				"reverse": false,
				"show_context": true,
				"use_buffer2": true,
				"whole_word": false,
				"wrap": true
			},
			"folders":
			[
				{
					"path": "/Users/boos/code/graasp"
				}
			],
			"groups":
			[
				{
					"selected": 0,
					"sheets":
					[
						{
							"buffer": 0,
							"file": "/Users/boos/code/graasp/app/controllers/spaces_controller.rb",
							"settings":
							{
								"buffer_size": 8580,
								"regions":
								{
								},
								"selection":
								[
									[
										3960,
										3960
									]
								],
								"settings":
								{
									"syntax": "Packages/Ruby/Ruby.tmLanguage",
									"tab_size": 2,
									"translate_tabs_to_spaces": true
								},
								"translation.x": 0.0,
								"translation.y": 1811.0,
								"zoom_level": 1.0
							},
							"type": "text"
						},
						{
							"buffer": 1,
							"file": "/Users/boos/code/graasp/config/routes.rb",
							"settings":
							{
								"buffer_size": 38938,
								"regions":
								{
								},
								"selection":
								[
									[
										12758,
										12758
									]
								],
								"settings":
								{
									"syntax": "Packages/Ruby/Ruby.tmLanguage",
									"tab_size": 2,
									"translate_tabs_to_spaces": true
								},
								"translation.x": 0.0,
								"translation.y": 2926.0,
								"zoom_level": 1.0
							},
							"type": "text"
						},
						{
							"buffer": 2,
							"file": "/Users/boos/code/graasp/app/models/space.rb",
							"settings":
							{
								"buffer_size": 18360,
								"regions":
								{
								},
								"selection":
								[
									[
										17270,
										17270
									]
								],
								"settings":
								{
									"syntax": "Packages/Ruby/Ruby.tmLanguage",
									"tab_size": 2,
									"translate_tabs_to_spaces": true
								},
								"translation.x": 0.0,
								"translation.y": 8647.0,
								"zoom_level": 1.0
							},
							"type": "text"
						},
						{
							"buffer": 3,
							"file": "/Users/boos/code/graasp/app/controllers/widgets_controller.rb",
							"settings":
							{
								"buffer_size": 1529,
								"regions":
								{
								},
								"selection":
								[
									[
										781,
										780
									]
								],
								"settings":
								{
									"syntax": "Packages/Ruby/Ruby.tmLanguage",
									"tab_size": 2,
									"translate_tabs_to_spaces": true
								},
								"translation.x": 0.0,
								"translation.y": 0.0,
								"zoom_level": 1.0
							},
							"type": "text"
						},
						{
							"buffer": 4,
							"file": "/Users/boos/code/graasp/app/models/widget.rb",
							"settings":
							{
								"buffer_size": 2551,
								"regions":
								{
								},
								"selection":
								[
									[
										1524,
										1524
									]
								],
								"settings":
								{
									"syntax": "Packages/Ruby/Ruby.tmLanguage",
									"tab_size": 2,
									"translate_tabs_to_spaces": true
								},
								"translation.x": 0.0,
								"translation.y": 373.0,
								"zoom_level": 1.0
							},
							"type": "text"
						},
						{
							"buffer": 5,
							"settings":
							{
								"buffer_size": 1338284,
								"regions":
								{
									"match":
									{
										"flags": 112,
										"regions":
										[
											[
												186,
												192
											],
											[
												504,
												510
											],
											[
												849,
												855
											],
											[
												1023,
												1029
											],
											[
												1356,
												1362
											],
											[
												1647,
												1653
											],
											[
												1751,
												1757
											],
											[
												1916,
												1922
											],
											[
												2789,
												2795
											],
											[
												3351,
												3357
											],
											[
												3753,
												3759
											],
											[
												3973,
												3979
											],
											[
												4342,
												4348
											],
											[
												4751,
												4757
											],
											[
												4812,
												4818
											],
											[
												5200,
												5206
											],
											[
												5479,
												5485
											],
											[
												5689,
												5695
											],
											[
												6058,
												6064
											],
											[
												6298,
												6304
											],
											[
												6482,
												6488
											],
											[
												6707,
												6713
											],
											[
												7075,
												7081
											],
											[
												7106,
												7112
											],
											[
												7269,
												7275
											],
											[
												7535,
												7541
											],
											[
												7761,
												7767
											],
											[
												8052,
												8058
											],
											[
												8298,
												8304
											],
											[
												8582,
												8588
											],
											[
												8922,
												8928
											],
											[
												9058,
												9064
											],
											[
												9441,
												9447
											],
											[
												9645,
												9651
											],
											[
												9908,
												9914
											],
											[
												10152,
												10158
											],
											[
												10184,
												10190
											],
											[
												10331,
												10337
											],
											[
												10597,
												10603
											],
											[
												10790,
												10796
											],
											[
												11145,
												11151
											],
											[
												11338,
												11344
											],
											[
												11370,
												11376
											],
											[
												11601,
												11607
											],
											[
												11809,
												11815
											],
											[
												12051,
												12057
											],
											[
												12312,
												12318
											],
											[
												12602,
												12608
											],
											[
												12839,
												12845
											],
											[
												13133,
												13139
											],
											[
												13385,
												13391
											],
											[
												13614,
												13620
											],
											[
												13653,
												13659
											],
											[
												13915,
												13921
											],
											[
												14079,
												14085
											],
											[
												14394,
												14400
											],
											[
												14629,
												14635
											],
											[
												15008,
												15014
											],
											[
												15323,
												15329
											],
											[
												15478,
												15484
											],
											[
												15737,
												15743
											],
											[
												15990,
												15996
											],
											[
												16032,
												16038
											],
											[
												16244,
												16250
											],
											[
												16410,
												16416
											],
											[
												16615,
												16621
											],
											[
												16870,
												16876
											],
											[
												17008,
												17014
											],
											[
												17182,
												17188
											],
											[
												17363,
												17369
											],
											[
												17580,
												17586
											],
											[
												17842,
												17848
											],
											[
												17942,
												17948
											],
											[
												18294,
												18300
											],
											[
												18513,
												18519
											],
											[
												18868,
												18874
											],
											[
												19020,
												19026
											],
											[
												19052,
												19058
											],
											[
												19187,
												19193
											],
											[
												19215,
												19221
											],
											[
												19325,
												19331
											],
											[
												19364,
												19370
											],
											[
												19516,
												19522
											],
											[
												19548,
												19554
											],
											[
												19689,
												19695
											],
											[
												19719,
												19725
											],
											[
												19982,
												19988
											],
											[
												20242,
												20248
											],
											[
												20513,
												20519
											],
											[
												20552,
												20558
											],
											[
												20667,
												20673
											],
											[
												20695,
												20701
											],
											[
												20916,
												20922
											],
											[
												21077,
												21083
											],
											[
												21377,
												21383
											],
											[
												21686,
												21692
											],
											[
												22005,
												22011
											],
											[
												22274,
												22280
											],
											[
												22313,
												22319
											],
											[
												22464,
												22470
											],
											[
												22632,
												22638
											],
											[
												22662,
												22668
											],
											[
												22866,
												22872
											],
											[
												22932,
												22938
											],
											[
												23073,
												23079
											],
											[
												23108,
												23114
											],
											[
												23229,
												23235
											],
											[
												23264,
												23270
											],
											[
												23564,
												23570
											],
											[
												23805,
												23811
											],
											[
												23846,
												23852
											],
											[
												23979,
												23985
											],
											[
												24155,
												24161
											],
											[
												24187,
												24193
											],
											[
												24367,
												24373
											],
											[
												24571,
												24577
											],
											[
												24846,
												24852
											],
											[
												25151,
												25157
											],
											[
												25428,
												25434
											],
											[
												25597,
												25603
											],
											[
												25756,
												25762
											],
											[
												25881,
												25887
											],
											[
												26148,
												26154
											],
											[
												26420,
												26426
											],
											[
												26459,
												26465
											],
											[
												26657,
												26663
											],
											[
												26685,
												26691
											],
											[
												26869,
												26875
											],
											[
												27183,
												27189
											],
											[
												27380,
												27386
											],
											[
												27408,
												27414
											],
											[
												27615,
												27621
											],
											[
												27792,
												27798
											],
											[
												27811,
												27817
											],
											[
												28269,
												28275
											],
											[
												28500,
												28506
											],
											[
												28869,
												28875
											],
											[
												29171,
												29177
											],
											[
												29389,
												29395
											],
											[
												29842,
												29848
											],
											[
												29931,
												29937
											],
											[
												29956,
												29962
											],
											[
												30283,
												30289
											],
											[
												30682,
												30688
											],
											[
												31108,
												31114
											],
											[
												31259,
												31265
											],
											[
												31517,
												31523
											],
											[
												31845,
												31851
											],
											[
												32067,
												32073
											],
											[
												32275,
												32281
											],
											[
												32564,
												32570
											],
											[
												32596,
												32602
											],
											[
												32890,
												32896
											],
											[
												33096,
												33102
											],
											[
												33207,
												33213
											],
											[
												33485,
												33491
											],
											[
												33764,
												33770
											],
											[
												33961,
												33967
											],
											[
												34361,
												34367
											],
											[
												34527,
												34533
											],
											[
												34898,
												34904
											],
											[
												35142,
												35148
											],
											[
												35333,
												35339
											],
											[
												35526,
												35532
											],
											[
												35811,
												35817
											],
											[
												36135,
												36141
											],
											[
												36333,
												36339
											],
											[
												36808,
												36814
											],
											[
												37003,
												37009
											],
											[
												37070,
												37076
											],
											[
												37264,
												37270
											],
											[
												37605,
												37611
											],
											[
												37905,
												37911
											],
											[
												38212,
												38218
											],
											[
												38422,
												38428
											],
											[
												38772,
												38778
											],
											[
												38989,
												38995
											],
											[
												39352,
												39358
											],
											[
												39770,
												39776
											],
											[
												39837,
												39843
											],
											[
												40088,
												40094
											],
											[
												40341,
												40347
											],
											[
												40691,
												40697
											],
											[
												40737,
												40743
											],
											[
												41080,
												41086
											],
											[
												41581,
												41587
											],
											[
												41870,
												41876
											],
											[
												42173,
												42179
											],
											[
												42667,
												42673
											],
											[
												43080,
												43086
											],
											[
												43269,
												43275
											],
											[
												43871,
												43877
											],
											[
												44048,
												44054
											],
											[
												44192,
												44198
											],
											[
												44534,
												44540
											],
											[
												44813,
												44819
											],
											[
												45023,
												45029
											],
											[
												45330,
												45336
											],
											[
												45516,
												45522
											],
											[
												45788,
												45794
											],
											[
												45904,
												45910
											],
											[
												45983,
												45989
											],
											[
												46016,
												46022
											],
											[
												46141,
												46147
											],
											[
												46171,
												46177
											],
											[
												46545,
												46551
											],
											[
												46739,
												46745
											],
											[
												46812,
												46818
											],
											[
												47101,
												47107
											],
											[
												47281,
												47287
											],
											[
												47314,
												47320
											],
											[
												47432,
												47438
											],
											[
												47576,
												47582
											],
											[
												47962,
												47968
											],
											[
												48202,
												48208
											],
											[
												48467,
												48473
											],
											[
												48709,
												48715
											],
											[
												48914,
												48920
											],
											[
												49211,
												49217
											],
											[
												49248,
												49254
											],
											[
												49270,
												49276
											],
											[
												49506,
												49512
											],
											[
												49545,
												49551
											],
											[
												49824,
												49830
											],
											[
												50039,
												50045
											],
											[
												50116,
												50122
											],
											[
												50341,
												50347
											],
											[
												50411,
												50417
											],
											[
												50673,
												50679
											],
											[
												50843,
												50849
											],
											[
												51202,
												51208
											],
											[
												51529,
												51535
											],
											[
												51838,
												51844
											],
											[
												52109,
												52115
											],
											[
												52440,
												52446
											],
											[
												52617,
												52623
											],
											[
												52955,
												52961
											],
											[
												53362,
												53368
											],
											[
												53657,
												53663
											],
											[
												53958,
												53964
											],
											[
												54297,
												54303
											],
											[
												54544,
												54550
											],
											[
												54888,
												54894
											],
											[
												55177,
												55183
											],
											[
												55465,
												55471
											],
											[
												55741,
												55747
											],
											[
												56007,
												56013
											],
											[
												56210,
												56216
											],
											[
												56318,
												56324
											],
											[
												56522,
												56528
											],
											[
												56950,
												56956
											],
											[
												56989,
												56995
											],
											[
												57277,
												57283
											],
											[
												57381,
												57387
											],
											[
												57642,
												57648
											],
											[
												57734,
												57740
											],
											[
												57921,
												57927
											],
											[
												58018,
												58024
											],
											[
												58125,
												58131
											],
											[
												58335,
												58341
											],
											[
												58418,
												58424
											],
											[
												58755,
												58761
											],
											[
												58785,
												58791
											],
											[
												58995,
												59001
											],
											[
												59361,
												59367
											],
											[
												59805,
												59811
											],
											[
												60207,
												60213
											],
											[
												60433,
												60439
											],
											[
												60587,
												60593
											],
											[
												60893,
												60899
											],
											[
												61075,
												61081
											],
											[
												61332,
												61338
											],
											[
												61500,
												61506
											],
											[
												61602,
												61608
											],
											[
												61744,
												61750
											],
											[
												62052,
												62058
											],
											[
												62221,
												62227
											],
											[
												62643,
												62649
											],
											[
												62813,
												62819
											],
											[
												63193,
												63199
											],
											[
												63381,
												63387
											],
											[
												63703,
												63709
											],
											[
												63949,
												63955
											],
											[
												64032,
												64038
											],
											[
												64370,
												64376
											],
											[
												64431,
												64437
											],
											[
												64682,
												64688
											],
											[
												64725,
												64731
											],
											[
												64878,
												64884
											],
											[
												65036,
												65042
											],
											[
												65172,
												65178
											],
											[
												65524,
												65530
											],
											[
												65671,
												65677
											],
											[
												65875,
												65881
											],
											[
												66021,
												66027
											],
											[
												66226,
												66232
											],
											[
												66374,
												66380
											],
											[
												66576,
												66582
											],
											[
												66829,
												66835
											],
											[
												66862,
												66868
											],
											[
												66956,
												66962
											],
											[
												66988,
												66994
											],
											[
												67134,
												67140
											],
											[
												67262,
												67268
											],
											[
												67304,
												67310
											],
											[
												67400,
												67406
											],
											[
												67441,
												67447
											],
											[
												67722,
												67728
											],
											[
												67930,
												67936
											],
											[
												68164,
												68170
											],
											[
												68197,
												68203
											],
											[
												68290,
												68296
											],
											[
												68322,
												68328
											],
											[
												68530,
												68536
											],
											[
												68562,
												68568
											],
											[
												68656,
												68662
											],
											[
												68687,
												68693
											],
											[
												68900,
												68906
											],
											[
												69025,
												69031
											],
											[
												69067,
												69073
											],
											[
												69160,
												69166
											],
											[
												69201,
												69207
											],
											[
												69444,
												69450
											],
											[
												69484,
												69490
											],
											[
												69579,
												69585
											],
											[
												69618,
												69624
											],
											[
												69814,
												69820
											],
											[
												69964,
												69970
											],
											[
												70180,
												70186
											],
											[
												70329,
												70335
											],
											[
												70546,
												70552
											],
											[
												70697,
												70703
											],
											[
												70912,
												70918
											],
											[
												71187,
												71193
											],
											[
												71223,
												71229
											],
											[
												71328,
												71334
											],
											[
												71364,
												71370
											],
											[
												71590,
												71596
											],
											[
												71623,
												71629
											],
											[
												71720,
												71726
											],
											[
												71752,
												71758
											],
											[
												71957,
												71963
											],
											[
												71990,
												71996
											],
											[
												72087,
												72093
											],
											[
												72119,
												72125
											],
											[
												72325,
												72331
											],
											[
												72430,
												72436
											],
											[
												72461,
												72467
											],
											[
												72565,
												72571
											],
											[
												72788,
												72794
											],
											[
												72995,
												73001
											],
											[
												73372,
												73378
											],
											[
												73433,
												73439
											],
											[
												73677,
												73683
											],
											[
												73794,
												73800
											],
											[
												74072,
												74078
											],
											[
												74344,
												74350
											],
											[
												74654,
												74660
											],
											[
												74986,
												74992
											],
											[
												75458,
												75464
											],
											[
												75790,
												75796
											],
											[
												76007,
												76013
											],
											[
												76174,
												76180
											],
											[
												76415,
												76421
											],
											[
												76783,
												76789
											],
											[
												77026,
												77032
											],
											[
												77082,
												77088
											],
											[
												77334,
												77340
											],
											[
												77390,
												77396
											],
											[
												77547,
												77553
											],
											[
												77637,
												77643
											],
											[
												77668,
												77674
											],
											[
												77797,
												77803
											],
											[
												77892,
												77898
											],
											[
												78137,
												78143
											],
											[
												78291,
												78297
											],
											[
												78515,
												78521
											],
											[
												78788,
												78794
											],
											[
												79071,
												79077
											],
											[
												79162,
												79168
											],
											[
												79359,
												79365
											],
											[
												79410,
												79416
											],
											[
												79536,
												79542
											],
											[
												79586,
												79592
											],
											[
												79795,
												79801
											],
											[
												79979,
												79985
											],
											[
												80338,
												80344
											],
											[
												80527,
												80533
											],
											[
												80572,
												80578
											],
											[
												81135,
												81141
											],
											[
												81312,
												81318
											],
											[
												81436,
												81442
											],
											[
												81648,
												81654
											],
											[
												81874,
												81880
											],
											[
												82311,
												82317
											],
											[
												82696,
												82702
											],
											[
												82942,
												82948
											],
											[
												83212,
												83218
											],
											[
												83270,
												83276
											],
											[
												83349,
												83355
											],
											[
												83475,
												83481
											],
											[
												83737,
												83743
											],
											[
												84035,
												84041
											],
											[
												84421,
												84427
											],
											[
												84629,
												84635
											],
											[
												84916,
												84922
											],
											[
												85095,
												85101
											],
											[
												85407,
												85413
											],
											[
												85578,
												85584
											],
											[
												85934,
												85940
											],
											[
												86199,
												86205
											],
											[
												86470,
												86476
											],
											[
												86773,
												86779
											],
											[
												86870,
												86876
											],
											[
												86965,
												86971
											],
											[
												87171,
												87177
											],
											[
												87264,
												87270
											],
											[
												87469,
												87475
											],
											[
												87567,
												87573
											],
											[
												87815,
												87821
											],
											[
												87907,
												87913
											],
											[
												88112,
												88118
											],
											[
												88204,
												88210
											],
											[
												88417,
												88423
											],
											[
												88474,
												88480
											],
											[
												88694,
												88700
											],
											[
												88979,
												88985
											],
											[
												89137,
												89143
											],
											[
												89411,
												89417
											],
											[
												89778,
												89784
											],
											[
												90104,
												90110
											],
											[
												90448,
												90454
											],
											[
												90983,
												90989
											],
											[
												91452,
												91458
											],
											[
												91955,
												91961
											],
											[
												92226,
												92232
											],
											[
												92384,
												92390
											],
											[
												92676,
												92682
											],
											[
												92990,
												92996
											],
											[
												93308,
												93314
											],
											[
												93399,
												93405
											],
											[
												93650,
												93656
											],
											[
												93945,
												93951
											],
											[
												94263,
												94269
											],
											[
												94533,
												94539
											],
											[
												94718,
												94724
											],
											[
												95022,
												95028
											],
											[
												95044,
												95050
											],
											[
												95248,
												95254
											],
											[
												95268,
												95274
											],
											[
												95525,
												95531
											],
											[
												95900,
												95906
											],
											[
												96161,
												96167
											],
											[
												96192,
												96198
											],
											[
												96501,
												96507
											],
											[
												96545,
												96551
											],
											[
												96724,
												96730
											],
											[
												96913,
												96919
											],
											[
												97009,
												97015
											],
											[
												97360,
												97366
											],
											[
												97536,
												97542
											],
											[
												97566,
												97572
											],
											[
												98055,
												98061
											],
											[
												98317,
												98323
											],
											[
												98410,
												98416
											],
											[
												98427,
												98433
											],
											[
												98680,
												98686
											],
											[
												98902,
												98908
											],
											[
												98941,
												98947
											],
											[
												99053,
												99059
											],
											[
												104134,
												104140
											],
											[
												107967,
												107973
											],
											[
												112734,
												112740
											],
											[
												114412,
												114418
											],
											[
												116612,
												116618
											],
											[
												120005,
												120011
											],
											[
												120023,
												120029
											],
											[
												120051,
												120057
											],
											[
												120070,
												120076
											],
											[
												120173,
												120179
											],
											[
												120284,
												120290
											],
											[
												120299,
												120305
											],
											[
												120518,
												120524
											],
											[
												120634,
												120640
											],
											[
												120652,
												120658
											],
											[
												120898,
												120904
											],
											[
												121225,
												121231
											],
											[
												121376,
												121382
											],
											[
												121395,
												121401
											],
											[
												121474,
												121480
											],
											[
												121658,
												121664
											],
											[
												121676,
												121682
											],
											[
												121924,
												121930
											],
											[
												122120,
												122126
											],
											[
												122333,
												122339
											],
											[
												122390,
												122396
											],
											[
												122477,
												122483
											],
											[
												122638,
												122644
											],
											[
												122813,
												122819
											],
											[
												123065,
												123071
											],
											[
												123101,
												123107
											],
											[
												123155,
												123161
											],
											[
												123174,
												123180
											],
											[
												123221,
												123227
											],
											[
												123238,
												123244
											],
											[
												123385,
												123391
											],
											[
												123615,
												123621
											],
											[
												123877,
												123883
											],
											[
												123956,
												123962
											],
											[
												124264,
												124270
											],
											[
												124439,
												124445
											],
											[
												124564,
												124570
											],
											[
												124742,
												124748
											],
											[
												124929,
												124935
											],
											[
												125117,
												125123
											],
											[
												125375,
												125381
											],
											[
												197881,
												197887
											],
											[
												197898,
												197904
											],
											[
												197917,
												197923
											],
											[
												198008,
												198014
											],
											[
												198793,
												198799
											],
											[
												198840,
												198846
											],
											[
												203285,
												203291
											],
											[
												203460,
												203466
											],
											[
												203585,
												203591
											],
											[
												203763,
												203769
											],
											[
												203950,
												203956
											],
											[
												204138,
												204144
											],
											[
												204396,
												204402
											],
											[
												204713,
												204719
											],
											[
												204815,
												204821
											],
											[
												204972,
												204978
											],
											[
												205221,
												205227
											],
											[
												205245,
												205251
											],
											[
												205489,
												205495
											],
											[
												205617,
												205623
											],
											[
												205741,
												205747
											],
											[
												206086,
												206092
											],
											[
												206539,
												206545
											],
											[
												206759,
												206765
											],
											[
												206948,
												206954
											],
											[
												207254,
												207260
											],
											[
												207441,
												207447
											],
											[
												207675,
												207681
											],
											[
												207931,
												207937
											],
											[
												208133,
												208139
											],
											[
												208417,
												208423
											],
											[
												208586,
												208592
											],
											[
												208819,
												208825
											],
											[
												209016,
												209022
											],
											[
												209243,
												209249
											],
											[
												209529,
												209535
											],
											[
												209585,
												209591
											],
											[
												209882,
												209888
											],
											[
												210221,
												210227
											],
											[
												210245,
												210251
											],
											[
												210466,
												210472
											],
											[
												210738,
												210744
											],
											[
												210971,
												210977
											],
											[
												211048,
												211054
											],
											[
												211145,
												211151
											],
											[
												211250,
												211256
											],
											[
												211480,
												211486
											],
											[
												211650,
												211656
											],
											[
												211880,
												211886
											],
											[
												212157,
												212163
											],
											[
												212374,
												212380
											],
											[
												212624,
												212630
											],
											[
												212681,
												212687
											],
											[
												212738,
												212744
											],
											[
												212950,
												212956
											],
											[
												213157,
												213163
											],
											[
												213395,
												213401
											],
											[
												213452,
												213458
											],
											[
												213758,
												213764
											],
											[
												213992,
												213998
											],
											[
												214161,
												214167
											],
											[
												214573,
												214579
											],
											[
												214892,
												214898
											],
											[
												214950,
												214956
											],
											[
												215156,
												215162
											],
											[
												215214,
												215220
											],
											[
												215364,
												215370
											],
											[
												215602,
												215608
											],
											[
												215714,
												215720
											],
											[
												215850,
												215856
											],
											[
												215985,
												215991
											],
											[
												216150,
												216156
											],
											[
												216305,
												216311
											],
											[
												216363,
												216369
											],
											[
												216528,
												216534
											],
											[
												216750,
												216756
											],
											[
												217014,
												217020
											],
											[
												217155,
												217161
											],
											[
												217586,
												217592
											],
											[
												217973,
												217979
											],
											[
												218603,
												218609
											],
											[
												218984,
												218990
											],
											[
												219287,
												219293
											],
											[
												219412,
												219418
											],
											[
												219611,
												219617
											],
											[
												219897,
												219903
											],
											[
												219953,
												219959
											],
											[
												220250,
												220256
											],
											[
												220537,
												220543
											],
											[
												220769,
												220775
											],
											[
												221053,
												221059
											],
											[
												221222,
												221228
											],
											[
												221455,
												221461
											],
											[
												221606,
												221612
											],
											[
												221639,
												221645
											],
											[
												221853,
												221859
											],
											[
												221886,
												221892
											],
											[
												222168,
												222174
											],
											[
												222353,
												222359
											],
											[
												222666,
												222672
											],
											[
												222688,
												222694
											],
											[
												222892,
												222898
											],
											[
												222912,
												222918
											],
											[
												223110,
												223116
											],
											[
												223195,
												223201
											],
											[
												223397,
												223403
											],
											[
												223422,
												223428
											],
											[
												223615,
												223621
											],
											[
												223763,
												223769
											],
											[
												223922,
												223928
											],
											[
												224205,
												224211
											],
											[
												224236,
												224242
											],
											[
												224545,
												224551
											],
											[
												224589,
												224595
											],
											[
												224768,
												224774
											],
											[
												224957,
												224963
											],
											[
												225053,
												225059
											],
											[
												225295,
												225301
											],
											[
												225613,
												225619
											],
											[
												225825,
												225831
											],
											[
												226143,
												226149
											],
											[
												226234,
												226240
											],
											[
												226485,
												226491
											],
											[
												226720,
												226726
											],
											[
												228264,
												228270
											],
											[
												228301,
												228307
											],
											[
												228453,
												228459
											],
											[
												228490,
												228496
											],
											[
												230812,
												230818
											],
											[
												231064,
												231070
											],
											[
												231089,
												231095
											],
											[
												231268,
												231274
											],
											[
												231324,
												231330
											],
											[
												231349,
												231355
											],
											[
												231454,
												231460
											],
											[
												231479,
												231485
											],
											[
												231634,
												231640
											],
											[
												231821,
												231827
											],
											[
												232011,
												232017
											],
											[
												232226,
												232232
											],
											[
												232366,
												232372
											],
											[
												232545,
												232551
											],
											[
												232565,
												232571
											],
											[
												232913,
												232919
											],
											[
												232952,
												232958
											],
											[
												233077,
												233083
											],
											[
												233181,
												233187
											],
											[
												234302,
												234308
											],
											[
												234607,
												234613
											],
											[
												234675,
												234681
											],
											[
												235035,
												235041
											],
											[
												235246,
												235252
											],
											[
												235724,
												235730
											],
											[
												235809,
												235815
											],
											[
												236474,
												236480
											],
											[
												236534,
												236540
											],
											[
												236655,
												236661
											],
											[
												236828,
												236834
											],
											[
												237433,
												237439
											],
											[
												237545,
												237551
											],
											[
												238249,
												238255
											],
											[
												238333,
												238339
											],
											[
												238531,
												238537
											],
											[
												238624,
												238630
											],
											[
												238812,
												238818
											],
											[
												238888,
												238894
											],
											[
												240998,
												241004
											],
											[
												241088,
												241094
											],
											[
												241262,
												241268
											],
											[
												241400,
												241406
											],
											[
												241457,
												241463
											],
											[
												241940,
												241946
											],
											[
												242048,
												242054
											],
											[
												242210,
												242216
											],
											[
												242329,
												242335
											],
											[
												242449,
												242455
											],
											[
												242558,
												242564
											],
											[
												242912,
												242918
											],
											[
												245966,
												245972
											],
											[
												246680,
												246686
											],
											[
												246746,
												246752
											],
											[
												246885,
												246891
											],
											[
												247040,
												247046
											],
											[
												247186,
												247192
											],
											[
												247388,
												247394
											],
											[
												247483,
												247489
											],
											[
												247701,
												247707
											],
											[
												247889,
												247895
											],
											[
												248060,
												248066
											],
											[
												248186,
												248192
											],
											[
												248374,
												248380
											],
											[
												248471,
												248477
											],
											[
												248659,
												248665
											],
											[
												248907,
												248913
											],
											[
												249125,
												249131
											],
											[
												249305,
												249311
											],
											[
												249457,
												249463
											],
											[
												249579,
												249585
											],
											[
												249793,
												249799
											],
											[
												249932,
												249938
											],
											[
												250166,
												250172
											],
											[
												250288,
												250294
											],
											[
												250482,
												250488
											],
											[
												250622,
												250628
											],
											[
												250890,
												250896
											],
											[
												251081,
												251087
											],
											[
												251196,
												251202
											],
											[
												251387,
												251393
											],
											[
												251586,
												251592
											],
											[
												251782,
												251788
											],
											[
												251974,
												251980
											],
											[
												252153,
												252159
											],
											[
												252307,
												252313
											],
											[
												252483,
												252489
											],
											[
												252642,
												252648
											],
											[
												252870,
												252876
											],
											[
												252903,
												252909
											],
											[
												253111,
												253117
											],
											[
												253144,
												253150
											],
											[
												253415,
												253421
											],
											[
												253733,
												253739
											],
											[
												253824,
												253830
											],
											[
												254075,
												254081
											],
											[
												254340,
												254346
											],
											[
												254658,
												254664
											],
											[
												254749,
												254755
											],
											[
												255000,
												255006
											],
											[
												255286,
												255292
											],
											[
												255604,
												255610
											],
											[
												255896,
												255902
											],
											[
												256214,
												256220
											],
											[
												256507,
												256513
											],
											[
												256769,
												256775
											],
											[
												256944,
												256950
											],
											[
												257093,
												257099
											],
											[
												257447,
												257453
											],
											[
												257764,
												257770
											],
											[
												257824,
												257830
											],
											[
												258034,
												258040
											],
											[
												258094,
												258100
											],
											[
												258251,
												258257
											],
											[
												258498,
												258504
											],
											[
												258616,
												258622
											],
											[
												258901,
												258907
											],
											[
												259425,
												259431
											],
											[
												259590,
												259596
											],
											[
												259773,
												259779
											],
											[
												260050,
												260056
											],
											[
												260261,
												260267
											],
											[
												260502,
												260508
											],
											[
												260559,
												260565
											],
											[
												260616,
												260622
											],
											[
												263767,
												263773
											],
											[
												263789,
												263795
											],
											[
												290572,
												290578
											],
											[
												316609,
												316615
											],
											[
												316710,
												316716
											],
											[
												317042,
												317048
											],
											[
												317140,
												317146
											],
											[
												347195,
												347201
											],
											[
												355752,
												355758
											],
											[
												355768,
												355774
											],
											[
												355784,
												355790
											],
											[
												355798,
												355804
											],
											[
												355863,
												355869
											],
											[
												355888,
												355894
											],
											[
												355933,
												355939
											],
											[
												356012,
												356018
											],
											[
												362741,
												362747
											],
											[
												362790,
												362796
											],
											[
												362872,
												362878
											],
											[
												362896,
												362902
											],
											[
												369317,
												369323
											],
											[
												369335,
												369341
											],
											[
												372425,
												372431
											],
											[
												375759,
												375765
											],
											[
												375860,
												375866
											],
											[
												404728,
												404734
											],
											[
												404823,
												404829
											],
											[
												405023,
												405029
											],
											[
												405194,
												405200
											],
											[
												405369,
												405375
											],
											[
												405570,
												405576
											],
											[
												405706,
												405712
											],
											[
												405880,
												405886
											],
											[
												405900,
												405906
											],
											[
												417075,
												417081
											],
											[
												425770,
												425776
											],
											[
												426321,
												426327
											],
											[
												426523,
												426529
											],
											[
												426601,
												426607
											],
											[
												426895,
												426901
											],
											[
												426971,
												426977
											],
											[
												427266,
												427272
											],
											[
												427321,
												427327
											],
											[
												427499,
												427505
											],
											[
												427554,
												427560
											],
											[
												427850,
												427856
											],
											[
												428096,
												428102
											],
											[
												428121,
												428127
											],
											[
												428298,
												428304
											],
											[
												428352,
												428358
											],
											[
												428377,
												428383
											],
											[
												428479,
												428485
											],
											[
												428504,
												428510
											],
											[
												428776,
												428782
											],
											[
												428847,
												428853
											],
											[
												429263,
												429269
											],
											[
												429523,
												429529
											],
											[
												429611,
												429617
											],
											[
												429652,
												429658
											],
											[
												429698,
												429704
											],
											[
												429779,
												429785
											],
											[
												429899,
												429905
											],
											[
												430020,
												430026
											],
											[
												430072,
												430078
											],
											[
												430229,
												430235
											],
											[
												430300,
												430306
											],
											[
												430428,
												430434
											],
											[
												430640,
												430646
											],
											[
												430805,
												430811
											],
											[
												431072,
												431078
											],
											[
												431272,
												431278
											],
											[
												453509,
												453515
											],
											[
												453532,
												453538
											],
											[
												453550,
												453556
											],
											[
												453634,
												453640
											],
											[
												453661,
												453667
											],
											[
												453948,
												453954
											],
											[
												453977,
												453983
											],
											[
												454070,
												454076
											],
											[
												454097,
												454103
											],
											[
												454497,
												454503
											],
											[
												454542,
												454548
											],
											[
												454558,
												454564
											],
											[
												454573,
												454579
											],
											[
												454718,
												454724
											],
											[
												473872,
												473878
											],
											[
												473890,
												473896
											],
											[
												477062,
												477068
											],
											[
												480456,
												480462
											],
											[
												481821,
												481827
											],
											[
												481921,
												481927
											],
											[
												517174,
												517180
											],
											[
												517381,
												517387
											],
											[
												517621,
												517627
											],
											[
												517679,
												517685
											],
											[
												517989,
												517995
											],
											[
												518223,
												518229
											],
											[
												518390,
												518396
											],
											[
												518797,
												518803
											],
											[
												519201,
												519207
											],
											[
												519437,
												519443
											],
											[
												519580,
												519586
											],
											[
												519833,
												519839
											],
											[
												520018,
												520024
											],
											[
												520331,
												520337
											],
											[
												520353,
												520359
											],
											[
												520557,
												520563
											],
											[
												520577,
												520583
											],
											[
												520775,
												520781
											],
											[
												520860,
												520866
											],
											[
												521074,
												521080
											],
											[
												521099,
												521105
											],
											[
												521312,
												521318
											],
											[
												521469,
												521475
											],
											[
												521631,
												521637
											],
											[
												521919,
												521925
											],
											[
												521950,
												521956
											],
											[
												522259,
												522265
											],
											[
												522303,
												522309
											],
											[
												522482,
												522488
											],
											[
												522671,
												522677
											],
											[
												522767,
												522773
											],
											[
												523037,
												523043
											],
											[
												523222,
												523228
											],
											[
												523535,
												523541
											],
											[
												523557,
												523563
											],
											[
												523761,
												523767
											],
											[
												523781,
												523787
											],
											[
												523979,
												523985
											],
											[
												524064,
												524070
											],
											[
												524278,
												524284
											],
											[
												524303,
												524309
											],
											[
												524516,
												524522
											],
											[
												524673,
												524679
											],
											[
												524835,
												524841
											],
											[
												525123,
												525129
											],
											[
												525154,
												525160
											],
											[
												525463,
												525469
											],
											[
												525507,
												525513
											],
											[
												525686,
												525692
											],
											[
												525875,
												525881
											],
											[
												525971,
												525977
											],
											[
												526288,
												526294
											],
											[
												526495,
												526501
											],
											[
												526715,
												526721
											],
											[
												526756,
												526762
											],
											[
												526981,
												526987
											],
											[
												527024,
												527030
											],
											[
												527192,
												527198
											],
											[
												527239,
												527245
											],
											[
												527268,
												527274
											],
											[
												527458,
												527464
											],
											[
												527787,
												527793
											],
											[
												528077,
												528083
											],
											[
												528412,
												528418
											],
											[
												528554,
												528560
											],
											[
												528756,
												528762
											],
											[
												528910,
												528916
											],
											[
												529004,
												529010
											],
											[
												529186,
												529192
											],
											[
												529295,
												529301
											],
											[
												529410,
												529416
											],
											[
												529524,
												529530
											],
											[
												529745,
												529751
											],
											[
												529778,
												529784
											],
											[
												529982,
												529988
											],
											[
												530027,
												530033
											],
											[
												530060,
												530066
											],
											[
												530178,
												530184
											],
											[
												530436,
												530442
											],
											[
												530461,
												530467
											],
											[
												530700,
												530706
											],
											[
												530913,
												530919
											],
											[
												531077,
												531083
											],
											[
												531463,
												531469
											],
											[
												531665,
												531671
											],
											[
												531798,
												531804
											],
											[
												531924,
												531930
											],
											[
												531985,
												531991
											],
											[
												532172,
												532178
											],
											[
												532492,
												532498
											],
											[
												532872,
												532878
											],
											[
												532887,
												532893
											],
											[
												532959,
												532965
											],
											[
												532974,
												532980
											],
											[
												533404,
												533410
											],
											[
												533419,
												533425
											],
											[
												533491,
												533497
											],
											[
												533506,
												533512
											],
											[
												533902,
												533908
											],
											[
												533953,
												533959
											],
											[
												533970,
												533976
											],
											[
												534082,
												534088
											],
											[
												534380,
												534386
											],
											[
												534585,
												534591
											],
											[
												534843,
												534849
											],
											[
												534977,
												534983
											],
											[
												535261,
												535267
											],
											[
												535429,
												535435
											],
											[
												535701,
												535707
											],
											[
												535920,
												535926
											],
											[
												536066,
												536072
											],
											[
												536343,
												536349
											],
											[
												536577,
												536583
											],
											[
												536816,
												536822
											],
											[
												537037,
												537043
											],
											[
												537203,
												537209
											],
											[
												537662,
												537668
											],
											[
												537849,
												537855
											],
											[
												538094,
												538100
											],
											[
												538365,
												538371
											],
											[
												538554,
												538560
											],
											[
												538845,
												538851
											],
											[
												539092,
												539098
											],
											[
												539321,
												539327
											],
											[
												539541,
												539547
											],
											[
												539737,
												539743
											],
											[
												540026,
												540032
											],
											[
												540280,
												540286
											],
											[
												540625,
												540631
											],
											[
												540866,
												540872
											],
											[
												546440,
												546446
											],
											[
												546508,
												546514
											],
											[
												546794,
												546800
											],
											[
												547029,
												547035
											],
											[
												547077,
												547083
											],
											[
												547149,
												547155
											],
											[
												547284,
												547290
											],
											[
												547409,
												547415
											],
											[
												553251,
												553257
											],
											[
												553389,
												553395
											],
											[
												553726,
												553732
											],
											[
												553965,
												553971
											],
											[
												554037,
												554043
											],
											[
												554153,
												554159
											],
											[
												554315,
												554321
											],
											[
												554537,
												554543
											],
											[
												554760,
												554766
											],
											[
												554773,
												554779
											],
											[
												558948,
												558954
											],
											[
												558966,
												558972
											],
											[
												569639,
												569645
											],
											[
												570804,
												570810
											],
											[
												574143,
												574149
											],
											[
												574466,
												574472
											],
											[
												583734,
												583740
											],
											[
												583971,
												583977
											],
											[
												588354,
												588360
											],
											[
												593952,
												593958
											],
											[
												597702,
												597708
											],
											[
												598029,
												598035
											],
											[
												609080,
												609086
											],
											[
												614735,
												614741
											],
											[
												616535,
												616541
											],
											[
												618561,
												618567
											],
											[
												618766,
												618772
											],
											[
												618887,
												618893
											],
											[
												618912,
												618918
											],
											[
												619026,
												619032
											],
											[
												619190,
												619196
											],
											[
												619388,
												619394
											],
											[
												619404,
												619410
											],
											[
												619432,
												619438
											],
											[
												631487,
												631493
											],
											[
												633759,
												633765
											],
											[
												638961,
												638967
											],
											[
												639259,
												639265
											],
											[
												639274,
												639280
											],
											[
												641291,
												641297
											],
											[
												644894,
												644900
											],
											[
												645083,
												645089
											],
											[
												645302,
												645308
											],
											[
												645510,
												645516
											],
											[
												645547,
												645553
											],
											[
												645667,
												645673
											],
											[
												645942,
												645948
											],
											[
												646048,
												646054
											],
											[
												646216,
												646222
											],
											[
												646322,
												646328
											],
											[
												646624,
												646630
											],
											[
												646870,
												646876
											],
											[
												693450,
												693456
											],
											[
												696331,
												696337
											],
											[
												696374,
												696380
											],
											[
												696553,
												696559
											],
											[
												696602,
												696608
											],
											[
												696697,
												696703
											],
											[
												696784,
												696790
											],
											[
												699185,
												699191
											],
											[
												699205,
												699211
											],
											[
												699223,
												699229
											],
											[
												699686,
												699692
											],
											[
												717798,
												717804
											],
											[
												717816,
												717822
											],
											[
												720977,
												720983
											],
											[
												724788,
												724794
											],
											[
												724889,
												724895
											],
											[
												749439,
												749445
											],
											[
												750083,
												750089
											],
											[
												750880,
												750886
											],
											[
												751004,
												751010
											],
											[
												751228,
												751234
											],
											[
												753110,
												753116
											],
											[
												754173,
												754179
											],
											[
												755916,
												755922
											],
											[
												756862,
												756868
											],
											[
												757013,
												757019
											],
											[
												757729,
												757735
											],
											[
												758918,
												758924
											],
											[
												758976,
												758982
											],
											[
												760090,
												760096
											],
											[
												761112,
												761118
											],
											[
												762535,
												762541
											],
											[
												762646,
												762652
											],
											[
												762823,
												762829
											],
											[
												763024,
												763030
											],
											[
												763656,
												763662
											],
											[
												764757,
												764763
											],
											[
												767312,
												767318
											],
											[
												768063,
												768069
											],
											[
												778931,
												778937
											],
											[
												789353,
												789359
											],
											[
												794676,
												794682
											],
											[
												794773,
												794779
											],
											[
												794821,
												794827
											],
											[
												794878,
												794884
											],
											[
												834983,
												834989
											],
											[
												835006,
												835012
											],
											[
												835016,
												835022
											],
											[
												835985,
												835991
											],
											[
												842463,
												842469
											],
											[
												847546,
												847552
											],
											[
												898934,
												898940
											],
											[
												901815,
												901821
											],
											[
												901858,
												901864
											],
											[
												902037,
												902043
											],
											[
												902086,
												902092
											],
											[
												902181,
												902187
											],
											[
												902268,
												902274
											],
											[
												904669,
												904675
											],
											[
												904689,
												904695
											],
											[
												904707,
												904713
											],
											[
												905170,
												905176
											],
											[
												941878,
												941884
											],
											[
												942522,
												942528
											],
											[
												943319,
												943325
											],
											[
												943443,
												943449
											],
											[
												943667,
												943673
											],
											[
												945549,
												945555
											],
											[
												946612,
												946618
											],
											[
												948355,
												948361
											],
											[
												949301,
												949307
											],
											[
												949452,
												949458
											],
											[
												950168,
												950174
											],
											[
												951357,
												951363
											],
											[
												951415,
												951421
											],
											[
												952529,
												952535
											],
											[
												953551,
												953557
											],
											[
												954974,
												954980
											],
											[
												955085,
												955091
											],
											[
												955262,
												955268
											],
											[
												955463,
												955469
											],
											[
												956095,
												956101
											],
											[
												957196,
												957202
											],
											[
												959751,
												959757
											],
											[
												960502,
												960508
											],
											[
												971370,
												971376
											],
											[
												981831,
												981837
											],
											[
												987154,
												987160
											],
											[
												987251,
												987257
											],
											[
												987299,
												987305
											],
											[
												987356,
												987362
											],
											[
												1027461,
												1027467
											],
											[
												1027484,
												1027490
											],
											[
												1027494,
												1027500
											],
											[
												1028463,
												1028469
											],
											[
												1034941,
												1034947
											],
											[
												1040024,
												1040030
											],
											[
												1044599,
												1044605
											],
											[
												1044741,
												1044747
											],
											[
												1044871,
												1044877
											],
											[
												1045025,
												1045031
											],
											[
												1045119,
												1045125
											],
											[
												1045301,
												1045307
											],
											[
												1045410,
												1045416
											],
											[
												1045525,
												1045531
											],
											[
												1045639,
												1045645
											],
											[
												1045823,
												1045829
											],
											[
												1045868,
												1045874
											],
											[
												1045901,
												1045907
											],
											[
												1046019,
												1046025
											],
											[
												1046189,
												1046195
											],
											[
												1046357,
												1046363
											],
											[
												1046494,
												1046500
											],
											[
												1046679,
												1046685
											],
											[
												1046883,
												1046889
											],
											[
												1047090,
												1047096
											],
											[
												1047302,
												1047308
											],
											[
												1047448,
												1047454
											],
											[
												1047725,
												1047731
											],
											[
												1047959,
												1047965
											],
											[
												1048198,
												1048204
											],
											[
												1048358,
												1048364
											],
											[
												1048471,
												1048477
											],
											[
												1048655,
												1048661
											],
											[
												1048814,
												1048820
											],
											[
												1049273,
												1049279
											],
											[
												1049460,
												1049466
											],
											[
												1049705,
												1049711
											],
											[
												1049976,
												1049982
											],
											[
												1050158,
												1050164
											],
											[
												1050335,
												1050341
											],
											[
												1050534,
												1050540
											],
											[
												1050721,
												1050727
											],
											[
												1050937,
												1050943
											],
											[
												1051138,
												1051144
											],
											[
												1051346,
												1051352
											],
											[
												1051485,
												1051491
											],
											[
												1051615,
												1051621
											],
											[
												1051676,
												1051682
											],
											[
												1051834,
												1051840
											],
											[
												1051886,
												1051892
											],
											[
												1051903,
												1051909
											],
											[
												1052021,
												1052027
											],
											[
												1052325,
												1052331
											],
											[
												1052536,
												1052542
											],
											[
												1099422,
												1099428
											],
											[
												1102303,
												1102309
											],
											[
												1102346,
												1102352
											],
											[
												1102525,
												1102531
											],
											[
												1102574,
												1102580
											],
											[
												1102669,
												1102675
											],
											[
												1102756,
												1102762
											],
											[
												1105157,
												1105163
											],
											[
												1105177,
												1105183
											],
											[
												1105195,
												1105201
											],
											[
												1105658,
												1105664
											],
											[
												1123770,
												1123776
											],
											[
												1123788,
												1123794
											],
											[
												1126949,
												1126955
											],
											[
												1130760,
												1130766
											],
											[
												1130861,
												1130867
											],
											[
												1155411,
												1155417
											],
											[
												1156055,
												1156061
											],
											[
												1156852,
												1156858
											],
											[
												1156976,
												1156982
											],
											[
												1157200,
												1157206
											],
											[
												1159082,
												1159088
											],
											[
												1160145,
												1160151
											],
											[
												1161888,
												1161894
											],
											[
												1162834,
												1162840
											],
											[
												1162985,
												1162991
											],
											[
												1163701,
												1163707
											],
											[
												1164890,
												1164896
											],
											[
												1164948,
												1164954
											],
											[
												1166062,
												1166068
											],
											[
												1167084,
												1167090
											],
											[
												1168507,
												1168513
											],
											[
												1168618,
												1168624
											],
											[
												1168795,
												1168801
											],
											[
												1168996,
												1169002
											],
											[
												1169628,
												1169634
											],
											[
												1170729,
												1170735
											],
											[
												1173284,
												1173290
											],
											[
												1174035,
												1174041
											],
											[
												1184903,
												1184909
											],
											[
												1195325,
												1195331
											],
											[
												1200648,
												1200654
											],
											[
												1200745,
												1200751
											],
											[
												1200793,
												1200799
											],
											[
												1200850,
												1200856
											],
											[
												1240955,
												1240961
											],
											[
												1240978,
												1240984
											],
											[
												1240988,
												1240994
											],
											[
												1241957,
												1241963
											],
											[
												1248435,
												1248441
											],
											[
												1253518,
												1253524
											],
											[
												1258057,
												1258063
											],
											[
												1258211,
												1258217
											],
											[
												1258305,
												1258311
											],
											[
												1258487,
												1258493
											],
											[
												1258596,
												1258602
											],
											[
												1258711,
												1258717
											],
											[
												1258825,
												1258831
											],
											[
												1259009,
												1259015
											],
											[
												1259054,
												1259060
											],
											[
												1259087,
												1259093
											],
											[
												1259205,
												1259211
											],
											[
												1259393,
												1259399
											],
											[
												1259418,
												1259424
											],
											[
												1259657,
												1259663
											],
											[
												1259870,
												1259876
											],
											[
												1260036,
												1260042
											],
											[
												1260348,
												1260354
											],
											[
												1260516,
												1260522
											],
											[
												1260653,
												1260659
											],
											[
												1260838,
												1260844
											],
											[
												1261042,
												1261048
											],
											[
												1261249,
												1261255
											],
											[
												1261461,
												1261467
											],
											[
												1261607,
												1261613
											],
											[
												1261884,
												1261890
											],
											[
												1262118,
												1262124
											],
											[
												1262357,
												1262363
											],
											[
												1262517,
												1262523
											],
											[
												1262630,
												1262636
											],
											[
												1262814,
												1262820
											],
											[
												1262973,
												1262979
											],
											[
												1263432,
												1263438
											],
											[
												1263619,
												1263625
											],
											[
												1263864,
												1263870
											],
											[
												1264135,
												1264141
											],
											[
												1264317,
												1264323
											],
											[
												1264497,
												1264503
											],
											[
												1264702,
												1264708
											],
											[
												1264895,
												1264901
											],
											[
												1265114,
												1265120
											],
											[
												1265315,
												1265321
											],
											[
												1265523,
												1265529
											],
											[
												1265662,
												1265668
											],
											[
												1265792,
												1265798
											],
											[
												1265853,
												1265859
											],
											[
												1266011,
												1266017
											],
											[
												1266063,
												1266069
											],
											[
												1266080,
												1266086
											],
											[
												1266198,
												1266204
											],
											[
												1266502,
												1266508
											],
											[
												1266713,
												1266719
											],
											[
												1266931,
												1266937
											],
											[
												1267085,
												1267091
											],
											[
												1267179,
												1267185
											],
											[
												1267361,
												1267367
											],
											[
												1267470,
												1267476
											],
											[
												1267585,
												1267591
											],
											[
												1267699,
												1267705
											],
											[
												1267883,
												1267889
											],
											[
												1267928,
												1267934
											],
											[
												1267961,
												1267967
											],
											[
												1268079,
												1268085
											],
											[
												1268267,
												1268273
											],
											[
												1268292,
												1268298
											],
											[
												1268531,
												1268537
											],
											[
												1268744,
												1268750
											],
											[
												1268910,
												1268916
											],
											[
												1269222,
												1269228
											],
											[
												1269390,
												1269396
											],
											[
												1269527,
												1269533
											],
											[
												1269712,
												1269718
											],
											[
												1269916,
												1269922
											],
											[
												1270123,
												1270129
											],
											[
												1270335,
												1270341
											],
											[
												1270481,
												1270487
											],
											[
												1270758,
												1270764
											],
											[
												1270992,
												1270998
											],
											[
												1271231,
												1271237
											],
											[
												1271391,
												1271397
											],
											[
												1271504,
												1271510
											],
											[
												1271688,
												1271694
											],
											[
												1271847,
												1271853
											],
											[
												1272306,
												1272312
											],
											[
												1272493,
												1272499
											],
											[
												1272738,
												1272744
											],
											[
												1273009,
												1273015
											],
											[
												1273191,
												1273197
											],
											[
												1273371,
												1273377
											],
											[
												1273576,
												1273582
											],
											[
												1273769,
												1273775
											],
											[
												1273988,
												1273994
											],
											[
												1274189,
												1274195
											],
											[
												1274397,
												1274403
											],
											[
												1274536,
												1274542
											],
											[
												1274666,
												1274672
											],
											[
												1274727,
												1274733
											],
											[
												1274885,
												1274891
											],
											[
												1274937,
												1274943
											],
											[
												1274954,
												1274960
											],
											[
												1275072,
												1275078
											],
											[
												1275376,
												1275382
											],
											[
												1275587,
												1275593
											],
											[
												1275827,
												1275833
											],
											[
												1275993,
												1275999
											],
											[
												1276241,
												1276247
											],
											[
												1276495,
												1276501
											],
											[
												1276666,
												1276672
											],
											[
												1276867,
												1276873
											],
											[
												1277029,
												1277035
											],
											[
												1277313,
												1277319
											],
											[
												1277397,
												1277403
											],
											[
												1277612,
												1277618
											],
											[
												1277770,
												1277776
											],
											[
												1277855,
												1277861
											],
											[
												1278050,
												1278056
											],
											[
												1278235,
												1278241
											],
											[
												1278480,
												1278486
											],
											[
												1278685,
												1278691
											],
											[
												1278893,
												1278899
											],
											[
												1279131,
												1279137
											],
											[
												1279175,
												1279181
											],
											[
												1279354,
												1279360
											],
											[
												1279543,
												1279549
											],
											[
												1279639,
												1279645
											],
											[
												1279877,
												1279883
											],
											[
												1280174,
												1280180
											],
											[
												1280551,
												1280557
											],
											[
												1280821,
												1280827
											],
											[
												1281301,
												1281307
											],
											[
												1282444,
												1282450
											],
											[
												1282580,
												1282586
											],
											[
												1282850,
												1282856
											],
											[
												1282872,
												1282878
											],
											[
												1282908,
												1282914
											],
											[
												1282930,
												1282936
											],
											[
												1282950,
												1282956
											],
											[
												1282974,
												1282980
											],
											[
												1283004,
												1283010
											],
											[
												1283030,
												1283036
											],
											[
												1283050,
												1283056
											],
											[
												1283072,
												1283078
											],
											[
												1283107,
												1283113
											],
											[
												1283237,
												1283243
											],
											[
												1283262,
												1283268
											],
											[
												1283462,
												1283468
											],
											[
												1283558,
												1283564
											],
											[
												1283697,
												1283703
											],
											[
												1283789,
												1283795
											],
											[
												1284086,
												1284092
											],
											[
												1284293,
												1284299
											],
											[
												1284405,
												1284411
											],
											[
												1284769,
												1284775
											],
											[
												1285052,
												1285058
											],
											[
												1285433,
												1285439
											],
											[
												1285713,
												1285719
											],
											[
												1286045,
												1286051
											],
											[
												1286335,
												1286341
											],
											[
												1286635,
												1286641
											],
											[
												1286830,
												1286836
											],
											[
												1287011,
												1287017
											],
											[
												1287220,
												1287226
											],
											[
												1287378,
												1287384
											],
											[
												1287593,
												1287599
											],
											[
												1287950,
												1287956
											],
											[
												1288429,
												1288435
											],
											[
												1288838,
												1288844
											],
											[
												1289066,
												1289072
											],
											[
												1289372,
												1289378
											],
											[
												1289556,
												1289562
											],
											[
												1289821,
												1289827
											],
											[
												1289933,
												1289939
											],
											[
												1290227,
												1290233
											],
											[
												1290589,
												1290595
											],
											[
												1293100,
												1293106
											],
											[
												1293131,
												1293137
											],
											[
												1293248,
												1293254
											],
											[
												1293352,
												1293358
											],
											[
												1304579,
												1304585
											],
											[
												1304876,
												1304882
											],
											[
												1304936,
												1304942
											],
											[
												1305296,
												1305302
											],
											[
												1305499,
												1305505
											],
											[
												1305977,
												1305983
											],
											[
												1306062,
												1306068
											],
											[
												1306695,
												1306701
											],
											[
												1306755,
												1306761
											],
											[
												1306876,
												1306882
											],
											[
												1307049,
												1307055
											],
											[
												1307638,
												1307644
											],
											[
												1307750,
												1307756
											],
											[
												1308650,
												1308656
											],
											[
												1308734,
												1308740
											],
											[
												1308924,
												1308930
											],
											[
												1309017,
												1309023
											],
											[
												1309197,
												1309203
											],
											[
												1309273,
												1309279
											],
											[
												1311806,
												1311812
											],
											[
												1311888,
												1311894
											],
											[
												1312062,
												1312068
											],
											[
												1312200,
												1312206
											],
											[
												1312257,
												1312263
											],
											[
												1312708,
												1312714
											],
											[
												1312808,
												1312814
											],
											[
												1312962,
												1312968
											],
											[
												1313073,
												1313079
											],
											[
												1313177,
												1313183
											],
											[
												1313270,
												1313276
											],
											[
												1313600,
												1313606
											],
											[
												1319586,
												1319592
											],
											[
												1324757,
												1324763
											],
											[
												1325111,
												1325117
											],
											[
												1325198,
												1325204
											],
											[
												1325451,
												1325457
											],
											[
												1325687,
												1325693
											],
											[
												1325926,
												1325932
											],
											[
												1326126,
												1326132
											],
											[
												1326462,
												1326468
											],
											[
												1326817,
												1326823
											],
											[
												1326873,
												1326879
											],
											[
												1327165,
												1327171
											],
											[
												1327297,
												1327303
											],
											[
												1327653,
												1327659
											],
											[
												1327976,
												1327982
											],
											[
												1328146,
												1328152
											],
											[
												1328316,
												1328322
											],
											[
												1328724,
												1328730
											],
											[
												1328906,
												1328912
											],
											[
												1329073,
												1329079
											],
											[
												1329453,
												1329459
											],
											[
												1329845,
												1329851
											],
											[
												1330090,
												1330096
											],
											[
												1330247,
												1330253
											],
											[
												1330438,
												1330444
											],
											[
												1330623,
												1330629
											],
											[
												1330927,
												1330933
											],
											[
												1330949,
												1330955
											],
											[
												1331153,
												1331159
											],
											[
												1331173,
												1331179
											],
											[
												1331427,
												1331433
											],
											[
												1331793,
												1331799
											],
											[
												1332054,
												1332060
											],
											[
												1332085,
												1332091
											],
											[
												1332394,
												1332400
											],
											[
												1332438,
												1332444
											],
											[
												1332617,
												1332623
											],
											[
												1332806,
												1332812
											],
											[
												1332902,
												1332908
											],
											[
												1333244,
												1333250
											],
											[
												1333512,
												1333518
											],
											[
												1333799,
												1333805
											],
											[
												1334014,
												1334020
											],
											[
												1334238,
												1334244
											],
											[
												1334390,
												1334396
											],
											[
												1334739,
												1334745
											],
											[
												1334941,
												1334947
											],
											[
												1335140,
												1335146
											],
											[
												1335336,
												1335342
											],
											[
												1335698,
												1335704
											],
											[
												1335934,
												1335940
											],
											[
												1336247,
												1336253
											],
											[
												1336702,
												1336708
											],
											[
												1337124,
												1337130
											],
											[
												1337415,
												1337421
											],
											[
												1337822,
												1337828
											],
											[
												1338114,
												1338120
											]
										],
										"scope": ""
									}
								},
								"selection":
								[
									[
										0,
										0
									]
								],
								"settings":
								{
									"detect_indentation": false,
									"output_tag": 1,
									"result_base_dir": "",
									"result_file_regex": "^([A-Za-z\\\\/<].*):$",
									"result_line_regex": "^ +([0-9]+):",
									"scroll_past_end": true,
									"syntax": "Packages/Default/Find Results.hidden-tmLanguage",
									"translate_tabs_to_spaces": false
								},
								"translation.x": 0.0,
								"translation.y": 0.0,
								"zoom_level": 1.0
							},
							"type": "text"
						}
					]
				}
			],
			"incremental_find":
			{
				"height": 34.0
			},
			"input":
			{
				"height": 34.0
			},
			"layout":
			{
				"cells":
				[
					[
						0,
						0,
						1,
						1
					]
				],
				"cols":
				[
					0.0,
					1.0
				],
				"rows":
				[
					0.0,
					1.0
				]
			},
			"menu_visible": true,
			"output.exec":
			{
				"height": 33.0
			},
			"position": "0 4 1440 874 0 0 1440 878 ",
			"replace":
			{
				"height": 64.0
			},
			"save_all_on_build": true,
			"select_file":
			{
				"height": 0.0,
				"selected_items":
				[
					[
						"widget",
						"app/models/widget.rb"
					],
					[
						"space",
						"app/models/space.rb"
					],
					[
						"rout",
						"config/routes.rb"
					],
					[
						"spac",
						"app/controllers/spaces_controller.rb"
					],
					[
						"se",
						"seancesrv.js"
					],
					[
						"rea",
						"README.md"
					],
					[
						"sean",
						"seancesrv.js"
					],
					[
						"script/ten",
						"script/ten_most_active.sql"
					],
					[
						"sequence",
						"script/generate_sequence"
					],
					[
						"scrip/corru",
						"script/find_corrupted_sequences.sql"
					],
					[
						"room",
						"rooms_new.json"
					],
					[
						"roo",
						"rooms.json"
					],
					[
						"sea",
						"seancesrv.js"
					],
					[
						"votesr",
						"votesrv.js"
					],
					[
						"vote",
						"vote-client.js"
					],
					[
						".git",
						".gitignore"
					],
					[
						"vote-sr",
						"vote-srv.js"
					],
					[
						"che",
						"chat-server.js"
					],
					[
						"fron",
						"frontend.html"
					],
					[
						"front",
						"frontend.html"
					],
					[
						"fro",
						"frontend.html"
					],
					[
						"",
						"chat-frontend.js"
					],
					[
						"conce",
						"Graasp_concept.md"
					],
					[
						"find",
						"script/find_corrupted_sequences.sql"
					],
					[
						"assi",
						"script/assign_members_randomly.rb"
					],
					[
						"ass",
						"script/assign_members_randomly.rb"
					],
					[
						"sequ",
						"app/models/sequence.rb"
					],
					[
						"center.js",
						"public/javascripts/assets/formats/default/center.js"
					],
					[
						"center",
						"public/javascripts/blocks/center.js"
					],
					[
						"user",
						"app/models/user.rb"
					],
					[
						"search",
						"lib/workers/search_worker.rb"
					],
					[
						"item3a",
						"app/models/item3a_extension.rb"
					],
					[
						"ratings",
						"app/controllers/ratings_controller.rb"
					],
					[
						"item3",
						"app/controllers/item3a_controller.rb"
					],
					[
						"rating",
						"app/controllers/ratings_controller.rb"
					],
					[
						"deplo",
						"config/deploy.rb"
					],
					[
						"nex",
						"next_deploy.md"
					],
					[
						"react",
						"config/deploy/reacttest.rb"
					],
					[
						"depl",
						"config/deploy.rb"
					],
					[
						"gemfi",
						"Gemfile"
					],
					[
						"appli",
						"app/controllers/application_controller.rb"
					],
					[
						"route",
						"config/routes.rb"
					],
					[
						"ite3",
						"app/models/item3a_extension.rb"
					],
					[
						"seq",
						"app/controllers/sequences_controller.rb"
					],
					[
						"asse",
						"app/models/asset.rb"
					],
					[
						"asset",
						"app/models/asset.rb"
					],
					[
						"devel",
						"config/environments/development.rb"
					],
					[
						"scial",
						"script/social_media.sql"
					],
					[
						"dele",
						"deleted_gems.rb"
					],
					[
						"del",
						"deleted_gems.md"
					],
					[
						"assign",
						"script/assign_members_randomly.rb"
					],
					[
						"ite",
						"app/controllers/item3a_controller.rb"
					],
					[
						"permi",
						"app/models/permission.rb"
					],
					[
						"script/",
						"script/generate_sequence"
					],
					[
						"install",
						"script/install_gems"
					],
					[
						"gemf",
						"Gemfile"
					],
					[
						"delete",
						"deleted_gems.md"
					],
					[
						"atta",
						"app/models/attachment.rb"
					],
					[
						"gem",
						"Gemfile"
					],
					[
						"gra",
						"public/javascripts/graaasp.js"
					],
					[
						"next",
						"next_deploy.md"
					],
					[
						"gr",
						"public/javascripts/graaasp.js"
					],
					[
						"data",
						"config/database.yml"
					],
					[
						"insta",
						"script/install_gems"
					],
					[
						"gemfil",
						"Gemfile"
					],
					[
						"cap",
						"app/models/client_application.rb"
					],
					[
						"dep",
						"config/deploy.rb"
					],
					[
						"center.",
						"public/javascripts/blocks/center.js"
					],
					[
						"graa",
						"public/javascripts/graaasp.js"
					],
					[
						"produc",
						"config/deploy/production.rb"
					],
					[
						"init",
						"public/javascripts/init.js"
					],
					[
						"make",
						"Makefile"
					],
					[
						"lang_serv",
						"config/locales/templates/lang_server.yml"
					],
					[
						"item3a_",
						"app/controllers/item3a_controller.rb"
					],
					[
						"itm3a",
						"public/javascripts/item3a.js"
					],
					[
						"search.js",
						"public/javascripts/blocks/search.js"
					],
					[
						"all",
						"all_static.min.js"
					],
					[
						"pro",
						"config/deploy/production.rb"
					],
					[
						"all_stat",
						"public/javascripts/cache/all_static.js"
					],
					[
						"deve",
						"config/environments/development.rb"
					],
					[
						"confiend",
						"config/environments/production.rb"
					],
					[
						"appliham",
						"app/views/layouts/application.haml"
					],
					[
						"prototy",
						"public/javascripts/libs/prototypextensions.js"
					],
					[
						"reactt",
						"config/deploy/reacttest.rb"
					],
					[
						"graaspresi",
						"public/javascripts/graaasp_resize.js"
					],
					[
						"item3aext",
						"app/models/item3a_extension.rb"
					],
					[
						"graaspblo",
						"public/javascripts/graaasp_block.js"
					],
					[
						"graasprsiz",
						"public/javascripts/graaasp_resize.js"
					],
					[
						"item",
						"app/models/item3a_extension.rb"
					],
					[
						"extension",
						"public/javascripts/libs/prototypextensions.js"
					],
					[
						"raw",
						"raw_1000/github-users-stats.json"
					],
					[
						"get",
						"get-users.coffee"
					],
					[
						"util",
						"utils.js"
					],
					[
						"format-user",
						"format-users.coffee"
					],
					[
						"github-usr",
						"raw/github-users-stats.json"
					],
					[
						"github",
						"raw/github-languages-stats.json"
					],
					[
						"active",
						"formatted/active.md"
					],
					[
						"fin",
						"script/find_corrupted_sequences.sql"
					],
					[
						"graasp.js",
						"public/javascripts/graaasp.js"
					],
					[
						"application",
						"public/javascripts/application.js"
					],
					[
						"elog",
						"public/javascripts/application_elogbook.js"
					],
					[
						"reco",
						"public/javascripts/blocks/recommended.js"
					],
					[
						"memb",
						"public/javascripts/blocks/members.js"
					],
					[
						"recomm",
						"public/javascripts/blocks/recommended.js"
					],
					[
						"environment.js",
						"public/javascripts/environment.js"
					],
					[
						"envir",
						"config/environment.rb"
					],
					[
						"applic",
						"public/javascripts/application.js"
					],
					[
						"block",
						"public/javascripts/graaasp_block.js"
					],
					[
						"ten",
						"script/ten_most_active.sql"
					],
					[
						"rou",
						"config/routes.rb"
					],
					[
						"member",
						"public/javascripts/blocks/members.js"
					],
					[
						"graaasp",
						"public/javascripts/graaasp.js"
					],
					[
						"log",
						"app/models/log.rb"
					],
					[
						"test/",
						"test/bdrb_test_helper.rb"
					],
					[
						"rail",
						"diagrams/railroad"
					],
					[
						"sche",
						"db/schema.rb"
					],
					[
						"ite3ex",
						"app/models/item3a_extension.rb"
					],
					[
						"schem",
						"db/schema.rb"
					],
					[
						"meta",
						"app/controllers/metawidget_controller.rb"
					],
					[
						"helpcon",
						"app/controllers/help_controller.rb"
					],
					[
						"session",
						"app/controllers/sessions_controller.rb"
					],
					[
						"userno",
						"app/models/user_notifier.rb"
					],
					[
						"content_recommendat",
						"app/models/content_recommendation.rb"
					],
					[
						"content",
						"app/models/content_recommendation.rb"
					],
					[
						"sess",
						"app/controllers/sessions_controller.rb"
					],
					[
						"transla",
						"app/controllers/translation_controller.rb"
					],
					[
						"favor",
						"app/controllers/favorites_controller.rb"
					],
					[
						"fi",
						"script/fix_links"
					]
				],
				"width": 0.0
			},
			"select_project":
			{
				"height": 0.0,
				"selected_items":
				[
				],
				"width": 0.0
			},
			"show_minimap": false,
			"show_open_files": false,
			"show_tabs": true,
			"side_bar_visible": false,
			"side_bar_width": 285.0,
			"status_bar_visible": true,
			"window_id": 191,
			"workspace_name": ""
		}
	],
	"workspaces":
	{
		"recent_workspaces":
		[
		]
	}
}
